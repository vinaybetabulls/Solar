require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var Aboutus = (function (_Component) {
    _inherits(Aboutus, _Component);

    function Aboutus() {
        _classCallCheck(this, Aboutus);

        _get(Object.getPrototypeOf(Aboutus.prototype), "constructor", this).apply(this, arguments);
    }

    _createClass(Aboutus, [{
        key: "render",
        value: function render() {
            return _react2["default"].createElement(
                _react2["default"].Fragment,
                null,
                _react2["default"].createElement(
                    "div",
                    { id: "aboutus-image" },
                    _react2["default"].createElement(
                        "div",
                        { className: "container about_txt" },
                        _react2["default"].createElement(
                            "h2",
                            null,
                            "About Us"
                        ),
                        _react2["default"].createElement(
                            "p",
                            null,
                            "Lorem Ipsum is simply dummy text of the printing and typesetting industry."
                        )
                    )
                ),
                _react2["default"].createElement(
                    "div",
                    { className: "container about_digitak" },
                    _react2["default"].createElement(
                        "h3",
                        null,
                        "Vision"
                    ),
                    _react2["default"].createElement(
                        "p",
                        null,
                        "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. Lo"
                    )
                ),
                _react2["default"].createElement(
                    "div",
                    { className: "container-fluid mision_bg" },
                    _react2["default"].createElement(
                        "div",
                        { className: "row" },
                        _react2["default"].createElement(
                            "div",
                            { className: "col-sm-12 text-center" },
                            _react2["default"].createElement(
                                "div",
                                { className: "about_digitak1" },
                                _react2["default"].createElement(
                                    "h3",
                                    null,
                                    "Mision"
                                ),
                                _react2["default"].createElement(
                                    "p",
                                    null,
                                    "Ltandard dummy tdummy text ever since the 1500s, typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."
                                )
                            )
                        )
                    )
                ),
                _react2["default"].createElement(
                    "div",
                    { className: "container team-top" },
                    _react2["default"].createElement(
                        "div",
                        { className: "row" },
                        _react2["default"].createElement(
                            "div",
                            { className: "col-sm-12  about_digitak2" },
                            _react2["default"].createElement(
                                "h3",
                                null,
                                "Our Team"
                            ),
                            _react2["default"].createElement("br", null)
                        )
                    ),
                    _react2["default"].createElement(
                        "div",
                        { className: "row" },
                        _react2["default"].createElement(
                            "div",
                            { className: "col-sm-3 text-center" },
                            _react2["default"].createElement(
                                "div",
                                { className: "team_mem1" },
                                _react2["default"].createElement("img", { src: "./img/team.png", alt: "team1" }),
                                _react2["default"].createElement(
                                    "h3",
                                    null,
                                    "Name 1"
                                ),
                                _react2["default"].createElement(
                                    "h5",
                                    null,
                                    "Desigination"
                                ),
                                _react2["default"].createElement(
                                    "p",
                                    null,
                                    "Email ",
                                    _react2["default"].createElement("br", null),
                                    " +91-000-000-0000"
                                )
                            )
                        ),
                        _react2["default"].createElement(
                            "div",
                            { className: "col-sm-3 text-center" },
                            _react2["default"].createElement(
                                "div",
                                { className: "team_mem1" },
                                _react2["default"].createElement("img", { src: "./img/team.png", alt: "team2" }),
                                _react2["default"].createElement(
                                    "h3",
                                    null,
                                    "Name 1"
                                ),
                                _react2["default"].createElement(
                                    "h5",
                                    null,
                                    "Desigination"
                                ),
                                _react2["default"].createElement(
                                    "p",
                                    null,
                                    "Email ",
                                    _react2["default"].createElement("br", null),
                                    " +91-000-000-0000"
                                )
                            )
                        ),
                        _react2["default"].createElement(
                            "div",
                            { className: "col-sm-3 text-center" },
                            _react2["default"].createElement(
                                "div",
                                { className: "team_mem1" },
                                _react2["default"].createElement("img", { src: "./img/team.png", alt: "team3" }),
                                _react2["default"].createElement(
                                    "h3",
                                    null,
                                    "Name 1"
                                ),
                                _react2["default"].createElement(
                                    "h5",
                                    null,
                                    "Desigination"
                                ),
                                _react2["default"].createElement(
                                    "p",
                                    null,
                                    "Email ",
                                    _react2["default"].createElement("br", null),
                                    " +91-000-000-0000"
                                )
                            )
                        ),
                        _react2["default"].createElement(
                            "div",
                            { className: "col-sm-3 text-center" },
                            _react2["default"].createElement(
                                "div",
                                { className: "team_mem1" },
                                _react2["default"].createElement("img", { src: "./img/team.png", alt: "team4" }),
                                _react2["default"].createElement(
                                    "h3",
                                    null,
                                    "Name 1"
                                ),
                                _react2["default"].createElement(
                                    "h5",
                                    null,
                                    "Desigination"
                                ),
                                _react2["default"].createElement(
                                    "p",
                                    null,
                                    "Email ",
                                    _react2["default"].createElement("br", null),
                                    " +91-000-000-0000"
                                )
                            )
                        )
                    )
                )
            );
        }
    }]);

    return Aboutus;
})(_react.Component);

exports["default"] = Aboutus;
module.exports = exports["default"];

},{"react":undefined}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var Contractorlist = (function (_Component) {
    _inherits(Contractorlist, _Component);

    function Contractorlist(props) {
        _classCallCheck(this, Contractorlist);

        _get(Object.getPrototypeOf(Contractorlist.prototype), 'constructor', this).call(this, props);
        this.state = {
            userdata: []
        };
        var main = this;
        fetch('admin/contractor', {
            method: "get", headers: {
                "Access-Control-Request-Headers": "*",
                "Access-Control-Request-Method": "*"
            }
        }).then(function (response) {
            return response;
        }).then(function (response) {
            return response.json();
        }).then(function (data) {
            main.setState({
                userdata: data.data
            });
        });
    }

    _createClass(Contractorlist, [{
        key: 'render',
        value: function render() {
            var single = this.state.userdata;
            return _react2['default'].createElement(
                'table',
                { className: 'table', id: 'example' },
                _react2['default'].createElement(
                    'thead',
                    null,
                    _react2['default'].createElement(
                        'tr',
                        null,
                        _react2['default'].createElement(
                            'th',
                            null,
                            'S.No'
                        ),
                        _react2['default'].createElement(
                            'th',
                            null,
                            'Name'
                        ),
                        _react2['default'].createElement(
                            'th',
                            null,
                            'Email'
                        ),
                        _react2['default'].createElement(
                            'th',
                            null,
                            'Phone No'
                        ),
                        _react2['default'].createElement(
                            'th',
                            null,
                            'button'
                        )
                    )
                ),
                _react2['default'].createElement(
                    'tbody',
                    null,
                    single.map(function (datata, key) {
                        return _react2['default'].createElement(Contractor, { data: datata, key: key });
                    })
                )
            );
        }
    }]);

    return Contractorlist;
})(_react.Component);

var Contractor = (function (_Component2) {
    _inherits(Contractor, _Component2);

    function Contractor(props) {
        _classCallCheck(this, Contractor);

        _get(Object.getPrototypeOf(Contractor.prototype), 'constructor', this).call(this, props);
    }

    _createClass(Contractor, [{
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'tr',
                null,
                _react2['default'].createElement(
                    'td',
                    null,
                    '1'
                ),
                _react2['default'].createElement(
                    'td',
                    null,
                    this.props.data.name
                ),
                _react2['default'].createElement(
                    'td',
                    null,
                    this.props.data.email
                ),
                _react2['default'].createElement(
                    'td',
                    null,
                    this.props.data.phone
                ),
                _react2['default'].createElement(
                    'td',
                    null,
                    '5'
                )
            );
        }
    }]);

    return Contractor;
})(_react.Component);

exports['default'] = Contractorlist;
module.exports = exports['default'];

},{"react":undefined}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _admin_userlist = require('./admin_userlist');

var _admin_userlist2 = _interopRequireDefault(_admin_userlist);

var _admin_contractorlist = require('./admin_contractorlist');

var _admin_contractorlist2 = _interopRequireDefault(_admin_contractorlist);

var _admin_login = require('./admin_login');

var _admin_login2 = _interopRequireDefault(_admin_login);

var _qs = require('qs');

var admintoken = undefined,
    adminLogin = undefined;

var closestyle = {
    width: 0,
    main: { marginLeft: 0 }
};
var openstyle = {
    width: 200,
    main: { marginLeft: 200 }
};
var bodystyle = {
    paddingTop: 50
};

var AdminHome = (function (_Component) {
    _inherits(AdminHome, _Component);

    function AdminHome(props) {
        _classCallCheck(this, AdminHome);

        _get(Object.getPrototypeOf(AdminHome.prototype), 'constructor', this).call(this, props);
        var locationname = (0, _qs.parse)(location.search.substr(1)).page;
        if (localStorage.getItem("aurthenticate") == undefined || localStorage.getItem("aurthenticate") == "undefined") {
            admintoken = "";
            adminLogin = false;
        } else {
            var userdata = JSON.parse(localStorage.getItem("aurthenticate"));
            adminLogin = true;
            admintoken = userdata.token;
        }

        this.state = {
            style: openstyle,
            headindex: 1,
            location: locationname,
            adminlogin: adminLogin,
            token: admintoken
        };
    }

    _createClass(AdminHome, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            // $('#example').DataTable();
        }
    }, {
        key: 'open1',
        value: function open1() {
            this.setState({
                style: openstyle
            });
        }
    }, {
        key: 'close1',
        value: function close1() {
            this.setState({
                style: closestyle
            });
        }
    }, {
        key: 'changeNave1',
        value: function changeNave1(val) {
            this.setState({
                headindex: val
            });
        }
    }, {
        key: 'logout',
        value: function logout() {
            localStorage.clear();
            location.reload();
        }
    }, {
        key: 'render',
        value: function render() {
            var _this = this;

            if ((this.state.location == "USER" || this.state.location == "CONTRACTOR") && this.state.token != "" && this.state.adminlogin == true) {
                return _react2['default'].createElement(
                    'div',
                    null,
                    _react2['default'].createElement(Navigation, { style: this.state.style, open: this.open1.bind(this) }),
                    _react2['default'].createElement(Sidenav, { style: this.state.style, sdebaridex: this.state.headindex,
                        close: this.close1.bind(this),
                        close: this.close1.bind(this),
                        changeNave: this.changeNave1.bind(this),
                        logout: this.logout.bind(this)
                    }),
                    _react2['default'].createElement(
                        'div',
                        { id: 'main', style: this.state.style.main },
                        _react2['default'].createElement(
                            'div',
                            { className: 'col-md-12', style: bodystyle },
                            _react2['default'].createElement(
                                'div',
                                null,
                                (function () {
                                    switch (_this.state.location) {
                                        case "USER":
                                            return _react2['default'].createElement(_admin_userlist2['default'], null);
                                            break;
                                        case "CONTRACTOR":
                                            return _react2['default'].createElement(_admin_contractorlist2['default'], null);
                                            break;
                                        case "LOGIN":
                                            return _react2['default'].createElement(_admin_contractorlist2['default'], null);
                                            break;
                                        default:
                                            return null;
                                    }
                                })()
                            )
                        )
                    )
                );
            } else {
                return _react2['default'].createElement(_admin_login2['default'], null);
            }
        }
    }]);

    return AdminHome;
})(_react.Component);

var Navigation = (function (_Component2) {
    _inherits(Navigation, _Component2);

    function Navigation(props) {
        _classCallCheck(this, Navigation);

        _get(Object.getPrototypeOf(Navigation.prototype), 'constructor', this).call(this);
    }

    _createClass(Navigation, [{
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'nav',
                { className: 'navbar navbar-default navbar-fixed-top' },
                _react2['default'].createElement(
                    'div',
                    { style: this.props.style.main },
                    _react2['default'].createElement(
                        'ul',
                        { className: 'nav navbar-nav' },
                        _react2['default'].createElement(
                            'li',
                            null,
                            _react2['default'].createElement(
                                'a',
                                null,
                                _react2['default'].createElement(
                                    'span',
                                    { onClick: this.props.open.bind(this) },
                                    _react2['default'].createElement('i', { className: 'fa fa-bars ' }),
                                    'open'
                                )
                            )
                        )
                    )
                )
            );
        }
    }]);

    return Navigation;
})(_react.Component);

var Sidenav = (function (_Component3) {
    _inherits(Sidenav, _Component3);

    function Sidenav(props) {
        _classCallCheck(this, Sidenav);

        _get(Object.getPrototypeOf(Sidenav.prototype), 'constructor', this).call(this, props);
    }

    _createClass(Sidenav, [{
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'div',
                { id: 'mySidenav', className: 'sidenav', style: this.props.style },
                _react2['default'].createElement(
                    'div',
                    { style: { width: '200px' } },
                    _react2['default'].createElement(
                        'a',
                        { href: 'javascript:void(0)', className: 'closebtn', onClick: this.props.close.bind(this) },
                        'X'
                    )
                ),
                _react2['default'].createElement(
                    'a',
                    { href: '/admin?page=CONTRACTOR' },
                    'CONTRACTORS'
                ),
                _react2['default'].createElement(
                    'a',
                    { href: '/admin?page=USER' },
                    'USERS'
                ),
                _react2['default'].createElement(
                    'a',
                    { href: 'javascript:void(0)', onClick: this.props.logout.bind(this) },
                    'LOGOUT'
                )
            );
        }
    }]);

    return Sidenav;
})(_react.Component);

exports['default'] = AdminHome;
module.exports = exports['default'];

},{"./admin_contractorlist":2,"./admin_login":4,"./admin_userlist":5,"qs":53,"react":undefined}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var Adminlogin = (function (_Component) {
    _inherits(Adminlogin, _Component);

    function Adminlogin(props) {
        _classCallCheck(this, Adminlogin);

        _get(Object.getPrototypeOf(Adminlogin.prototype), "constructor", this).call(this, props);
        this.handleChange = this.handleChange.bind(this);
    }

    _createClass(Adminlogin, [{
        key: "handleChange",
        value: function handleChange(event) {
            this.props.validateField(event.target.name, event.target.value);
        }
    }, {
        key: "loginvalidationverify",
        value: function loginvalidationverify() {
            if (this.state.emailValid && this.state.passwordValid) {}
        }
    }, {
        key: "render",
        value: function render() {
            return _react2["default"].createElement(
                "form",
                { onSubmit: this.props.loginsubmit.bind(this), id: "login" },
                _react2["default"].createElement(
                    "h3",
                    null,
                    "Login"
                ),
                _react2["default"].createElement(
                    "div",
                    { className: "alert alert-danger", hidden: this.props.responseerror == "" },
                    this.props.responseerror
                ),
                _react2["default"].createElement("input", { type: "email", name: "email", placeholder: "Email*", className: "form-control", onBlur: this.handleChange.bind(this), required: true }),
                _react2["default"].createElement(
                    "span",
                    { id: "error" },
                    this.props.EmailErrors
                ),
                _react2["default"].createElement("input", { type: "password", placeholder: "Password*", className: "form-control", name: "password", onBlur: this.handleChange.bind(this), required: true }),
                _react2["default"].createElement(
                    "span",
                    { id: "error" },
                    this.props.PasswordErrors
                ),
                _react2["default"].createElement(
                    "div",
                    null,
                    " ",
                    _react2["default"].createElement("input", { type: "submit", className: "btn btn-info", id: "buttonnew", value: "Login" })
                )
            );
        }
    }]);

    return Adminlogin;
})(_react.Component);

var Loginadmin = (function (_Component2) {
    _inherits(Loginadmin, _Component2);

    function Loginadmin(props) {
        _classCallCheck(this, Loginadmin);

        _get(Object.getPrototypeOf(Loginadmin.prototype), "constructor", this).call(this, props);
        this.state = {
            email: '',
            password: '',
            name: '',
            phone: '',
            emailValid: false,
            passwordValid: false,
            formErrors: { email: '', password: '', name: '', phone: '' },
            phonevalid: false,
            namevalid: false,
            loginValid: false,
            signupValid: false,
            responseerror: ""
        };
    }

    _createClass(Loginadmin, [{
        key: "loginsubmit",
        value: function loginsubmit(event) {
            event.preventDefault();
            var main = this;
            var payload = {
                email: this.state.email,
                password: this.state.password,
                type: 'ADMIN'
            };

            fetch('admin/adminLogin', {
                method: "post", headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                    "Access-Control-Request-Headers": "*",
                    "Access-Control-Request-Method": "*"
                }, body: 'json=' + JSON.stringify(payload)
            }).then(function (response) {
                return response;
            }).then(function (response) {
                return response.json();
            }).then(function (data) {
                if (data.status == 400) {
                    main.setState({
                        userdata: data.message,
                        responseerror: data.message
                    });
                } else if (data.status == 200) {
                    var userdata;
                    userdata = { "email": data.data.email, "name": data.data.name, "token": data.token };
                    localStorage.setItem('aurthenticate', JSON.stringify(userdata));
                    localStorage.setItem('token', data.token);
                    main.setState({
                        userdata: data.data,
                        responseerror: ""
                    });
                    location.href = "/admin?page=USER";
                }
            });
        }
    }, {
        key: "validateField",
        value: function validateField(fieldName, value) {
            var fieldValidationErrors = this.state.formErrors;
            var passwordValid = this.state.passwordValid;
            var emailValid = this.state.emailValid;
            switch (fieldName) {
                case 'email':
                    emailValid = value.length >= 6;
                    fieldValidationErrors.email = emailValid ? '' : 'Invalid email ';
                    this.setState({ formErrors: fieldValidationErrors, emailValid: emailValid, email: value });
                    break;
                case 'password':
                    passwordValid = value.length >= 6;
                    fieldValidationErrors.password = passwordValid ? '' : 'Password have minimum 6 charecters ';
                    this.setState({ formErrors: fieldValidationErrors, passwordValid: passwordValid, password: value });
                    break;
                default:
                    break;
            }
        }
    }, {
        key: "render",
        value: function render() {
            return _react2["default"].createElement(
                "div",
                { className: "container" },
                _react2["default"].createElement(
                    "div",
                    { className: "col-sm-12" },
                    "  ",
                    _react2["default"].createElement(
                        "div",
                        { className: "col-sm-4" },
                        " "
                    ),
                    _react2["default"].createElement(
                        "div",
                        { className: "col-sm-4" },
                        _react2["default"].createElement(
                            "div",
                            { className: "row adminlogin", id: "box" },
                            _react2["default"].createElement(Adminlogin, { loginsubmit: this.loginsubmit.bind(this), validateField: this.validateField.bind(this),
                                EmailErrors: this.state.formErrors.email,
                                PasswordErrors: this.state.formErrors.password,
                                responseerror: this.state.responseerror
                            })
                        )
                    )
                )
            );
        }
    }]);

    return Loginadmin;
})(_react.Component);

exports["default"] = Loginadmin;
module.exports = exports["default"];

},{"react":undefined}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var Userslist1 = (function (_Component) {
    _inherits(Userslist1, _Component);

    function Userslist1(props) {
        _classCallCheck(this, Userslist1);

        _get(Object.getPrototypeOf(Userslist1.prototype), 'constructor', this).call(this, props);
        this.state = {
            userdata: []
        };
        var main = this;
        fetch('admin/users', {
            method: "get", headers: {
                "Access-Control-Request-Headers": "*",
                "Access-Control-Request-Method": "*"
            }
        }).then(function (response) {
            return response;
        }).then(function (response) {
            return response.json();
        }).then(function (data) {
            main.setState({
                userdata: data.data
            });
        });
    }

    _createClass(Userslist1, [{
        key: 'render',
        value: function render() {
            var single = this.state.userdata;
            return _react2['default'].createElement(
                'div',
                { className: '' },
                _react2['default'].createElement(
                    'table',
                    { className: 'table', ref: 'main', id: 'example' },
                    _react2['default'].createElement(
                        'thead',
                        null,
                        _react2['default'].createElement(
                            'tr',
                            null,
                            _react2['default'].createElement(
                                'th',
                                null,
                                'S.No'
                            ),
                            _react2['default'].createElement(
                                'th',
                                null,
                                'Name'
                            ),
                            _react2['default'].createElement(
                                'th',
                                null,
                                'Email'
                            ),
                            _react2['default'].createElement(
                                'th',
                                null,
                                'Phone No'
                            ),
                            _react2['default'].createElement(
                                'th',
                                null,
                                'View trace'
                            )
                        )
                    ),
                    _react2['default'].createElement(
                        'tbody',
                        null,
                        single.map(function (datata, key) {
                            return _react2['default'].createElement(Usertab, { data: datata, key: key, sno: key });
                        })
                    )
                )
            );
        }
    }]);

    return Userslist1;
})(_react.Component);

var Usertab = (function (_Component2) {
    _inherits(Usertab, _Component2);

    function Usertab(props) {
        _classCallCheck(this, Usertab);

        _get(Object.getPrototypeOf(Usertab.prototype), 'constructor', this).call(this, props);
    }

    _createClass(Usertab, [{
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'tr',
                null,
                _react2['default'].createElement(
                    'td',
                    null,
                    this.props.sno + 1
                ),
                _react2['default'].createElement(
                    'td',
                    null,
                    this.props.data.name
                ),
                _react2['default'].createElement(
                    'td',
                    null,
                    this.props.data.email
                ),
                _react2['default'].createElement(
                    'td',
                    null,
                    this.props.data.phone
                ),
                _react2['default'].createElement(
                    'td',
                    null,
                    _react2['default'].createElement(
                        'button',
                        { type: 'button', className: 'btn btn-info ', 'data-toggle': 'modal', 'data-target': "#esitimations" + this.props.sno },
                        'User tracess(',
                        this.props.data.estdet.length,
                        ')'
                    ),
                    _react2['default'].createElement(
                        'div',
                        { className: 'modal fade', id: "esitimations" + this.props.sno, role: 'dialog' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'modal-dialog' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'modal-content', style: { width: '700px' } },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'modal-header' },
                                    _react2['default'].createElement(
                                        'button',
                                        { type: 'button', className: 'close', 'data-dismiss': 'modal' },
                                        'x'
                                    ),
                                    _react2['default'].createElement(
                                        'h4',
                                        { className: 'modal-title' },
                                        'Modal Header'
                                    )
                                ),
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'modal-body' },
                                    _react2['default'].createElement(EstimatedDet, { data: this.props.data.estdet, index: this.props.sno })
                                ),
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'modal-footer' },
                                    _react2['default'].createElement(
                                        'button',
                                        { type: 'button', className: 'btn btn-default', 'data-dismiss': 'modal' },
                                        'Close'
                                    )
                                )
                            )
                        )
                    )
                )
            );
        }
    }]);

    return Usertab;
})(_react.Component);

var EstimatedDet = (function (_Component3) {
    _inherits(EstimatedDet, _Component3);

    function EstimatedDet(props) {
        _classCallCheck(this, EstimatedDet);

        _get(Object.getPrototypeOf(EstimatedDet.prototype), 'constructor', this).call(this, props);
    }

    _createClass(EstimatedDet, [{
        key: 'render',
        value: function render() {
            var _this = this;

            var singledata = this.props.data;
            return _react2['default'].createElement(
                'div',
                null,
                _react2['default'].createElement(
                    'div',
                    { className: 'panel-group', id: 'accordion' },
                    singledata.map(function (res, key) {
                        return _react2['default'].createElement(
                            'div',
                            { className: 'panel panel-default', key: key },
                            _react2['default'].createElement(
                                'div',
                                { className: 'panel-heading' },
                                _react2['default'].createElement(
                                    'h4',
                                    { className: 'panel-title' },
                                    _react2['default'].createElement(
                                        'a',
                                        { 'data-toggle': 'collapse', 'data-parent': '#accordion', href: "#collapse" + _this.props.index + key },
                                        (0, _moment2['default'])(res.created_date).format('DD-MMMM-YYYY HH:mm:ss')
                                    )
                                )
                            ),
                            _react2['default'].createElement(
                                'div',
                                { id: "collapse" + _this.props.index + key, className: 'panel-collapse collapse' },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'panel-body' },
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Address'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.address,
                                            ' '
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Area'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            parseFloat(res.area).toFixed(2)
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Coordinates'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6', style: { wordBreak: 'break-word' } },
                                            _react2['default'].createElement(
                                                'p',
                                                null,
                                                res.coordinates
                                            )
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Estimatedamount'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            parseFloat(res.estimatedamount).toFixed(2)
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Material'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.material,
                                            ' '
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Property type'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.property_type,
                                            ' '
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Floors'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.floors,
                                            ' '
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Roof pitch'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.roof_pitch,
                                            '° '
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Power consumption'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.power,
                                            ' '
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Electricity consumption'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.e_consumption
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement('hr', { style: {
                                                display: 'block',
                                                overflow: 'hidden',
                                                borderStyle: 'inset',
                                                borderWidth: '1px'
                                            } })
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Cost of solar Installation'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.solar_installation_cost,
                                            ' SEK'
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Supervisor Commission'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.supervisor_commission,
                                            ' SEK'
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Digisolar Commission'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.digisolar_commission,
                                            ' SEK'
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Cost of solar installation with commission'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.solar_installation_With_commission,
                                            ' SEK'
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Cost of solar installation after tax'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.solar_installation_after_tax,
                                            ' SEK'
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Display cost of solar installation'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.display_cost,
                                            ' SEK'
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Solar incentives'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.solar_incentives,
                                            ' SEK'
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Battery cost'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.battery_cost,
                                            ' SEK'
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Battery cost after tax'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.battery_cost_after_tax,
                                            ' SEK'
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Battery incentives'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.battery_incentives,
                                            ' SEK'
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Cost of solar installation after incentives'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.solar_intallation_after_commission,
                                            ' SEK'
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Cost of battery after incentives'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.battery_after_incentives,
                                            ' SEK'
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-12' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            'Final cost'
                                        ),
                                        ' ',
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6' },
                                            res.final_cost,
                                            ' SEK'
                                        )
                                    )
                                )
                            )
                        );
                    })
                )
            );
        }
    }]);

    return EstimatedDet;
})(_react.Component);

exports['default'] = Userslist1;
module.exports = exports['default'];

},{"moment":43,"react":undefined}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactModal = require('react-modal');

var _reactModal2 = _interopRequireDefault(_reactModal);

var CurrencyFormat = require('react-currency-format');
//var BarChartComponent = require('./components/BarChart');
var ESaving = require('./components/ESaving');
var PanelTypes = require('./components/PanelBatteryTypes');
var TimeBooking = require('./components/DatePicker');
var customStyles = {
    content: {
        position: 'absolute',
        top: '50%',
        left: '50%',
        right: 'auto',
        bottom: 'auto',
        border: '2px solid #8ee2ae',
        transform: 'translate(-50%, -50%)',
        padding: '10px 15px 23px',
        fontSize: '16px',
        borderRadius: '20px',
        background: 'rgb(255, 255, 255)',
        overflow: 'auto',
        minHeight: '400px',
        width: '40%'
    }
};

var matstyle = {
    padding: 10,
    margin: 5,
    border: "1px solid #ccc",
    textAlign: "center",
    formmargin: { margin: 10, color: "#fff" },
    signup: {
        color: "#5bc0de",
        cursor: "pointer"
    },
    h2: {
        cursor: "pointer"
    }
};

var Roofprice = 0,
    costoflabour = 0;
var data = [{ letter: 'Jan', productivity: 100 }, { letter: 'Feb', productivity: 200 }, { letter: 'Mar', productivity: 1000 }, { letter: 'Apr', productivity: 1500 }, { letter: 'May', productivity: 1800 }, { letter: 'Jun', productivity: 2000 }, { letter: 'Jul', productivity: 2300 }, { letter: 'Aug', productivity: 2094 }, { letter: 'Sep', productivity: 2966 }, { letter: 'Oct', productivity: 2153 }, { letter: 'Nov', productivity: 2772 }, { letter: 'Dec', productivity: 2025 }];
var TaxOnInstallation,
    soalrIncentives,
    batteryCost,
    taxOnBattery,
    BatteryCostAfterTax,
    batteryIncentives,
    comissionOnBatteryIncentives,
    digisolarComission,
    finalCost,
    capacity,
    panelPrice,
    solarPanelsCount,
    CostOfSolarPanel,
    costPerOptimizer = 408,
    costOfInverterPrice,
    totalInstalledPowerInkw,
    CostOfOptimizer,
    skylift,
    CostOfKit = 800,
    CostOfMountingSystem,
    CostOfCable = 540,
    transportCost,
    laborCost,
    electricianCost = 5000,
    digisolarComission = 10000,
    superVisorCommission = 15000,
    installationBeforeTaxNoComm,
    installationBeforeTax,
    installationAfterIncentives,
    displayPrice,
    batteryAfterIncentive;

var Areaestimate = (function (_Component) {
    _inherits(Areaestimate, _Component);

    function Areaestimate(props) {
        var _this = this;

        _classCallCheck(this, Areaestimate);

        _get(Object.getPrototypeOf(Areaestimate.prototype), 'constructor', this).call(this, props);
        window.scrollTo(0, 0);
        this.state = {
            stepIndex: 1,
            finished: false,
            clear: {},
            previous: {},
            next: {},
            haveaccount: false,
            email: '',
            password: '',
            name: '',
            phone: '',
            emailValid: false,
            passwordValid: false,
            formErrors: { email: '', password: '', name: '', phone: '' },
            phonevalid: false,
            namevalid: false,
            loginValid: false,
            signupValid: false,
            rooferrormessage: "",
            responceerror: "",
            responceerrorlogin: "",
            responceerrorsignup: "",
            date: new Date(),
            loaded: false,
            text: 'Estimerar pris...',
            color: 'rgb(46, 109, 164)',
            emailtext: 'Offert per mail',
            popup: false,
            panelpopup: false,
            modalIsOpen: false,
            PanelModalIsOpen: false,
            closeUpdatePanelmodal: false,
            datepicker: true,
            calenderIndex: 1,
            panelsCount: parseInt(this.props.panelsCount),
            battery: this.props.battery,
            panel: this.props.panel,
            e_consumption: this.props.e_consumption,
            packetName: this.props.packetName,
            elpris: 0.9,
            elprisökning: 2,
            updation: false,
            annualProduction: this.props.annualoutput,
            availableslots: ['9:00', '9:30', '10:00', '10:30', '11:00', '11:30', '12:00', '12:30', '13:00', '13:30', '14:00', '14:30', '15:00', '15:30', '16:00', '17:00'],
            pannel_capacity: this.props.pannel_capacity,
            battery1: this.props.battery1,
            solarIncentives: this.props.solarIncentives,
            batteryIncentvies: this.props.batteryIncentvies,
            finalCost: this.props.finalCost
        };
        if (this.props.logedin) {
            setTimeout(function () {
                _this.setState({
                    text: 'Letar leverantörer i ditt område'
                });
            }, 2000);
            setTimeout(function () {
                _this.setState({
                    loaded: true
                });
            }, 5000);
        }
        this.modalpopup = this.modalpopup.bind(this);
        _reactModal2['default'].setAppElement('body');
        this.openModal = this.openModal.bind(this);
        this.afterOpenModal = this.afterOpenModal.bind(this);
        this.closeModal = this.closeModal.bind(this);
        this.nextPage = this.nextPage.bind(this);
        this.previous = this.previous.bind(this);
        this.modalPanelpopup = this.modalPanelpopup.bind(this);
        this.openPanelModal = this.openPanelModal.bind(this);
        this.afterOpenPanelModal = this.afterOpenPanelModal.bind(this);
        this.closePanelModal = this.closeModal.bind(this);
        this.initialValues = this.initialValues.bind(this);
        if (this.props.logedin === true) {
            if (this.props.area === "" || this.props.material === "") {
                alert("Something Went wrong please try again");
            } else {
                this.initialValues(this.state.panel, this.state.battery, this.state.panelsCount);
            }
        }
    }

    _createClass(Areaestimate, [{
        key: 'initialValues',
        value: function initialValues(p, bat, count) {
            var Total_roof_area = sessionStorage.getItem('roofarea');
            var solar_roof_area = JSON.parse(sessionStorage.getItem('roofAreaPkt')).normalRoofArea;
            var normal_roof_area = Total_roof_area - solar_roof_area;
            var cost_of_solar_roof_tiles = solar_roof_area * parseInt(sessionStorage.getItem('panel_cost'));
            var cost_of_normal_roof_tiles = normal_roof_area * parseInt(sessionStorage.getItem('panel_cost'));
            var Cost_of_material = cost_of_solar_roof_tiles + cost_of_normal_roof_tiles;
            var labor_cost = Total_roof_area * 250;
            var floorPlan = this.props.floors.split("plan")[0].trim();
            var floor = parseInt(floorPlan);
            var skylift = 0;
            if (floor <= 2) {
                skylift = 0;
            } else if (floor >= 3) {
                skylift = 5200;
            }
            var Cost_of_electrician = 6000;
            var Cost_of_cable = 540;
            var Cost_of_transport = 10000;
            var Cost_of_container = 10000;
            var capcity_price = 0;
            var cost_of_invertor = 0;
            if (this.props.pannel_name === 'Midsommar soltak') {

                cost_of_invertor = Total_roof_area * this.props.pannel_capacity;
            } else if (this.props.pannel_name == 'Bendars sunwave palema') {
                cost_of_invertor = Total_roof_area * this.props.pannel_capacity;
            }
            if (cost_of_invertor < 4000) {
                capcity_price = 9560;
            }
            if (cost_of_invertor > 4001 && cost_of_invertor < 5000) {
                capcity_price = 9660;
            }
            if (cost_of_invertor > 5001 && cost_of_invertor < 7000) {
                capcity_price = 11500;
            }
            if (cost_of_invertor > 7001 && cost_of_invertor < 8000) {
                capcity_price = 11830;
            }
            if (cost_of_invertor > 8001 && cost_of_invertor < 10000) {
                capcity_price = 12760;
            }
            if (cost_of_invertor > 10001 && cost_of_invertor < 15000) {
                capcity_price = 11350;
            }
            if (cost_of_invertor > 15001 && cost_of_invertor < 17000) {
                capcity_price = 11620;
            }
            if (cost_of_invertor > 17001 && cost_of_invertor < 25000) {
                capcity_price = 16100;
            }
            if (cost_of_invertor > 25001 && cost_of_invertor < 27600) {
                capcity_price = 16100;
            }
            if (cost_of_invertor > 27600) {
                capcity_price = 20000;
            }

            var Cost_of_solar_roof_installation_before_tax = Cost_of_material + cost_of_invertor + Cost_of_cable + Cost_of_container + Cost_of_transport + Cost_of_electrician + skylift;
            var Digisolar_commission = Cost_of_solar_roof_installation_before_tax * 15 / 100;
            if (Digisolar_commission > 15000) {
                Digisolar_commission = 15000;
            }
            var Cost_of_solar_roof_installatio_with_commission = Cost_of_solar_roof_installation_before_tax + Digisolar_commission;
            var Tax_on_solar_roof_installation = Cost_of_solar_roof_installatio_with_commission * 25 / 100;
            var Cost_of_solar_roof_installation_after_tax = Cost_of_solar_roof_installatio_with_commission + Tax_on_solar_roof_installation;
            var Display_cost_of_solar_roof_installation = Cost_of_solar_roof_installation_after_tax * 93 / 100;
            var Solar_incentives = Display_cost_of_solar_roof_installation * 20 / 100;
            var Battery_cost = 84485;

            var Tax_on_battery = 84485 * 25 / 100;

            var Battery_cost_after_tax = Battery_cost + Tax_on_battery;
            sessionStorage.setItem('battery', Battery_cost_after_tax);
            var Battery_incentives = 50000;
            var Cost_of_solar_roof_installation_after_incentives = Display_cost_of_solar_roof_installation - Solar_incentives;
            sessionStorage.setItem('solarIncentives', Cost_of_solar_roof_installation_after_incentives);
            var Cost_of_battery_after_incentives = Battery_cost_after_tax - Battery_incentives;
            sessionStorage.setItem('batteryIncentives', Cost_of_battery_after_incentives);
            var Final_cost = Cost_of_solar_roof_installation_after_incentives + Cost_of_battery_after_incentives;
            sessionStorage.setItem('final_cost', Final_cost);
            var _self = this;
            if (p === 'Standard' || _self.state.panel === 'Standard') {
                capacity = 270;
                panelPrice = 1180;
            } else if (p === 'Premium' || _self.state.panel === 'Premium') {
                capacity = 320;
                panelPrice = 1400;
            }

            if (count) {
                solarPanelsCount = parseInt(count);
            } else if (_self.state.panelsCount) {
                solarPanelsCount = parseInt(_self.state.panelsCount);
            } else {
                solarPanelsCount = parseInt(_self.state.e_consumption).replace(' kWh', '') / capacity;
            }
            CostOfSolarPanel = solarPanelsCount * panelPrice;
            costOfInverterPrice = inverterPrice();
            totalInstalledPowerInkw = solarPanelsCount * capacity / 1000;
            function inverterPrice() {
                var costOfInverter = solarPanelsCount * capacity;
                if (costOfInverter <= 4000) {
                    return 9560;
                } else if (costOfInverter >= 4001 && costOfInverter <= 5000) {
                    return 9660;
                } else if (costOfInverter >= 5001 && costOfInverter <= 7000) {
                    return 11500;
                } else if (costOfInverter >= 7001 && costOfInverter <= 8000) {
                    return 11830;
                } else if (costOfInverter >= 8001 && costOfInverter <= 10000) {
                    return 12760;
                } else if (costOfInverter >= 10001 && costOfInverter <= 15000) {
                    return 11350;
                } else if (costOfInverter >= 15001 && costOfInverter <= 17000) {
                    return 11620;
                } else if (costOfInverter >= 17001 && costOfInverter <= 25000) {
                    return 16100;
                } else if (costOfInverter >= 25001 && costOfInverter <= 27600) {
                    return 16400;
                } else {
                    return 20000;
                }
            }

            CostOfOptimizer = solarPanelsCount * costPerOptimizer;
            CostOfMountingSystem = solarPanelsCount * mounting();
            function mounting() {
                switch (_self.props.material) {
                    case 'Lertegeltak':
                        return 260;
                    case 'Plåt':
                        return 200;
                    case 'Betongtegeltak':
                        return 260;
                    case 'Falsad plåt / Bandad Plåt':
                        return 200;
                    case 'Papptak':
                        return 300;
                }
            }

            function transportingCost() {
                switch (true) {
                    case 10 <= solarPanelsCount && solarPanelsCount <= 24:
                        return 3000;
                    case 25 <= solarPanelsCount && solarPanelsCount <= 44:
                        return 3700;
                    case 45 <= solarPanelsCount && solarPanelsCount <= 64:
                        return 4500;
                    case 65 <= solarPanelsCount && solarPanelsCount <= 84:
                        return 5700;
                    case 85 <= solarPanelsCount && solarPanelsCount <= 104:
                        return 7000;
                    case 105 <= solarPanelsCount && solarPanelsCount <= 124:
                        return 8000;
                    case 125 <= solarPanelsCount && solarPanelsCount <= 144:
                        return 9700;
                    case 145 <= solarPanelsCount && solarPanelsCount <= 164:
                        return 11000;
                    case 165 <= solarPanelsCount && solarPanelsCount <= 184:
                        return 11000;
                    case 185 <= solarPanelsCount && solarPanelsCount <= 204:
                        return 12000;
                    case 185 < solarPanelsCount:
                        var calculatedPrice = 25 * (solarPanelsCount - 205);
                        return 12000 + calculatedPrice;
                }
            }

            function labourCost() {
                switch (true) {
                    case solarPanelsCount <= 12:
                        return 12000;
                    case 13 <= solarPanelsCount && solarPanelsCount <= 20:
                        return 13000;
                    case 21 <= solarPanelsCount && solarPanelsCount <= 24:
                        return 14000;
                    case 25 <= solarPanelsCount && solarPanelsCount <= 28:
                        return 1500;
                    case 29 <= solarPanelsCount && solarPanelsCount <= 32:
                        return 16000;
                    case 33 <= solarPanelsCount && solarPanelsCount <= 36:
                        return 17000;
                    case 37 <= solarPanelsCount && solarPanelsCount <= 40:
                        return 18000;
                    case 41 <= solarPanelsCount && solarPanelsCount <= 48:
                        return 19000;
                    case 49 <= solarPanelsCount && solarPanelsCount <= 60:
                        return 20000;
                    case 61 <= solarPanelsCount && solarPanelsCount <= 72:
                        return 22000;
                    case 73 <= solarPanelsCount && solarPanelsCount <= 84:
                        return 24000;
                    case 84 < solarPanelsCount:
                        var calculatedPrice = 270 * (solarPanelsCount - 84);
                        return 24000 + calculatedPrice;
                }
            }
            if (this.props.floors === '2 plan' || this.props.floors === '1 plan') {
                skylift = 0;
            } else {
                skylift = 5200;
            }
            transportCost = transportingCost();
            laborCost = labourCost();
            installationBeforeTaxNoComm = CostOfSolarPanel + CostOfOptimizer + costOfInverterPrice + CostOfMountingSystem + CostOfKit + CostOfCable + transportCost + laborCost + skylift + electricianCost;
            superVisorCommission = installationBeforeTaxNoComm * 11 / 100;
            digisolarComission = installationBeforeTaxNoComm * 11 / 100;
            if (superVisorCommission > 12500) {
                superVisorCommission = 12500;
            }
            if (digisolarComission > 12500) {
                digisolarComission = 12500;
            }
            installationBeforeTax = installationBeforeTaxNoComm + superVisorCommission + digisolarComission;
            TaxOnInstallation = installationBeforeTax * 25 / 100;
            Roofprice = installationBeforeTax + TaxOnInstallation;
            displayPrice = Roofprice * 93 / 100;
            soalrIncentives = displayPrice * 0.2;
            if (bat === 'Premium') {
                batteryCost = 84485;
                batteryIncentives = 50000;
            } else if (bat === 'Inga') {
                batteryCost = 0;
                batteryIncentives = 0;
            }
            taxOnBattery = batteryCost * 25 / 100;
            BatteryCostAfterTax = batteryCost + taxOnBattery;
            comissionOnBatteryIncentives = 15000;
            installationAfterIncentives = displayPrice - soalrIncentives;
            batteryAfterIncentive = BatteryCostAfterTax - batteryIncentives;
            finalCost = installationAfterIncentives + batteryAfterIncentive;
            this.SendEstimation(this);
        }
    }, {
        key: 'closePanelModal',
        value: function closePanelModal() {
            this.setState({ PanelModalIsOpen: false, panelpopup: false, closeUpdatePanelmodal: false });
        }
    }, {
        key: 'modalPanelpopup',
        value: function modalPanelpopup() {
            this.setState({ panelpopup: true, PanelModalIsOpen: true });
        }
    }, {
        key: 'openPanelModal',
        value: function openPanelModal() {}
    }, {
        key: 'afterOpenPanelModal',
        value: function afterOpenPanelModal() {}
    }, {
        key: 'openModal',
        value: function openModal() {}
    }, {
        key: 'update',
        value: function update(panel, battery, Count, packetName, annualOpt) {
            this.setState({
                closeUpdatePanelmodal: true,
                packetName: packetName,
                battery: battery,
                panel: panel,
                panelsCount: parseInt(Count),
                annualProduction: parseInt(annualOpt).toFixed(0)
            });
            sessionStorage.setItem('battery', battery);
            sessionStorage.setItem('panel', panel);
            sessionStorage.setItem('panelsCount', Count);
            sessionStorage.setItem('packetName', packetName);
            if (panel.length && battery.length) {
                var token = localStorage.getItem("token");
                var email = JSON.parse(localStorage.getItem("userdata")).email;
                var payload = {
                    area: this.props.area,
                    coordinates: JSON.stringify(this.props.coordinates),
                    slope: this.props.style,
                    estimatedamount: Roofprice,
                    material: this.props.material,
                    slopecost: this.props.roofstylecost,
                    materialcost: this.props.materialcost,
                    labour: costoflabour,
                    address: this.props.address,
                    email: email,
                    power: this.props.power,
                    e_consumption: this.state.e_consumption,
                    floors: this.props.floors,
                    roof_pitch: this.props.roof_pitch,
                    property_type: this.props.property_type,
                    battery: battery,
                    panel: panel,
                    panelsCount: Count,
                    solar_installation_cost: installationBeforeTaxNoComm,
                    supervisor_commission: superVisorCommission,
                    digisolar_commission: digisolarComission,
                    solar_installation_With_commission: installationBeforeTax,
                    solar_installation_after_tax: Roofprice,
                    display_cost: displayPrice,
                    solar_incentives: soalrIncentives,
                    battery_cost: batteryCost,
                    battery_cost_after_tax: BatteryCostAfterTax,
                    battery_incentives: comissionOnBatteryIncentives,
                    solar_intallation_after_commission: installationAfterIncentives,
                    battery_after_incentives: batteryAfterIncentive,
                    final_cost: finalCost
                };

                fetch('users/estimation', {
                    method: "post",
                    crossDomain: true,
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                        "Access-Control-Request-Headers": "*",
                        "Access-Control-Request-Method": "*"
                    }, body: 'json=' + JSON.stringify(payload) + '&token=' + token
                }).then(function (response) {
                    return response;
                }).then(function (response) {
                    return response.json();
                }).then(function (data) {
                    localStorage.setItem('userdata', JSON.stringify(data));
                });
            }
            this.initialValues(panel, battery, Count);
        }
    }, {
        key: 'afterOpenModal',
        value: function afterOpenModal() {}
    }, {
        key: 'closeModal',
        value: function closeModal() {
            this.setState({ modalIsOpen: false, PanelModalIsOpen: false, closeUpdatePanelmodal: false });
        }
    }, {
        key: 'modalpopup',
        value: function modalpopup() {
            this.setState({ popup: true, modalIsOpen: true, calenderIndex: 1 });
        }
    }, {
        key: 'nextPage',
        value: function nextPage(date, time) {
            var _this2 = this;

            if (this.state.calenderIndex > 3) {
                this.closeModal.bind(this);
            } else if (this.state.calenderIndex === 2) {
                var bookPayload;

                (function () {
                    var _self = _this2,
                        userdata = JSON.parse(localStorage.getItem('userdata'));
                    if (userdata && userdata._id) {
                        bookPayload = {
                            "contractor_id": "5d1350199880ff94115dedde",
                            "user_id": userdata._id,
                            "booking_slot_date": date,
                            "booking_slot_time": time
                        };

                        fetch('/contractor/book-appointment', {
                            method: "post",
                            crossDomain: true,
                            headers: {
                                'Content-Type': 'application/json',
                                "Access-Control-Request-Headers": "*",
                                "Access-Control-Request-Method": "*"

                            },
                            body: JSON.stringify(bookPayload)
                        }).then(function (res) {
                            return res.json();
                        }).then(function (result) {
                            _self.setState({
                                availableslots: data,
                                datepicker: false, calenderIndex: parseInt(_self.state.calenderIndex) + 1
                            });
                        });
                    }
                })();
            } else {
                this.setState({ datepicker: false, calenderIndex: parseInt(this.state.calenderIndex) + 1 });
            }
        }
    }, {
        key: 'previous',
        value: function previous() {
            this.setState({ calenderIndex: this.state.calenderIndex - 1 });
        }
    }, {
        key: 'colorChange',
        value: function colorChange(id) {
            if (id === 'offert' || id === 'telefon') {
                var btn = document.getElementById(id);
                btn.setAttribute("disabled", "disabled");
                btn.setAttribute("style", "background-color: #0FAF32");
                btn.innerHTML = "Inväntar offert...";
            }
        }
    }, {
        key: 'signupsubmit',
        value: function signupsubmit(event) {
            var _this3 = this;

            event.preventDefault();
            if (this.state.formErrors.email === "" && this.state.formErrors.name === "" && this.state.formErrors.phone === "" && this.state.formErrors.password === "") {
                var est;
                var payload;

                (function () {
                    var main = _this3;
                    est = {
                        area: _this3.props.area,
                        coordinates: _this3.props.coordinates,
                        slope: _this3.props.style,
                        estimatedamount: Roofprice,
                        material: _this3.props.material,
                        slopecost: _this3.props.roofstylecost,
                        materialcost: _this3.props.materialcost,
                        labour: costoflabour,
                        address: _this3.props.address,
                        power: _this3.props.power,
                        e_consumption: _this3.state.e_consumption,
                        battery: _this3.state.battery,
                        panel: _this3.state.panel,
                        panelsCount: _this3.state.panelsCount,
                        solar_installation_cost: installationBeforeTaxNoComm,
                        supervisor_commission: superVisorCommission,
                        digisolar_commission: digisolarComission,
                        solar_installation_With_commission: installationBeforeTax,
                        solar_installation_after_tax: Roofprice,
                        display_cost: displayPrice,
                        solar_incentives: soalrIncentives,
                        battery_cost: batteryCost,
                        battery_cost_after_tax: BatteryCostAfterTax,
                        battery_incentives: comissionOnBatteryIncentives,
                        solar_intallation_after_commission: installationAfterIncentives,
                        battery_after_incentives: batteryAfterIncentive,
                        final_cost: finalCost
                    };
                    payload = {
                        name: _this3.state.name,
                        email: _this3.state.email,
                        password: _this3.state.password,
                        phone: _this3.state.phone,
                        type: 'USER',
                        estdet: est
                    };

                    fetch('users/registeruser', {
                        method: "post", headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                            "Access-Control-Request-Headers": "*",
                            "Access-Control-Request-Method": "*"
                        }, body: 'json=' + JSON.stringify(payload)
                    }).then(function (response) {
                        return response;
                    }).then(function (response) {
                        return response.json();
                    }).then(function (data) {
                        if (data.status === 400) {
                            main.setState({
                                responceerrorsignup: data.message
                            });
                        } else if (data.status === 200) {
                            localStorage.setItem('userdata', JSON.stringify(data.data));
                            localStorage.setItem('token', data.token);
                            main.setState({
                                userdata: data.data,
                                responceerrorsignup: ""
                            });
                            main.props.loginmodefun(true);
                        }
                    });
                })();
            } else {
                alert("Please Fill All Mandatory Fields ");
            }
        }
    }, {
        key: 'loginsubmit',
        value: function loginsubmit(event) {
            debugger;
            event.preventDefault();
            var main = this;
            var payload = {
                email: this.state.email,
                phone: this.state.phone,
                password: '123456',
                type: 'USER'
            };

            fetch('users/userLogin', {
                method: "post", headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                    "Access-Control-Request-Headers": "*",
                    "Access-Control-Request-Method": "*"
                }, body: 'json=' + JSON.stringify(payload)
            }).then(function (response) {
                return response;
            }).then(function (response) {
                return response.json();
            }).then(function (data) {
                if (data.status === 400) {
                    main.setState({
                        responceerrorlogin: data.message
                    });
                } else if (data.status === 200) {
                    var userdata;
                    main.setState({
                        responceerrorlogin: ""
                    });
                    if (data.data.type === "USER") {
                        userdata = {
                            "type": data.data.type,
                            "estdet": data.data.estdet,
                            "updateon": data.data.updateon,
                            "cratedon": data.data.cratedon,
                            "email": data.data.email, "phone": data.data.phone, "name": data.data.name, "token": data.token
                        };
                        var payload = {
                            area: main.props.area,
                            coordinates: main.props.coordinates,
                            slope: main.props.style,
                            estimatedamount: Roofprice,
                            material: main.props.material,
                            slopecost: main.props.roofstylecost,
                            materialcost: main.props.materialcost,
                            labour: costoflabour,
                            address: main.props.address,
                            email: data.data.email,
                            property_type: main.props.property_type,
                            floors: main.props.floors,
                            roof_pitch: main.props.roof_pitch,
                            power: main.props.power,
                            e_consumption: main.state.e_consumption,
                            battery: main.props.battery,
                            panel: main.props.panel,
                            panelsCount: main.props.panelsCount,
                            solar_installation_cost: installationBeforeTaxNoComm,
                            supervisor_commission: superVisorCommission,
                            digisolar_commission: digisolarComission,
                            solar_installation_With_commission: installationBeforeTax,
                            solar_installation_after_tax: Roofprice,
                            display_cost: displayPrice,
                            solar_incentives: soalrIncentives,
                            battery_cost: batteryCost,
                            battery_cost_after_tax: BatteryCostAfterTax,
                            battery_incentives: comissionOnBatteryIncentives,
                            solar_intallation_after_commission: installationAfterIncentives,
                            battery_after_incentives: batteryAfterIncentive,
                            final_cost: finalCost
                        };
                        fetch('users/estimation', {
                            method: "post",
                            crossDomain: true,
                            headers: {
                                'Content-Type': 'application/x-www-form-urlencoded',
                                "Access-Control-Request-Headers": "*",
                                "Access-Control-Request-Method": "*"

                            }, body: 'json=' + JSON.stringify(payload) + '&token=' + data.token
                        }).then(function (response) {
                            return response;
                        }).then(function (response) {
                            return response.json();
                        }).then(function (data) {
                            if (data.status === 400) {
                                main.setState({
                                    responceerror: data.message
                                });
                            } else if (data.status === 200) {
                                main.setState({
                                    responceerror: ""
                                });
                            }
                        });
                    } else if (data.data.type === "CONTRACTOR") {
                        userdata = {
                            "type": data.data.type,
                            "organization_number": data.data, organization_number: organization_number,
                            "address": data.data.address,
                            "website": data.data.website,
                            "businessname": data.data.businessname,
                            "updateon": data.data.updateon,
                            "cratedon": data.data.cratedon,
                            "email": data.data.email, "phone": data.data.phone, "name": data.data.name, "token": data.toke
                        };
                    }
                    localStorage.setItem('userdata', JSON.stringify(userdata));
                    localStorage.setItem('token', data.toke);
                    main.setState({
                        userdata: data.data
                    });
                    main.props.loginmodefun(true);
                }
            });
        }
    }, {
        key: 'validateField',
        value: function validateField(fieldName, value) {
            var fieldValidationErrors = this.state.formErrors;
            var passwordValid = this.state.passwordValid;
            var phonevalid = this.state.phonevalid;
            var namevalid = this.state.namevalid;
            var emailValid = this.state.emailValid;

            switch (fieldName) {
                case 'email':
                    emailValid = value.length >= 6;
                    fieldValidationErrors.email = emailValid ? '' : ' is invalid';
                    this.setState({ formErrors: fieldValidationErrors, emailValid: emailValid, email: value });
                    break;
                case 'password':
                    passwordValid = value.length >= 6;
                    fieldValidationErrors.password = passwordValid ? '' : ' is too short';
                    this.setState({ formErrors: fieldValidationErrors, passwordValid: passwordValid, password: value });
                    break;
                case 'phone':
                    phonevalid = value.length === 10;
                    fieldValidationErrors.phone = phonevalid ? '' : 'phone number  is too short';
                    this.setState({ formErrors: fieldValidationErrors, phonevalid: phonevalid, phone: value });
                    break;
                case 'name':
                    namevalid = value.length >= 6;
                    fieldValidationErrors.name = namevalid ? '' : ' is too short';
                    this.setState({ formErrors: fieldValidationErrors, namevalid: namevalid, name: value });
                    break;
                default:
                    break;
            }
        }
    }, {
        key: 'haveaccountfunction',
        value: function haveaccountfunction() {
            this.setState({
                haveaccount: !this.state.haveaccount
            });
        }
    }, {
        key: 'SendEstimation',
        value: function SendEstimation() {
            var token = localStorage.getItem("token");
            var email = JSON.parse(localStorage.getItem("userdata")).email;
            var payload = {
                area: this.props.area,
                coordinates: JSON.stringify(this.props.coordinates),
                slope: this.props.style,
                estimatedamount: Roofprice,
                material: this.props.material,
                slopecost: this.props.roofstylecost,
                materialcost: this.props.materialcost,
                labour: costoflabour,
                address: this.props.address,
                email: email,
                power: this.props.power,
                e_consumption: this.state.e_consumption,
                floors: this.props.floors,
                roof_pitch: this.props.roof_pitch,
                property_type: this.props.property_type,
                battery: this.state.battery,
                panel: this.state.panel,
                panelsCount: this.state.panelsCount,
                solar_installation_cost: installationBeforeTaxNoComm,
                supervisor_commission: superVisorCommission,
                digisolar_commission: digisolarComission,
                solar_installation_With_commission: installationBeforeTax,
                solar_installation_after_tax: Roofprice,
                display_cost: displayPrice,
                solar_incentives: soalrIncentives,
                battery_cost: batteryCost,
                battery_cost_after_tax: BatteryCostAfterTax,
                battery_incentives: comissionOnBatteryIncentives,
                solar_intallation_after_commission: installationAfterIncentives,
                battery_after_incentives: batteryAfterIncentive,
                final_cost: finalCost
            };

            fetch('users/estimation', {
                method: "post",
                crossDomain: true,
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                    "Access-Control-Request-Headers": "*",
                    "Access-Control-Request-Method": "*"

                }, body: 'json=' + JSON.stringify(payload) + '&token=' + token
            }).then(function (response) {
                return response;
            }).then(function (response) {
                return response.json();
            }).then(function (data) {
                localStorage.setItem('userdata', JSON.stringify(data));
            });
        }
    }, {
        key: 'componentWillUpdate',
        value: function componentWillUpdate(nextProps, nextState) {
            if (nextState.closeUpdatePanelmodal && !nextState.modalIsOpen) {
                setTimeout(this.initialValues(nextState.panel, nextState.battery, nextState.panelsCount), 2000);
                this.closeModal();
            }
        }
    }, {
        key: 'render',
        value: function render() {
            if (this.props.logedin === true && this.props.componentindex === "7") {
                return _react2['default'].createElement(
                    'div',
                    { className: 'container' },
                    !this.state.loaded ? _react2['default'].createElement(
                        'div',
                        { className: 'container-fluid p-b-5' },
                        _react2['default'].createElement(
                            'video',
                            { className: 'loader', id: 'background-video', loop: true, autoPlay: true, muted: true },
                            _react2['default'].createElement('source', { src: './img/animation2.mp4', type: 'video/mp4' })
                        ),
                        _react2['default'].createElement(
                            'div',
                            { className: 'loaderText' },
                            _react2['default'].createElement(
                                'p',
                                null,
                                this.state.text
                            )
                        )
                    ) : this.state.PanelModalIsOpen ? _react2['default'].createElement(PanelTypes, { battery: this.state.battery,
                        panel: this.state.panel,
                        packetsCount: this.state.panelsCount,
                        packetName: this.state.packetName,
                        update: this.update.bind(this),
                        location: this.props.roofaddress,
                        e_consumption: this.state.e_consumption,
                        closeModal: this.closeModal.bind(this),
                        closeUpdatePanelmodal: this.state.closeUpdatePanelmodal,
                        PanelModalIsOpen: this.state.PanelModalIsOpen,
                        roof_pitch: this.props.roof_pitch,
                        surfaceDirection: this.props.surfaceDirection,
                        annualProduction: this.state.annualProduction,
                        area: this.props.area }) : _react2['default'].createElement(
                        'div',
                        null,
                        _react2['default'].createElement(
                            'div',
                            { className: '', id: 'estimateright', style: { marginTop: 20 } },
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 col-md-12 panding_no' },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-6 col-md-6' },
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'area-estimation-card-heading font-quicksand ' },
                                        'Ditt tak'
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-md-12 col-sm-12 area-estimation-cards' },
                                        _react2['default'].createElement(
                                            'h3',
                                            { id: 'cap-address' },
                                            this.props.address
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-12 panding_no' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-12 col-md-6 panding_no' },
                                                _react2['default'].createElement(
                                                    'h3',
                                                    { id: 'eststep2' },
                                                    _react2['default'].createElement(
                                                        'strong',
                                                        { className: 'uppercase f15' },
                                                        'Fastighetstyp: '
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'b',
                                                        { className: 'f15' },
                                                        this.props.property_type
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-12 col-md-6 panding_no' },
                                                _react2['default'].createElement(
                                                    'h3',
                                                    { id: 'eststep2' },
                                                    _react2['default'].createElement(
                                                        'strong',
                                                        { className: 'uppercase f15' },
                                                        'Årlig elförbrukning : '
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'b',
                                                        { className: 'f15' },
                                                        this.state.e_consumption
                                                    )
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-12 col-md-12 panding_no' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-12 col-md-6  panding_no' },
                                                _react2['default'].createElement(
                                                    'h3',
                                                    { id: 'eststep2' },
                                                    _react2['default'].createElement(
                                                        'strong',
                                                        { className: 'uppercase f15' },
                                                        'Taklutning : '
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'b',
                                                        { className: 'f15' },
                                                        this.props.roof_pitch,
                                                        ' ° '
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-12 col-md-6 panding_no' },
                                                _react2['default'].createElement(
                                                    'h3',
                                                    { id: 'eststep2' },
                                                    _react2['default'].createElement(
                                                        'strong',
                                                        { className: 'uppercase f15' },
                                                        'Huvudsäkring : '
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'b',
                                                        { className: 'f15' },
                                                        this.props.power
                                                    )
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-12  col-md-12 panding_no' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-12 col-md-6 panding_no' },
                                                _react2['default'].createElement(
                                                    'h3',
                                                    { id: 'eststep2' },
                                                    _react2['default'].createElement(
                                                        'strong',
                                                        { className: 'uppercase f15' },
                                                        'Takmaterial : '
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'b',
                                                        { className: 'f15' },
                                                        this.props.material
                                                    )
                                                )
                                            )
                                        )
                                    )
                                ),
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-6 col-md-6' },
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'area-estimation-card-heading font-quicksand ' },
                                        'Din Produkt'
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-md-12 col-sm-12 estimation-panel-card' },
                                        sessionStorage.getItem('selected_panel') == 'solpanel' ? _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-12 col-md-6 card-content-bottom' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-12' },
                                                _react2['default'].createElement(
                                                    'h3',
                                                    { id: 'eststep2' },
                                                    _react2['default'].createElement(
                                                        'strong',
                                                        { className: 'uppercase f15' },
                                                        'SOLPANEL: '
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'b',
                                                        { className: 'f15' },
                                                        this.state.panel
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-12 col-md-12' },
                                                _react2['default'].createElement(
                                                    'h3',
                                                    { id: 'eststep2' },
                                                    _react2['default'].createElement(
                                                        'strong',
                                                        { className: 'uppercase f15' },
                                                        'ANTal PANEL:'
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'b',
                                                        { className: 'f15' },
                                                        this.state.panelsCount
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-12  col-md-12 ' },
                                                _react2['default'].createElement(
                                                    'h3',
                                                    { id: 'eststep2' },
                                                    _react2['default'].createElement(
                                                        'strong',
                                                        { className: 'uppercase f15' },
                                                        'BATTERI '
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'b',
                                                        { className: 'f15' },
                                                        this.state.battery
                                                    )
                                                )
                                            )
                                        ) : _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-12 col-md-6 card-content-bottom' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-12' },
                                                _react2['default'].createElement(
                                                    'h3',
                                                    { id: 'eststep2' },
                                                    _react2['default'].createElement(
                                                        'strong',
                                                        { className: 'uppercase f15' },
                                                        'Batteri: '
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'b',
                                                        { className: 'f15' },
                                                        this.state.battery1
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-12 col-md-12' },
                                                _react2['default'].createElement(
                                                    'h3',
                                                    { id: 'eststep2' },
                                                    _react2['default'].createElement(
                                                        'strong',
                                                        { className: 'uppercase f15' },
                                                        'Solcellsstöd:'
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'b',
                                                        { className: 'f15' },
                                                        this.state.solarIncentives
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-12  col-md-12 ' },
                                                _react2['default'].createElement(
                                                    'h3',
                                                    { id: 'eststep2' },
                                                    _react2['default'].createElement(
                                                        'strong',
                                                        { className: 'uppercase f15' },
                                                        'Batteristöd '
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'b',
                                                        { className: 'f15' },
                                                        this.state.batteryIncentvies
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-12  col-md-12 ' },
                                                _react2['default'].createElement(
                                                    'h3',
                                                    { id: 'eststep2' },
                                                    _react2['default'].createElement(
                                                        'strong',
                                                        { className: 'uppercase f15' },
                                                        'Totalt inkl, moms '
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'b',
                                                        { className: 'f15' },
                                                        this.state.finalCost
                                                    )
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-md-6 col-sm-12 align-text-center' },
                                            _react2['default'].createElement(
                                                'button',
                                                { className: 'panel-card-button', onClick: this.modalPanelpopup },
                                                'Byt Produkt'
                                            )
                                        )
                                    )
                                )
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 col-md-12 panding_no' },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-6 col-md-6' },
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'area-estimation-card-heading font-quicksand ' },
                                        'Elproduktion'
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-md-12 col-sm-12 estimation-panel-card elproduction' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-12 panding_no ' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-12 col-md-6 panding_no' },
                                                _react2['default'].createElement(
                                                    'h3',
                                                    { id: 'eststep2', className: 'align-text-center' },
                                                    _react2['default'].createElement(
                                                        'b',
                                                        { className: 'f15' },
                                                        'installerade effekt '
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'per-panel' },
                                                        totalInstalledPowerInkw,
                                                        ' kWh'
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-12 col-md-6 panding_no' },
                                                _react2['default'].createElement(
                                                    'h3',
                                                    { id: 'eststep2', className: 'align-text-center' },
                                                    _react2['default'].createElement(
                                                        'b',
                                                        { className: 'f15' },
                                                        'Årsproduktion '
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'per-panel' },
                                                        this.state.annualProduction,
                                                        ' kWh'
                                                    )
                                                )
                                            )
                                        )
                                    )
                                ),
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-6 col-md-6' },
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'area-estimation-card-heading font-quicksand' },
                                        'Pris '
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-md-12 panding_no' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'table-bg  pris_height' },
                                            _react2['default'].createElement(
                                                'table',
                                                { className: 'table amount-total' },
                                                _react2['default'].createElement(
                                                    'tbody',
                                                    null,
                                                    _react2['default'].createElement(
                                                        'tr',
                                                        { className: 'font-weignt-700' },
                                                        _react2['default'].createElement(
                                                            'td',
                                                            { className: 'table-cat padding-left-none padding-right-none w48' },
                                                            'Solpanelsanlägging  och installation'
                                                        ),
                                                        _react2['default'].createElement(
                                                            'td',
                                                            { className: 'table-price-width' },
                                                            _react2['default'].createElement(CurrencyFormat, { style: { fontSize: 25 }, value: parseFloat(displayPrice.toFixed(0)), displayType: 'text', thousandSeparator: ' ' }),
                                                            _react2['default'].createElement(
                                                                'span',
                                                                { className: 'f21' },
                                                                ' SEK'
                                                            )
                                                        )
                                                    ),
                                                    _react2['default'].createElement(
                                                        'tr',
                                                        { className: 'font-weignt-700' },
                                                        _react2['default'].createElement(
                                                            'td',
                                                            { className: 'table-cat padding-left-none w48' },
                                                            'Batteri'
                                                        ),
                                                        _react2['default'].createElement(
                                                            'td',
                                                            { className: 'table-price-width' },
                                                            _react2['default'].createElement(CurrencyFormat, { style: { fontSize: 25 }, value: parseFloat(BatteryCostAfterTax.toFixed(0)), displayType: 'text', thousandSeparator: ' ' }),
                                                            _react2['default'].createElement(
                                                                'span',
                                                                { className: 'f21' },
                                                                ' SEK'
                                                            )
                                                        )
                                                    ),
                                                    _react2['default'].createElement(
                                                        'tr',
                                                        { className: ' font-weignt-700' },
                                                        _react2['default'].createElement(
                                                            'td',
                                                            { className: 'table-cat padding-left-none w48' },
                                                            'Solcellsstöd'
                                                        ),
                                                        _react2['default'].createElement(
                                                            'td',
                                                            { className: 'table-price-width' },
                                                            _react2['default'].createElement(CurrencyFormat, { style: { fontSize: 25 }, value: -parseFloat(soalrIncentives.toFixed(0)), displayType: 'text', thousandSeparator: ' ' }),
                                                            _react2['default'].createElement(
                                                                'span',
                                                                { className: 'f21' },
                                                                ' SEK'
                                                            )
                                                        )
                                                    ),
                                                    _react2['default'].createElement(
                                                        'tr',
                                                        { className: 'total-border font-weignt-700' },
                                                        _react2['default'].createElement(
                                                            'td',
                                                            { className: 'table-cat padding-left-none w48' },
                                                            'Batteristöd'
                                                        ),
                                                        _react2['default'].createElement(
                                                            'td',
                                                            { className: 'table-price-width' },
                                                            _react2['default'].createElement(CurrencyFormat, { style: { fontSize: 25 }, value: batteryIncentives > 0 ? -parseFloat(batteryIncentives.toFixed(0)) : batteryIncentives, displayType: 'text', thousandSeparator: ' ' }),
                                                            _react2['default'].createElement(
                                                                'span',
                                                                { className: 'f21' },
                                                                ' SEK'
                                                            )
                                                        )
                                                    ),
                                                    _react2['default'].createElement(
                                                        'tr',
                                                        { className: 'font-weignt-700' },
                                                        _react2['default'].createElement(
                                                            'td',
                                                            { className: 'table-cat padding-left-none w48' },
                                                            'Total(inkl moms)'
                                                        ),
                                                        _react2['default'].createElement(
                                                            'td',
                                                            { className: 'table-price-width' },
                                                            _react2['default'].createElement(CurrencyFormat, { style: { fontSize: 25 }, value: parseFloat(finalCost.toFixed(0)), displayType: 'text', thousandSeparator: ' ' }),
                                                            _react2['default'].createElement(
                                                                'span',
                                                                { className: 'f21' },
                                                                ' SEK'
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-md-12 col-sm-12 align-text-center align-appointment' },
                                _react2['default'].createElement(
                                    'button',
                                    { id: 'appointment-button', className: 'btn btn-info', onClick: this.modalpopup },
                                    'Boka Besiktning'
                                )
                            ),
                            this.state.popup ? _react2['default'].createElement(
                                'div',
                                null,
                                _react2['default'].createElement(
                                    _reactModal2['default'],
                                    {
                                        isOpen: this.state.modalIsOpen,
                                        onAfterOpen: this.afterOpenModal,
                                        onRequestClose: this.closeModal,
                                        style: customStyles,
                                        contentLabel: 'Example Modal' },
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-md-12 panding_no' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'boka-heading' },
                                            'Boka Besiktning'
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'f-right' },
                                            _react2['default'].createElement(
                                                'button',
                                                { className: 'close-button ', onClick: this.closeModal },
                                                'X'
                                            )
                                        )
                                    ),
                                    _react2['default'].createElement(TimeBooking, { previous: this.previous.bind(this),
                                        closeModal: this.closeModal.bind(this),
                                        calenderIndex: this.state.calenderIndex,
                                        nextPage: this.nextPage.bind(this) })
                                )
                            ) : null,
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 col-md-12 panding_no' },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'area-estimation-card-heading font-quicksand' },
                                    'Solekonomi'
                                ),
                                _react2['default'].createElement(ESaving, { roof_pitch: this.props.roof_pitch, packetName: this.props.packetName, roofarea: this.props.area, location: this.props.roofaddress, direction: this.props.surfaceDirection, noOfPanels: this.state.panelsCount, capacity: capacity, estimatedAmount: displayPrice })
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 col-md-12 panding_no' },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-12 panding_no align-text-center  m-50' },
                                    _react2['default'].createElement(
                                        'h2',
                                        { style: { color: '#064f70', fontWeight: 'bold', fontFamily: 'quicksand' } },
                                        'Våra installationer innehåller alltid'
                                    )
                                ),
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-12' },
                                    _react2['default'].createElement(
                                        'div',
                                        { className: ' col-sm-6 separet_width' },
                                        _react2['default'].createElement(
                                            'h4',
                                            null,
                                            _react2['default'].createElement('img', { src: './img/Check-Mark-2.png', alt: 'Check-Mark-2' }),
                                            _react2['default'].createElement(
                                                'b',
                                                null,
                                                'Allt material ink solpaneler '
                                            ),
                                            ' '
                                        ),
                                        _react2['default'].createElement(
                                            'h4',
                                            null,
                                            _react2['default'].createElement('img', { src: './img/Check-Mark-2.png', alt: 'Check-Mark' }),
                                            _react2['default'].createElement(
                                                'b',
                                                null,
                                                'Komplett installation inkl elektriker'
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'h4',
                                            null,
                                            _react2['default'].createElement('img', { src: './img/Check-Mark-2.png', alt: 'CheckMark' }),
                                            _react2['default'].createElement(
                                                'b',
                                                null,
                                                'Transport till mottagaradress '
                                            ),
                                            ' '
                                        ),
                                        _react2['default'].createElement(
                                            'h4',
                                            null,
                                            _react2['default'].createElement('img', { src: './img/Check-Mark-2.png', alt: 'CheckedMark' }),
                                            _react2['default'].createElement(
                                                'b',
                                                null,
                                                'Ställningsmontage & taksäkerhet '
                                            ),
                                            ' '
                                        ),
                                        _react2['default'].createElement(
                                            'h4',
                                            null,
                                            _react2['default'].createElement('img', { src: './img/Check-Mark-2.png', alt: 'CheckerMark' }),
                                            _react2['default'].createElement(
                                                'b',
                                                null,
                                                'Projektledning och dimensionering '
                                            ),
                                            ' '
                                        ),
                                        _react2['default'].createElement(
                                            'h4',
                                            null,
                                            _react2['default'].createElement('img', { src: './img/Check-Mark-2.png', alt: 'Check' }),
                                            _react2['default'].createElement(
                                                'b',
                                                null,
                                                'För och färdiganmälan till nätägare '
                                            ),
                                            ' '
                                        ),
                                        _react2['default'].createElement(
                                            'h4',
                                            null,
                                            _react2['default'].createElement('img', { src: './img/Check-Mark-2.png', alt: 'CheckM' }),
                                            _react2['default'].createElement(
                                                'b',
                                                null,
                                                'Uppkoppling av växelriktare för övervakning av produktion'
                                            ),
                                            ' '
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-6', style: { textAlign: 'center', alignItems: 'center' } },
                                        _react2['default'].createElement('img', { className: 'img-responsive', alt: 'image', src: './img/solar_estimation.png' })
                                    )
                                )
                            )
                        )
                    )
                );
            } else {
                return _react2['default'].createElement(
                    'div',
                    null,
                    _react2['default'].createElement(
                        'div',
                        { className: 'container-fluid bg-white' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'shdow_wt' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'row ' },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-12 text-center login_txt' },
                                    _react2['default'].createElement('img', { src: './img/disolar_logo_black.png', alt: 'disolar_logo_black' }),
                                    _react2['default'].createElement(
                                        'h3',
                                        null,
                                        'Din prisuppskattning är färdig!'
                                    ),
                                    _react2['default'].createElement(
                                        'h4',
                                        null,
                                        'Vi har nu genererat din prisuppskattning baserat på följande uppgifter:'
                                    )
                                ),
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-12 text-center registrn_add  login_txt' },
                                    _react2['default'].createElement(
                                        'p',
                                        null,
                                        _react2['default'].createElement(
                                            'span',
                                            { className: 'addres_txt' },
                                            'Adress :'
                                        ),
                                        ' ',
                                        this.props.address
                                    ),
                                    _react2['default'].createElement(
                                        'p',
                                        null,
                                        _react2['default'].createElement(
                                            'span',
                                            { className: 'addres_txt' },
                                            'Fastighetstyp :'
                                        ),
                                        ' ',
                                        this.props.property_type
                                    ),
                                    _react2['default'].createElement(
                                        'p',
                                        null,
                                        _react2['default'].createElement(
                                            'span',
                                            { className: 'addres_txt' },
                                            'Taklutning :'
                                        ),
                                        ' ',
                                        this.props.roof_pitch,
                                        ' °'
                                    ),
                                    _react2['default'].createElement(
                                        'p',
                                        null,
                                        _react2['default'].createElement(
                                            'span',
                                            { className: 'addres_txt' },
                                            'Takmaterial :'
                                        ),
                                        '  ',
                                        this.props.material
                                    ),
                                    _react2['default'].createElement(
                                        'p',
                                        null,
                                        _react2['default'].createElement(
                                            'span',
                                            { className: 'addres_txt' },
                                            'Årlig elförbrukning :'
                                        ),
                                        ' ',
                                        this.state.e_consumption
                                    ),
                                    _react2['default'].createElement(
                                        'p',
                                        null,
                                        _react2['default'].createElement(
                                            'span',
                                            { className: 'addres_txt' },
                                            'Huvudsäkring :'
                                        ),
                                        ' ',
                                        this.props.power
                                    ),
                                    _react2['default'].createElement(
                                        'h4',
                                        null,
                                        'Vänligen skriv in din e-postadress för att få tillgång till din prisuppskattning'
                                    )
                                )
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: 'row form_bottom1' },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-12' },
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'form_top2' },
                                        _react2['default'].createElement(
                                            'div',
                                            null,
                                            _react2['default'].createElement(GetDetails, { haveaccountfunction: this.haveaccountfunction.bind(this),
                                                haveaccount: this.state.haveaccount,
                                                loginsubmit: this.loginsubmit.bind(this),
                                                signupnsubmit: this.signupsubmit.bind(this),
                                                responceerror: this.state.responceerror,
                                                responceerrorlogin: this.state.responceerrorlogin,
                                                responceerrorsignup: this.state.responceerrorsignup,
                                                validateField: this.validateField.bind(this)
                                            })
                                        )
                                    )
                                )
                            )
                        )
                    ),
                    _react2['default'].createElement(
                        'div',
                        { className: 'container-fluid' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'row' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'btmimg' },
                                _react2['default'].createElement('img', { src: './img/bootm-im.jpg', className: 'img-responsive', alt: 'bootm-im.jpg' })
                            )
                        )
                    )
                );
            }
        }
    }]);

    return Areaestimate;
})(_react.Component);

var GetDetails = (function (_Component2) {
    _inherits(GetDetails, _Component2);

    function GetDetails(props) {
        _classCallCheck(this, GetDetails);

        _get(Object.getPrototypeOf(GetDetails.prototype), 'constructor', this).call(this, props);
    }

    _createClass(GetDetails, [{
        key: 'handleChange',
        value: function handleChange(event) {
            this.props.validateField(event.target.name, event.target.value);
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'form',
                { onSubmit: this.props.loginsubmit.bind(this), id: 'login', style: matstyle.formmargin },
                _react2['default'].createElement(
                    'div',
                    { className: 'alert alert-danger', hidden: this.props.responceerrorlogin === "" },
                    this.props.responceerrorlogin
                ),
                _react2['default'].createElement('input', { type: 'email', name: 'email', placeholder: 'E-postadress*', className: 'form-control input-bg', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement(
                    'span',
                    { id: 'error' },
                    this.props.EmailErrors
                ),
                _react2['default'].createElement('input', { type: 'text', name: 'phone', className: 'form-control input-phonebg', placeholder: 'Telefonnummer*', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement(
                    'span',
                    { id: 'error' },
                    this.props.PhoneErrors
                ),
                _react2['default'].createElement('br', null),
                _react2['default'].createElement(
                    'div',
                    null,
                    ' ',
                    _react2['default'].createElement('input', { type: 'submit', className: 'form-control btn-primary', value: 'Vidare' })
                )
            );
        }
    }]);

    return GetDetails;
})(_react.Component);

exports['default'] = Areaestimate;
module.exports = exports['default'];

},{"./components/DatePicker":9,"./components/ESaving":11,"./components/PanelBatteryTypes":13,"react":undefined,"react-currency-format":59,"react-modal":88}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var AppContext = _react2['default'].createContext();
exports['default'] = AppContext;
module.exports = exports['default'];

},{"react":undefined}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _Context = require('./Context');

var _Context2 = _interopRequireDefault(_Context);

var ContextProvider = (function (_Component) {
    _inherits(ContextProvider, _Component);

    function ContextProvider(props) {
        _classCallCheck(this, ContextProvider);

        _get(Object.getPrototypeOf(ContextProvider.prototype), 'constructor', this).call(this, props);
        this.state = {
            componentindex: 1,
            finished: false,
            roofarea: 0,
            roofstyle: "",
            material: "",
            materialCost: 0,
            roofstylecost: 0,
            Roofaddress: "",
            roofadress: "",
            coordinates: "",
            e_consumption: '',
            power: '',
            location: '',
            panel: '',
            battery: '',
            panelsCount: ''
        };
    }

    _createClass(ContextProvider, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
            var index = sessionStorage.getItem('componentindex');
            if (index && index !== '' && index !== 'undefined' && index !== 'null') {
                this.setState({
                    componentindex: index,
                    location: ''
                });
            } else {
                sessionStorage.setItem('componentindex', 1);
                this.setState({
                    componentindex: 1,
                    location: ''
                });
            }
        }
    }, {
        key: 'area1',
        value: function area1(v, address, coordinates) {
            var json = coordinates;
            var obj = JSON.parse(json);
            var coordinate = obj.map(function (o, v) {
                return Math.round(parseFloat(o));
            });
            sessionStorage.setItem('coordinates', coordinate.toString());
            sessionStorage.setItem('Roofaddress', address);
            sessionStorage.setItem('roofarea', v);
            sessionStorage.setItem('componentindex', 2);
            window.location.href = "/#steg2";
            this.setState({
                location: '/#steg2',
                componentindex: 2,
                roofarea: v,
                Roofaddress: address,
                coordinates: coordinates
            });
        }
    }, {
        key: 'qusetionsval',
        value: function qusetionsval(type, floor, angle) {
            sessionStorage.setItem('property_type', type);
            sessionStorage.setItem('floors', floor);
            sessionStorage.setItem('roof_pitch', angle);
            sessionStorage.setItem('componentindex', 3);
            window.location.href = "/#steg3";
            this.setState({
                componentindex: 3,
                property_type: type,
                floors: floor,
                roof_pitch: angle,
                location: "/#steg3"
            });
        }
    }, {
        key: 'materialval',
        value: function materialval(value, cost) {
            sessionStorage.setItem('materialCost', cost);
            sessionStorage.setItem('roofmaterial', value);
            sessionStorage.setItem('componentindex', 4);
            window.location.href = "/#steg4";
            this.setState({
                componentindex: 4,
                roofmaterial: sessionStorage.getItem('roofmaterial'),
                materialCost: sessionStorage.getItem('materialCost'),
                location: "/#steg4"
            });
        }
    }, {
        key: 'matquestionval',
        value: function matquestionval(type, floor) {
            sessionStorage.setItem('e_consumption', type);
            sessionStorage.setItem('power', floor);
            sessionStorage.setItem('componentindex', 5);
            window.location.href = "/#steg5";
            this.setState({
                componentindex: 5,
                e_consumption: sessionStorage.getItem('e_consumption'),
                power: sessionStorage.getItem('power'),
                location: "/#steg5"
            });
        }
    }, {
        key: 'panelTypes',
        value: function panelTypes(panel, battery, count, packetName) {
            sessionStorage.setItem('panel', panel);
            sessionStorage.setItem('battery', battery);
            sessionStorage.setItem('panelsCount', count);
            sessionStorage.setItem('packetName', packetName);
            if (this.props.loginmode) {
                sessionStorage.setItem('componentindex', 7);
                this.areaEst = this.areaEstimetack.bind(this);
                this.areaEst(this);
                this.setState({
                    componentindex: 7,
                    e_consumption: sessionStorage.getItem('e_consumption'),
                    power: sessionStorage.getItem('power'),
                    roofmaterial: sessionStorage.getItem('roofmaterial'),
                    materialCost: sessionStorage.getItem('materialCost'),
                    Roofaddress: sessionStorage.getItem('Roofaddress'),
                    coordinates: sessionStorage.getItem('coordinates'),
                    roofarea: sessionStorage.getItem('roofarea'),
                    property_type: sessionStorage.getItem('property_type'),
                    floors: sessionStorage.getItem('floors'),
                    roof_pitch: sessionStorage.getItem('roof_pitch'),
                    panel: sessionStorage.getItem('panel'),
                    battery: sessionStorage.getItem('battery'),
                    panelsCount: sessionStorage.getItem('panelsCount')

                });
            } else {
                sessionStorage.setItem('componentindex', 6);
                window.location.href = "/#steg6", this.setState({
                    componentindex: 6,
                    e_consumption: sessionStorage.getItem('e_consumption'),
                    power: sessionStorage.getItem('power'),
                    roofmaterial: sessionStorage.getItem('roofmaterial'),
                    materialCost: sessionStorage.getItem('materialCost'),
                    Roofaddress: sessionStorage.getItem('Roofaddress'),
                    coordinates: sessionStorage.getItem('coordinates'),
                    roofarea: sessionStorage.getItem('roofarea'),
                    property_type: sessionStorage.getItem('property_type'),
                    floors: sessionStorage.getItem('floors'),
                    roof_pitch: sessionStorage.getItem('roof_pitch'),
                    panel: sessionStorage.getItem('panel'),
                    battery: sessionStorage.getItem('battery'),
                    panelsCount: sessionStorage.getItem('panelsCount'),
                    location: "/#steg6"
                });
            }
        }
    }, {
        key: 'areaEstimetack',
        value: function areaEstimetack() {
            window.location.href = "/#tack";
            sessionStorage.setItem('componentindex', 7);
            this.setState({
                componentindex: 6,
                location: "/#tack",
                roofmaterial: sessionStorage.getItem('roofmaterial'),
                materialCost: sessionStorage.getItem('materialCost'),
                Roofaddress: sessionStorage.getItem('Roofaddress'),
                coordinates: sessionStorage.getItem('coordinates'),
                roofstyle: sessionStorage.getItem('roofstyle'),
                roofstylecost: sessionStorage.getItem('roofstylecost'),
                roofarea: sessionStorage.getItem('roofarea'),
                property_type: sessionStorage.getItem('property_type'),
                floors: sessionStorage.getItem('floors'),
                roof_pitch: sessionStorage.getItem('roof_pitch')
            });
        }
    }, {
        key: 'handlePre',
        value: function handlePre(val) {
            if (this.state.componentindex > 1) this.setState({ componentindex: this.state.componentindex - 1 });
        }
    }, {
        key: 'handleNext',
        value: function handleNext() {
            if (this.state.finished == false) {
                this.setState({
                    componentindex: this.state.componentindex + 1,
                    finished: this.state.componentindex >= 7
                });
            }
        }
    }, {
        key: 'stepval',
        value: function stepval(val) {
            if (val === 1) {
                window.location.href = "/";
            } else {
                window.location.href = "/#steg" + val;
                this.setState({ location: "/#steg" + val, componentindex: val });
            }
            sessionStorage.setItem('componentindex', val);
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                _Context2['default'].Provider,
                { value: {
                        state: this.state,
                        actions: {
                            qusetionsval: this.qusetionsval,
                            stepval: this.stepval,
                            materialval: this.materialval,
                            panelTypes: this.panelTypes,
                            areaEstimetack: this.areaEstimetack,
                            matquestionval: this.matquestionval
                        }
                    } },
                this.props.children
            );
        }
    }]);

    return ContextProvider;
})(_react.Component);

exports['default'] = ContextProvider;
module.exports = exports['default'];

},{"./Context":7,"react":undefined}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDayPicker = require('react-day-picker');

var _reactDayPicker2 = _interopRequireDefault(_reactDayPicker);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var DatePicker = (function (_Component) {
    _inherits(DatePicker, _Component);

    function DatePicker(props) {
        _classCallCheck(this, DatePicker);

        _get(Object.getPrototypeOf(DatePicker.prototype), 'constructor', this).call(this, props);
        this.state = {
            selectedDay: null,
            selectedSlot: null,
            validDay: false,
            validSlot: false,
            availableslots: ['9:00', '9:30', '10:00', '10:30', '11:00', '11:30', '12:00', '12:30', '13:00', '13:30', '14:00', '14:30', '15:00', '15:30', '16:00', '17:00']
        };
        this.nextPage = this.props.nextPage.bind(this);
        this.closeModal = this.props.closeModal.bind(this);
        this.previous = this.props.previous.bind(this);
        this.handleDayClick = this.handleDayClick.bind(this);
        this.handleSlotClick = this.handleSlotClick.bind(this);
        this.contractorAvailabilitySlots = this.contractorAvailabilitySlots.bind(this);
        this.validate = this.validate.bind(this);
    }

    _createClass(DatePicker, [{
        key: 'handleDayClick',
        value: function handleDayClick(day, _ref) {
            var selected = _ref.selected;

            this.setState({
                selectedDay: selected ? undefined : day,
                validDay: false
            });
        }
    }, {
        key: 'handleSlotClick',
        value: function handleSlotClick(slot) {
            this.setState({
                selectedSlot: slot,
                validSlot: false
            });
        }
    }, {
        key: 'componentDidMount',
        value: function componentDidMount() {
            this.contractorAvailabilitySlots();
        }
    }, {
        key: 'contractorAvailabilitySlots',
        value: function contractorAvailabilitySlots() {
            var _self = this,
                data = [];
            fetch('/contractor/availability/5d1350199880ff94115dedde', {
                method: "get"
            }).then(function (res) {
                return res.json();
            }).then(function (result) {
                if (result.response && result.response.time_slots) {
                    data = result.response.time_slots.map(function (d) {
                        return d.slot;
                    });
                }
                _self.setState({
                    availableslots: data
                });
            });
        }
    }, {
        key: 'validate',
        value: function validate() {
            if (!this.state.selectedDay) {
                this.setState({ validDay: true });
            } else if (!this.state.selectedSlot) {
                this.setState({ validSlot: true });
            }
        }
    }, {
        key: 'render',
        value: function render() {
            switch (this.props.calenderIndex) {
                case 1:
                    return _react2['default'].createElement(Calenderpicker, { validate: this.validate, validDay: this.state.validDay,
                        selectedDay: this.state.selectedDay, handleDayClick: this.handleDayClick,
                        nextPage: this.nextPage, closeModal: this.closeModal });
                case 2:
                    return _react2['default'].createElement(TimeSlot, { previous: this.previous, validate: this.validate,
                        validSlot: this.state.validSlot, selectedSlot: this.state.selectedSlot,
                        selectedDay: this.state.selectedDay,
                        nextPage: this.nextPage.bind(this, this.state.selectedDay, this.state.selectedSlot),
                        slots: this.state.availableslots, handleSlotClick: this.handleSlotClick,
                        selectedSlot: this.state.selectedSlot });
                case 3:
                    return _react2['default'].createElement(
                        'div',
                        null,
                        _react2['default'].createElement(
                            'div',
                            { className: 'time-booking-final' },
                            'Thank you. your slot is booked'
                        ),
                        _react2['default'].createElement(
                            'div',
                            { className: 'booking-buttons align-text-center align-button-bottom' },
                            _react2['default'].createElement(
                                'button',
                                { className: 'submit', onClick: this.closeModal },
                                'stäng'
                            )
                        )
                    );
            }
        }
    }]);

    return DatePicker;
})(_react.Component);

function Calenderpicker(props) {
    var date = new Date(),
        StartDate = new Date(date.getFullYear(), date.getMonth() - 1, 0).getDate();

    return _react2['default'].createElement(
        'div',
        null,
        _react2['default'].createElement(
            'div',
            { className: 'col-md-12 align-text-center padding1' },
            'Välj datum'
        ),
        _react2['default'].createElement(
            'div',
            { className: 'col-md-12 datepicker-boking' },
            _react2['default'].createElement(_reactDayPicker2['default'], {
                month: new Date(),
                selectedDays: props.selectedDay,
                onDayClick: props.handleDayClick,
                disabledDays: [{
                    after: new Date(date.getFullYear(), date.getMonth() - 1, StartDate),
                    before: new Date()
                }]
            }),
            _react2['default'].createElement(
                'div',
                { className: 'col-md-12' },
                props.validDay ? _react2['default'].createElement(
                    'div',
                    { className: 'validation border-none' },
                    'Please select available Date'
                ) : null
            )
        ),
        _react2['default'].createElement(
            'div',
            { className: 'col-md-12 booking-buttons panding_no' },
            _react2['default'].createElement(
                'button',
                { className: 'submit f-left', onClick: props.closeModal },
                'Avbryt'
            ),
            props.selectedDay ? _react2['default'].createElement(
                'button',
                { className: 'submit', onClick: props.nextPage },
                'Nästa'
            ) : _react2['default'].createElement(
                'button',
                { className: 'submit', onClick: props.validate },
                'Nästa'
            )
        )
    );
}

function TimeSlot(props) {
    var data = (0, _moment2['default'])(props.selectedDay).format("MMMM Do YYYY");
    return _react2['default'].createElement(
        'div',
        { className: '' },
        _react2['default'].createElement(
            'div',
            { className: 'col-md-12 align-text-center padding1' },
            'Välj tid'
        ),
        _react2['default'].createElement(
            'div',
            { className: 'col-md-12 align-text-center' },
            data
        ),
        _react2['default'].createElement(
            'div',
            { className: 'col-md-12 align-text-center slots-centering padding-bottom-none' },
            _react2['default'].createElement(
                'div',
                { className: 'row', style: { maxHeight: '300px', minHeight: '240px', overflowY: 'auto' } },
                props.slots.map(function (time, index) {
                    return _react2['default'].createElement(
                        'div',
                        { key: index, className: 'col-md-4', onClick: props.handleSlotClick.bind(this, time) },
                        props.selectedSlot === time ? _react2['default'].createElement(
                            'p',
                            { className: 'selectcard-bg available-slots' },
                            time
                        ) : _react2['default'].createElement(
                            'p',
                            { className: 'available-slots' },
                            time
                        )
                    );
                })
            )
        ),
        _react2['default'].createElement(
            'div',
            { className: 'col-md-12' },
            props.validSlot ? _react2['default'].createElement(
                'div',
                { className: 'validation border-none' },
                'Please select available time slot'
            ) : null
        ),
        _react2['default'].createElement(
            'div',
            { className: 'booking-buttons col-md-12 panding_no' },
            _react2['default'].createElement(
                'button',
                { className: 'submit f-left', onClick: props.previous },
                'Föregående'
            ),
            props.selectedSlot ? _react2['default'].createElement(
                'button',
                { className: 'submit', onClick: props.nextPage },
                'Nästa'
            ) : _react2['default'].createElement(
                'button',
                { className: 'submit', onClick: props.validate },
                'Nästa'
            )
        )
    );
}

exports['default'] = DatePicker;
module.exports = exports['default'];

},{"moment":43,"react":undefined,"react-day-picker":61}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRangeslider = require('react-rangeslider');

var _reactRangeslider2 = _interopRequireDefault(_reactRangeslider);

var styles;

var Horizontal = (function (_React$Component) {
  _inherits(Horizontal, _React$Component);

  function Horizontal(props, context) {
    _classCallCheck(this, Horizontal);

    _get(Object.getPrototypeOf(Horizontal.prototype), 'constructor', this).call(this, props, context);
    this.state = {
      value: 0
    };
    this.handleChange = this.handleChange.bind(this);
    this.handleChangeStart = this.handleChangeStart.bind(this);
    this.handleChangeComplete = this.handleChangeComplete.bind(this);
  }

  _createClass(Horizontal, [{
    key: 'handleChangeStart',
    value: function handleChangeStart() {}
  }, {
    key: 'handleChange',
    value: function handleChange(v) {
      var _self = this;
      _self.setState({
        value: v
      });
    }
  }, {
    key: 'handleChangeComplete',
    value: function handleChangeComplete() {
      this.props.handleClick(this.state.value);
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2['default'].createElement(
        'div',
        { className: 'col-lg-8 col-md-12 col-lg-offset-2' },
        _react2['default'].createElement(
          'div',
          { className: 'slider padd-top-bot' },
          _react2['default'].createElement(_reactRangeslider2['default'], {
            min: 0,
            max: 90,
            value: this.state.value,
            onChangeStart: this.handleChangeStart,
            onChange: this.handleChange,
            onChangeComplete: this.handleChangeComplete
          })
        )
      );
    }
  }]);

  return Horizontal;
})(_react2['default'].Component);

var DropArea = (function (_React$Component2) {
  _inherits(DropArea, _React$Component2);

  function DropArea(props) {
    _classCallCheck(this, DropArea);

    _get(Object.getPrototypeOf(DropArea.prototype), 'constructor', this).call(this, props);
    this.state = {
      list: [{ id: 1, isDragging: false, left: 0, angle: 0 }]
    };
    this.scrollable = this.scrollable.bind(this);
  }

  _createClass(DropArea, [{
    key: 'onDragOver',
    value: function onDragOver(e) {
      e.preventDefault();
      return false;
    }
  }, {
    key: 'onDrop',
    value: function onDrop(e) {
      var obj = JSON.parse(e.dataTransfer.getData('application/json'));
      var list = this.state.list;
      var index = this.state.list.findIndex(function (item) {
        return item.id === obj.id;
      });
      list[index].isDragging = false;
      list[index].left = e.clientX - obj.x;
      var val = Math.floor((e.clientX - obj.x) / 3);
      list[index].angle = Math.ceil(val / 5) * 5;
      if (list[index].angle > 90) {
        list[index].angle = 90;
      } else if (list[index].angle < 0) {
        list[index].angle = 0;
      }
      var newState = _extends(this.state, {
        list: list
      });
      this.setState(newState);
      e.preventDefault();
    }
  }, {
    key: 'scrollable',
    value: function scrollable(e) {
      var lists = this.state.list;
      var indexOne = this.state.list.findIndex(function (item) {
        return item.id === lists[0].id;
      });
      lists[indexOne].angle = e;
      var clickedState = _extends(this.state, {
        list: lists
      });
      this.setState(clickedState);
      this.props.roofAngle(lists[indexOne].angle);
    }
  }, {
    key: 'updateStateDragging',
    value: function updateStateDragging(id, isDragging) {
      var list = this.state.list;
      var index = this.state.list.findIndex(function (item) {
        return item.id === id;
      });
      list[index].isDragging = isDragging;
      var newState = _extends(this.state, {
        list: list
      });
      this.setState(newState);
    }
  }, {
    key: 'render',
    value: function render() {
      var items = [];
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = this.state.list[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var item = _step.value;

          items.push(_react2['default'].createElement(Draggable, {
            ref: "node_" + item.id,
            key: item.id,
            id: item.id,
            left: item.left,
            width: item.width,
            angle: item.angle,
            isDragging: item.isDragging,
            updateStateDragging: this.updateStateDragging.bind(this),
            scrollable: this.scrollable.bind(this)
          }));
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator['return']) {
            _iterator['return']();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return _react2['default'].createElement(
        'div',
        {
          className: 'col-sm-12 align-text-center drop-area',
          onDragOver: this.onDragOver.bind(this),
          onDrop: this.onDrop.bind(this) },
        items
      );
    }
  }]);

  return DropArea;
})(_react2['default'].Component);

;

var Draggable = (function (_React$Component3) {
  _inherits(Draggable, _React$Component3);

  function Draggable() {
    _classCallCheck(this, Draggable);

    _get(Object.getPrototypeOf(Draggable.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Draggable, [{
    key: 'onMouseDown',
    value: function onMouseDown(e) {
      var elm = document.elementFromPoint(e.clientX, e.clientY);
      if (elm.className !== 'resizer') {
        this.props.updateStateDragging(this.props.id, true);
      }
    }
  }, {
    key: 'onMouseUp',
    value: function onMouseUp(e) {
      this.props.updateStateDragging(this.props.id, false);
    }
  }, {
    key: 'onDragStart',
    value: function onDragStart(e) {
      var nodeStyle = this.refs.node.style;
      e.dataTransfer.setData('application/json', JSON.stringify({
        id: this.props.id,
        x: e.clientX - parseInt(nodeStyle.left)
      }));
    }
  }, {
    key: 'onDragEnd',
    value: function onDragEnd(e) {
      this.props.updateStateDragging(this.props.id, false);
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.props.left > 269) {
        styles = {
          left: '269px',
          width: this.props.width
        };
      } else if (this.props.left < 0) {
        styles = {
          left: '0px',
          width: this.props.width
        };
      } else {
        styles = {
          left: this.props.left,
          width: this.props.width
        };
      }

      return _react2['default'].createElement(
        'div',
        null,
        _react2['default'].createElement('div', { className: 'col-md-2' }),
        _react2['default'].createElement(
          'div',
          { className: '  scroll', style: { textAlign: 'center', padding: '20px' } },
          _react2['default'].createElement(
            'div',
            { id: 'ratio' },
            _react2['default'].createElement('div', { id: 'ratio-center' }),
            _react2['default'].createElement('div', { id: 'ratio-left', className: 'rotate-left-' + this.props.angle, style: { transform: 'rotate(' + this.props.angle + 'deg)' } }),
            _react2['default'].createElement('div', { id: 'ratio-right', className: 'rotate-right-' + this.props.angle, style: { transform: 'rotate(-' + this.props.angle + 'deg)' } })
          ),
          _react2['default'].createElement(
            'div',
            { id: 'ratio-value' },
            this.props.angle,
            '° '
          ),
          _react2['default'].createElement('input', { type: 'hidden', name: 'ratioValue', id: 'ratioValue', ref: 'myInput', value: this.props.angle }),
          _react2['default'].createElement(Horizontal, { handleClick: this.props.scrollable })
        ),
        _react2['default'].createElement('div', { className: 'col-md-3' })
      );
    }
  }]);

  return Draggable;
})(_react2['default'].Component);

;

exports['default'] = DropArea;
module.exports = exports['default'];

},{"react":undefined,"react-rangeslider":90}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactCountup = require('react-countup');

var _reactCountup2 = _interopRequireDefault(_reactCountup);

var annualOutput = undefined,
    solarRadiation = 0.9,
    powerLoss = 0.9,
    reducedPower = 0.9,
    yearlySavingsdata = [],
    breakpoint = true;

var ESaving = (function (_Component) {
    _inherits(ESaving, _Component);

    function ESaving(props) {
        _classCallCheck(this, ESaving);

        _get(Object.getPrototypeOf(ESaving.prototype), 'constructor', this).call(this, props);
        this.state = {
            lifeTimeSaving: 0,
            breakEvenYr: 8,
            electricityRateIncrease: 2 + '%',
            electricityPerkw: 1.54,
            firstYrSaving: 0.0,
            minimumPackets: 0,
            maximumPackets: 0,
            customPacket: "Specify Number of panels",
            selectedPacket: 'Custom paket'
        };
        this.panelsArray = [];
        this.soltakPanelsArray = [];
        this.initalSumUp = this.initalSumUp.bind(this);
        this.decrement = this.decrement.bind(this);
        this.increment = this.increment.bind(this);
        this.elprisökningChange = this.elprisökningChange.bind(this);
        this.elprisChange = this.elprisChange.bind(this);
        this.packetsWithCount = this.packetsWithCount.bind(this);
        if (this.props.location.includes('Stockholm')) {
            solarRadiation = 1000;
        } else if (this.props.location.includes('Västerbotten')) {
            solarRadiation = 825;
        } else if (this.props.location.includes('Norrbotten')) {
            solarRadiation = 775;
        } else if (this.props.location.includes('Uppsala')) {
            solarRadiation = 95;
        } else if (this.props.location.includes('Södermanland')) {
            solarRadiation = 85;
        } else if (this.props.location.includes('Östergötland')) {
            solarRadiation = 975;
        } else if (this.props.location.includes('Jönköping')) {
            solarRadiation = 925;
        } else if (this.props.location.includes('Kronoberg')) {
            solarRadiation = 925;
        } else if (this.props.location.includes('Kalmar')) {
            solarRadiation = 950;
        } else if (this.props.location.includes('Gotland')) {
            solarRadiation = 1025;
        } else if (this.props.location.includes('Blekinge')) {
            solarRadiation = 975;
        } else if (this.props.location.includes('Skåne')) {
            solarRadiation = 1000;
        } else if (this.props.location.includes('Halland')) {
            solarRadiation = 1000;
        } else if (this.props.location.includes('Västra Götaland')) {
            solarRadiation = 950;
        } else if (this.props.location.includes('Värmland')) {
            solarRadiation = 950;
        } else if (this.props.location.includes('Örebro')) {
            solarRadiation = 950;
        } else if (this.props.location.includes('Västmanland')) {
            solarRadiation = 975;
        } else if (this.props.location.includes('Dalarna')) {
            solarRadiation = 950;
        } else if (this.props.location.includes('Gävleborgd')) {
            solarRadiation = 950;
        } else if (this.props.location.includes('Västernorrland')) {
            solarRadiation = 900;
        } else if (this.props.location.includes('Jämtland')) {
            solarRadiation = 900;
        } else {
            solarRadiation = 900;
        }
    }

    _createClass(ESaving, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            this.packetsWithCount();
            this.initalSumUp();
        }
    }, {
        key: 'packetsWithCount',
        value: function packetsWithCount() {
            var maxPacket, minPacket, Standardpacket;
            function degrees_to_radians(degrees) {
                var pi = Math.PI;
                return degrees * (pi / 180);
            }
            this.soltakPanelsArray = [{ packet: 'Small paket', count: 25 }, { packet: 'Standard paket', count: 50 }, { packet: 'Max paket', count: 99 }, { packet: 'Custom paket', count: 'Specify the area of solar roof' }];
            var roofArea = parseInt(this.props.roofarea) / Math.cos(degrees_to_radians(parseInt(this.props.roof_pitch)));
            if (roofArea > 400) {
                this.panelsArray = [];
                Standardpacket = 100;
                minPacket = 12;
                this.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: this.state.selectedPacket, count: this.state.customPacket }];
                this.state.maximumPackets = parseInt(Standardpacket);
                this.state.minimumPackets = parseInt(minPacket);
            } else if (roofArea < 400 && roofArea > 200) {
                this.panelsArray = [];
                maxPacket = 100;
                Standardpacket = parseInt(roofArea / 4);
                minPacket = 12;
                this.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: 'Max paket', count: parseInt(maxPacket) }, { packet: this.state.selectedPacket, count: this.state.customPacket }];
                this.state.maximumPackets = parseInt(maxPacket);
                this.state.minimumPackets = parseInt(minPacket);
            } else if (roofArea < 200 && roofArea > 36) {
                this.panelsArray = [];
                maxPacket = parseInt(roofArea / 2);
                Standardpacket = 1 / 2 * maxPacket;
                minPacket = 12;
                this.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: 'Max paket', count: parseInt(maxPacket) }, { packet: this.state.selectedPacket, count: this.state.customPacket }];
                this.state.maximumPackets = parseInt(maxPacket);
                this.state.minimumPackets = parseInt(minPacket);
            } else if (roofArea < 36 && roofArea > 26) {
                this.panelsArray = [];
                Standardpacket = parseInt(roofArea / 2);
                minPacket = 12;
                this.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: this.state.selectedPacket, count: this.state.customPacket }];
                this.state.maximumPackets = parseInt(Standardpacket);
                this.state.minimumPackets = parseInt(minPacket);
            } else if (roofArea < 26) {
                this.panelsArray = [];
                Standardpacket = 12;
                this.panelsArray = [{ packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: this.state.selectedPacket, count: this.state.customPacket }];
                this.state.maximumPackets = parseInt(Standardpacket);
                this.state.minimumPackets = parseInt(Standardpacket);
            }
        }
    }, {
        key: 'initalSumUp',
        value: function initalSumUp() {
            var primarySideAnualOutput,
                secondarySideAnnualOutput,
                primarySideRadiation,
                secondarySideRadiation,
                primarySidePanels,
                secondarySidePanels = 0,
                installedPowerOnPrimarySide,
                installedPowerOnSecondarySide,
                direction = this.props.direction.replace(/[0-9 ]/g, '');
            if (direction == 'VÄST' || direction == 'OST') {
                //west east
                primarySideRadiation = 0.85;
                secondarySideRadiation = 0.65;
            } else if (direction == 'SYDVÄST') {
                //southwest
                primarySideRadiation = 0.95;
                secondarySideRadiation = 0.65;
            } else if (direction == 'SYD') {
                //south
                primarySideRadiation = 1;
                secondarySideRadiation = 0.60;
            } else if (direction == 'SYDOST') {
                //southeast
                primarySideRadiation = 0.95;
                secondarySideRadiation = 0.65;
            }
            if (this.panelsArray.length) {
                var _self = this;
                var pannelName = sessionStorage.getItem('pannelName');
                var packetValuesObject;
                if (pannelName == 'solpanel') {
                    packetValuesObject = _self.panelsArray.filter(function (packetObj) {
                        return packetObj.packet === _self.props.packetName;
                    });
                } else {
                    packetValuesObject = _self.soltakPanelsArray.filter(function (packetObj) {
                        return packetObj.packet === _self.props.packetName;
                    });
                }

                if (packetValuesObject[0].packet == 'Small paket' || packetValuesObject[0].packet == 'Standard paket') {
                    primarySidePanels = this.props.noOfPanels;
                } else if (packetValuesObject[0].packet == 'Max paket') {
                    primarySidePanels = this.props.noOfPanels / 2;
                    secondarySidePanels = this.props.noOfPanels / 2;
                } else if (packetValuesObject[0].packet == 'Custom paket') {
                    if (this.props.noOfPanels > this.panelsArray[1].count) {
                        primarySidePanels = this.panelsArray[1].count;
                        secondarySidePanels = this.props.noOfPanels - this.panelsArray[1].count;
                    } else if (this.props.noOfPanels == this.panelsArray[1].count || this.props.noOfPanels < this.panelsArray[1].count) {
                        primarySidePanels = this.props.noOfPanels;
                    }
                }
            }

            breakpoint = true;
            yearlySavingsdata = [];
            installedPowerOnPrimarySide = primarySidePanels * this.props.capacity;
            installedPowerOnSecondarySide = secondarySidePanels * this.props.capacity;
            primarySideAnualOutput = installedPowerOnPrimarySide * primarySideRadiation * solarRadiation * powerLoss * reducedPower;
            secondarySideAnnualOutput = installedPowerOnSecondarySide * secondarySideRadiation * solarRadiation * powerLoss * reducedPower;
            annualOutput = (primarySideAnualOutput + secondarySideAnnualOutput) / 1000;
            var firstYrSaving = annualOutput * this.state.electricityPerkw;
            var totalsavings;
            this.setState({ firstYrSaving: firstYrSaving });
            yearlySavingsdata.push(firstYrSaving);
            for (var i = 2; i <= 30; i++) {
                var x = parseInt(this.state.electricityRateIncrease.slice(0, -1));
                var power = Math.pow(1 + x / 100, i);
                var yrSaving = firstYrSaving * power;
                yearlySavingsdata.push(yrSaving);
                totalsavings = yearlySavingsdata.reduce(function (partial_sum, a) {
                    return partial_sum + a;
                }, 0);
                if (totalsavings >= this.props.estimatedAmount && breakpoint) {
                    breakpoint = false;
                    this.setState({ breakEvenYr: i });
                }
            }
            this.setState({
                lifeTimeSaving: totalsavings
            });
        }
    }, {
        key: 'increment',
        value: function increment(type) {
            var _this = this;

            if (type == 'elprisökning') {
                var value = parseFloat(this.state.electricityRateIncrease.slice(0, -1)),
                    increasedValue = value + 1;
                this.setState({
                    electricityRateIncrease: increasedValue.toFixed(0) + '%'
                });
            } else if (type == 'elpris') {
                var value = parseFloat(this.state.electricityPerkw),
                    increasedValue = value + 0.1;
                this.setState({
                    electricityPerkw: increasedValue.toFixed(1)
                });
            }
            setTimeout(function () {
                _this.initalSumUp();
            }, 100);
        }
    }, {
        key: 'decrement',
        value: function decrement(type) {
            var _this2 = this;

            if (type == 'elprisökning') {
                var value = parseFloat(this.state.electricityRateIncrease.slice(0, -1)),
                    decreasedValue = value - 1;
                this.setState({
                    electricityRateIncrease: decreasedValue.toFixed(0) + '%'
                });
            } else if (type == 'elpris') {
                var value = parseFloat(this.state.electricityPerkw),
                    decreasedValue = value - 0.1;
                this.setState({
                    electricityPerkw: decreasedValue.toFixed(1)
                });
            }
            setTimeout(function () {
                _this2.initalSumUp();
            }, 100);
        }
    }, {
        key: 'elprisChange',
        value: function elprisChange(e) {
            var _this3 = this;

            this.setState({ electricityPerkw: e.target.value });
            setTimeout(function () {
                _this3.initalSumUp();
            }, 100);
        }
    }, {
        key: 'elprisökningChange',
        value: function elprisKningChange(e) {
            var _this4 = this;

            this.setState({ electricityRateIncrease: e.target.value + '%' });
            setTimeout(function () {
                _this4.initalSumUp();
            }, 100);
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'div',
                { className: 'row text-blue esaving-background padding20' },
                _react2['default'].createElement('div', { className: 'col-md-1' }),
                _react2['default'].createElement(
                    'div',
                    { className: 'col-sm-10' },
                    _react2['default'].createElement(
                        'div',
                        { className: 'row slots-centering' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'col-md-7 col-sm-12' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'row' },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-md-6 col-sm-6 section-name' },
                                    'Om vi räknar med'
                                ),
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-md-6 col-sm-6 elpris panding_no' },
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'elpris-name col-sm-4' },
                                        'el pris :'
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: ' col-md-8 col-sm-6 panding_no' },
                                        _react2['default'].createElement(
                                            'ul',
                                            { className: 'main-list' },
                                            _react2['default'].createElement(
                                                'li',
                                                { className: 'mini-list' },
                                                _react2['default'].createElement('input', { value: this.state.electricityPerkw, onChange: this.elprisChange })
                                            ),
                                            _react2['default'].createElement(
                                                'li',
                                                { className: '' },
                                                _react2['default'].createElement(
                                                    'ul',
                                                    { className: 'increment-icon' },
                                                    _react2['default'].createElement(
                                                        'li',
                                                        { className: 'increment-list', onClick: this.increment.bind(this, 'elpris') },
                                                        _react2['default'].createElement('img', { src: './img/caret-symbol.png', alt: 'image' })
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        { className: 'decrement-list', onClick: this.decrement.bind(this, 'elpris') },
                                                        _react2['default'].createElement('img', { src: './img/down-arrow.png', alt: 'image' })
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            { className: 'col-md-5 col-sm-12 note-align' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'row' },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-md-12 col-sm-12 panding_no' },
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'och-style col-md-6 col-sm-6' },
                                        'elprisökning per år :'
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: ' col-md-6 col-sm-6' },
                                        _react2['default'].createElement(
                                            'ul',
                                            { className: 'main-list note-align' },
                                            _react2['default'].createElement(
                                                'li',
                                                { className: 'mini-list' },
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'elpris-value' },
                                                    _react2['default'].createElement('input', { value: this.state.electricityRateIncrease, onChange: this.elprisökningChange })
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'li',
                                                { className: '' },
                                                _react2['default'].createElement(
                                                    'ul',
                                                    { className: 'increment-icon' },
                                                    _react2['default'].createElement(
                                                        'li',
                                                        { className: 'increment-list', onClick: this.increment.bind(this, 'elprisökning') },
                                                        _react2['default'].createElement('img', { src: './img/caret-symbol.png', alt: 'image' })
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        { className: 'decrement-list', onClick: this.decrement.bind(this, 'elprisökning') },
                                                        _react2['default'].createElement('img', { src: './img/down-arrow.png', alt: 'image' })
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                ),
                _react2['default'].createElement('div', { className: 'col-md-1' }),
                _react2['default'].createElement(
                    'div',
                    { className: 'col-md-12 col-sm-12' },
                    _react2['default'].createElement(
                        'div',
                        { className: 'col-md-4 col-sm-4  align-text-center border-right' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'annual-savings' },
                            _react2['default'].createElement(_reactCountup2['default'], { className: 'count-up', start: 0, end: parseInt(this.state.firstYrSaving) }),
                            _react2['default'].createElement(
                                'span',
                                { className: 'f21' },
                                'SEK'
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            null,
                            _react2['default'].createElement(
                                'p',
                                { className: 'saving-name' },
                                'ÅRLIG ELPRISÖKNING'
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            null,
                            _react2['default'].createElement(
                                'p',
                                { className: 'pricing-note' },
                                'första året'
                            )
                        )
                    ),
                    _react2['default'].createElement(
                        'div',
                        { className: 'col-md-4 col-sm-4  align-text-center border-right' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'annual-savings' },
                            _react2['default'].createElement(_reactCountup2['default'], { className: 'count-up', start: 0, end: parseInt(this.state.breakEvenYr) }),
                            _react2['default'].createElement(
                                'span',
                                { className: 'f21' },
                                'ÅR'
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            null,
                            _react2['default'].createElement(
                                'p',
                                { className: 'saving-name' },
                                'BREAKEVEN'
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            null,
                            _react2['default'].createElement(
                                'p',
                                { className: 'pricing-note' },
                                'beräknad återbetalningstid'
                            )
                        )
                    ),
                    _react2['default'].createElement(
                        'div',
                        { className: 'col-md-4 col-sm-4  align-text-center' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'annual-savings' },
                            _react2['default'].createElement(_reactCountup2['default'], { className: 'count-up', start: 0, end: parseInt(this.state.lifeTimeSaving) }),
                            _react2['default'].createElement(
                                'span',
                                { className: 'f21' },
                                'SEK'
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            null,
                            _react2['default'].createElement(
                                'p',
                                { className: 'saving-name' },
                                'TOTAL BESPARING'
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            null,
                            _react2['default'].createElement(
                                'p',
                                { className: 'pricing-note' },
                                'under 30 år'
                            )
                        )
                    )
                )
            );
        }
    }]);

    return ESaving;
})(_react.Component);

;

exports['default'] = ESaving;
module.exports = exports['default'];

},{"react":undefined,"react-countup":57}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRangeslider = require('react-rangeslider');

var _reactRangeslider2 = _interopRequireDefault(_reactRangeslider);

var styles;

var Horizontal = (function (_React$Component) {
    _inherits(Horizontal, _React$Component);

    function Horizontal(props, context) {
        _classCallCheck(this, Horizontal);

        _get(Object.getPrototypeOf(Horizontal.prototype), 'constructor', this).call(this, props, context);
        this.state = {
            value: 1000
        };
        this.handleChange = this.handleChange.bind(this);
        this.handleChangeStart = this.handleChangeStart.bind(this);
        this.handleChangeComplete = this.handleChangeComplete.bind(this);
    }

    _createClass(Horizontal, [{
        key: 'handleChangeStart',
        value: function handleChangeStart() {}
    }, {
        key: 'handleChange',
        value: function handleChange(v) {
            var _self = this;
            _self.setState({
                value: v
            });
        }
    }, {
        key: 'handleChangeComplete',
        value: function handleChangeComplete() {
            this.props.handleClick(this.state.value);
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'div',
                { className: 'slider padd-top-bot' },
                _react2['default'].createElement(_reactRangeslider2['default'], {
                    min: 0,
                    max: 50000,
                    step: 100,
                    value: this.state.value,
                    onChangeStart: this.handleChangeStart,
                    onChange: this.handleChange,
                    onChangeComplete: this.handleChangeComplete
                })
            );
        }
    }]);

    return Horizontal;
})(_react2['default'].Component);

var EDropArea = (function (_React$Component2) {
    _inherits(EDropArea, _React$Component2);

    function EDropArea(props) {
        _classCallCheck(this, EDropArea);

        _get(Object.getPrototypeOf(EDropArea.prototype), 'constructor', this).call(this, props);

        this.state = {
            list: [{ id: 1, isDragging: false, left: 0, angle: 1000 }]
        };
        this.scrollable = this.scrollable.bind(this);
    }

    _createClass(EDropArea, [{
        key: 'onDragOver',
        value: function onDragOver(e) {
            e.preventDefault();
            return false;
        }
    }, {
        key: 'onDrop',
        value: function onDrop(e) {
            var obj = JSON.parse(e.dataTransfer.getData('application/json'));
            var list = this.state.list;
            var index = this.state.list.findIndex(function (item) {
                return item.id === obj.id;
            });
            list[index].isDragging = false;
            list[index].left = e.clientX - obj.x;
            var value = Math.floor(e.nativeEvent.offsetX / 3);
            list[index].angle = Math.ceil(value / 5) * 1000;
            var newState = _extends(this.state, {
                list: list
            });
            this.setState(newState);
            e.preventDefault();
            this.props.electricy(list[index].angle);
        }
    }, {
        key: 'scrollable',
        value: function scrollable(e) {

            var lists = this.state.list;
            var indexOne = this.state.list.findIndex(function (item) {
                return item.id === lists[0].id;
            });
            lists[indexOne].angle = e;

            var clickedState = _extends(this.state, {
                list: lists
            });
            this.props.electricy(lists[indexOne].angle);
        }
    }, {
        key: 'updateStateDragging',
        value: function updateStateDragging(id, isDragging) {
            var list = this.state.list;
            var index = this.state.list.findIndex(function (item) {
                return item.id === id;
            });
            list[index].isDragging = isDragging;
            var newState = _extends(this.state, {
                list: list
            });
            this.setState(newState);
        }
    }, {
        key: 'render',
        value: function render() {
            var items = [];
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.state.list[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var item = _step.value;

                    items.push(_react2['default'].createElement(EDraggable, {
                        ref: "node_" + item.id,
                        key: item.id,
                        id: item.id,
                        left: item.left,
                        width: item.width,
                        angle: item.angle,
                        isDragging: item.isDragging,
                        updateStateDragging: this.updateStateDragging.bind(this),
                        scrollable: this.scrollable.bind(this)
                    }));
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator['return']) {
                        _iterator['return']();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            return _react2['default'].createElement(
                'div',
                {
                    className: 'col-md-12  drop-area', style: { padding: '0px' },
                    onDragOver: this.onDragOver.bind(this),
                    onDrop: this.onDrop.bind(this) },
                items
            );
        }
    }]);

    return EDropArea;
})(_react2['default'].Component);

;

var EDraggable = (function (_React$Component3) {
    _inherits(EDraggable, _React$Component3);

    function EDraggable() {
        _classCallCheck(this, EDraggable);

        _get(Object.getPrototypeOf(EDraggable.prototype), 'constructor', this).apply(this, arguments);
    }

    _createClass(EDraggable, [{
        key: 'onMouseDown',
        value: function onMouseDown(e) {
            var elm = document.elementFromPoint(e.clientX, e.clientY);
            if (elm.className !== 'resizer') {
                this.props.updateStateDragging(this.props.id, true);
            }
        }
    }, {
        key: 'onMouseUp',
        value: function onMouseUp(e) {
            this.props.updateStateDragging(this.props.id, false);
        }
    }, {
        key: 'onDragStart',
        value: function onDragStart(e) {
            var nodeStyle = this.refs.node.style;
            e.dataTransfer.setData('application/json', JSON.stringify({
                id: this.props.id,
                x: e.clientX - parseInt(nodeStyle.left)
            }));
        }
    }, {
        key: 'onDragEnd',
        value: function onDragEnd(e) {
            this.props.updateStateDragging(this.props.id, false);
        }
    }, {
        key: 'render',
        value: function render() {
            if (this.props.left > 595) {
                styles = {
                    left: '595px',
                    width: this.props.width,
                    position: 'absolute'
                };
            } else if (this.props.left < 0) {
                styles = {
                    left: '0px',
                    width: this.props.width,
                    position: 'absolute'
                };
            } else {
                styles = {
                    left: this.props.left,
                    width: this.props.width,
                    position: 'absolute'
                };
            }

            return _react2['default'].createElement(
                'div',
                null,
                _react2['default'].createElement(Horizontal, { handleClick: this.props.scrollable })
            );
        }
    }]);

    return EDraggable;
})(_react2['default'].Component);

;

exports['default'] = EDropArea;
module.exports = exports['default'];

},{"react":undefined,"react-rangeslider":90}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactModal = require('react-modal');

var _reactModal2 = _interopRequireDefault(_reactModal);

var matstyle = {
    padding: "20px",
    margin: "5px 5px 50px 5px",
    border: "4px solid #f9f9f9",
    textAlign: "-webkit-center",
    borderRadius: "4px",
    boxShadow: "0 15px 35px rgba(50,50,93,.1), 0 5px 15px rgba(0,0,0,.07)",
    transition: "all 0.3s ease-out",
    WebkitTransform: "all 0.3s ease-out",
    textTransform: "uppercase",
    color: '#064f70',
    fontSize: '16px',
    minHeight: '240px'
};

var selectedStyle = {
    padding: "20px",
    margin: "5px 5px 50px 5px",
    textAlign: "-webkit-center",
    borderRadius: "4px",
    boxShadow: "0 15px 35px rgba(50,50,93,.1), 0 5px 15px rgba(0,0,0,.07)",
    transition: "all 0.3s ease-out",
    WebkitTransform: "all 0.3s ease-out",
    border: "4px solid rgb(142, 226, 174)",
    textTransform: "uppercase",
    color: '#064f70',
    fontWeight: 'bold',
    fontSize: '16px',
    minHeight: '240px'
};

var customStyles = {
    content: {
        top: '50%',
        left: '50%',
        right: 'auto',
        bottom: 'auto',
        marginRight: '-50%',
        transform: 'translate(-50%, -50%)',
        padding: '10px 15px 23px',
        fontSize: '16px',
        width: '50%',
        border: "4px solid rgb(142, 226, 174)",
        borderRadius: '20px'
    }
};

var _annualOutput = undefined,
    solarRadiation = 0.9,
    powerLoss = 0.9,
    reducedPower = 0.9,
    Standardpacket = undefined,
    maxPacket = undefined,
    minPacket = undefined,
    capacity = undefined,
    totalInstalledPowerInkw = undefined;

var PanelBatteryTypes = (function (_Component) {
    _inherits(PanelBatteryTypes, _Component);

    function PanelBatteryTypes(props) {
        _classCallCheck(this, PanelBatteryTypes);

        _get(Object.getPrototypeOf(PanelBatteryTypes.prototype), 'constructor', this).call(this, props);
        this.state = {
            validationOne: false,
            panel_cost: '',
            battery_cost: '',
            message: null,
            panelCount: [],
            validationThree: false,
            popup: false,
            modalIsOpen: false,
            customPacket: "Ange antal paneler",
            selectedPacket: 'Custom paket',
            panelarrayUpdate: false,
            modalForPanelIsOpen: false,
            panelPopup: false,
            batteryPopup: false,
            battery: this.props.battery,
            panel: this.props.panel,
            packetsCount: parseInt(this.props.packetsCount),
            packetName: this.props.packetName,
            annualOutput: parseInt(this.props.annualProduction),
            maximumPackets: 0,
            panelCountValidation: false,
            minimumPackets: 0
        };
        this.modalpopup = this.modalpopup.bind(this);
        _reactModal2['default'].setAppElement('body');
        this.openModal = this.openModal.bind(this);
        this.afterOpenModal = this.afterOpenModal.bind(this);
        this.closeModal = this.closeModal.bind(this);
        this.validate = this.validate.bind(this);
        this.selectedCount = this.selectedCount.bind(this);
        this.panelTypesChange = this.panelTypesChange.bind(this);
        this.countOfpanels = this.countOfpanels.bind(this);
        this.increment = this.increment.bind(this);
        this.decrement = this.decrement.bind(this);
        this.closePanelModal = this.closePanelModal.bind(this);
        this.openPanelPopup = this.openPanelPopup.bind(this);
        this.closeBatteryModal = this.closeBatteryModal.bind(this);
        this.openBatteryPopup = this.openBatteryPopup.bind(this);
        this.closePacketModal = this.closePacketModal.bind(this);
        this.openPacketPopup = this.openPacketPopup.bind(this);
        this.annualOutput = this.annualOutput.bind(this);

        this.panels = [{
            image: "./img/premium_panel2.jpg",
            name: "Premium",
            cost: 1180
        }, {
            image: "./img/Standard_Panel2.jpg",
            name: "Standard",
            cost: 1400
        }];
        this.batteries = [{
            image: "./img/premium-battery.png",
            name: "Premium",
            cost: 300
        }, {
            image: "./img/no_battery.png",
            name: "Inga",
            cost: 220
        }];
        function degrees_to_radians(degrees) {
            var pi = Math.PI;
            return degrees * (pi / 180);
        }
        var roofArea = parseInt(this.props.area) / Math.cos(degrees_to_radians(parseInt(this.props.roof_pitch)));
        if (roofArea > 400) {
            this.panelsArray = [];
            Standardpacket = 100;
            minPacket = 12;
            this.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: this.state.selectedPacket, count: this.props.packetName == 'Custom paket' ? parseInt(this.props.packetsCount) : this.state.customPacket }];
            this.state.maximumPackets = parseInt(Standardpacket);
            this.state.minimumPackets = parseInt(minPacket);
        } else if (roofArea < 400 && roofArea > 200) {
            this.panelsArray = [];
            maxPacket = 100;
            Standardpacket = roofArea / 4;
            minPacket = 12;
            this.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: 'Max paket', count: parseInt(maxPacket) }, { packet: this.state.selectedPacket, count: this.props.packetName == 'Custom paket' ? parseInt(this.props.packetsCount) : this.state.customPacket }];
            this.state.maximumPackets = parseInt(maxPacket);
            this.state.minimumPackets = parseInt(minPacket);
        } else if (roofArea < 200 && roofArea > 36) {
            this.panelsArray = [];
            maxPacket = roofArea / 2;
            Standardpacket = 1 / 2 * maxPacket;
            minPacket = 12;
            this.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: 'Max paket', count: parseInt(maxPacket) }, { packet: this.state.selectedPacket, count: this.props.packetName == 'Custom paket' ? parseInt(this.props.packetsCount) : this.state.customPacket }];
            this.state.maximumPackets = parseInt(maxPacket);
            this.state.minimumPackets = parseInt(minPacket);
        } else if (roofArea < 36 && roofArea > 26) {
            this.panelsArray = [];
            Standardpacket = roofArea / 2;
            minPacket = 12;
            this.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: this.state.selectedPacket, count: this.props.packetName == 'Custom paket' ? parseInt(this.props.packetsCount) : this.state.customPacket }];
            this.state.maximumPackets = parseInt(Standardpacket);
            this.state.minimumPackets = parseInt(minPacket);
        } else if (roofArea < 26) {
            this.panelsArray = [];
            Standardpacket = 12;
            this.panelsArray = [{ packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: this.state.selectedPacket, count: this.props.packetName == 'Custom paket' ? parseInt(this.props.packetsCount) : this.state.customPacket }];
            this.state.maximumPackets = parseInt(Standardpacket);
            this.state.minimumPackets = parseInt(Standardpacket);
        }
    }

    _createClass(PanelBatteryTypes, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            if (this.props.panel === 'Standard') {
                capacity = 270;
            } else if (this.props.panel === 'Premium') {
                capacity = 320;
            }
            this.setState({
                battery: this.props.battery,
                panel: this.props.panel,
                packetsCount: parseInt(this.props.packetsCount),
                packetName: this.props.packetName
            });
        }
    }, {
        key: 'openModal',
        value: function openModal() {}
    }, {
        key: 'afterOpenModal',
        value: function afterOpenModal() {}
    }, {
        key: 'closeModal',
        value: function closeModal() {
            this.setState({ modalIsOpen: false });
        }
    }, {
        key: 'modalpopup',
        value: function modalpopup() {
            this.setState({ popup: true, modalIsOpen: true });
        }
    }, {
        key: 'selectedPanel',
        value: function selectedPanel(panel, cost) {
            if (panel === 'Standard') {
                capacity = 270;
            } else if (panel === 'Premium') {
                capacity = 320;
            }
            this.setState({
                panel: panel,
                panel_cost: cost,
                validationOne: false
            });
            this.annualOutput(capacity, this.state.packetName, this.state.packetsCount);
        }
    }, {
        key: 'selectedBattery',
        value: function selectedBattery(battery, cost) {
            this.setState({
                battery: battery,
                battery_cost: cost,
                validationTwo: false
            });
        }
    }, {
        key: 'annualOutput',
        value: function annualOutput(watts, packet, countOfPanels) {
            var primarySideAnualOutput,
                secondarySideAnnualOutput,
                installedPowerOnPrimarySide,
                installedPowerOnSecondarySide,
                primarySideRadiation,
                secondarySideRadiation,
                primarySidePanels = 0,
                secondarySidePanels = 0;
            switch (this.props.surfaceDirection) {
                case 'VÄST 1':
                    primarySideRadiation = 0.84;
                    secondarySideRadiation = 0.76;
                case 'OST 2':
                    primarySideRadiation = 0.84;
                    secondarySideRadiation = 0.76;
                case 'VÄST 2':
                    primarySideRadiation = 0.88;
                    secondarySideRadiation = 0.72;
                case 'OST 1':
                    primarySideRadiation = 0.88;
                    secondarySideRadiation = 0.72;
                case 'SYDVÄST 1':
                    primarySideRadiation = 0.92;
                    secondarySideRadiation = 0.68;
                case 'SYDVÄST':
                    primarySideRadiation = 0.96;
                    secondarySideRadiation = 0.64;
                case 'VÄST 2':
                    primarySideRadiation = 0.88;
                    secondarySideRadiation = 0.72;
                case 'SYD 1':
                    primarySideRadiation = 1;
                    secondarySideRadiation = 0.60;
                case 'SYD 2':
                    primarySideRadiation = 1;
                    secondarySideRadiation = 0.60;
                case 'SYDOST 1':
                    primarySideRadiation = 0.92;
                    secondarySideRadiation = 0.64;
                case 'SYDOST 2':
                    primarySideRadiation = 0.92;
                    secondarySideRadiation = 0.68;
                case 'OST 1':
                    primarySideRadiation = 0.84;
                    secondarySideRadiation = 0.72;
                default:
                    primarySideRadiation = 0.84;
                    secondarySideRadiation = 0.72;
            }
            // if (this.props.surfaceDirection == 'VÄST 1' || this.props.surfaceDirection == 'OST 2') {//west east
            //     primarySideRadiation = 0.84;
            //     secondarySideRadiation = 0.76;
            // } else if (this.props.surfaceDirection == 'VÄST 2' || this.props.surfaceDirection == 'OST 1') {//west east
            //     primarySideRadiation = 0.88;
            //     secondarySideRadiation = 0.72;
            // } else if (this.props.surfaceDirection == 'SYDVÄST 1') {//southwest
            //     primarySideRadiation = 0.92;
            //     secondarySideRadiation = 0.68;
            // } else if (this.props.surfaceDirection == 'SYDVÄST') {//southwest
            //     primarySideRadiation = 0.96;
            //     secondarySideRadiation = 0.64;
            // } else if (this.props.surfaceDirection == 'SYD 1' || this.props.surfaceDirection == 'SYD 2') {//south
            //     primarySideRadiation = 1;
            //     secondarySideRadiation = 0.60;
            // } else if (this.props.surfaceDirection == 'SYDOST 1') {//southeast
            //     primarySideRadiation = 0.92;
            //     secondarySideRadiation = 0.64;
            // } else if (this.props.surfaceDirection == 'SYDOST 2') {//southeast
            //     primarySideRadiation = 0.92;
            //     secondarySideRadiation = 0.68;
            // } else if (this.props.surfaceDirection == 'OST 1') {//east
            //     primarySideRadiation = 0.84;
            //     secondarySideRadiation = 0.72;
            // }
            if (this.props.location.includes('Stockholm')) {
                solarRadiation = 1000;
            } else if (this.props.location.includes('Västerbotten')) {
                solarRadiation = 825;
            } else if (this.props.location.includes('Norrbotten')) {
                solarRadiation = 775;
            } else if (this.props.location.includes('Uppsala')) {
                solarRadiation = 95;
            } else if (this.props.location.includes('Södermanland')) {
                solarRadiation = 85;
            } else if (this.props.location.includes('Östergötland')) {
                solarRadiation = 975;
            } else if (this.props.location.includes('Jönköping')) {
                solarRadiation = 925;
            } else if (this.props.location.includes('Kronoberg')) {
                solarRadiation = 925;
            } else if (this.props.location.includes('Kalmar')) {
                solarRadiation = 950;
            } else if (this.props.location.includes('Gotland')) {
                solarRadiation = 1025;
            } else if (this.props.location.includes('Blekinge')) {
                solarRadiation = 975;
            } else if (this.props.location.includes('Skåne')) {
                solarRadiation = 1000;
            } else if (this.props.location.includes('Halland')) {
                solarRadiation = 1000;
            } else if (this.props.location.includes('Västra Götaland')) {
                solarRadiation = 950;
            } else if (this.props.location.includes('Värmland')) {
                solarRadiation = 950;
            } else if (this.props.location.includes('Örebro')) {
                solarRadiation = 950;
            } else if (this.props.location.includes('Västmanland')) {
                solarRadiation = 975;
            } else if (this.props.location.includes('Dalarna')) {
                solarRadiation = 950;
            } else if (this.props.location.includes('Gävleborgd')) {
                solarRadiation = 950;
            } else if (this.props.location.includes('Västernorrland')) {
                solarRadiation = 900;
            } else if (this.props.location.includes('Jämtland')) {
                solarRadiation = 900;
            } else {
                solarRadiation = 900;
            }

            if (packet) {
                var packetValuesObject = this.panelsArray.filter(function (packetObj) {
                    return packetObj.packet === packet;
                });
                totalInstalledPowerInkw = countOfPanels * watts / 1000;
                if (packetValuesObject[0].packet == 'Small paket' || packetValuesObject[0].packet == 'Standard paket') {
                    primarySidePanels = countOfPanels;
                } else if (packetValuesObject[0].packet == 'Max paket') {
                    primarySidePanels = countOfPanels / 2;
                    secondarySidePanels = countOfPanels / 2;
                } else if (packetValuesObject[0].packet == 'Custom paket') {
                    if (countOfPanels > this.panelsArray[1].count) {
                        primarySidePanels = this.panelsArray[1].count;
                        secondarySidePanels = countOfPanels - this.panelsArray[1].count;
                    } else if (countOfPanels == this.panelsArray[1].count || countOfPanels < this.panelsArray[1].count) {
                        primarySidePanels = countOfPanels;
                    }
                }
                installedPowerOnPrimarySide = primarySidePanels * watts;
                installedPowerOnSecondarySide = secondarySidePanels * watts;
                primarySideAnualOutput = installedPowerOnPrimarySide * primarySideRadiation * solarRadiation * powerLoss * reducedPower;
                secondarySideAnnualOutput = installedPowerOnSecondarySide * secondarySideRadiation * solarRadiation * powerLoss * reducedPower;
                _annualOutput = (primarySideAnualOutput + secondarySideAnnualOutput) / 1000;
                this.setState({
                    annualOutput: _annualOutput
                });
            }
        }
    }, {
        key: 'selectedCount',
        value: function selectedCount(name, count) {
            if (name == 'Custom paket' || name == 'Selected Paket') {
                this.setState({ popup: true, modalIsOpen: true });
            } else if (name === '') {
                this.setState({
                    packetName: 'Custom paket',
                    selectedPacket: 'Custom paket',
                    packetsCount: count,
                    validationThree: false,
                    value: count,
                    customPacket: parseInt(this.state.packetsCount),
                    panelarrayUpdate: true,
                    modalIsOpen: false,
                    packetPopup: true
                });
                this.annualOutput(capacity, 'Custom paket', count);
            } else {
                this.setState({
                    packetName: name,
                    packetsCount: count,
                    validationThree: false,
                    // value: count,
                    panelarrayUpdate: true,
                    customPacket: "Ange antal paneler",
                    packetPopup: true
                });
            }
            this.annualOutput(capacity, name, count);
        }
    }, {
        key: 'componentWillUpdate',
        value: function componentWillUpdate(state, prop) {
            var _self = this;
            setTimeout(update(prop), 2000);
            function update(props) {
                if (props.panelarrayUpdate) {
                    var degrees_to_radians = function degrees_to_radians(degrees) {
                        var pi = Math.PI;
                        return degrees * (pi / 180);
                    };

                    _self.setState({ panelarrayUpdate: false });

                    var roofArea = parseInt(_self.props.area) / Math.cos(degrees_to_radians(parseInt(_self.props.roof_pitch)));
                    if (roofArea > 400) {
                        _self.panelsArray = [];
                        Standardpacket = 100;
                        minPacket = 12;
                        _self.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: props.selectedPacket, count: props.customPacket }];
                        _self.setState({ maximumPackets: parseInt(Standardpacket), minimumPackets: minPacket });
                    } else if (roofArea < 400 && roofArea > 200) {
                        _self.panelsArray = [];
                        Standardpacket = roofArea / 4;
                        minPacket = 12;
                        maxPacket = 100;
                        _self.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: 'Max paket', count: parseInt(maxPacket) }, { packet: props.selectedPacket, count: props.customPacket }];
                        _self.setState({ maximumPackets: parseInt(maxPacket), minimumPackets: minPacket });
                    } else if (roofArea < 200 && roofArea > 36) {
                        _self.panelsArray = [];
                        maxPacket = parseInt(roofArea / 2);
                        Standardpacket = 1 / 2 * maxPacket;
                        minPacket = 12;
                        _self.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: 'Max paket', count: parseInt(maxPacket) }, { packet: props.selectedPacket, count: props.customPacket }];
                        _self.setState({ maximumPackets: parseInt(maxPacket), minimumPackets: minPacket });
                    } else if (roofArea < 36 && roofArea > 26) {
                        _self.panelsArray = [];
                        Standardpacket = roofArea / 2;
                        minPacket = 12;
                        _self.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: props.selectedPacket, count: props.customPacket }];
                        _self.setState({ maximumPackets: parseInt(Standardpacket), minimumPackets: parseInt(minPacket) });
                    } else if (roofArea < 26) {
                        _self.panelsArray = [];
                        Standardpacket = 12;
                        _self.panelsArray = [{ packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: props.selectedPacket, count: props.customPacket }];
                        _self.setState({ maximumPackets: parseInt(Standardpacket), minimumPackets: 12 });
                    }
                }
            }
        }
    }, {
        key: 'validate',
        value: function validate() {
            if (this.state.panel === '') {
                this.setState({ validationOne: true });
            } else if (this.state.battery === '') {
                this.setState({ validationTwo: true });
            } else if (this.state.packetsCount === '') {
                this.setState({ validationThree: true });
            }
        }
    }, {
        key: 'panelTypesChange',
        value: function panelTypesChange(panel, battery, value) {
            sessionStorage.removeItem('panel');
            sessionStorage.removeItem('battery');
            sessionStorage.removeItem('panelsCount');
            sessionStorage.setItem('panel', panel);
            sessionStorage.setItem('battery', battery);
            sessionStorage.setItem('panelsCount', value);
        }
    }, {
        key: 'countOfpanels',
        value: function countOfpanels(e) {
            if (this.state.minimumPackets <= e.target.value && e.target.value <= this.state.maximumPackets) {
                this.setState({
                    packetsCount: e.target.value,
                    //customPacket: e.target.value,
                    selectedPacket: 'Custom paket',
                    packetName: 'Custom paket',
                    //  packetsCount: e.target.value,
                    panelCountValidation: false
                });
            } else {
                this.setState({
                    packetsCount: e.target.value,
                    panelCountValidation: true
                });
            }
        }
    }, {
        key: 'increment',
        value: function increment() {
            if (this.state.packetsCount <= this.state.maximumPackets - 1) {
                this.setState({
                    packetsCount: parseInt(this.state.packetsCount) + 1,
                    panelCountValidation: false
                });
            } else {
                this.setState({ panelCountValidation: true });
            }
        }
    }, {
        key: 'decrement',
        value: function decrement() {
            if (this.state.packetsCount >= this.state.minimumPackets + 1) {
                this.setState({
                    packetsCount: parseInt(this.state.packetsCount) - 1,
                    panelCountValidation: false
                });
            } else {
                this.setState({ panelCountValidation: true });
            }
        }
    }, {
        key: 'openPanelPopup',
        value: function openPanelPopup() {
            this.setState({ modalForPanelIsOpen: true, panelPopup: true });
        }
    }, {
        key: 'closePanelModal',
        value: function closePanelModal() {
            this.setState({ modalForPanelIsOpen: false, panelPopup: false });
        }
    }, {
        key: 'openBatteryPopup',
        value: function openBatteryPopup() {
            this.setState({ modalForBatteryIsOpen: true, batteryPopup: true });
        }
    }, {
        key: 'closeBatteryModal',
        value: function closeBatteryModal() {
            this.setState({ modalForBatteryIsOpen: false, batteryPopup: false });
        }
    }, {
        key: 'closePacketModal',
        value: function closePacketModal() {
            this.setState({ modalForPacketIsOpen: false, packetPopup: false });
        }
    }, {
        key: 'openPacketPopup',
        value: function openPacketPopup() {
            this.setState({ modalForPacketIsOpen: true, packetPopup: true });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this = this;

            return _react2['default'].createElement(
                'div',
                null,
                _react2['default'].createElement(
                    'div',
                    { className: '' },
                    _react2['default'].createElement(
                        'h3',
                        { className: 'roof_subhead' },
                        'Byt produkt'
                    )
                ),
                _react2['default'].createElement(
                    'div',
                    { className: '' },
                    _react2['default'].createElement(
                        'div',
                        { className: 'seperation-line' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'container' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-md-12 heading_text font-quicksand bold' },
                                'välj Solpaneler'
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 col-sm-offset-3 material', style: { textAlign: 'center', padding: '30px', margin: '0px auto' } },
                                this.state.validationOne ? _react2['default'].createElement(
                                    'div',
                                    { className: 'validation', style: { margin: '0px auto' } },
                                    _react2['default'].createElement(
                                        'span',
                                        null,
                                        'Please select the Panel type'
                                    )
                                ) : null
                            ),
                            _react2['default'].createElement('div', { className: 'col-md-1' }),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 col-md-10', id: 'panel-types' },
                                this.panels.map(function (data, index) {
                                    return _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-6 col-md-4', key: index, onClick: _this.selectedPanel.bind(_this, data.name, data.cost) },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'onfocs_brdr b-white', style: data.name == _this.state.panel ? selectedStyle : matstyle },
                                            _react2['default'].createElement('img', { src: data.image, alt: data.name, className: 'img-responsive' }),
                                            _react2['default'].createElement('br', null),
                                            _react2['default'].createElement(
                                                'p',
                                                { className: 'm-top9' },
                                                data.name,
                                                ' panel'
                                            )
                                        )
                                    );
                                })
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-md-12 col-sm-12 align-text-center' },
                                _react2['default'].createElement(
                                    'a',
                                    { className: 'hiperLink', onClick: this.openPanelPopup.bind(this) },
                                    'Läs mer om solpanel'
                                ),
                                this.state.panelPopup ? _react2['default'].createElement(
                                    'div',
                                    null,
                                    _react2['default'].createElement(
                                        _reactModal2['default'],
                                        {
                                            isOpen: this.state.modalForPanelIsOpen,
                                            onAfterOpen: this.afterOpenModal,
                                            onRequestClose: this.closePanelModal,
                                            style: customStyles,
                                            contentLabel: 'Example Modal' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-md-12 panding_no' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'boka-heading' },
                                                'Solpaneler'
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'f-right' },
                                                _react2['default'].createElement(
                                                    'button',
                                                    { className: 'close-button ', onClick: this.closePanelModal },
                                                    'X'
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-md-12 questionsPage padding-bottom-none' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'heading list-head' },
                                                'STANDARD SOLPANEL'
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'p-10' },
                                                _react2['default'].createElement(
                                                    'ul',
                                                    { className: 'panels-list' },
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - 275 kWh '
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Panel ipolykristallin'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Passarbästförstorainstallationerpåexempelvisföretag, solcellsparkerochmarkanläggningar'
                                                    )
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-md-12 questionsPage padding-top-none' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'heading list-head' },
                                                'PREMIUM SOLPANEL'
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'p-10' },
                                                _react2['default'].createElement(
                                                    'ul',
                                                    { className: 'panels-list' },
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - 320 kWh '
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Panel imonokristallin'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Passarbästförvillordå den svartskimrandefärgenoftastärmeruppskattadänstandardpanelen'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Högreeffekt per panel görpanelenlämpligförmindretak'
                                                    )
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'estimate col-md-12 align-text-center' },
                                            _react2['default'].createElement(
                                                'button',
                                                { className: 'submit float-none', onClick: this.closePanelModal },
                                                'stäng'
                                            )
                                        )
                                    )
                                ) : null
                            )
                        )
                    ),
                    _react2['default'].createElement(
                        'div',
                        { className: 'col-sm-12 center-line-seperation' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'container' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-md-12 heading_text font-quicksand bold' },
                                'välj Batteri'
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 material', style: { textAlign: 'center', padding: '30px', margin: '0px auto' } },
                                this.state.validationTwo ? _react2['default'].createElement(
                                    'div',
                                    { className: 'validation', style: { margin: '0px auto' } },
                                    _react2['default'].createElement(
                                        'span',
                                        null,
                                        'Please select the Battery type'
                                    )
                                ) : null
                            ),
                            _react2['default'].createElement('div', { className: 'col-md-1' }),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 col-md-10', id: 'battery-types' },
                                this.batteries.map(function (data, index) {
                                    return _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-6 col-md-4', key: index, onClick: _this.selectedBattery.bind(_this, data.name, data.cost) },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'onfocs_brdr b-white', style: data.name == _this.state.battery ? selectedStyle : matstyle },
                                            _react2['default'].createElement('img', { src: data.image, alt: data.name, className: 'img-responsive' }),
                                            _react2['default'].createElement('br', null),
                                            _react2['default'].createElement(
                                                'p',
                                                { className: 'm-top9' },
                                                data.name,
                                                ' batteri'
                                            )
                                        )
                                    );
                                })
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-md-12 col-sm-12 align-text-center' },
                                _react2['default'].createElement(
                                    'a',
                                    { className: 'hiperLink', onClick: this.openBatteryPopup.bind(this) },
                                    'Läs mer om batteri'
                                ),
                                this.state.batteryPopup ? _react2['default'].createElement(
                                    'div',
                                    null,
                                    _react2['default'].createElement(
                                        _reactModal2['default'],
                                        {
                                            isOpen: this.state.modalForBatteryIsOpen,
                                            onAfterOpen: this.afterOpenModal,
                                            onRequestClose: this.closeBatteryModal,
                                            style: customStyles,
                                            contentLabel: 'Example Modal' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-md-12 panding_no' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'boka-heading' },
                                                'BATTERI'
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'f-right' },
                                                _react2['default'].createElement(
                                                    'button',
                                                    { className: 'close-button ', onClick: this.closeBatteryModal },
                                                    'X'
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'questionsPage padding-bottom-none' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'heading list-head' },
                                                'PREMIUM BATTERI'
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'p-10' },
                                                _react2['default'].createElement(
                                                    'ul',
                                                    { className: 'panels-list' },
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - 11,4 kWh effekt '
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Strömäven vid strömavbrott'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - VäxelriktareochbatterigenomBatterX.'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Möjlighet till strömlagringfrånsolpaneler'
                                                    )
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'questionsPage padding-top-none' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'heading list-head' },
                                                'UTAN BATTERI'
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'p-10' },
                                                _react2['default'].createElement(
                                                    'ul',
                                                    { className: 'panels-list' },
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Sälj din överskottseldirekt till elbolaget'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Panel imonokristallin'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Passarbästförvillordå den svartskimrandefärgenoftastärmeruppskattadänstandardpanelen'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Högreeffekt per panel görpanelenlämpligförmindretak'
                                                    )
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'estimate align-text-center' },
                                            _react2['default'].createElement(
                                                'button',
                                                { className: 'submit float-none', onClick: this.closeBatteryModal },
                                                'stäng'
                                            )
                                        )
                                    )
                                ) : null
                            )
                        )
                    ),
                    _react2['default'].createElement(
                        'div',
                        { className: 'col-sm-12 ' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'container' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-md-12 heading_text font-quicksand bold' },
                                'välj antal solpaneler'
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: '' },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-12 material', style: { textAlign: 'center', padding: '30px', margin: '0px auto' } },
                                    this.state.validationThree ? _react2['default'].createElement(
                                        'div',
                                        { className: 'validation', style: { margin: '0px auto' } },
                                        _react2['default'].createElement(
                                            'span',
                                            null,
                                            'Please select the packet type'
                                        )
                                    ) : null
                                ),
                                _react2['default'].createElement('div', { className: 'col-md-1' }),
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-12 col-md-10', id: 'panels-count' },
                                    this.state.popup ? _react2['default'].createElement(
                                        'div',
                                        null,
                                        _react2['default'].createElement(
                                            _reactModal2['default'],
                                            {
                                                isOpen: this.state.modalIsOpen,
                                                onAfterOpen: this.afterOpenModal,
                                                onRequestClose: this.closeModal,
                                                style: customStyles,
                                                contentLabel: 'Specify packet' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-md-12 panding_no' },
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'boka-heading' },
                                                    'Ange antal paneler'
                                                ),
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'f-right' },
                                                    _react2['default'].createElement(
                                                        'button',
                                                        { className: 'close-button ', onClick: this.closeModal },
                                                        'X'
                                                    )
                                                )
                                            ),
                                            this.state.panelCountValidation ? _react2['default'].createElement(
                                                'div',
                                                { className: 'col-md-12 panels-valid-head' },
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'panels-count-validation' },
                                                    'Panels range is ',
                                                    this.state.maximumPackets,
                                                    ' - ',
                                                    this.state.minimumPackets
                                                )
                                            ) : null,
                                            _react2['default'].createElement(
                                                'form',
                                                null,
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'col-md-12 align-text-center slots-centering ' },
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'move-left' },
                                                        _react2['default'].createElement(
                                                            'div',
                                                            { onClick: this.increment.bind(this) },
                                                            _react2['default'].createElement('img', { src: './img/caret-symbol.png', alt: 'increment' })
                                                        )
                                                    ),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        null,
                                                        _react2['default'].createElement('input', { id: 'counter', value: this.state.packetsCount, onChange: this.countOfpanels })
                                                    ),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'move-left' },
                                                        _react2['default'].createElement(
                                                            'div',
                                                            { onClick: this.decrement.bind(this) },
                                                            _react2['default'].createElement('img', { src: './img/down-arrow.png', alt: 'decrement' }),
                                                            ' '
                                                        )
                                                    )
                                                ),
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'col-md-12 booking-buttons align-text-center' },
                                                    _react2['default'].createElement(
                                                        'button',
                                                        { className: 'submit', onClick: this.closeModal },
                                                        'Avbryt'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'button',
                                                        { className: 'submit', disabled: this.state.panelCountValidation, onClick: this.selectedCount.bind(this, '', this.state.packetsCount) },
                                                        'Ok'
                                                    )
                                                )
                                            )
                                        )
                                    ) : null,
                                    this.panelsArray.map(function (data, index) {
                                        return _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6 col-md-3 panding_no', key: index, onClick: _this.selectedCount.bind(_this, data.packet, data.count) },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'onfocs_brdr1 b-white', style: data.packet == _this.state.packetName ? selectedStyle : matstyle },
                                                data.packet === "Custom paket" && data.count == "Ange antal paneler" ? _react2['default'].createElement(
                                                    'div',
                                                    { className: 'f21 text-capital specify-card' },
                                                    data.count
                                                ) : _react2['default'].createElement(
                                                    'div',
                                                    { className: 'packets-font' },
                                                    data.count
                                                ),
                                                _react2['default'].createElement('br', null),
                                                _react2['default'].createElement('br', null),
                                                _react2['default'].createElement(
                                                    'p',
                                                    { className: 'm-top9' },
                                                    data.packet
                                                )
                                            )
                                        );
                                    })
                                ),
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-md-12 col-sm-12 align-text-center' },
                                    this.state.packetPopup ? _react2['default'].createElement(
                                        'div',
                                        null,
                                        _react2['default'].createElement('div', { className: 'col-md-1' }),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-md-10 col-sm-12 panding_no panel-count-info-border' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-6 col-md-4 panding_no' },
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'list-head' },
                                                    _react2['default'].createElement(
                                                        'p',
                                                        { className: 'panel-count-info' },
                                                        'MAX ANTAL SOLARPANELER',
                                                        _react2['default'].createElement('br', null),
                                                        '(Takyta har plats for)'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'panel-values-info' },
                                                        this.state.maximumPackets
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-6 col-md-4 panding_no' },
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'list-head' },
                                                    _react2['default'].createElement(
                                                        'p',
                                                        { className: 'panel-count-info' },
                                                        'VALT ANTAL SOLARPANELER'
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'panel-values-info' },
                                                        this.state.packetsCount
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-6 col-md-4 panding_no' },
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'list-head' },
                                                    _react2['default'].createElement(
                                                        'p',
                                                        { className: 'panel-count-info' },
                                                        'EFFEKT'
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'panel-values-info no-border' },
                                                        totalInstalledPowerInkw,
                                                        _react2['default'].createElement(
                                                            'span',
                                                            null,
                                                            ' kWh'
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    ) : null
                                )
                            )
                        )
                    )
                ),
                _react2['default'].createElement(
                    'div',
                    { className: 'col-sm-12 estimate', style: { textAlign: 'center', padding: '30px' } },
                    _react2['default'].createElement(
                        'div',
                        { className: 'flex justifyCenter' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'padding1' },
                            _react2['default'].createElement(
                                'button',
                                { className: 'submit',
                                    onClick: this.props.update.bind(this, this.state.panel, this.state.battery, this.state.packetsCount, this.state.packetName, parseInt(this.state.annualOutput)) },
                                'Byt produkt'
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            { className: 'padding1' },
                            _react2['default'].createElement(
                                'button',
                                { onClick: this.props.closeModal, className: 'submit' },
                                'Avbryt'
                            )
                        )
                    )
                )
            );
        }
    }]);

    return PanelBatteryTypes;
})(_react.Component);

exports['default'] = PanelBatteryTypes;
module.exports = exports['default'];
/* <div className="col-sm-6 col-md-3 panding_no">
   <div className="list-head">
       <p className="panel-count-info">ÅRSPRODUKTION</p>
       <br />
       <div className='panel-values-info'>{parseInt(this.state.annualOutput)}
           <span> KWh</span>
       </div>
   </div>
</div> */

},{"react":undefined,"react-modal":88}],14:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRangeslider = require('react-rangeslider');

var _reactRangeslider2 = _interopRequireDefault(_reactRangeslider);

var styles;

var Horizontal = (function (_React$Component) {
    _inherits(Horizontal, _React$Component);

    function Horizontal(props, context) {
        _classCallCheck(this, Horizontal);

        _get(Object.getPrototypeOf(Horizontal.prototype), 'constructor', this).call(this, props, context);
        this.state = {
            value: 0,
            roof_direction: 'SYD 1'
        };
        this.handleChange = this.handleChange.bind(this);
        this.handleChangeStart = this.handleChangeStart.bind(this);
        this.handleChangeComplete = this.handleChangeComplete.bind(this);
        this.roofDirection = this.roofDirection.bind(this);
    }

    _createClass(Horizontal, [{
        key: 'handleChangeStart',
        value: function handleChangeStart() {}
    }, {
        key: 'handleChange',
        value: function handleChange(v) {
            var _self = this;
            _self.setState({
                value: v,
                roof_direction: this.roofDirection(v)
            });
        }
    }, {
        key: 'roofDirection',
        value: function roofDirection(v) {
            switch (true) {
                // case (-90 <= v && v <= -59): return "VÄST";
                // case (-60 <= v && v <= -19): return "SYDVÄST";
                // case (-20 <= v && v <= 29): return "SYD";
                // case (30 <= v && v <= 69): return "SYDOST";
                // case (70 <= v && v <= 90): return "OST"
                // default: return "worst"
                case -90 <= v && v <= -72:
                    return "VÄST 1";
                case -72 <= v && v <= -54:
                    return "VÄST 2";
                case -55 <= v && v <= -36:
                    return "SYDVÄST 1";
                case -37 <= v && v <= -18:
                    return "SYDVÄST 2";
                case -18 <= v && v <= -1:
                    return "SYD 1";
                case 0 <= v && v <= 18:
                    return "SYD 2";
                case 19 <= v && v <= 35:
                    return "SYDOST 1";
                case 36 <= v && v <= 54:
                    return "SYDOST 2";
                case 55 <= v && v <= 72:
                    return "OST 1";
                case 72 <= v && v <= 90:
                    return "OST 2";
                default:
                    return "worst";
            }
        }
    }, {
        key: 'handleChangeComplete',
        value: function handleChangeComplete() {
            this.props.handleClick(this.state.value);
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'div',
                { className: 'col-md-12' },
                _react2['default'].createElement(
                    'div',
                    { className: 'slider surface-slider padd-top-bot m-top-27' },
                    _react2['default'].createElement(
                        'div',
                        { className: 'align-text-center bold' },
                        this.state.roof_direction.match(/[a-zA-Z]+/g)
                    ),
                    _react2['default'].createElement(_reactRangeslider2['default'], {
                        min: -90,
                        max: 90,
                        value: this.state.value,
                        onChangeStart: this.handleChangeStart,
                        onChange: this.handleChange,
                        onChangeComplete: this.handleChangeComplete
                    })
                )
            );
        }
    }]);

    return Horizontal;
})(_react2['default'].Component);

var DropArea = (function (_React$Component2) {
    _inherits(DropArea, _React$Component2);

    function DropArea(props) {
        _classCallCheck(this, DropArea);

        _get(Object.getPrototypeOf(DropArea.prototype), 'constructor', this).call(this, props);
        this.state = {
            list: [{ id: 1, isDragging: false, left: 0, direction: 0, roof_direction: 'SYD 1' }]
        };
        this.scrollable = this.scrollable.bind(this);
    }

    _createClass(DropArea, [{
        key: 'onDragOver',
        value: function onDragOver(e) {
            e.preventDefault();
            return false;
        }
    }, {
        key: 'onDrop',
        value: function onDrop(e) {
            var obj = JSON.parse(e.dataTransfer.getData('application/json'));
            var list = this.state.list;
            var index = this.state.list.findIndex(function (item) {
                return item.id === obj.id;
            });
            list[index].isDragging = false;
            list[index].left = e.clientX - obj.x;
            var val = Math.floor((e.clientX - obj.x) / 3);
            list[index].direction = Math.ceil(val / 5) * 5;
            if (list[index].direction > 90) {
                list[index].direction = 90;
            } else if (list[index].direction < 0) {
                list[index].direction = 0;
            }
            var newState = _extends(this.state, {
                list: list
            });
            this.setState(newState);
            e.preventDefault();
        }
    }, {
        key: 'scrollable',
        value: function scrollable(e) {
            var _this = this;

            var lists = this.state.list;
            var indexOne = this.state.list.findIndex(function (item) {
                return item.id === lists[0].id;
            });
            lists[indexOne].direction = e;
            var dir = lists[indexOne].direction;
            lists[indexOne].roof_direction = roofDirection(dir);

            function roofDirection(dir) {
                switch (true) {
                    // case (-90 <= dir && dir <= -59): return "VÄST";
                    // case (-60 <= dir && dir <= -19): return "SYDVÄST";
                    // case (-20 <= dir && dir <= 29): return "SYD";
                    // case (30 <= dir && dir <= 69): return "SYDOST";
                    // case (70 <= dir && dir <= 90): return "OST"
                    // default: return "worst"
                    case -90 <= dir && dir <= -72:
                        return "VÄST 1";
                    case -72 <= dir && dir <= -54:
                        return "VÄST 2";
                    case -55 <= dir && dir <= -36:
                        return "SYDVÄST 1";
                    case -37 <= dir && dir <= -18:
                        return "SYDVÄST 2";
                    case -18 <= dir && dir <= -1:
                        return "SYD 1";
                    case 0 <= dir && dir <= 18:
                        return "SYD 2";
                    case 19 <= dir && dir <= 35:
                        return "SYDOST 1";
                    case 36 <= dir && dir <= 54:
                        return "SYDOST 2";
                    case 55 <= dir && dir <= 72:
                        return "OST 1";
                    case 72 <= dir && dir <= 90:
                        return "OST 2";
                    default:
                        return "worst";
                }
            }
            var clickedState = _extends(this.state, {
                list: lists
            });
            this.setState(clickedState);
            setTimeout(function () {
                _this.props.direction(roofDirection(dir));
            }, 1000);
        }
    }, {
        key: 'updateStateDragging',
        value: function updateStateDragging(id, isDragging) {
            var list = this.state.list;
            var index = this.state.list.findIndex(function (item) {
                return item.id === id;
            });
            list[index].isDragging = isDragging;
            var newState = _extends(this.state, {
                list: list
            });
            this.setState(newState);
        }
    }, {
        key: 'render',
        value: function render() {
            var items = [];
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.state.list[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var item = _step.value;

                    items.push(_react2['default'].createElement(Draggable, {
                        ref: "node_" + item.id,
                        key: item.id,
                        id: item.id,
                        left: item.left,
                        width: item.width,
                        direction: item.direction,
                        roof_direction: item.roof_direction,
                        isDragging: item.isDragging,
                        updateStateDragging: this.updateStateDragging.bind(this),
                        scrollable: this.scrollable.bind(this)
                    }));
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator['return']) {
                        _iterator['return']();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            return _react2['default'].createElement(
                'div',
                {
                    className: 'col-md-12 slots-centering',
                    onDragOver: this.onDragOver.bind(this),
                    onDrop: this.onDrop.bind(this) },
                items
            );
        }
    }]);

    return DropArea;
})(_react2['default'].Component);

;

var Draggable = (function (_React$Component3) {
    _inherits(Draggable, _React$Component3);

    function Draggable() {
        _classCallCheck(this, Draggable);

        _get(Object.getPrototypeOf(Draggable.prototype), 'constructor', this).apply(this, arguments);
    }

    _createClass(Draggable, [{
        key: 'onMouseDown',
        value: function onMouseDown(e) {
            var elm = document.elementFromPoint(e.clientX, e.clientY);
            if (elm.className !== 'resizer') {
                this.props.updateStateDragging(this.props.id, true);
            }
        }
    }, {
        key: 'onMouseUp',
        value: function onMouseUp(e) {
            this.props.updateStateDragging(this.props.id, false);
        }
    }, {
        key: 'onDragStart',
        value: function onDragStart(e) {
            var nodeStyle = this.refs.node.style;
            e.dataTransfer.setData('application/json', JSON.stringify({
                id: this.props.id,
                x: e.clientX - parseInt(nodeStyle.left)
            }));
        }
    }, {
        key: 'onDragEnd',
        value: function onDragEnd(e) {
            this.props.updateStateDragging(this.props.id, false);
        }
    }, {
        key: 'render',
        value: function render() {
            if (this.props.left > 269) {
                styles = {
                    left: '269px',
                    width: this.props.width
                };
            } else if (this.props.left < 0) {
                styles = {
                    left: '0px',
                    width: this.props.width
                };
            } else {
                styles = {
                    left: this.props.left,
                    width: this.props.width
                };
            }

            var primarySideRadiation, secondarySideRadiation, color, scolor;
            if (this.props.roof_direction == 'VÄST 1') {
                //west east
                primarySideRadiation = 84;
                secondarySideRadiation = 76;
            } else if (this.props.roof_direction == 'VÄST 2') {
                //southwest
                primarySideRadiation = 88;
                secondarySideRadiation = 72;
            } else if (this.props.roof_direction == 'SYDVÄST 1') {
                //southwest
                primarySideRadiation = 92;
                secondarySideRadiation = 68;
            } else if (this.props.roof_direction == 'SYDVÄST 2') {
                //southwest
                primarySideRadiation = 96;
                secondarySideRadiation = 64;
            } else if (this.props.roof_direction == 'SYD 1') {
                //south
                primarySideRadiation = 100;
                secondarySideRadiation = 60;
            } else if (this.props.roof_direction == 'SYD 2') {
                //south
                primarySideRadiation = 100;
                secondarySideRadiation = 60;
            } else if (this.props.roof_direction == 'SYDOST 1') {
                //southeast
                primarySideRadiation = 92;
                secondarySideRadiation = 64;
            } else if (this.props.roof_direction == 'SYDOST 2') {
                //southeast
                primarySideRadiation = 84;
                secondarySideRadiation = 68;
            } else if (this.props.roof_direction == 'OST 1') {
                //southeast
                primarySideRadiation = 72;
                secondarySideRadiation = 84;
            } else if (this.props.roof_direction == 'OST 2') {
                //southeast
                primarySideRadiation = 76;
                secondarySideRadiation = 84;
            }

            if (primarySideRadiation == '100') {
                color = '#E89600';
            } else if (primarySideRadiation == '96') {
                color = '#FFA500';
            } else if (primarySideRadiation == '92') {
                color = '#FFAD17';
            } else if (primarySideRadiation == '88') {
                color = '#FFB52E';
            } else if (primarySideRadiation == '84') {
                color = '#FFBD45';
            } else if (primarySideRadiation == '76') {
                color = '#FFC55C';
            } else if (primarySideRadiation == '72') {
                color = '#FFCD73';
            } else if (primarySideRadiation == '68') {
                color = '#FFD68B';
            } else if (primarySideRadiation == '64') {
                color = '#FFDEA2';
            } else if (primarySideRadiation == '60') {
                color = '#FFE6B9';
            }
            if (secondarySideRadiation == '100') {
                scolor = '#E89600';
            } else if (secondarySideRadiation == '96') {
                scolor = '#FFA500';
            } else if (secondarySideRadiation == '92') {
                scolor = '#FFAD17';
            } else if (secondarySideRadiation == '88') {
                scolor = '#FFB52E';
            } else if (secondarySideRadiation == '84') {
                scolor = '#FFBD45';
            } else if (secondarySideRadiation == '76') {
                scolor = '#FFC55C';
            } else if (secondarySideRadiation == '72') {
                scolor = '#FFCD73';
            } else if (secondarySideRadiation == '68') {
                scolor = '#FFD68B';
            } else if (secondarySideRadiation == '64') {
                scolor = '#FFDEA2';
            } else if (secondarySideRadiation == '60') {
                scolor = '#FFE6B9';
            }

            return _react2['default'].createElement(
                _react2['default'].Fragment,
                null,
                _react2['default'].createElement('div', { className: 'col-md-1' }),
                _react2['default'].createElement(
                    'div',
                    { className: 'col-md-5 direction' },
                    _react2['default'].createElement(Horizontal, { handleClick: this.props.scrollable })
                ),
                _react2['default'].createElement(
                    'div',
                    { className: 'col-md-6' },
                    _react2['default'].createElement(
                        'div',
                        { className: 'col-md-12 col-sm-12 border-box px2 mb2 sm-mb0 news' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'calc-roof flex items-center justify-center mx-auto mt2' },
                            _react2['default'].createElement(
                                'span',
                                { className: 'calc-roof-direction calc-roof-direction--north h4 top-0 text-blue bold ' },
                                'N'
                            ),
                            _react2['default'].createElement(
                                'span',
                                { className: 'calc-roof-direction calc-roof-direction--south h4 bottom-0 text-blue bold' },
                                'S'
                            ),
                            _react2['default'].createElement(
                                'span',
                                { className: 'calc-roof-direction calc-roof-direction--west h4 left-0 text-blue bold west' },
                                'W'
                            ),
                            _react2['default'].createElement(
                                'span',
                                { className: 'calc-roof-direction calc-roof-direction--east h4 right-0 text-blue bold east' },
                                'E'
                            ),
                            _react2['default'].createElement(
                                'ul',
                                { className: 'directions-list', style: { transform: 'rotate(' + this.props.direction + 'deg)' } },
                                _react2['default'].createElement(
                                    'li',
                                    { className: 'Upper-list', style: { background: '' + scolor } },
                                    secondarySideRadiation
                                ),
                                _react2['default'].createElement(
                                    'li',
                                    { className: 'lower-list', style: { background: '' + color } },
                                    primarySideRadiation
                                )
                            )
                        )
                    )
                )
            );
        }
    }]);

    return Draggable;
})(_react2['default'].Component);

;

exports['default'] = DropArea;
module.exports = exports['default'];
/* <img className="calc-roof-img js-calc-roof-img"
   src="https://www.utellus.se/wp-content/themes/utellus/images/roof.svg" alt="roof" style={{ transform: `rotate(${this.props.direction}deg)` }} /> */

},{"react":undefined,"react-rangeslider":90}],15:[function(require,module,exports){
module.exports={"url":"http://localhost:8080/","lt_70":220,"gt_70_gt_1000":190,"gt_1000":100}

},{}],16:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var mapstyle = {
    width: "100%",
    height: "400px"
};

var Contact = (function (_Component) {
    _inherits(Contact, _Component);

    function Contact(props) {
        _classCallCheck(this, Contact);

        _get(Object.getPrototypeOf(Contact.prototype), "constructor", this).call(this, props);
        this.state = {
            date: new Date(),
            time: ""
        };
    }

    _createClass(Contact, [{
        key: "contactdate",
        value: function contactdate(event) {
            alert(this.refs.googleInput.value);
            this.setState({
                date: event.target.name
            });
        }
    }, {
        key: "contacttime",
        value: function contacttime(event) {
            alert(event.target.name);
            this.setState({
                time: event.target.name
            });
        }
    }, {
        key: "datetimeservice",
        value: function datetimeservice(valdate, valtime, valemail) {
            var valemail = JSON.parse(localStorage.getItem("userdata")).email;
            var token = localStorage.getItem("token");
            var payload = {
                valdate: valdate,
                valtime: valtime,
                email: valemail
            };

            fetch(mainurl.url + 'users/connecttimes', {
                method: "post",
                crossDomain: true,
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                    "Access-Control-Request-Headers": "*",
                    "Access-Control-Request-Method": "*"
                }, body: 'json=' + JSON.stringify(payload) + '&token=' + token
            }).then(function (response) {
                return response;
            }).then(function (response) {
                return response.json();
            }).then(function (data) {
                if (data.status == 400) {
                    main.setState({
                        responceerror: data.message
                    });
                } else if (data.status == 200) {
                    alert("dtaasaved");
                }
            });
        }
    }, {
        key: "contactfunc",
        value: function contactfunc(event) {
            event.preventDefault();
            this.datetimeservice(this.refs.dateinput.value, this.refs.googleInput.value);
        }
    }, {
        key: "render",
        value: function render() {
            return _react2["default"].createElement(
                "div",
                { id: "contactus" },
                _react2["default"].createElement(
                    "div",
                    { id: "aboutus-image" },
                    _react2["default"].createElement(
                        "div",
                        { className: "container about_txt" },
                        _react2["default"].createElement(
                            "h2",
                            null,
                            "Contact us"
                        ),
                        _react2["default"].createElement(
                            "p",
                            null,
                            "Contrary to popular belief, Lorem Ipsum is not simply random text. "
                        ),
                        _react2["default"].createElement(
                            "p",
                            null,
                            "Contrary to popular belief, Lorem Ipsum is not simply random text. "
                        ),
                        _react2["default"].createElement(
                            "p",
                            null,
                            "Contrary to popular belief, Lorem Ipsum is not simply random text. "
                        )
                    )
                ),
                _react2["default"].createElement(
                    "section",
                    null,
                    _react2["default"].createElement(
                        "div",
                        { className: "container" },
                        _react2["default"].createElement(
                            "div",
                            { id: "contactus-text" },
                            _react2["default"].createElement(
                                "h2",
                                null,
                                "Head"
                            ),
                            _react2["default"].createElement(
                                "h4",
                                null,
                                "Contrary to popular belief, Lorem Ipsum is not simply random text"
                            ),
                            _react2["default"].createElement(
                                "h4",
                                null,
                                "Contrary to popular belief, Lorem Ipsum is not simply random text"
                            ),
                            _react2["default"].createElement(
                                "h4",
                                null,
                                "Contrary to popular belief, Lorem Ipsum is not simply random text"
                            )
                        )
                    )
                ),
                _react2["default"].createElement(
                    "div",
                    { className: "container" },
                    _react2["default"].createElement(
                        "h3",
                        null,
                        "Find us"
                    )
                ),
                _react2["default"].createElement(
                    "div",
                    null,
                    _react2["default"].createElement("iframe", { src: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3112.39757369508!2d25.426806322419676!3d59.44615054777371!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4692fc596b38b4e1%3A0xc5602a1b2a678b42!2sBuilding+Materials+kaluplus!5e0!3m2!1sen!2sin!4v1519103601985", style: mapstyle })
                )
            );
        }
    }]);

    return Contact;
})(_react.Component);

exports["default"] = Contact;
module.exports = exports["default"];

},{"react":undefined}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactStepperHorizontal = require('react-stepper-horizontal');

var _reactStepperHorizontal2 = _interopRequireDefault(_reactStepperHorizontal);

var CStepper = (function (_Component) {
  _inherits(CStepper, _Component);

  function CStepper(props) {
    _classCallCheck(this, CStepper);

    _get(Object.getPrototypeOf(CStepper.prototype), 'constructor', this).call(this, props);

    this.steps = [{
      image: "./img/map.png",
      name: "Markera ut ditt tak",
      arrow: "fa fa-angle-double-right fa-3x text-right",
      stepindex: 1

    },
    // {
    //   image: "./img/style.png",
    //   name: "Välj din takstil",
    //   arrow: "fa fa-angle-double-right fa-3x text-right",
    //   stepindex: 2

    // },
    {
      image: "./img/material.png",
      name: "Välj material",
      arrow: "fa fa-angle-double-right fa-3x text-right",
      stepindex: 3

    }, {
      image: "./img/estimate.png",
      name: "Prisuppskattning",
      arrow: "",
      stepindex: 4

    }];
  }

  _createClass(CStepper, [{
    key: 'render',
    value: function render() {
      return _react2['default'].createElement(_reactStepperHorizontal2['default'], { steps: [{ title: 'Map' }, { title: 'Slope' }, { title: 'Material' }, { title: 'Estimation' }], activeStep: this.props.stepindex, titleTop: 'Hi' });
    }
  }]);

  return CStepper;
})(_react.Component);

var selectcolor = {
  color: "#5cb85c",
  border: { border: "2px solid rgb(10,83,156)", backgroundColor: '#c3e0ce' },
  topborder: { borderTop: "2px solid rgb(10,83,156)" }
};

var currentselectcolor = {
  color: "#5cb85c",
  border: { border: "2px solid rgb(10,83,156)", backgroundColor: 'rgb(10, 83, 156)' },
  topborder: { borderTop: "2px solid rgb(10,83,156)" }
};

var unselect = {
  color: "#000"
};

var Steps = (function (_Component2) {
  _inherits(Steps, _Component2);

  function Steps(props) {
    _classCallCheck(this, Steps);

    _get(Object.getPrototypeOf(Steps.prototype), 'constructor', this).call(this, props);

    this.steps = [{
      image: "./img/map.png",
      name: "Markera ut ditt tak",
      arrow: "fa fa-angle-double-right fa-3x text-right",
      stepindex: 1

    }, {
      image: "./img/property-information.png",
      name: "Fastighetsinformation",
      arrow: "fa fa-angle-double-right fa-3x text-right",
      stepindex: 3
    }, {
      image: "./img/material.png",
      name: "Takinformation",
      arrow: "fa fa-angle-double-right fa-3x text-right",
      stepindex: 4
    }, {
      image: "./img/electricity.png",
      name: " Elförbrukning & säkring  ",
      arrow: "fa fa-angle-double-right fa-3x text-right",
      stepindex: 5
    }, {
      image: "./img/electricity.png",
      name: " Solpanel & Batteri  ",
      arrow: "fa fa-angle-double-right fa-3x text-right",
      stepindex: 6
    }, {
      image: "./img/estimate.png",
      name: "Prisuppskattning färdig",
      arrow: "",
      stepindex: 7
    }];
  }

  _createClass(Steps, [{
    key: 'render',
    value: function render() {
      var _this = this;

      return _react2['default'].createElement(
        'div',
        { className: 'container' },
        _react2['default'].createElement('br', null),
        _react2['default'].createElement(
          'div',
          { className: 'md-stepper-horizontal orange' },
          this.steps.map(function (data, index) {
            var stepstyle = _this.props.stepindex > data.stepindex ? selectcolor : _this.props.stepindex === data.stepindex ? currentselectcolor : unselect;
            return _react2['default'].createElement(
              'div',
              { className: 'md-step active editable', key: index },
              _react2['default'].createElement(
                'div',
                { className: 'md-step-circle', style: stepstyle.border },
                _react2['default'].createElement(
                  'span',
                  null,
                  _react2['default'].createElement('img', { src: data.image, alt: data.name, className: 'img-responsive stepper-icon' })
                )
              ),
              _react2['default'].createElement(
                'div',
                { className: 'md-step-title' },
                _react2['default'].createElement(
                  'p',
                  { className: 'stepstext', style: stepstyle },
                  data.name
                )
              ),
              _react2['default'].createElement('div', { className: 'md-step-bar-left', style: stepstyle.topborder }),
              _react2['default'].createElement('div', { className: 'md-step-bar-right', style: stepstyle.topborder })
            );
          })
        )
      );
    }
  }]);

  return Steps;
})(_react.Component);

exports['default'] = Steps;
module.exports = exports['default'];

},{"react":undefined,"react-dom":undefined,"react-stepper-horizontal":121}],18:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _mapcomponent = require('./mapcomponent');

var _mapcomponent2 = _interopRequireDefault(_mapcomponent);

var _cstepper = require('./cstepper');

var _cstepper2 = _interopRequireDefault(_cstepper);

var _materialComponent = require('./materialComponent');

var _materialComponent2 = _interopRequireDefault(_materialComponent);

var _areaestimate = require('./areaestimate');

var _areaestimate2 = _interopRequireDefault(_areaestimate);

var _roof_questions = require('./roof_questions');

var _roof_questions2 = _interopRequireDefault(_roof_questions);

var _material_questions = require('./material_questions');

var _material_questions2 = _interopRequireDefault(_material_questions);

var _loginEstimation = require('./loginEstimation');

var _loginEstimation2 = _interopRequireDefault(_loginEstimation);

var _panelTypes = require('./panelTypes');

var _panelTypes2 = _interopRequireDefault(_panelTypes);

var _componentsContextProvider = require('./components/ContextProvider');

var _componentsContextProvider2 = _interopRequireDefault(_componentsContextProvider);

var style = {
  marginTop: 0,
  marginBottom: 30
};

var Main = (function (_Component) {
  _inherits(Main, _Component);

  function Main(props) {
    _classCallCheck(this, Main);

    _get(Object.getPrototypeOf(Main.prototype), 'constructor', this).call(this, props);
    this.state = {
      componentindex: 1,
      finished: false,
      roofarea: 0,
      roofstyle: "",
      material: "",
      materialCost: 0,
      roofstylecost: 0,
      Roofaddress: "",
      roofadress: "",
      coordinates: "",
      e_consumption: '',
      power: '',
      location: '',
      panel: '',
      battery: '',
      panelsCount: '',
      surfaceDirection: '',
      annualoutput: ''
    };
  }

  _createClass(Main, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var index = sessionStorage.getItem('componentindex');
      if (index && index !== '' && index !== 'undefined' && index !== 'null') {
        this.setState({
          componentindex: index,
          location: ''
        });
      } else {
        sessionStorage.setItem('componentindex', 1);
        this.setState({
          componentindex: 1,
          location: ''
        });
      }
    }
  }, {
    key: 'area1',
    value: function area1(v, address, coordinates) {
      var json = coordinates;
      var obj = JSON.parse(json);
      var coordinate = obj.map(function (o, v) {
        return Math.round(parseFloat(o));
      });
      sessionStorage.setItem('coordinates', coordinate.toString());
      sessionStorage.setItem('Roofaddress', address);
      sessionStorage.setItem('roofarea', v);
      sessionStorage.setItem('componentindex', 2);
      window.location.href = "/#steg2";
      this.setState({
        location: '/#steg2',
        componentindex: 2,
        roofarea: v,
        Roofaddress: address,
        coordinates: coordinates
      });
    }
  }, {
    key: 'qusetionsval',
    value: function qusetionsval(type, floor, angle) {
      sessionStorage.setItem('property_type', type);
      sessionStorage.setItem('floors', floor);
      sessionStorage.setItem('roof_pitch', angle);
      sessionStorage.setItem('componentindex', 3);
      window.location.href = "/#steg3";
      this.setState({
        componentindex: 3,
        property_type: type,
        floors: floor,
        roof_pitch: angle,
        location: "/#steg3"
      });
    }
  }, {
    key: 'materialval',
    value: function materialval(value, cost, direction) {
      sessionStorage.setItem('materialCost', cost);
      sessionStorage.setItem('roofmaterial', value);
      sessionStorage.setItem('surfaceDirection', direction);
      sessionStorage.setItem('componentindex', 4);
      window.location.href = "/#steg4";
      this.setState({
        componentindex: 4,
        roofmaterial: sessionStorage.getItem('roofmaterial'),
        materialCost: sessionStorage.getItem('materialCost'),
        surfaceDirection: sessionStorage.getItem('surfaceDirection'),
        location: "/#steg4"
      });
    }
  }, {
    key: 'matquestionval',
    value: function matquestionval(type, floor) {
      sessionStorage.setItem('e_consumption', type);
      sessionStorage.setItem('power', floor);
      sessionStorage.setItem('componentindex', 5);
      window.location.href = "/#steg5";
      this.setState({
        componentindex: 5,
        e_consumption: sessionStorage.getItem('e_consumption'),
        power: sessionStorage.getItem('power'),
        location: "/#steg5"
      });
    }
  }, {
    key: 'panelTypes',
    value: function panelTypes(panel, battery, count, packetName, annualoutput) {
      sessionStorage.setItem('panel', panel);
      sessionStorage.setItem('battery', battery);
      sessionStorage.setItem('panelsCount', count);
      sessionStorage.setItem('packetName', packetName);
      sessionStorage.setItem('annualoutput', annualoutput);
      if (this.props.loginmode) {
        sessionStorage.setItem('componentindex', 7);
        this.areaEst = this.areaEstimetack.bind(this);
        this.areaEst(this);
        console.log(sessionStorage.getItem('solarIncentives'));
        this.setState({
          componentindex: 7,
          e_consumption: sessionStorage.getItem('e_consumption'),
          power: sessionStorage.getItem('power'),
          roofmaterial: sessionStorage.getItem('roofmaterial'),
          materialCost: sessionStorage.getItem('materialCost'),
          Roofaddress: sessionStorage.getItem('Roofaddress'),
          coordinates: sessionStorage.getItem('coordinates'),
          roofarea: sessionStorage.getItem('roofarea'),
          property_type: sessionStorage.getItem('property_type'),
          floors: sessionStorage.getItem('floors'),
          roof_pitch: sessionStorage.getItem('roof_pitch'),
          panel: sessionStorage.getItem('panel'),
          battery: sessionStorage.getItem('battery'),
          panelsCount: sessionStorage.getItem('panelsCount'),
          annualoutput: sessionStorage.getItem('annualoutput'),
          battery1: sessionStorage.getItem('battery'),
          solarIncentives: sessionStorage.getItem('solarIncentives'),
          batteryIncentvies: sessionStorage.getItem('battbatteryIncentiveser'),
          finalCost: sessionStorage.getItem('final_cost')
        });
      } else {
        sessionStorage.setItem('componentindex', 6);
        window.location.href = "/#steg6", this.setState({
          componentindex: 6,
          e_consumption: sessionStorage.getItem('e_consumption'),
          power: sessionStorage.getItem('power'),
          roofmaterial: sessionStorage.getItem('roofmaterial'),
          materialCost: sessionStorage.getItem('materialCost'),
          Roofaddress: sessionStorage.getItem('Roofaddress'),
          coordinates: sessionStorage.getItem('coordinates'),
          roofarea: sessionStorage.getItem('roofarea'),
          property_type: sessionStorage.getItem('property_type'),
          floors: sessionStorage.getItem('floors'),
          roof_pitch: sessionStorage.getItem('roof_pitch'),
          panel: sessionStorage.getItem('panel'),
          battery: sessionStorage.getItem('battery'),
          panelsCount: sessionStorage.getItem('panelsCount'),
          roofAreaPkt: JSON.parse(sessionStorage.getItem('roofAreaPkt')),
          location: "/#steg6"
        });
      }
    }
  }, {
    key: 'areaEstimetack',
    value: function areaEstimetack() {

      window.location.href = "/#tack";
      sessionStorage.setItem('componentindex', 7);
      this.setState({
        componentindex: 6,
        location: "/#tack",
        roofmaterial: sessionStorage.getItem('roofmaterial'),
        materialCost: sessionStorage.getItem('materialCost'),
        Roofaddress: sessionStorage.getItem('Roofaddress'),
        coordinates: sessionStorage.getItem('coordinates'),
        roofstyle: sessionStorage.getItem('roofstyle'),
        roofstylecost: sessionStorage.getItem('roofstylecost'),
        roofarea: sessionStorage.getItem('roofarea'),
        property_type: sessionStorage.getItem('property_type'),
        floors: sessionStorage.getItem('floors'),
        roof_pitch: sessionStorage.getItem('roof_pitch'),
        battery1: sessionStorage.getItem('battery'),
        solarIncentives: sessionStorage.getItem('solarIncentives'),
        batteryIncentvies: sessionStorage.getItem('battbatteryIncentiveser'),
        finalCost: sessionStorage.getItem('final_cost')
      });
    }
  }, {
    key: 'handlePre',
    value: function handlePre(val) {
      if (this.state.componentindex > 1) this.setState({ componentindex: this.state.componentindex - 1 });
    }
  }, {
    key: 'handleNext',
    value: function handleNext() {
      if (this.state.finished == false) {
        this.setState({
          componentindex: this.state.componentindex + 1,
          finished: this.state.componentindex >= 7
        });
      }
    }
  }, {
    key: 'stepval',
    value: function stepval(val) {
      if (val === 1) {
        window.location.href = "/";
      } else {
        window.location.href = "/#steg" + val;
        this.setState({ location: "/#steg" + val, componentindex: val });
      }
      sessionStorage.setItem('componentindex', val);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this = this;

      switch (window.location.hash) {
        case '':
          sessionStorage.setItem('componentindex', 1);
          return _react2['default'].createElement(
            'div',
            { ref: function (ref) {
                return _this._div = ref;
              } },
            _react2['default'].createElement(_cstepper2['default'], { stepindex: parseInt(sessionStorage.getItem('componentindex')) + 1 }),
            _react2['default'].createElement(_mapcomponent2['default'], { area: this.area1.bind(this), stepindex: this.state.componentindex, roofaddress: sessionStorage.getItem('Roofaddress') === null ? this.state.Roofaddress : sessionStorage.getItem('Roofaddress') })
          );
        case '/':
          return _react2['default'].createElement(
            'div',
            { ref: function (ref) {
                return _this._div = ref;
              } },
            _react2['default'].createElement(_cstepper2['default'], { stepindex: parseInt(sessionStorage.getItem('componentindex')) + 1 }),
            _react2['default'].createElement(_mapcomponent2['default'], { area: this.area1.bind(this), stepindex: this.state.componentindex, roofaddress: sessionStorage.getItem('Roofaddress') === null ? this.state.Roofaddress : sessionStorage.getItem('Roofaddress') })
          );
        case '/#':
          return _react2['default'].createElement(
            'div',
            { ref: function (ref) {
                return _this._div = ref;
              } },
            _react2['default'].createElement(_cstepper2['default'], { stepindex: parseInt(sessionStorage.getItem('componentindex')) + 1 }),
            _react2['default'].createElement(_mapcomponent2['default'], { area: this.area1.bind(this), stepindex: this.state.componentindex, roofaddress: sessionStorage.getItem('Roofaddress') === null ? this.state.Roofaddress : sessionStorage.getItem('Roofaddress') })
          );
        case '#steg2':
          sessionStorage.setItem('componentindex', 2);
          return _react2['default'].createElement(
            _componentsContextProvider2['default'],
            null,
            _react2['default'].createElement(_cstepper2['default'], { stepindex: parseInt(sessionStorage.getItem('componentindex')) + 1 }),
            _react2['default'].createElement(
              'div',
              { className: 'container-fluid panding_no' },
              _react2['default'].createElement(_roof_questions2['default'], null)
            )
          );
        case '#steg3':
          sessionStorage.setItem('componentindex', 3);
          return _react2['default'].createElement(
            _componentsContextProvider2['default'],
            null,
            _react2['default'].createElement(
              _react2['default'].Fragment,
              null,
              _react2['default'].createElement(_cstepper2['default'], { stepindex: parseInt(sessionStorage.getItem('componentindex')) + 1 }),
              _react2['default'].createElement(
                'div',
                { className: 'container-fluid', style: style },
                _react2['default'].createElement(_materialComponent2['default'], { matval: this.materialval.bind(this), back: this.stepval.bind(this) })
              )
            )
          );
        case '#steg4':
          sessionStorage.setItem('componentindex', 4);
          return _react2['default'].createElement(
            _componentsContextProvider2['default'],
            null,
            _react2['default'].createElement(
              _react2['default'].Fragment,
              null,
              _react2['default'].createElement(_cstepper2['default'], { stepindex: parseInt(sessionStorage.getItem('componentindex')) + 1 }),
              _react2['default'].createElement(
                'div',
                { className: 'container-fluid', style: style },
                _react2['default'].createElement(_material_questions2['default'], { matquestionval: this.matquestionval.bind(this), back: this.stepval.bind(this) })
              )
            )
          );

        case '#steg5':
          sessionStorage.setItem('componentindex', 5);
          return _react2['default'].createElement(
            _componentsContextProvider2['default'],
            null,
            _react2['default'].createElement(
              _react2['default'].Fragment,
              null,
              _react2['default'].createElement(_cstepper2['default'], { stepindex: parseInt(sessionStorage.getItem('componentindex')) + 1 }),
              _react2['default'].createElement(
                'div',
                { className: 'container-fluid stegs_map', style: style },
                _react2['default'].createElement(_panelTypes2['default'], { roofarea: this.state.roofarea != '' && this.state.roofarea != 0 ? this.state.roofarea : sessionStorage.getItem('roofarea'), e_consumption: this.state.e_consumption != '' && typeof this.state.e_consumption != 'undefined' ? this.state.e_consumption : sessionStorage.getItem('e_consumption'),
                  panelTypes: this.panelTypes.bind(this), back: this.stepval.bind(this),
                  panel: this.state.panel != '' && typeof this.state.panel != 'undefined' ? this.state.panel : sessionStorage.getItem('panel'),
                  e_consumption: this.state.e_consumption != '' && typeof this.state.e_consumption != 'undefined' ? this.state.e_consumption : sessionStorage.getItem('e_consumption'),
                  roof_pitch: this.state.roof_pitch != '' && typeof this.state.roof_pitch != 'undefined' ? this.state.roof_pitch : sessionStorage.getItem('roof_pitch'),
                  surfaceDirection: this.state.surfaceDirection != '' && typeof this.state.surfaceDirection != 'undefined' ? this.state.surfaceDirection : sessionStorage.getItem('surfaceDirection'),
                  panelsCount: this.state.panelsCount != '' && typeof this.state.panelsCount != 'undefined' ? this.state.panelsCount : sessionStorage.getItem('panelsCount'),
                  location: sessionStorage.getItem('Roofaddress') === null ? this.state.Roofaddress : sessionStorage.getItem('Roofaddress')
                })
              )
            )
          );
        case '#steg6':
          sessionStorage.setItem('componentindex', 6);
          if (this.props.loginmode === false) {
            return _react2['default'].createElement(
              _componentsContextProvider2['default'],
              null,
              _react2['default'].createElement(
                _react2['default'].Fragment,
                null,
                _react2['default'].createElement(_cstepper2['default'], { stepindex: parseInt(sessionStorage.getItem('componentindex')) + 1 }),
                _react2['default'].createElement(
                  'div',
                  { className: 'container-fluid', style: style },
                  _react2['default'].createElement(_loginEstimation2['default'], {
                    location: this.state.location,
                    material: this.state.roofmaterial != '' && typeof this.state.roofmaterial != 'undefined' ? this.state.roofmaterial : sessionStorage.getItem('roofmaterial'),
                    materialcost: this.state.materialCost != '' && this.state.materialCost != 0 ? this.state.materialCost : sessionStorage.getItem('materialCost'),
                    area: this.state.roofarea != '' && this.state.roofarea != 0 ? this.state.roofarea : sessionStorage.getItem('roofarea'),
                    logedin: this.props.loginmode,
                    address: this.state.Roofaddress != '' ? this.state.Roofaddress : sessionStorage.getItem('Roofaddress'),
                    loginmodefun: this.props.loginmodefun,
                    coordinates: this.state.coordinates != '' ? this.state.coordinates : sessionStorage.getItem('coordinates'),
                    property_type: this.state.property_type != '' && typeof this.state.property_type != 'undefined' ? this.state.property_type : sessionStorage.getItem('property_type'),
                    floors: this.state.floors != '' && typeof this.state.floors != 'undefined' ? this.state.floors : sessionStorage.getItem('floors'),
                    roof_pitch: this.state.roof_pitch != '' && typeof this.state.roof_pitch != 'undefined' ? this.state.roof_pitch : sessionStorage.getItem('roof_pitch'),
                    e_consumption: this.state.e_consumption != '' && typeof this.state.e_consumption != 'undefined' ? this.state.e_consumption : sessionStorage.getItem('e_consumption'),
                    power: this.state.power != '' && typeof this.state.power != 'undefined' ? this.state.power : sessionStorage.getItem('power'),
                    areaEstimetack: this.areaEstimetack.bind(this),
                    style: this.state.roofstyle,
                    roofstylecost: this.state.roofstylecost,
                    panel: this.state.panel != '' && typeof this.state.panel != 'undefined' ? this.state.panel : sessionStorage.getItem('panel'),
                    battery: this.state.battery != '' && typeof this.state.battery != 'undefined' ? this.state.battery : sessionStorage.getItem('battery'),
                    panelsCount: this.state.panelsCount != '' && typeof this.state.panelsCount != 'undefined' ? this.state.panelsCount : sessionStorage.getItem('panelsCount'),
                    surfaceDirection: this.state.surfaceDirection != '' && typeof this.state.surfaceDirection != 'undefined' ? this.state.surfaceDirection : sessionStorage.getItem('surfaceDirection'),
                    roofAreaPkt: JSON.parse(sessionStorage.getItem('roofAreaPkt')),
                    panel_cost: parseInt(sessionStorage.getItem('panel_cost')),
                    pannel_name: sessionStorage.getItem('pannel_name'),
                    pannel_capacity: sessionStorage.getItem('pannel_capacity'),
                    battery1: sessionStorage.getItem('battery'),
                    solarIncentives: sessionStorage.getItem('solarIncentives'),
                    batteryIncentvies: sessionStorage.getItem('battbatteryIncentiveser'),
                    finalCost: sessionStorage.getItem('final_cost')
                  })
                )
              )
            );
          } else {
            this.panelTypes.bind(this);
          }

        case '#tack':
          sessionStorage.setItem('componentindex', 7);
          return _react2['default'].createElement(
            _componentsContextProvider2['default'],
            null,
            _react2['default'].createElement(
              _react2['default'].Fragment,
              null,
              _react2['default'].createElement(_cstepper2['default'], { stepindex: parseInt(sessionStorage.getItem('componentindex')) + 1 }),
              _react2['default'].createElement(
                'div',
                { className: 'container-fluid panding_no', style: { marginTop: '20px' } },
                _react2['default'].createElement(_areaestimate2['default'], {
                  location: this.state.location,
                  material: this.state.roofmaterial != '' && typeof this.state.roofmaterial != 'undefined' ? this.state.roofmaterial : sessionStorage.getItem('roofmaterial'),
                  materialcost: this.state.materialCost != '' && this.state.materialCost != 0 ? this.state.materialCost : sessionStorage.getItem('materialCost'),
                  area: this.state.roofarea != '' && this.state.roofarea != 0 ? this.state.roofarea : sessionStorage.getItem('roofarea'),
                  logedin: this.props.loginmode,
                  address: this.state.Roofaddress != '' ? this.state.Roofaddress : sessionStorage.getItem('Roofaddress'),
                  loginmodefun: this.props.loginmodefun,
                  coordinates: this.state.coordinates != '' ? this.state.coordinates : sessionStorage.getItem('coordinates'),
                  property_type: this.state.property_type != '' && typeof this.state.property_type != 'undefined' ? this.state.property_type : sessionStorage.getItem('property_type'),
                  floors: this.state.floors != '' && typeof this.state.floors != 'undefined' ? this.state.floors : sessionStorage.getItem('floors'),
                  roof_pitch: this.state.roof_pitch != '' && typeof this.state.roof_pitch != 'undefined' ? this.state.roof_pitch : sessionStorage.getItem('roof_pitch'),
                  e_consumption: this.state.e_consumption != '' && typeof this.state.e_consumption != 'undefined' ? this.state.e_consumption : sessionStorage.getItem('e_consumption'),
                  power: this.state.power != '' && typeof this.state.power != 'undefined' ? this.state.power : sessionStorage.getItem('power'),
                  areaEstimetack: this.areaEstimetack.bind(this),
                  style: this.state.roofstyle,
                  roofstylecost: this.state.roofstylecost,
                  componentindex: sessionStorage.getItem('componentindex'),
                  panel: this.state.panel != '' && typeof this.state.panel != 'undefined' ? this.state.panel : sessionStorage.getItem('panel'),
                  battery: this.state.battery != '' && typeof this.state.battery != 'undefined' ? this.state.battery : sessionStorage.getItem('battery'),
                  panelsCount: this.state.panelsCount != '' && typeof this.state.panelsCount != 'undefined' ? this.state.panelsCount : sessionStorage.getItem('panelsCount'),
                  packetName: sessionStorage.getItem('packetName'),
                  surfaceDirection: this.state.surfaceDirection != '' && typeof this.state.surfaceDirection != 'undefined' ? this.state.surfaceDirection : sessionStorage.getItem('surfaceDirection'),
                  annualoutput: this.state.annualoutput != '' && typeof this.state.annualoutput != 'undefined' ? this.state.annualoutput : sessionStorage.getItem('annualoutput'),
                  roofaddress: sessionStorage.getItem('Roofaddress') === null ? this.state.Roofaddress : sessionStorage.getItem('Roofaddress'),
                  packetName: sessionStorage.getItem('packetName'),

                  pannel_capacity: sessionStorage.getItem('pannel_capacity'),
                  battery1: sessionStorage.getItem('battery'),
                  solarIncentives: sessionStorage.getItem('solarIncentives'),
                  batteryIncentvies: sessionStorage.getItem('battbatteryIncentiveser'),
                  finalCost: sessionStorage.getItem('final_cost')
                })
              )
            )
          );
        default:
          return _react2['default'].createElement(
            _componentsContextProvider2['default'],
            null,
            _react2['default'].createElement(
              _react2['default'].Fragment,
              null,
              _react2['default'].createElement(_cstepper2['default'], { stepindex: parseInt(sessionStorage.getItem('componentindex')) + 1 }),
              _react2['default'].createElement(_mapcomponent2['default'], { area: this.area1.bind(this), stepindex: this.state.componentindex, roofaddress: this.state.Roofaddress })
            )
          );
      }
    }
  }]);

  return Main;
})(_react.Component);

exports['default'] = Main;
module.exports = exports['default'];

},{"./areaestimate":6,"./components/ContextProvider":8,"./cstepper":17,"./loginEstimation":27,"./mapcomponent":28,"./materialComponent":29,"./material_questions":30,"./panelTypes":31,"./roof_questions":33,"react":undefined}],19:[function(require,module,exports){
'use strict';

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRouterDom = require('react-router-dom');

var _estimation = require('./estimation');

var _estimation2 = _interopRequireDefault(_estimation);

var _logedinLogin = require('./logedin/login');

var _logedinLogin2 = _interopRequireDefault(_logedinLogin);

var _logedinRegistration = require('./logedin/registration');

var _logedinRegistration2 = _interopRequireDefault(_logedinRegistration);

var _text = require('./text');

var _text2 = _interopRequireDefault(_text);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _footer = require('./footer');

var _footer2 = _interopRequireDefault(_footer);

var _profile = require('./profile');

var _profile2 = _interopRequireDefault(_profile);

var _contactus = require('./contactus');

var _contactus2 = _interopRequireDefault(_contactus);

var _aboutus = require('./aboutus');

var _aboutus2 = _interopRequireDefault(_aboutus);

var _faq = require('./faq');

var _faq2 = _interopRequireDefault(_faq);

var _logedinContractorsignup = require('./logedin/contractorsignup');

var _logedinContractorsignup2 = _interopRequireDefault(_logedinContractorsignup);

var _admin_userlist = require('./admin_userlist');

var _admin_userlist2 = _interopRequireDefault(_admin_userlist);

var _admin_contractorlist = require('./admin_contractorlist');

var _admin_contractorlist2 = _interopRequireDefault(_admin_contractorlist);

var _admin_home = require('./admin_home');

var _admin_home2 = _interopRequireDefault(_admin_home);

var _forgotpassword = require('./forgotpassword');

var _forgotpassword2 = _interopRequireDefault(_forgotpassword);

var data = undefined,
    userdata = undefined,
    logintest = undefined,
    admintoken = undefined,
    adminLogin = undefined;

var Routing = (function (_Component) {
  _inherits(Routing, _Component);

  function Routing(props) {
    _classCallCheck(this, Routing);

    _get(Object.getPrototypeOf(Routing.prototype), 'constructor', this).call(this, props);
    if (localStorage.getItem("userdata") === null || localStorage.getItem("userdata") === undefined || localStorage.getItem("userdata") === "undefined") {
      admintoken = "";
      adminLogin = false;
      userdata = {
        "type": "",
        "organization_number": "",
        "address": "",
        "website": "",
        "estdet": [],
        "businessname": "",
        "updateon": "",
        "cratedon": "",
        "email": "", "phone": "", "name": "", "token": ""
      };
      logintest = false;
    } else {
      userdata = JSON.parse(localStorage.getItem("userdata"));
      logintest = true;
    }
    this.state = {
      Login: logintest,
      userdet: '',
      token: userdata.token,
      admintoken: admintoken,
      adminLogin: adminLogin
    };
  }

  _createClass(Routing, [{
    key: 'loginmodefun',
    value: function loginmodefun(val) {
      this.setState({
        Login: val
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _this = this;

      return _react2['default'].createElement(
        _react2['default'].Fragment,
        null,
        _react2['default'].createElement(
          _reactRouterDom.BrowserRouter,
          null,
          _react2['default'].createElement(
            'div',
            { className: 'align-top' },
            _react2['default'].createElement(
              _reactRouterDom.Switch,
              null,
              _react2['default'].createElement(_reactRouterDom.Route, { exact: true, path: '/', render: function (props) {
                  return _react2['default'].createElement(
                    _react2['default'].Fragment,
                    null,
                    _react2['default'].createElement(_header2['default'], { login: _this.state.Login, headindex: 1 }),
                    _react2['default'].createElement(_estimation2['default'], { loginmode: _this.state.Login, loginmodefun: _this.loginmodefun.bind(_this) }),
                    _react2['default'].createElement(_footer2['default'], null)
                  );
                } }),
              _react2['default'].createElement(_reactRouterDom.Route, { exact: true, path: '/Login', render: function (props) {
                  return _react2['default'].createElement(
                    _react2['default'].Fragment,
                    null,
                    _react2['default'].createElement(_header2['default'], { login: _this.state.Login, headindex: 2 }),
                    _react2['default'].createElement(_logedinLogin2['default'], { token: _this.state.token, data: data }),
                    _react2['default'].createElement(_footer2['default'], null)
                  );
                } }),
              _react2['default'].createElement(_reactRouterDom.Route, { exact: true, path: '/Register',
                render: function (props) {
                  return _react2['default'].createElement(
                    _react2['default'].Fragment,
                    null,
                    _react2['default'].createElement(_header2['default'], { login: _this.state.Login, headindex: 3 }),
                    _react2['default'].createElement(_logedinRegistration2['default'], null),
                    _react2['default'].createElement(_footer2['default'], null)
                  );
                } }),
              _react2['default'].createElement(_reactRouterDom.Route, { exact: true, path: '/Profile', render: function (props) {
                  return _react2['default'].createElement(
                    _react2['default'].Fragment,
                    null,
                    _react2['default'].createElement(_header2['default'], { login: _this.state.Login, headindex: 4 }),
                    _react2['default'].createElement(_profile2['default'], null),
                    _react2['default'].createElement(_footer2['default'], null)
                  );
                }
              }),
              _react2['default'].createElement(_reactRouterDom.Route, { exact: true, path: '/Faq', render: function (props) {
                  return _react2['default'].createElement(
                    'div',
                    null,
                    _react2['default'].createElement(_header2['default'], { login: _this.state.Login, headindex: 5 }),
                    _react2['default'].createElement(_faq2['default'], null),
                    _react2['default'].createElement(_footer2['default'], null)
                  );
                } }),
              _react2['default'].createElement(_reactRouterDom.Route, { exact: true, path: '/Aboutus', render: function (props) {
                  return _react2['default'].createElement(
                    _react2['default'].Fragment,
                    null,
                    _react2['default'].createElement(_header2['default'], { login: _this.state.Login, headindex: 6 }),
                    _react2['default'].createElement(_aboutus2['default'], null),
                    _react2['default'].createElement(_footer2['default'], null)
                  );
                }
              }),
              _react2['default'].createElement(_reactRouterDom.Route, { exact: true, path: '/Contact', render: function (props) {
                  return _react2['default'].createElement(
                    _react2['default'].Fragment,
                    null,
                    _react2['default'].createElement(_header2['default'], { login: _this.state.Login, headindex: 7 }),
                    _react2['default'].createElement(_contactus2['default'], null),
                    _react2['default'].createElement(_footer2['default'], null)
                  );
                } }),
              _react2['default'].createElement(_reactRouterDom.Route, { exact: true, path: '/Forgotpassword', render: function (props) {
                  return _react2['default'].createElement(
                    _react2['default'].Fragment,
                    null,
                    _react2['default'].createElement(_header2['default'], { login: _this.state.Login, headindex: 2 }),
                    _react2['default'].createElement(_forgotpassword2['default'], null),
                    _react2['default'].createElement(_footer2['default'], null)
                  );
                } }),
              _react2['default'].createElement(_reactRouterDom.Route, { exact: true, path: '/Contractor', render: function (props) {
                  return _react2['default'].createElement(
                    _react2['default'].Fragment,
                    null,
                    _react2['default'].createElement(_header2['default'], { login: _this.state.Login, headindex: 8 }),
                    _react2['default'].createElement(_logedinContractorsignup2['default'], null),
                    _react2['default'].createElement(_footer2['default'], null)
                  );
                } }),
              _react2['default'].createElement(_reactRouterDom.Route, { exact: true, path: '/text', render: function (props) {
                  return _react2['default'].createElement(
                    _react2['default'].Fragment,
                    null,
                    _react2['default'].createElement(_header2['default'], { login: _this.state.Login }),
                    _react2['default'].createElement(_text2['default'], { token: _this.state.token, data: data }),
                    _react2['default'].createElement(_footer2['default'], null)
                  );
                } }),
              _react2['default'].createElement(_reactRouterDom.Route, { exact: true, path: '/userslist', render: function (props) {
                  return _react2['default'].createElement(_admin_userlist2['default'], { token: _this.state.token, data: data });
                } }),
              _react2['default'].createElement(_reactRouterDom.Route, { exact: true, path: '/contractorlist', render: function (props) {
                  return _react2['default'].createElement(_admin_contractorlist2['default'], { token: _this.state.token, data: data });
                } }),
              _react2['default'].createElement(_reactRouterDom.Route, { exact: true, path: '/admin', render: function (props) {
                  return _react2['default'].createElement(_admin_home2['default'], { token: _this.state.token, data: data });
                } })
            )
          )
        )
      );
    }
  }]);

  return Routing;
})(_react.Component);

_reactDom2['default'].render(_react2['default'].createElement(Routing, null), document.getElementById('app'));

},{"./aboutus":1,"./admin_contractorlist":2,"./admin_home":3,"./admin_userlist":5,"./contactus":16,"./estimation":18,"./faq":20,"./footer":21,"./forgotpassword":22,"./header":23,"./logedin/contractorsignup":24,"./logedin/login":25,"./logedin/registration":26,"./profile":32,"./text":34,"react":undefined,"react-dom":undefined,"react-router-dom":104}],20:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var Faq = (function (_Component) {
    _inherits(Faq, _Component);

    function Faq(props) {
        _classCallCheck(this, Faq);

        _get(Object.getPrototypeOf(Faq.prototype), "constructor", this).call(this, props);
    }

    _createClass(Faq, [{
        key: "render",
        value: function render() {
            return _react2["default"].createElement(
                "div",
                null,
                _react2["default"].createElement(
                    "div",
                    { id: "aboutus-image" },
                    _react2["default"].createElement(
                        "div",
                        { className: "container about_txt" },
                        _react2["default"].createElement(
                            "h2",
                            null,
                            "FAQ'S"
                        ),
                        _react2["default"].createElement(
                            "p",
                            null,
                            "Lorem Ipsum is simply dummy text of the printing and typesetting industry. "
                        )
                    )
                ),
                _react2["default"].createElement(
                    "div",
                    { className: "container faqs_below" },
                    _react2["default"].createElement(
                        "h3",
                        null,
                        " Find answers to common questions"
                    ),
                    _react2["default"].createElement(
                        "div",
                        { className: "row" },
                        _react2["default"].createElement(
                            "div",
                            { className: "panel-group", id: "accordion", role: "tablist", "aria-multiselectable": "true" },
                            _react2["default"].createElement(
                                "div",
                                { className: "panel panel-default" },
                                _react2["default"].createElement(
                                    "div",
                                    { className: "panel-heading", role: "tab", id: "headingOne" },
                                    _react2["default"].createElement(
                                        "h4",
                                        { className: "panel-title" },
                                        _react2["default"].createElement(
                                            "a",
                                            { "data-toggle": "collapse", "data-parent": "#accordion", href: "#collapseOne", "aria-expanded": "true", "aria-controls": "collapseOne" },
                                            "Collapsible Group Item #1"
                                        )
                                    )
                                ),
                                _react2["default"].createElement(
                                    "div",
                                    { id: "collapseOne", className: "panel-collapse collapse in", role: "tabpanel", "aria-labelledby": "headingOne" },
                                    _react2["default"].createElement(
                                        "div",
                                        { className: "panel-body" },
                                        "Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid.le VHS."
                                    )
                                )
                            ),
                            _react2["default"].createElement(
                                "div",
                                { className: "panel panel-default" },
                                _react2["default"].createElement(
                                    "div",
                                    { className: "panel-heading", role: "tab", id: "headingTwo" },
                                    _react2["default"].createElement(
                                        "h4",
                                        { className: "panel-title" },
                                        _react2["default"].createElement(
                                            "a",
                                            { className: "collapsed", "data-toggle": "collapse", "data-parent": "#accordion", href: "#collapseTwo", "aria-expanded": "false", "aria-controls": "collapseTwo" },
                                            "Collapsible Group Item #2"
                                        )
                                    )
                                ),
                                _react2["default"].createElement(
                                    "div",
                                    { id: "collapseTwo", className: "panel-collapse collapse", role: "tabpanel", "aria-labelledby": "headingTwo" },
                                    _react2["default"].createElement(
                                        "div",
                                        { className: "panel-body" },
                                        "Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid."
                                    )
                                )
                            ),
                            _react2["default"].createElement(
                                "div",
                                { className: "panel panel-default" },
                                _react2["default"].createElement(
                                    "div",
                                    { className: "panel-heading", role: "tab", id: "headingThree" },
                                    _react2["default"].createElement(
                                        "h4",
                                        { className: "panel-title" },
                                        _react2["default"].createElement(
                                            "a",
                                            { className: "collapsed", "data-toggle": "collapse", "data-parent": "#accordion", href: "#collapseThree", "aria-expanded": "false", "aria-controls": "collapseThree" },
                                            "Collapsible Group Item #3"
                                        )
                                    )
                                ),
                                _react2["default"].createElement(
                                    "div",
                                    { id: "collapseThree", className: "panel-collapse collapse", role: "tabpanel", "aria-labelledby": "headingThree" },
                                    _react2["default"].createElement(
                                        "div",
                                        { className: "panel-body" },
                                        "Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. "
                                    )
                                )
                            )
                        )
                    )
                )
            );
        }
    }]);

    return Faq;
})(_react.Component);

exports["default"] = Faq;
module.exports = exports["default"];

},{"react":undefined}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactModal = require('react-modal');

var _reactModal2 = _interopRequireDefault(_reactModal);

var customStyles = {
  content: {
    top: '50%',
    left: '50%',
    right: 'auto',
    bottom: 'auto',
    marginRight: '-50%',
    transform: 'translate(-50%, -50%)',
    padding: '10px 15px 23px',
    fontSize: '16px',
    width: '50%',
    borderRadius: '85px'
  }
};

var Footer = (function (_Component) {
  _inherits(Footer, _Component);

  function Footer(props) {
    _classCallCheck(this, Footer);

    _get(Object.getPrototypeOf(Footer.prototype), 'constructor', this).call(this, props);
    this.state = {
      popup: false,
      modalIsOpen: false,
      date: new Date()
    };

    this.modalpopup = this.modalpopup.bind(this);
    _reactModal2['default'].setAppElement('body');
    this.openModal = this.openModal.bind(this);
    this.afterOpenModal = this.afterOpenModal.bind(this);
    this.closeModal = this.closeModal.bind(this);
  }

  _createClass(Footer, [{
    key: 'openModal',
    value: function openModal() {}
  }, {
    key: 'afterOpenModal',
    value: function afterOpenModal() {}
  }, {
    key: 'closeModal',
    value: function closeModal() {
      this.setState({ modalIsOpen: false });
    }
  }, {
    key: 'modalpopup',
    value: function modalpopup() {
      this.setState({ popup: true, modalIsOpen: true });
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2['default'].createElement(
        'div',
        null,
        this.state.popup ? _react2['default'].createElement(
          'div',
          null,
          _react2['default'].createElement(
            _reactModal2['default'],
            {
              isOpen: this.state.modalIsOpen,
              onAfterOpen: this.afterOpenModal,
              onRequestClose: this.closeModal,
              style: customStyles,
              contentLabel: 'Example Modal' },
            _react2['default'].createElement(
              'div',
              null,
              _react2['default'].createElement(
                'button',
                { style: { float: 'right', color: '#8ee2ae', backgroundColor: '#fff', border: 'none', margin: '0 75px', fontSize: '20px' }, onClick: this.closeModal },
                'X'
              )
            ),
            _react2['default'].createElement(
              'div',
              { className: 'heading' },
              'Kontakta oss'
            ),
            _react2['default'].createElement(
              'div',
              { className: 'footer-popup row text-center troble_sec' },
              _react2['default'].createElement(
                'a',
                { id: 'left-help-button', href: 'tel:+0763949564' },
                _react2['default'].createElement('i', { className: 'fa fa-phone', 'aria-hidden': 'true' }),
                '   Ring Digitak -  076-3949564'
              ),
              _react2['default'].createElement(
                'a',
                { id: 'left-help-button', href: 'mailto:info@digitak.se?' },
                '@ Maila oss - info@digitak.se '
              )
            ),
            _react2['default'].createElement(
              'div',
              { className: 'estimate ' },
              _react2['default'].createElement(
                'button',
                { className: 'submit', onClick: this.closeModal },
                'stäng'
              )
            )
          )
        ) : null,
        _react2['default'].createElement(
          'section',
          null,
          _react2['default'].createElement(
            'div',
            { id: 'helpus' },
            _react2['default'].createElement(
              'div',
              { className: 'row text-center troble_sec' },
              _react2['default'].createElement(
                'button',
                { id: 'left-help-button', onClick: this.modalpopup },
                'Kontakta oss '
              )
            ),
            _react2['default'].createElement(
              'div',
              { className: 'text-center troble_sec f17' },
              'Har du frågor eller stött på problem? Tryck på kontakt så ',
              _react2['default'].createElement('br', null),
              ' återkommer vi så fort som möjligt.'
            )
          )
        ),
        _react2['default'].createElement(
          'div',
          { id: 'bottomfoo' },
          _react2['default'].createElement(
            'span',
            null,
            'Copyright © ',
            this.state.date.getFullYear(),
            ' Digisolar.All rights reserved'
          )
        )
      );
    }
  }]);

  return Footer;
})(_react.Component);

exports['default'] = Footer;
module.exports = exports['default'];

},{"react":undefined,"react-modal":88}],22:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var formleft = {
    paddingLeft: 0,
    Forgot: {
        width: "50%"

    }, forgottop: {
        textAlign: "-webkit-center"
    }, fobutton: {
        borderRadius: "5px !important",
        height: "40px !important",
        margin: "9px 0px",
        background: "#000",
        fontSize: "16px",
        border: "none",
        marginRight: "10px"
    }
};

var Forgot = (function (_Component) {
    _inherits(Forgot, _Component);

    function Forgot(props) {
        _classCallCheck(this, Forgot);

        _get(Object.getPrototypeOf(Forgot.prototype), "constructor", this).call(this, props);
        this.handleChange = this.handleChange.bind(this);
    }

    _createClass(Forgot, [{
        key: "handleChange",
        value: function handleChange(event) {
            this.props.validateField(event.target.name, event.target.value);
        }
    }, {
        key: "loginvalidationverify",
        value: function loginvalidationverify() {
            if (this.state.emailValid && this.state.passwordValid) {}
        }
    }, {
        key: "render",
        value: function render() {
            return _react2["default"].createElement(
                "form",
                { onSubmit: this.props.forgotsubmit.bind(this), id: "login" },
                _react2["default"].createElement(
                    "h3",
                    null,
                    "Forgot Password"
                ),
                _react2["default"].createElement("input", { type: "email", name: "email", placeholder: "Email*", className: "form-control", onBlur: this.handleChange.bind(this) }),
                _react2["default"].createElement(
                    "div",
                    null,
                    _react2["default"].createElement("input", { type: "submit", className: "btn btn-info", style: formleft.fobutton, value: "Forgot Password" })
                )
            );
        }
    }]);

    return Forgot;
})(_react.Component);

var Forgotpassword = (function (_Component2) {
    _inherits(Forgotpassword, _Component2);

    function Forgotpassword(props) {
        _classCallCheck(this, Forgotpassword);

        _get(Object.getPrototypeOf(Forgotpassword.prototype), "constructor", this).call(this, props);
        this.state = {
            email: '',
            password: '',
            name: '',
            phone: '',
            emailValid: false,
            passwordValid: false,
            formErrors: { email: '', password: '', name: '', phone: '' },
            phonevalid: false,
            namevalid: false,
            loginValid: false,
            signupValid: false
        };
    }

    _createClass(Forgotpassword, [{
        key: "forgotsubmit",
        value: function forgotsubmit(event) {
            event.preventDefault();
            var main = this;
            var payload = {
                email: this.state.email,
                type: 'USER'
            };

            fetch('/forgotpass', {
                method: "post", headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                    "Access-Control-Request-Headers": "*",
                    "Access-Control-Request-Method": "*"
                }, body: 'json=' + JSON.stringify(payload)
            }).then(function (response) {
                return response;
            }).then(function (response) {
                return response.json();
            }).then(function (data) {
                if (data.status == 400) {
                    alert("Please Provide Registered Email Id");
                } else if (data.status == 200) {
                    var payload_data = { email: data.data.email, password: data.data.Password, name: data.data.name };
                    fetch('https://digitak.se/send_mail.php', {
                        method: "post", headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                            "Access-Control-Request-Headers": "*",
                            "Access-Control-Request-Method": "*"
                        }, body: 'json=' + JSON.stringify(payload_data)
                    }).then(function (response) {
                        return response;
                    }).then(function (response) {
                        return response.json();
                    }).then(function (data) {
                        if (data.status == 400) {
                            alert(data.message);
                        } else if (data.status == 200) {
                            alert(data.message);
                        }
                    });
                }
            });
        }
    }, {
        key: "signupsubmit",
        value: function signupsubmit(event) {
            event.preventDefault();
            alert("ok");
            this.compleatevalidation();
            // alert('A name was submitted: ' + this.state.email+'password'+this.state.email);
        }
    }, {
        key: "validateField",
        value: function validateField(fieldName, value) {
            var fieldValidationErrors = this.state.formErrors;
            var passwordValid = this.state.passwordValid;
            var phonevalid = this.state.phonevalid;
            var namevalid = this.state.namevalid;
            var emailValid = this.state.emailValid;
            switch (fieldName) {
                case 'email':
                    //emailValid = value.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i);
                    emailValid = value.length >= 6;
                    fieldValidationErrors.email = emailValid ? '' : ' is invalid';
                    this.setState({ formErrors: fieldValidationErrors, emailValid: emailValid, email: value });
                default:
                    break;
            }
        }
    }, {
        key: "render",
        value: function render() {
            return _react2["default"].createElement(
                "div",
                { className: "container", style: formleft.forgottop },
                _react2["default"].createElement("br", null),
                _react2["default"].createElement(
                    "div",
                    { className: "row", id: "box", style: formleft.Forgot },
                    _react2["default"].createElement(Forgot, { forgotsubmit: this.forgotsubmit.bind(this), validateField: this.validateField.bind(this),
                        EmailErrors: this.state.formErrors.email,
                        PasswordErrors: this.state.formErrors.password

                    })
                )
            );
        }
    }]);

    return Forgotpassword;
})(_react.Component);

exports["default"] = Forgotpassword;
module.exports = exports["default"];
/* <div className="col-sm-2"></div>
<div className="col-sm-4" style={formleft}><img src="./img/signup_bg.jpg" className="img-responsive" /></div><div className="col-sm-4"> */ /* <Signup signupnsubmit={this.signupsubmit}
                                                                                                                                                  nameErrors={this.state.formErrors.name}
                                                                                                                                                  PhoneErrors={this.state.formErrors.phone}
                                                                                                                                                  EmailErrors={this.state.formErrors.email}
                                                                                                                                                  PasswordErrors={this.state.formErrors.password}
                                                                                                                                                    signupValid={this.state.signupValid}
                                                                                                                                                  validateField={this.validateField.bind(this)}
                                                                                                                                                  /> */ /* <div className="col-sm-2"></div>
                                                                                                                                                           </div>*/

},{"react":undefined}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var Header = (function (_Component) {
  _inherits(Header, _Component);

  function Header(props) {
    _classCallCheck(this, Header);

    _get(Object.getPrototypeOf(Header.prototype), "constructor", this).call(this, props);
  }

  _createClass(Header, [{
    key: "logout",
    value: function logout() {
      localStorage.clear();
      location.href = "/";
    }
  }, {
    key: "render",
    value: function render() {
      return _react2["default"].createElement(
        "div",
        { className: "example2" },
        _react2["default"].createElement(
          "nav",
          { className: "navbar navbar-default custm-nav " },
          _react2["default"].createElement(
            "div",
            { className: "container" },
            _react2["default"].createElement(
              "div",
              { className: "navbar-header" },
              _react2["default"].createElement(
                "button",
                { type: "button", className: "navbar-toggle collapsed", "data-toggle": "collapse", "data-target": "#navbar2" },
                _react2["default"].createElement(
                  "span",
                  { className: "sr-only" },
                  "Toggle navigation"
                ),
                _react2["default"].createElement("span", { className: "icon-bar" }),
                _react2["default"].createElement("span", { className: "icon-bar" }),
                _react2["default"].createElement("span", { className: "icon-bar" })
              ),
              _react2["default"].createElement(
                "a",
                { className: "navbar-brand", href: "http://www.digisolar.se/" },
                _react2["default"].createElement("img", { src: "./img/white_logo.png", alt: "Dispute Bills" })
              )
            ),
            _react2["default"].createElement(
              "div",
              { id: "navbar2", className: "navbar-collapse collapse" },
              _react2["default"].createElement(Checklogin, { login: this.props.login, logout: this.logout.bind(this), headindex: this.props.headindex })
            )
          )
        )
      );
    }
  }]);

  return Header;
})(_react.Component);

var Checklogin = (function (_Component2) {
  _inherits(Checklogin, _Component2);

  function Checklogin(props) {
    _classCallCheck(this, Checklogin);

    _get(Object.getPrototypeOf(Checklogin.prototype), "constructor", this).call(this, props);
  }

  _createClass(Checklogin, [{
    key: "render",
    value: function render() {
      if (this.props.login == true) {
        return _react2["default"].createElement(
          "ul",
          { className: "nav navbar-nav navbar-right nav-ul" },
          _react2["default"].createElement(
            "li",
            null,
            " ",
            _react2["default"].createElement(
              "a",
              { href: "http://www.digisolar.se/", id: "header_menu" },
              "Tillbaka till startsidan"
            )
          )
        );
      } else {
        return _react2["default"].createElement(
          "ul",
          { className: "nav navbar-nav navbar-right nav-ul" },
          _react2["default"].createElement(
            "li",
            null,
            " ",
            _react2["default"].createElement(
              "a",
              { href: "http://www.digisolar.se//", id: "header_menu" },
              "Tillbaka till startsidan"
            )
          )
        );
      }
    }
  }]);

  return Checklogin;
})(_react.Component);

exports["default"] = Header;
module.exports = exports["default"];
/*}
<li className={this.props.headindex == 6 ? "active" : ""} > <a href="https://www.digitak.se/">Start</a></li>
<li className={this.props.headindex == 6 ? "active" : ""} > <a href="https://www.digitak.se/blogs/">Takbloggen</a></li>
<li><Link to='/Contractor'>För hantverkare</Link></li>
<li className={this.props.headindex == 6 ? "active" : ""} > <a href="https://digitak.se/about-us/">Om oss</a></li>
   <li className="dropdown">
 <a href="#" className="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Mitt konto <span className="caret"></span></a>
 <ul className="dropdown-menu" role="menu">
     <li><Link to='/Profile' >Mina takberäkningar</Link></li>
   <li><a onClick={this.props.logout}>Logga ut</a></li>
   </ul>
</li>
*/ /*}
   <li className={this.props.headindex == 6 ? "active" : ""} > <a href="https://www.digitak.se/">Start</a></li>
   <li className={this.props.headindex == 6 ? "active" : ""} > <a href="https://www.digitak.se/blogs/">Takbloggen</a></li>
   <li className={this.props.headindex == 8 ? "active" : ""} ><Link to='/Contractor'>För hantverkare</Link></li>
    <li className={this.props.headindex == 6 ? "active" : ""} > <a href="https://digitak.se/about-us/">Om oss</a></li>
   <li className={this.props.headindex == 5 ? "active" : ""} ><a href="https://www.digitak.se/vanliga-fragor/">Vanliga frågor</a></li>
    <li className={this.props.headindex == 2 ? "active" : ""} ><Link to='/login'>Logga in</Link></li>
   */

},{"react":undefined}],24:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRouterDom = require('react-router-dom');

//var mainurl=require('../config.js');

var formleft = {
    paddingLeft: 0
};

var Csignup = (function (_Component) {
    _inherits(Csignup, _Component);

    function Csignup(props) {
        _classCallCheck(this, Csignup);

        _get(Object.getPrototypeOf(Csignup.prototype), 'constructor', this).call(this, props);

        //  console.log(this.props)
    }

    _createClass(Csignup, [{
        key: 'handleChange',
        value: function handleChange(event) {

            this.props.validateField(event.target.name, event.target.value);
        }
    }, {
        key: 'render',
        value: function render() {

            return _react2['default'].createElement(
                'form',
                { onSubmit: this.props.signupnsubmit, id: 'Csignup' },
                _react2['default'].createElement(
                    'h3',
                    null,
                    'Register'
                ),
                _react2['default'].createElement(
                    'p',
                    null,
                    'Get Started already now'
                ),
                _react2['default'].createElement(
                    'div',
                    { className: 'alert alert-danger', hidden: this.props.responseerror == "" },
                    this.props.responseerror
                ),
                _react2['default'].createElement(
                    'p',
                    null,
                    'Account Information'
                ),
                _react2['default'].createElement('input', { type: 'text', name: 'name', className: 'form-control', placeholder: 'Name*', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement(
                    'span',
                    { id: 'error' },
                    this.props.nameErrors
                ),
                _react2['default'].createElement('input', { type: 'text', name: 'phone', className: 'form-control', placeholder: 'Phone*', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement(
                    'span',
                    { id: 'error' },
                    this.props.PhoneErrors
                ),
                _react2['default'].createElement('input', { type: 'email', name: 'email', className: 'form-control', placeholder: 'Email*', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement(
                    'span',
                    { id: 'error' },
                    this.props.EmailErrors
                ),
                _react2['default'].createElement('input', { type: 'password', name: 'password', className: 'form-control', placeholder: 'Password*', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement(
                    'span',
                    { id: 'error' },
                    this.props.PasswordErrors
                ),
                _react2['default'].createElement(
                    'p',
                    { className: 'accnt_info' },
                    'Contractor Information'
                ),
                _react2['default'].createElement('input', { type: 'text', name: 'businessname', className: 'form-control', placeholder: 'Business Name*', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement('input', { type: 'text', name: 'website', className: 'form-control', placeholder: 'Website(optional)', onBlur: this.handleChange.bind(this) }),
                _react2['default'].createElement('input', { type: 'text', name: 'address', className: 'form-control', placeholder: 'Address*', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement('input', { type: 'text', name: 'organizer', className: 'form-control', placeholder: 'Organizer*', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement(
                    'div',
                    null,
                    ' ',
                    _react2['default'].createElement('input', { type: 'checkbox', required: true }),
                    '   I Agree to ',
                    _react2['default'].createElement(
                        'a',
                        { href: '' },
                        'Terms & Conditions'
                    )
                ),
                _react2['default'].createElement(
                    'div',
                    null,
                    '  ',
                    _react2['default'].createElement('input', { type: 'submit', id: 'buttonnew', className: 'btn btn-info', value: 'Signup', disabled: this.props.nameErrors == "" && this.props.EmailErrors == "" && this.props.PhoneErrors == "" && this.props.PasswordErrors == "" ? false : true })
                )
            );
        }
    }]);

    return Csignup;
})(_react.Component);

var Contractorsignup = (function (_Component2) {
    _inherits(Contractorsignup, _Component2);

    function Contractorsignup(props) {
        _classCallCheck(this, Contractorsignup);

        _get(Object.getPrototypeOf(Contractorsignup.prototype), 'constructor', this).call(this, props);

        this.state = {
            email: '',
            password: '',
            name: '',
            phone: '',
            emailValid: false,
            passwordValid: false,
            formErrors: { email: '', password: '', name: '', phone: '' },
            phonevalid: false,
            namevalid: false,
            loginValid: false,
            signupValid: false,
            responseerror: "",
            website: "",
            businessname: "",
            address: "",
            organizer: ""

        };
    }

    _createClass(Contractorsignup, [{
        key: 'loginsubmit',
        value: function loginsubmit(event) {
            // this.compleatevalidation();
            // alert('A name was submitted: ' + this.state.email+'password'+this.state.email);
            event.preventDefault();
        }
    }, {
        key: 'signupsubmit',
        value: function signupsubmit(event) {
            var _this = this;

            event.preventDefault();

            if (this.state.formErrors.email == "" && this.state.formErrors.name == "" && this.state.formErrors.phone == "" && this.state.formErrors.password == "") {
                var payload;

                (function () {

                    var main = _this;
                    payload = {
                        name: _this.state.name,
                        email: _this.state.email,
                        password: _this.state.password,
                        phone: _this.state.phone,
                        businessname: _this.state.businessname,

                        website: _this.state.website,
                        address: _this.state.address,
                        organization_number: _this.state.organizer,
                        type: 'CONTRACTOR'

                    };

                    fetch('users/registeruser', {
                        method: "post", headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                            "Access-Control-Request-Headers": "*",
                            "Access-Control-Request-Method": "*"
                        }, body: 'json=' + JSON.stringify(payload)
                    }).then(function (response) {
                        return response;
                    }).then(function (response) {
                        return response.json();
                    }).then(function (data) {
                        if (data.status == 400) {
                            main.setState({
                                userdata: data.message,
                                responseerror: data.message
                            });
                        } else if (data.status == 200) {

                            alert("Contractor Registration Successfull");
                            location.href = "/Contractor";

                            /*
                                                    main.setState({
                                                        userdata: data.data,
                                                        responseerror: ""
                                                    })
                                                    localStorage.setItem('userdata', JSON.stringify(data.data));
                                                    localStorage.setItem('token', data.token);
                                                    location.href = "/";
                            */
                        }
                    });
                })();
            } else {
                    alert("Please Fill All Mandatory Fields ");
                }

            //  this.compleatevalidation();
            // alert('A name was submitted: ' + this.state.email+'password'+this.state.email);
        }
    }, {
        key: 'validateField',
        value: function validateField(fieldName, value) {
            console.log(fieldName + "-" + value);
            console.log(this.state.formErrors);

            var fieldValidationErrors = this.state.formErrors;
            var passwordValid = this.state.passwordValid;
            var phonevalid = this.state.phonevalid;
            var namevalid = this.state.namevalid;
            var emailValid = this.state.emailValid;

            switch (fieldName) {
                case 'email':

                    //emailValid = value.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i);
                    emailValid = value.length >= 6;

                    fieldValidationErrors.email = emailValid ? '' : 'Invalid Email';
                    this.setState({ formErrors: fieldValidationErrors, emailValid: emailValid, email: value });
                    console.log(emailValid);

                    break;
                case 'password':
                    passwordValid = value.length >= 6;
                    fieldValidationErrors.password = passwordValid ? '' : 'Password contain minimum 6 charecters';
                    this.setState({ formErrors: fieldValidationErrors, passwordValid: passwordValid, password: value });
                    console.log(passwordValid);
                    break;
                case 'phone':
                    phonevalid = value.length >= 10;
                    fieldValidationErrors.phone = phonevalid ? '' : ' Phone number contain minimum 10 charecters';
                    this.setState({ formErrors: fieldValidationErrors, phonevalid: phonevalid, phone: value });
                    console.log(phonevalid);
                    break;
                case 'name':
                    namevalid = value.length >= 3;
                    fieldValidationErrors.name = namevalid ? '' : ' name contain minimum 3 charecters';
                    this.setState({ formErrors: fieldValidationErrors, namevalid: namevalid, name: value });
                    console.log(namevalid);
                    break;
                case 'businessname':
                    this.setState({ businessname: value });
                    console.log(value);
                    break;
                case 'website':
                    this.setState({ website: value });
                    console.log(value);
                    break;
                case 'address':
                    this.setState({ address: value });
                    console.log(value);
                    break;
                case 'organizer':
                    this.setState({ organizer: value });
                    console.log(value);
                    break;
                default:
                    break;
            }
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'div',
                { className: 'container login-top' },
                _react2['default'].createElement('br', null),
                _react2['default'].createElement(
                    'div',
                    { className: 'row csignup', id: 'box' },
                    _react2['default'].createElement(
                        'div',
                        { className: 'col-sm-12  test1', style: formleft },
                        _react2['default'].createElement('img', { src: './img/contractor_signup-banner.jpg', className: 'img-responsive', alt: 'image' }),
                        _react2['default'].createElement(
                            'div',
                            { className: 'form_top1' },
                            _react2['default'].createElement(Csignup, { signupnsubmit: this.signupsubmit.bind(this),
                                nameErrors: this.state.formErrors.name,
                                PhoneErrors: this.state.formErrors.phone,
                                EmailErrors: this.state.formErrors.email,
                                PasswordErrors: this.state.formErrors.password,

                                signupValid: this.state.signupValid,
                                validateField: this.validateField.bind(this),
                                responseerror: this.state.responseerror

                            })
                        )
                    )
                )
            );
        }
    }]);

    return Contractorsignup;
})(_react.Component);

exports['default'] = Contractorsignup;
module.exports = exports['default'];
/*<Login loginsubmit={this.loginsubmit}  validateField={this.validateField.bind(this)} />*/

},{"react":undefined,"react-dom":undefined,"react-router-dom":104}],25:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRouterDom = require('react-router-dom');

//var mainurl=require('../config.js');

var formleft = {
    paddingLeft: 0
};

var Login = (function (_Component) {
    _inherits(Login, _Component);

    function Login(props) {
        _classCallCheck(this, Login);

        _get(Object.getPrototypeOf(Login.prototype), 'constructor', this).call(this, props);
        // this.state = { email: '', password: '', emailValid: false, passwordValid: false, formErrors: { email: '', password: '' } };

        this.handleChange = this.handleChange.bind(this);
    }

    _createClass(Login, [{
        key: 'handleChange',
        value: function handleChange(event) {

            this.props.validateField(event.target.name, event.target.value);
        }
    }, {
        key: 'loginvalidationverify',
        value: function loginvalidationverify() {
            if (this.state.emailValid && this.state.passwordValid) {}
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'form',
                { onSubmit: this.props.loginsubmit.bind(this), id: 'login', className: 'form-horizontal' },
                _react2['default'].createElement(
                    'div',
                    { className: 'alert alert-danger', hidden: this.props.responseerror == "" },
                    this.props.responseerror
                ),
                _react2['default'].createElement(
                    'div',
                    { className: 'form-group' },
                    _react2['default'].createElement('input', { type: 'email', name: 'email', placeholder: 'Email*', className: 'form-control input-bg', onBlur: this.handleChange.bind(this), required: true }),
                    _react2['default'].createElement(
                        'span',
                        { id: 'error' },
                        this.props.EmailErrors
                    )
                ),
                _react2['default'].createElement(
                    'div',
                    { className: 'form-group' },
                    _react2['default'].createElement('input', { type: 'password', placeholder: 'Password*', className: 'form-control input-bg1', name: 'password', onBlur: this.handleChange.bind(this), required: true }),
                    _react2['default'].createElement(
                        'span',
                        { id: 'error' },
                        this.props.PasswordErrors
                    )
                ),
                _react2['default'].createElement(
                    'div',
                    { className: 'form-group' },
                    _react2['default'].createElement(
                        'p',
                        { className: 'text-right' },
                        '  ',
                        _react2['default'].createElement(
                            'a',
                            { href: '/Forgotpassword' },
                            _react2['default'].createElement(
                                'u',
                                null,
                                'Forgot Password ?'
                            ),
                            ' '
                        )
                    )
                ),
                _react2['default'].createElement(
                    'div',
                    { className: 'form-group' },
                    ' ',
                    _react2['default'].createElement(
                        'div',
                        null,
                        ' ',
                        _react2['default'].createElement('input', { type: 'submit', className: 'btn btn-info', id: 'buttonnew', value: 'Login' }),
                        _react2['default'].createElement(
                            _reactRouterDom.Link,
                            { to: '/Register' },
                            _react2['default'].createElement(
                                'button',
                                { className: 'signup-btn' },
                                'signup here ?'
                            )
                        )
                    )
                )
            );
        }
    }]);

    return Login;
})(_react.Component);

var LoginSignup = (function (_Component2) {
    _inherits(LoginSignup, _Component2);

    function LoginSignup(props) {
        _classCallCheck(this, LoginSignup);

        _get(Object.getPrototypeOf(LoginSignup.prototype), 'constructor', this).call(this, props);

        this.state = {
            email: '',
            password: '',
            name: '',
            phone: '',
            emailValid: false,
            passwordValid: false,
            formErrors: { email: '', password: '', name: '', phone: '' },
            phonevalid: false,
            namevalid: false,
            loginValid: false,
            signupValid: false,
            responseerror: ""
        };
    }

    _createClass(LoginSignup, [{
        key: 'loginsubmit',
        value: function loginsubmit(event) {
            event.preventDefault();

            var main = this;

            var payload = {
                email: this.state.email,
                password: this.state.password,
                type: 'USER'
            };

            fetch('users/userLogin', {
                method: "post", headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                    "Access-Control-Request-Headers": "*",
                    "Access-Control-Request-Method": "*"
                }, body: 'json=' + JSON.stringify(payload)
            }).then(function (response) {
                return response;
            }).then(function (response) {
                return response.json();
            }).then(function (data) {

                if (data.status == 400) {
                    main.setState({
                        userdata: data.message,
                        responseerror: data.message
                    });
                } else if (data.status == 200) {
                    var userdata;
                    if (data.data.type == "USER") {
                        userdata = { "type": data.data.type,
                            "estdet": data.data.estdet,
                            "updateon": data.data.updateon,
                            "cratedon": data.data.cratedon,
                            "email": data.data.email, "phone": data.data.phone, "name": data.data.name, "token": data.token };
                    } else if (data.data.type == "CONTRACTOR") {
                        userdata = { "type": data.data.type,
                            "organization_number": data.data, organization_number: organization_number,
                            "address": data.data.address,
                            "website": data.data.website,
                            "businessname": data.data.businessname,
                            "updateon": data.data.updateon,
                            "cratedon": data.data.cratedon,
                            "email": data.data.email, "phone": data.data.phone, "name": data.data.name, "token": data.toke };
                    }

                    localStorage.setItem('userdata', JSON.stringify(userdata));
                    localStorage.setItem('token', data.token);
                    main.setState({
                        userdata: data.data,
                        responseerror: ""
                    });

                    location.href = "/";
                }
            });
        }
    }, {
        key: 'signupsubmit',
        value: function signupsubmit(event) {
            event.preventDefault();
            alert("ok");
            this.compleatevalidation();
            // alert('A name was submitted: ' + this.state.email+'password'+this.state.email);
        }
    }, {
        key: 'validateField',
        value: function validateField(fieldName, value) {

            var fieldValidationErrors = this.state.formErrors;
            var passwordValid = this.state.passwordValid;
            var phonevalid = this.state.phonevalid;
            var namevalid = this.state.namevalid;
            var emailValid = this.state.emailValid;

            switch (fieldName) {
                case 'email':

                    //emailValid = value.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i);
                    emailValid = value.length >= 6;

                    fieldValidationErrors.email = emailValid ? '' : 'Invalid email ';
                    this.setState({ formErrors: fieldValidationErrors, emailValid: emailValid, email: value });

                    break;
                case 'password':
                    passwordValid = value.length >= 6;
                    fieldValidationErrors.password = passwordValid ? '' : 'Password have minimum 6 charecters ';
                    this.setState({ formErrors: fieldValidationErrors, passwordValid: passwordValid, password: value });
                    break;

                default:
                    break;
            }
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'div',
                null,
                _react2['default'].createElement(
                    'div',
                    { className: 'container-fluid bg-white' },
                    _react2['default'].createElement(
                        'div',
                        { className: 'shdow_wt' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'row ' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 text-center login_txt' },
                                _react2['default'].createElement('img', { src: './img/disolar_logo_black.png', alt: 'image' }),
                                _react2['default'].createElement(
                                    'h3',
                                    null,
                                    'Välkommen tillbaka!'
                                ),
                                _react2['default'].createElement(
                                    'h4',
                                    null,
                                    'Logga in för att få tillgång till dinå prisuppskattningar'
                                )
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            { className: 'row text-center ' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12' },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'form_top1' },
                                    _react2['default'].createElement(Login, { loginsubmit: this.loginsubmit.bind(this), validateField: this.validateField.bind(this),
                                        EmailErrors: this.state.formErrors.email,
                                        PasswordErrors: this.state.formErrors.password,
                                        responseerror: this.state.responseerror

                                    })
                                )
                            )
                        )
                    ),
                    _react2['default'].createElement(
                        'div',
                        { className: 'row' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'btmimg' },
                            _react2['default'].createElement('img', { src: './img/bootm-im.jpg', className: 'img-responsive', alt: 'image' })
                        )
                    )
                )
            );
        }
    }]);

    return LoginSignup;
})(_react.Component);

exports['default'] = LoginSignup;
module.exports = exports['default'];
/* <Signup signupnsubmit={this.signupsubmit}
   nameErrors={this.state.formErrors.name}
   PhoneErrors={this.state.formErrors.phone}
   EmailErrors={this.state.formErrors.email}
   PasswordErrors={this.state.formErrors.password}
     signupValid={this.state.signupValid}
   validateField={this.validateField.bind(this)}
   /> */

},{"react":undefined,"react-dom":undefined,"react-router-dom":104}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRouterDom = require('react-router-dom');

//var mainurl=require('../config.js');

var formleft = {
    paddingLeft: 0
};

var Login = (function (_Component) {
    _inherits(Login, _Component);

    function Login(props) {
        _classCallCheck(this, Login);

        _get(Object.getPrototypeOf(Login.prototype), 'constructor', this).call(this, props);
        // this.state = { email: '', password: '', emailValid: false, passwordValid: false, formErrors: { email: '', password: '' } };

        this.handleChange = this.handleChange.bind(this);
        //  this.loginsubmit = this.loginsubmit.bind(this);
    }

    _createClass(Login, [{
        key: 'handleChange',
        value: function handleChange(event) {

            this.props.validateField(event.target.name, event.target.value);

            //this.setState({[event.target.name]: event.target.value});
            /* console.log(event.target.name);
                       console.log(event.target.value);
            */
            // console.log(this.props.state);
            //this.setState({ email: event.target.value, name: event.target.name });
            //validateField(event.target.name,event.target.value);
            //this.setState([event.target.name])this.validateField(event.target.name, event.target.value)
            //console.log(:event.target.value,this.state.formErrors);
            //  alert(event.target.name);
        }

        /*
            loginsubmit(event) {
                this.compleatevalidation();
                // alert('A name was submitted: ' + this.state.email+'password'+this.state.email);
                event.preventDefault();
            }
        */
    }, {
        key: 'loginvalidationverify',
        value: function loginvalidationverify() {
            if (this.state.emailValid && this.state.passwordValid) {
                console.log("success");
            }
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'form',
                { onSubmit: this.props.loginsubmit.bind(this), id: 'login' },
                _react2['default'].createElement(
                    'h3',
                    null,
                    'Login'
                ),
                _react2['default'].createElement('input', { type: 'email', name: 'email', placeholder: 'Email*', className: 'form-control input-bg', onBlur: this.handleChange.bind(this) }),
                _react2['default'].createElement('input', { type: 'password', placeholder: 'Password*', className: 'form-control input-bg1', name: 'password', onBlur: this.handleChange.bind(this) }),
                _react2['default'].createElement(
                    'p',
                    { className: 'text-right' },
                    '  ',
                    _react2['default'].createElement(
                        'a',
                        { href: '' },
                        _react2['default'].createElement(
                            'u',
                            null,
                            'Forgot Password ?'
                        ),
                        ' '
                    )
                ),
                _react2['default'].createElement(
                    'div',
                    null,
                    ' ',
                    _react2['default'].createElement('input', { type: 'submit', className: 'btn btn-info', id: 'buttonnew', value: 'Login' }),
                    ' (or ) ',
                    _react2['default'].createElement(
                        'a',
                        { href: '' },
                        'signup here ? '
                    )
                )
            );
        }
    }]);

    return Login;
})(_react.Component);

var Signup = (function (_Component2) {
    _inherits(Signup, _Component2);

    function Signup(props) {
        _classCallCheck(this, Signup);

        _get(Object.getPrototypeOf(Signup.prototype), 'constructor', this).call(this, props);

        //  console.log(this.props)
    }

    _createClass(Signup, [{
        key: 'handleChange',
        value: function handleChange(event) {

            this.props.validateField(event.target.name, event.target.value);
        }
    }, {
        key: 'render',
        value: function render() {

            return _react2['default'].createElement(
                'form',
                { onSubmit: this.props.signupnsubmit, id: 'signup', className: 'form-horizontal ' },
                _react2['default'].createElement('input', { type: 'text', name: 'name', className: 'form-control input-namebg', placeholder: 'Name*', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement(
                    'span',
                    { id: 'error' },
                    this.props.nameErrors
                ),
                _react2['default'].createElement('input', { type: 'text', name: 'phone', className: 'form-control input-phonebg', placeholder: 'Phone*', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement(
                    'span',
                    { id: 'error' },
                    this.props.PhoneErrors
                ),
                _react2['default'].createElement('input', { type: 'email', name: 'email', className: 'form-control input-bg', placeholder: 'Email*', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement(
                    'span',
                    { id: 'error' },
                    this.props.EmailErrors
                ),
                _react2['default'].createElement('input', { type: 'password', name: 'password', className: 'form-control input-bg1', placeholder: 'Password*', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement(
                    'span',
                    { id: 'error' },
                    this.props.PasswordErrors
                ),
                _react2['default'].createElement(
                    'div',
                    null,
                    ' ',
                    _react2['default'].createElement('input', { type: 'checkbox', required: true }),
                    '   ',
                    _react2['default'].createElement(
                        'label',
                        null,
                        'I Agree to ',
                        _react2['default'].createElement(
                            'a',
                            { href: '' },
                            'Terms & Conditions'
                        )
                    )
                ),
                _react2['default'].createElement('br', null),
                _react2['default'].createElement(
                    'div',
                    null,
                    _react2['default'].createElement('input', { type: 'submit', id: 'buttonnew', className: 'btn btn-info', value: 'Signup', disabled: this.props.nameErrors == "" && this.props.EmailErrors == "" && this.props.PhoneErrors == "" && this.props.PasswordErrors == "" ? false : true }),
                    _react2['default'].createElement(
                        _reactRouterDom.Link,
                        { to: 'login' },
                        _react2['default'].createElement(
                            'button',
                            { type: 'btn', className: 'signup-btn' },
                            'Sign in here'
                        ),
                        ' '
                    )
                ),
                _react2['default'].createElement('br', null)
            );
        }
    }]);

    return Signup;
})(_react.Component);

var Registration = (function (_Component3) {
    _inherits(Registration, _Component3);

    function Registration(props) {
        _classCallCheck(this, Registration);

        _get(Object.getPrototypeOf(Registration.prototype), 'constructor', this).call(this, props);

        this.state = {
            email: '',
            password: '',
            name: '',
            phone: '',
            emailValid: false,
            passwordValid: false,
            formErrors: { email: '', password: '', name: '', phone: '' },
            phonevalid: false,
            namevalid: false,
            loginValid: false,
            signupValid: false,
            responseerror: ""
        };
    }

    _createClass(Registration, [{
        key: 'loginsubmit',
        value: function loginsubmit(event) {
            // this.compleatevalidation();
            // alert('A name was submitted: ' + this.state.email+'password'+this.state.email);
            event.preventDefault();
        }
    }, {
        key: 'signupsubmit',
        value: function signupsubmit(event) {
            var _this = this;

            event.preventDefault();

            if (this.state.formErrors.email == "" && this.state.formErrors.name == "" && this.state.formErrors.phone == "" && this.state.formErrors.password == "") {
                var payload;

                (function () {
                    alert("success");

                    var main = _this;
                    payload = {
                        name: _this.state.name,
                        email: _this.state.email,
                        password: _this.state.password,
                        phone: _this.state.phone,
                        type: 'USER'
                    };

                    fetch('users/registeruser', {
                        method: "post", headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                            "Access-Control-Request-Headers": "*",
                            "Access-Control-Request-Method": "*"
                        }, body: 'json=' + JSON.stringify(payload)
                    }).then(function (response) {
                        return response;
                    }).then(function (response) {
                        return response.json();
                    }).then(function (data) {
                        console.log(data);
                        if (data.status == 400) {
                            main.setState({
                                userdata: data.message,
                                responseerror: data.message
                            });
                        } else if (data.status == 200) {

                            main.setState({
                                userdata: data.data,
                                responseerror: ""
                            });
                            localStorage.setItem('userdata', JSON.stringify(data.data));
                            localStorage.setItem('token', data.token);
                            location.href = "/";
                        }
                    });
                })();
            } else {
                alert("Please Fill All Mandatory Fields ");
            }

            //  this.compleatevalidation();
            // alert('A name was submitted: ' + this.state.email+'password'+this.state.email);
        }
    }, {
        key: 'validateField',
        value: function validateField(fieldName, value) {
            console.log(fieldName + "-" + value);
            console.log(this.state.formErrors);

            var fieldValidationErrors = this.state.formErrors;
            var passwordValid = this.state.passwordValid;
            var phonevalid = this.state.phonevalid;
            var namevalid = this.state.namevalid;
            var emailValid = this.state.emailValid;

            switch (fieldName) {
                case 'email':

                    //emailValid = value.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i);
                    emailValid = value.length >= 6;

                    fieldValidationErrors.email = emailValid ? '' : 'Invalid Email';
                    this.setState({ formErrors: fieldValidationErrors, emailValid: emailValid, email: value });
                    console.log(emailValid);

                    break;
                case 'password':
                    passwordValid = value.length >= 6;
                    fieldValidationErrors.password = passwordValid ? '' : 'Password contain minimum 6 charecters';
                    this.setState({ formErrors: fieldValidationErrors, passwordValid: passwordValid, password: value });
                    console.log(passwordValid);
                    break;
                case 'phone':
                    phonevalid = value.length >= 10;
                    fieldValidationErrors.phone = phonevalid ? '' : ' Phone number contain minimum 10 charecters';
                    this.setState({ formErrors: fieldValidationErrors, phonevalid: phonevalid, phone: value });
                    console.log(phonevalid);
                    break;
                case 'name':
                    namevalid = value.length >= 3;
                    fieldValidationErrors.name = namevalid ? '' : 'Name contain minimum 3 charecters';
                    this.setState({ formErrors: fieldValidationErrors, namevalid: namevalid, name: value });
                    console.log(namevalid);
                    break;
                default:
                    break;
            }
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'div',
                null,
                _react2['default'].createElement(
                    'div',
                    { className: 'container-fluid bg-white' },
                    _react2['default'].createElement(
                        'div',
                        { className: 'shdow_wt' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'row ' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 text-center login_txt' },
                                _react2['default'].createElement('img', { src: './img/disolar_logo_black.png', alt: 'image' }),
                                _react2['default'].createElement(
                                    'h3',
                                    null,
                                    'DIN PRISUPPSKATTNING ÄR FÄRDIG!'
                                ),
                                _react2['default'].createElement(
                                    'h5',
                                    null,
                                    _react2['default'].createElement(
                                        'b',
                                        null,
                                        'VI HAR NU GENERERAT DIN PRISUPPSKATTNING BASERAT PÅ FÖLJANDE UPPGIFTER'
                                    )
                                ),
                                _react2['default'].createElement(
                                    'h4',
                                    null,
                                    _react2['default'].createElement(
                                        'b',
                                        null,
                                        'Logga in eller registrera ett konto för att få tillgång till din prisuppskattning'
                                    )
                                )
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            { className: 'row' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12' },
                                _react2['default'].createElement(Signup, { signupnsubmit: this.signupsubmit.bind(this),
                                    nameErrors: this.state.formErrors.name,
                                    PhoneErrors: this.state.formErrors.phone,
                                    EmailErrors: this.state.formErrors.email,
                                    PasswordErrors: this.state.formErrors.password,

                                    signupValid: this.state.signupValid,
                                    validateField: this.validateField.bind(this),
                                    responseerror: this.state.responseerror

                                }),
                                '                       '
                            )
                        )
                    ),
                    _react2['default'].createElement(
                        'div',
                        { className: 'row' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'btmimg' },
                            _react2['default'].createElement('img', { src: './img/bootm-im.jpg', className: 'img-responsive', alt: 'image' })
                        )
                    )
                )
            );
        }
    }]);

    return Registration;
})(_react.Component);

exports['default'] = Registration;
module.exports = exports['default'];
/* <div className="alert alert-danger" hidden={(this.props.responseerror=="")}> 
{this.props.responseerror}
</div>*/ /*<div className="col-sm-12 text-center registrn_add  login_txt">
            <p><span className="addres_txt">Address :</span> dummy text of the printing and t</p>
            <p><span className="addres_txt">Address :</span> dummy text of the printing and t</p>
            <p><span className="addres_txt">Address :</span> dummy text of the printing and t</p>
            <p><span className="addres_txt">Address :</span> dummy text of the printing and t</p>
             <h4>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</h4>
         </div>*/

},{"react":undefined,"react-dom":undefined,"react-router-dom":104}],27:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _os = require('os');

var matstyle = {
    padding: 10,
    margin: 5,
    border: "1px solid #ccc",
    textAlign: "center",
    formmargin: { margin: 10, color: "#fff" },
    signup: {
        color: "#5bc0de",
        cursor: "pointer"
    },
    h2: {
        cursor: "pointer"
    }
};

var Roofprice = 0,
    costofmaterial = 0,
    costoflabour = 0,
    costofcontainer = 0,
    Area = 0;

var LoginEstimate = (function (_Component) {
    _inherits(LoginEstimate, _Component);

    function LoginEstimate(props) {
        _classCallCheck(this, LoginEstimate);

        window.scrollTo(0, 0);
        _get(Object.getPrototypeOf(LoginEstimate.prototype), 'constructor', this).call(this, props);
        this.state = {
            stepIndex: 1,
            finished: false,
            clear: {},
            previous: {},
            next: {},
            haveaccount: false,
            email: '',
            password: '',
            name: '',
            phone: '',
            emailValid: false,
            passwordValid: false,
            formErrors: { email: '', password: '', name: '', phone: '' },
            phonevalid: false,
            namevalid: false,
            loginValid: false,
            signupValid: false,
            rooferrormessage: "",
            responceerror: "",
            responceerrorlogin: "",
            responceerrorsignup: "",
            date: new Date(),
            loaded: false,
            text: 'Estimerar pris...'
        };
        this.changeRoute = this.changeRoute.bind(this);
        costofmaterial = parseFloat(this.props.materialcost) * parseFloat(this.props.area);
        costoflabour = parseFloat(this.props.roofstylecost) * parseFloat(this.props.area);
        //area = parseFloat(this.props.area);
        function degrees_to_radians(degrees) {
            var pi = Math.PI;
            return degrees * (pi / 180);
        }
        var cosangle = Math.cos(degrees_to_radians(25));
        Area = this.props.area / cosangle;
        if (this.props.material === "Papptak") {
            // costofmaterial = 85 * parseFloat(Area);
            costofmaterial = 85 * parseFloat(Area);
            if (Area < 70) {
                costoflabour = 220 * parseFloat(Area);
            } else if (Area > 70 && Area < 1000) {
                costoflabour = 190 * parseFloat(Area);
            } else if (Area > 1000) {
                costoflabour = 100 * parseFloat(Area);
            }
        }
        costofcontainer = 8000;
        Roofprice = parseFloat(costofcontainer) + parseFloat(costoflabour) + parseFloat(costofmaterial);
        // if (this.props.logedin === true) {
        //     if (this.props.area === "" || this.props.style === "" || this.props.material ==="") {
        //         alert("Something Went wrong please try again");
        //     } else {
        //         this.SendEstimation(this);
        //     }
        // }
        var Total_roof_area = sessionStorage.getItem('roofarea');
        var solar_roof_area = JSON.parse(sessionStorage.getItem('roofAreaPkt')).normalRoofArea;
        var normal_roof_area = Total_roof_area - solar_roof_area;
        var cost_of_solar_roof_tiles = solar_roof_area * this.props.panel_cost;
        var cost_of_normal_roof_tiles = normal_roof_area * this.props.panel_cost;
        var Cost_of_material = cost_of_solar_roof_tiles + cost_of_normal_roof_tiles;
        var labor_cost = Total_roof_area * 250;
        var floorPlan = this.props.floors.split("plan")[0].trim();
        var floor = parseInt(floorPlan);
        var skylift = 0;
        if (floor <= 2) {
            skylift = 0;
        } else if (floor >= 3) {
            skylift = 5200;
        }
        var Cost_of_electrician = 6000;
        var Cost_of_cable = 540;
        var Cost_of_transport = 10000;
        var Cost_of_container = 10000;
        var capcity_price = 0;
        var cost_of_invertor = 0;
        if (this.props.pannel_name === 'Midsommar soltak') {

            cost_of_invertor = Total_roof_area * this.props.pannel_capacity;
        } else if (this.props.pannel_name == 'Bendars sunwave palema') {
            cost_of_invertor = Total_roof_area * this.props.pannel_capacity;
        }
        if (cost_of_invertor < 4000) {
            capcity_price = 9560;
        }
        if (cost_of_invertor > 4001 && cost_of_invertor < 5000) {
            capcity_price = 9660;
        }
        if (cost_of_invertor > 5001 && cost_of_invertor < 7000) {
            capcity_price = 11500;
        }
        if (cost_of_invertor > 7001 && cost_of_invertor < 8000) {
            capcity_price = 11830;
        }
        if (cost_of_invertor > 8001 && cost_of_invertor < 10000) {
            capcity_price = 12760;
        }
        if (cost_of_invertor > 10001 && cost_of_invertor < 15000) {
            capcity_price = 11350;
        }
        if (cost_of_invertor > 15001 && cost_of_invertor < 17000) {
            capcity_price = 11620;
        }
        if (cost_of_invertor > 17001 && cost_of_invertor < 25000) {
            capcity_price = 16100;
        }
        if (cost_of_invertor > 25001 && cost_of_invertor < 27600) {
            capcity_price = 16100;
        }
        if (cost_of_invertor > 27600) {
            capcity_price = 20000;
        }

        var Cost_of_solar_roof_installation_before_tax = Cost_of_material + cost_of_invertor + Cost_of_cable + Cost_of_container + Cost_of_transport + Cost_of_electrician + skylift;
        var Digisolar_commission = Cost_of_solar_roof_installation_before_tax * 15 / 100;
        if (Digisolar_commission > 15000) {
            Digisolar_commission = 15000;
        }
        var Cost_of_solar_roof_installatio_with_commission = Cost_of_solar_roof_installation_before_tax + Digisolar_commission;
        var Tax_on_solar_roof_installation = Cost_of_solar_roof_installatio_with_commission * 25 / 100;
        var Cost_of_solar_roof_installation_after_tax = Cost_of_solar_roof_installatio_with_commission + Tax_on_solar_roof_installation;
        var Display_cost_of_solar_roof_installation = Cost_of_solar_roof_installation_after_tax * 93 / 100;
        var Solar_incentives = Display_cost_of_solar_roof_installation * 20 / 100;
        var Battery_cost = 84485;

        var Tax_on_battery = 84485 * 25 / 100;

        var Battery_cost_after_tax = Battery_cost + Tax_on_battery;
        sessionStorage.setItem('battery', Battery_cost_after_tax);
        var Battery_incentives = 50000;
        var Cost_of_solar_roof_installation_after_incentives = Display_cost_of_solar_roof_installation - Solar_incentives;
        sessionStorage.setItem('solarIncentives', Cost_of_solar_roof_installation_after_incentives);
        var Cost_of_battery_after_incentives = Battery_cost_after_tax - Battery_incentives;
        sessionStorage.setItem('batteryIncentives', Cost_of_battery_after_incentives);
        var Final_cost = Cost_of_solar_roof_installation_after_incentives + Cost_of_battery_after_incentives;
        sessionStorage.setItem('final_cost', Final_cost);
    }

    _createClass(LoginEstimate, [{
        key: 'loginsubmit',
        value: function loginsubmit(event) {
            event.preventDefault();
            var main = this;
            var payload = {
                email: this.state.email,
                phone: this.state.phone,
                // password: this.state.password,
                password: '123456',
                type: 'USER'
            };

            console.log(JSON.stringify(payload));
            fetch('http://localhost:80/users/userLogin', {
                method: "post", headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                    "Access-Control-Request-Headers": "*",
                    "Access-Control-Request-Method": "*"
                }, body: 'json=' + JSON.stringify(payload)
            }).then(function (response) {
                return response;
            }).then(function (response) {
                console.log(response);
                return response.json();
            }).then(function (data) {
                if (data.status === 400) {
                    main.setState({
                        responceerrorlogin: data.message
                    });
                } else if (data.status === 200) {
                    var userdata;
                    main.setState({
                        responceerrorlogin: ""
                    });

                    if (data.data.type === "USER") {
                        userdata = {
                            "type": data.data.type,
                            "estdet": data.data.estdet,
                            "updateon": data.data.updateon,
                            "cratedon": data.data.cratedon,
                            "email": data.data.email, "phone": data.data.phone, "name": data.data.name, "token": data.token
                        };
                        // var payload = {
                        //     area: main.props.area,
                        //     coordinates: main.props.coordinates,
                        //     slope: main.props.style,
                        //     estimatedamount: Roofprice,
                        //     material: main.props.material,
                        //     slopecost: main.props.roofstylecost,
                        //     materialcost: main.props.materialcost,
                        //     labour: costoflabour,
                        //     address: main.props.address,
                        //     email: data.data.email,
                        //     property_type: main.props.property_type,
                        //     floors: main.props.floors,
                        //     roof_pitch: main.props.roof_pitch,
                        //     power: main.props.power,
                        //     e_consumption: main.props.e_consumption
                        // }
                        // fetch('users/estimation', {
                        //     method: "post",
                        //     crossDomain: true,
                        //     headers: {
                        //         'Content-Type': 'application/x-www-form-urlencoded',
                        //         "Access-Control-Request-Headers": "*",
                        //         "Access-Control-Request-Method": "*",

                        //     }, body: 'json=' + JSON.stringify(payload) + '&token=' + data.token
                        // }).then(function (response) {
                        //     return response;
                        // }).then(function (response) {
                        //     return response.json();
                        // }).then(function (data) {

                        //     if (data.status === 400) {
                        //         main.setState({
                        //             responceerror: data.message
                        //         })
                        //     } else if (data.status === 200) {

                        //         main.setState({
                        //             responceerror: ""
                        //         })
                        //     }
                        // })
                    } else if (data.data.type === "CONTRACTOR") {
                            userdata = {
                                "type": data.data.type,
                                "organization_number": data.data, organization_number: organization_number,
                                "address": data.data.address,
                                "website": data.data.website,
                                "businessname": data.data.businessname,
                                "updateon": data.data.updateon,
                                "cratedon": data.data.cratedon,
                                "email": data.data.email, "phone": data.data.phone, "name": data.data.name, "token": data.token
                            };
                        } //         estimation
                    localStorage.setItem('userdata', JSON.stringify(userdata));
                    localStorage.setItem('token', data.token);
                    main.setState({
                        userdata: data.data
                    });
                    main.props.loginmodefun(true);
                    main.changeRoute(main);
                }
            })['catch'](function (err) {
                console.log(err);
            });
        }
    }, {
        key: 'changeRoute',
        value: function changeRoute() {
            this.props.areaEstimetack(this);
        }
    }, {
        key: 'signupsubmit',
        value: function signupsubmit(event) {
            var _this = this;

            event.preventDefault();
            if (this.state.formErrors.email === "" && this.state.formErrors.name === "" && this.state.formErrors.phone === "" && this.state.formErrors.password === "") {
                var est;
                var payload;

                (function () {

                    var main = _this;
                    est = {
                        area: _this.props.area,
                        coordinates: _this.props.coordinates,
                        slope: _this.props.style,
                        estimatedamount: Roofprice,
                        material: _this.props.material,
                        slopecost: _this.props.roofstylecost,
                        materialcost: _this.props.materialcost,
                        labour: costoflabour,
                        address: _this.props.address
                    };
                    payload = {
                        name: _this.state.name,
                        email: _this.state.email,
                        password: _this.state.password,
                        phone: _this.state.phone,
                        type: 'USER',
                        estdet: est
                    };

                    fetch('users/registeruser', {
                        method: "post", headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                            "Access-Control-Request-Headers": "*",
                            "Access-Control-Request-Method": "*"
                        }, body: 'json=' + JSON.stringify(payload)
                    }).then(function (response) {
                        return response;
                    }).then(function (response) {
                        return response.json();
                    }).then(function (data) {
                        if (data.status === 400) {
                            main.setState({
                                responceerrorsignup: data.message
                            });
                        } else if (data.status === 200) {
                            localStorage.setItem('userdata', JSON.stringify(data.data));
                            localStorage.setItem('token', data.data.token);

                            main.setState({
                                userdata: data.data,
                                responceerrorsignup: ""
                            });
                            main.props.loginmodefun(true);
                        }
                    });
                })();
            } else {
                alert("Please Fill All Mandatory Fields ");
            }
        }
    }, {
        key: 'haveaccountfunction',
        value: function haveaccountfunction() {
            this.setState({
                haveaccount: !this.state.haveaccount
            });
        }
    }, {
        key: 'validateField',
        value: function validateField(fieldName, value) {
            var fieldValidationErrors = this.state.formErrors;
            var passwordValid = this.state.passwordValid;
            var phonevalid = this.state.phonevalid;
            var namevalid = this.state.namevalid;
            var emailValid = this.state.emailValid;

            switch (fieldName) {
                case 'email':
                    //emailValid = value.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i);
                    emailValid = value.length >= 6;
                    fieldValidationErrors.email = emailValid ? '' : ' is invalid';
                    this.setState({ formErrors: fieldValidationErrors, emailValid: emailValid, email: value });
                    break;
                case 'password':
                    passwordValid = value.length >= 6;
                    fieldValidationErrors.password = passwordValid ? '' : ' is too short';
                    this.setState({ formErrors: fieldValidationErrors, passwordValid: passwordValid, password: value });
                    break;
                case 'phone':
                    phonevalid = value.length === 10;
                    fieldValidationErrors.phone = phonevalid ? '' : 'phone number  is too short';
                    this.setState({ formErrors: fieldValidationErrors, phonevalid: phonevalid, phone: value });
                    break;
                case 'name':
                    namevalid = value.length >= 6;
                    fieldValidationErrors.name = namevalid ? '' : ' is too short';
                    this.setState({ formErrors: fieldValidationErrors, namevalid: namevalid, name: value });
                    break;
                default:
                    break;
            }
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'div',
                null,
                _react2['default'].createElement(
                    'div',
                    { className: 'container-fluid bg-white' },
                    _react2['default'].createElement(
                        'div',
                        { className: 'shdow_wt' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'row ' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 text-center login_txt' },
                                _react2['default'].createElement('img', { src: './img/disolar_logo_black.png', alt: 'logo' }),
                                _react2['default'].createElement(
                                    'h3',
                                    null,
                                    'Din prisuppskattning är färdig!'
                                ),
                                _react2['default'].createElement(
                                    'h4',
                                    null,
                                    'Vi har nu genererat din prisuppskattning baserat på följande uppgifter:'
                                )
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 text-center registrn_add  login_txt' },
                                _react2['default'].createElement(
                                    'p',
                                    null,
                                    _react2['default'].createElement(
                                        'span',
                                        { className: 'addres_txt' },
                                        'Adress :'
                                    ),
                                    ' ',
                                    this.props.address
                                ),
                                _react2['default'].createElement(
                                    'p',
                                    null,
                                    _react2['default'].createElement(
                                        'span',
                                        { className: 'addres_txt' },
                                        'Fastighetstyp :'
                                    ),
                                    ' ',
                                    this.props.property_type
                                ),
                                _react2['default'].createElement(
                                    'p',
                                    null,
                                    _react2['default'].createElement(
                                        'span',
                                        { className: 'addres_txt' },
                                        'Taklutning :'
                                    ),
                                    ' ',
                                    this.props.roof_pitch,
                                    ' °'
                                ),
                                _react2['default'].createElement(
                                    'p',
                                    null,
                                    _react2['default'].createElement(
                                        'span',
                                        { className: 'addres_txt' },
                                        'Takmaterial :'
                                    ),
                                    '  ',
                                    this.props.material
                                ),
                                _react2['default'].createElement(
                                    'p',
                                    null,
                                    _react2['default'].createElement(
                                        'span',
                                        { className: 'addres_txt' },
                                        'Årlig elförbrukning :'
                                    ),
                                    ' ',
                                    this.props.e_consumption
                                ),
                                _react2['default'].createElement(
                                    'p',
                                    null,
                                    _react2['default'].createElement(
                                        'span',
                                        { className: 'addres_txt' },
                                        'Huvudsäkring :'
                                    ),
                                    ' ',
                                    this.props.power
                                ),
                                _react2['default'].createElement(
                                    'h4',
                                    null,
                                    'Vänligen skriv in din e-postadress för att få tillgång till din prisuppskattning'
                                )
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            { className: 'row form_bottom1' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12' },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'form_top2' },
                                    _react2['default'].createElement(
                                        'div',
                                        null,
                                        _react2['default'].createElement(GetDetails, { haveaccountfunction: this.haveaccountfunction.bind(this),
                                            haveaccount: this.state.haveaccount,
                                            loginsubmit: this.loginsubmit.bind(this),
                                            signupnsubmit: this.signupsubmit.bind(this),
                                            responceerror: this.state.responceerror,
                                            responceerrorlogin: this.state.responceerrorlogin,
                                            responceerrorsignup: this.state.responceerrorsignup,
                                            validateField: this.validateField.bind(this)
                                        })
                                    )
                                )
                            )
                        )
                    )
                ),
                _react2['default'].createElement(
                    'div',
                    { className: 'container-fluid' },
                    _react2['default'].createElement(
                        'div',
                        { className: 'row' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'btmimg' },
                            _react2['default'].createElement('img', { src: './img/bootm-im.jpg', alt: 'bottom', className: 'img-responsive' })
                        )
                    )
                )
            );
        }
    }]);

    return LoginEstimate;
})(_react.Component);

var GetDetails = (function (_Component2) {
    _inherits(GetDetails, _Component2);

    function GetDetails() {
        _classCallCheck(this, GetDetails);

        _get(Object.getPrototypeOf(GetDetails.prototype), 'constructor', this).apply(this, arguments);
    }

    _createClass(GetDetails, [{
        key: 'handleChange',
        value: function handleChange(event) {
            this.props.validateField(event.target.name, event.target.value);
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'form',
                { onSubmit: this.props.loginsubmit.bind(this), id: 'login', style: matstyle.formmargin },
                _react2['default'].createElement(
                    'div',
                    { className: 'alert alert-danger', hidden: this.props.responceerrorlogin === "" },
                    this.props.responceerrorlogin
                ),
                _react2['default'].createElement('input', { type: 'email', name: 'email', placeholder: 'E-postadress*', className: 'form-control input-bg', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement(
                    'span',
                    { id: 'error' },
                    this.props.EmailErrors
                ),
                _react2['default'].createElement('input', { type: 'text', name: 'phone', className: 'form-control input-phonebg', placeholder: 'Telefonnummer*', onBlur: this.handleChange.bind(this), required: true }),
                _react2['default'].createElement(
                    'span',
                    { id: 'error' },
                    this.props.PhoneErrors
                ),
                /*} <input type="password" placeholder="Password*" className="form-control input-bg1" name="password" onBlur={this.handleChange.bind(this)} required />
                <span id="error">{this.props.PasswordErrors}
                </span> 
                {<p className="text-right">  <a href="/Forgotpassword"><u>Forgot Password ?</u> </a></p>}*/_react2['default'].createElement('br', null),
                _react2['default'].createElement(
                    'div',
                    null,
                    ' ',
                    _react2['default'].createElement('input', { type: 'submit', className: 'form-control btn-primary', value: 'Vidare' })
                )
            );
        }
    }]);

    return GetDetails;
})(_react.Component);

exports['default'] = LoginEstimate;
module.exports = exports['default'];

},{"os":44,"react":undefined}],28:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactGoogleMapDrawFilter = require('react-google-map-draw-filter');

var _reactGoogleMapDrawFilter2 = _interopRequireDefault(_reactGoogleMapDrawFilter);

var App = (function (_Component) {
  _inherits(App, _Component);

  function App(props) {
    _classCallCheck(this, App);

    _get(Object.getPrototypeOf(App.prototype), 'constructor', this).call(this, props);
    window.scrollTo(0, 0);
    this.state = {
      drawMode: true,
      activeMarkers: []
    };
  }

  _createClass(App, [{
    key: 'onMarkerClick',
    value: function onMarkerClick(marker, e) {
      this.setState({
        activeMarkers: [marker]
      });
    }
  }, {
    key: 'renderMarkerInfo',
    value: function renderMarkerInfo() {
      if (this.state.activeMarkers) {
        return this.state.activeMarkers.map(function (marker, i) {
          return _react2['default'].createElement(
            'div',
            { key: 'marker' + i },
            marker.label,
            marker.info
          );
        });
      }
    }
  }, {
    key: 'handleReturnedMarkers',
    value: function handleReturnedMarkers(markers) {
      this.setState({
        activeMarkers: markers
      });
    }
  }, {
    key: 'toggleDraw',
    value: function toggleDraw() {
      this.setState({
        drawMode: !this.state.drawMode
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var markers = [{
        info: '- Marker1',
        label: 'A',
        title: 'hello',
        latLng: { lng: 2.13815342634916, lat: 41.39485570794 }
      }, {
        label: 'B',
        info: '- Marker2',
        latLng: { lng: 2.1575260162353516, lat: 41.39586980544921 }
      }, {
        label: 'C',
        info: '- Marker 3',
        latLng: { lng: 2.162332534790039, lat: 41.397801375978204 }
      }, {
        label: 'D',
        info: '- Marker 4',
        latLng: { lng: 2.154865264892578, lat: 41.38576031676253 }
      }, {
        label: 'E',
        info: '- Marker 5',
        latLng: { lng: 2.14205645751953, lat: 41.38344199588044 }
      }];

      return _react2['default'].createElement(
        'div',
        null,
        _react2['default'].createElement(
          'div',
          { className: 'container ' },
          _react2['default'].createElement(
            'h3',
            { className: 'roof_subhead' },
            'Markera ut ditt tak'
          )
        ),
        _react2['default'].createElement(
          'div',
          { className: 'App' },
          _react2['default'].createElement(_reactGoogleMapDrawFilter2['default'], {
            drawMode: this.state.drawMode,
            markers: markers,
            handleReturnedMarkers: this.handleReturnedMarkers.bind(this),
            onMarkerClick: this.onMarkerClick.bind(this),
            apiKey: 'AIzaSyB4prJzCvsqdW0YOKo3idjakgvZUXRR_TI',
            area: this.props.area,
            roofaddress: this.props.roofaddress
          })
        ),
        _react2['default'].createElement(
          'h1',
          null,
          this.renderMarkerInfo.bind(this)()
        )
      );
    }
  }]);

  return App;
})(_react.Component);

exports['default'] = App;
module.exports = exports['default'];

},{"react":undefined,"react-google-map-draw-filter":undefined}],29:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactModal = require('react-modal');

var _reactModal2 = _interopRequireDefault(_reactModal);

var _componentsSurfaceDirectionDrag = require('./components/SurfaceDirectionDrag');

var _componentsSurfaceDirectionDrag2 = _interopRequireDefault(_componentsSurfaceDirectionDrag);

var matstyle = {
    padding: "30px 20px 20px 20px",
    margin: "5px 5px 50px 5px",
    border: "4px solid #f9f9f9",
    textAlign: "-webkit-center",
    borderRadius: "4px",
    boxShadow: "0 15px 35px rgba(50,50,93,.1), 0 5px 15px rgba(0,0,0,.07)",
    transition: "all 0.3s ease-out",
    WebkitTransform: "all 0.3s ease-out",
    textTransform: 'uppercase',
    color: '#064f70',
    fontSize: '15px'
};

var selectedStyle = {
    padding: "30px 20px 20px 20px",
    margin: "5px 5px 50px 5px",
    textAlign: "-webkit-center",
    borderRadius: "4px",
    boxShadow: "0 15px 35px rgba(50,50,93,.1), 0 5px 15px rgba(0,0,0,.07)",
    transition: "all 0.3s ease-out",
    WebkitTransform: "all 0.3s ease-out",
    border: "4px solid rgb(142, 226, 174)",
    textTransform: 'uppercase',
    color: '#064f70',
    fontWeight: 'bold',
    fontSize: '15px'
};
var customStyles = {
    content: {
        top: '50%',
        left: '50%',
        right: 'auto',
        bottom: 'auto',
        marginRight: '-50%',
        transform: 'translate(-50%, -50%)',
        padding: '10px 15px 23px',
        fontSize: '16px',
        width: '50%'
    }
};

var MaterialComponent = (function (_Component) {
    _inherits(MaterialComponent, _Component);

    function MaterialComponent(props) {
        _classCallCheck(this, MaterialComponent);

        _get(Object.getPrototypeOf(MaterialComponent.prototype), 'constructor', this).call(this, props);
        this.state = {
            stepIndex: 1,
            finished: false,
            clear: {},
            previous: {},
            next: {},
            solar: false,
            modalIsOpen: false,
            material: '',
            validationOne: false,
            validationTwo: false,
            cost: '',
            surfaceDirection: ''

        };
        window.scrollTo(0, 0);
        _reactModal2['default'].setAppElement('body');
        this.openModal = this.openModal.bind(this);
        this.afterOpenModal = this.afterOpenModal.bind(this);
        this.closeModal = this.closeModal.bind(this);
        this.validate = this.validate.bind(this);
        this.direction = this.direction.bind(this);
        this.material = [{
            image: "./img/mat1.png",
            name: "Lertegeltak",
            cost: 220
        }, {
            image: "./img/mat2.png",
            name: "Plåt",
            cost: 170
        }, {
            image: "./img/mat3.png",
            name: "Betongtegeltak",
            cost: 200
        }, {
            image: "./img/mat5.png",
            name: "Falsad plåt / Bandad Plåt",
            cost: 400
        }, {
            image: "./img/pulpettak.jpg",
            name: "Papptak",
            cost: 85
        }];
    }

    _createClass(MaterialComponent, [{
        key: 'openModal',
        value: function openModal() {}
    }, {
        key: 'afterOpenModal',
        value: function afterOpenModal() {}
    }, {
        key: 'closeModal',
        value: function closeModal() {
            this.setState({ modalIsOpen: false });
        }
    }, {
        key: 'materialchoose',
        value: function materialchoose(name) {
            alert(name);
        }
    }, {
        key: 'solarPanel',
        value: function solarPanel(name, value, e) {
            this.setState({
                solar: true,
                modalIsOpen: true
            });
        }
    }, {
        key: 'selected',
        value: function selected(material, cost) {
            this.setState({
                material: material,
                cost: cost,
                validationOne: false
            });
        }
    }, {
        key: 'validate',
        value: function validate() {
            if (this.state.material === '') {
                this.setState({ validationOne: true });
            } else if (this.state.surfaceDirection === '') {
                this.setState({ validationTwo: true });
            }
        }
    }, {
        key: 'direction',
        value: function direction(_direction) {
            this.setState({ surfaceDirection: _direction, validationTwo: false });
        }
    }, {
        key: 'makeHref',
        value: function makeHref() {
            return 'https://www.digitak.se/';
        }
    }, {
        key: 'render',
        value: function render() {
            var _this = this;

            var link = _react2['default'].createElement(
                'a',
                { href: this.makeHref('login'), target: '_blank' },
                'här'
            );
            return _react2['default'].createElement(
                'div',
                null,
                _react2['default'].createElement(
                    'div',
                    { className: 'container ' },
                    _react2['default'].createElement(
                        'h3',
                        { className: 'roof_subhead' },
                        'Takinformation'
                    )
                ),
                _react2['default'].createElement(
                    'div',
                    { className: 'col-md-12' },
                    _react2['default'].createElement(
                        'div',
                        { className: 'heading_text font-quicksand bold' },
                        'Vilket takmaterial har du idag'
                    ),
                    _react2['default'].createElement(
                        'div',
                        { className: 'container' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'col-sm-12' },
                            this.material.map(function (data, index) {
                                if (data.name === 'Solpaneler') {
                                    return _react2['default'].createElement(
                                        'div',
                                        { id: 'Solpaneler', className: 'col-sm-6 col-md-3  panding_no', key: index, onClick: _this.solarPanel.bind(_this, data.name, data.cost) },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'onfocs_brdr1', style: matstyle },
                                            _react2['default'].createElement('img', { src: data.image, alt: data.name, className: 'img-responsive' }),
                                            _react2['default'].createElement('br', null),
                                            _react2['default'].createElement(
                                                'p',
                                                null,
                                                data.name,
                                                ' ',
                                                _this.state.solar
                                            ),
                                            _this.state.solar ? _react2['default'].createElement(
                                                'div',
                                                null,
                                                _react2['default'].createElement(
                                                    _reactModal2['default'],
                                                    {
                                                        isOpen: _this.state.modalIsOpen,
                                                        onAfterOpen: _this.afterOpenModal,
                                                        onRequestClose: _this.closeModal,
                                                        style: customStyles,
                                                        contentLabel: 'Example Modal' },
                                                    _react2['default'].createElement(
                                                        'div',
                                                        null,
                                                        _react2['default'].createElement(
                                                            'button',
                                                            { style: { float: 'right', color: '#fff', backgroundColor: '#0A539C', border: 'none' }, onClick: _this.closeModal },
                                                            'X'
                                                        )
                                                    ),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { style: { width: '100%', padding: '40px 0 0' } },
                                                        'Digitak estimerar endast priser för ',
                                                        _react2['default'].createElement(
                                                            'b',
                                                            null,
                                                            'takomläggningar'
                                                        ),
                                                        '. Vårt solcellsbolag Digisolar kan ge dig pris för solcellsinstallation. För att komma till Digisolar klicka ',
                                                        link
                                                    )
                                                )
                                            ) : null
                                        )
                                    );
                                } else {
                                    return _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-6 col-md-3  panding_no', key: index, onClick: _this.selected.bind(_this, data.name, data.cost) },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'onfocs_brdr1', style: data.name == _this.state.material ? selectedStyle : matstyle },
                                            _react2['default'].createElement('img', { src: data.image, alt: data.name, className: 'img-responsive' }),
                                            _react2['default'].createElement('br', null),
                                            _react2['default'].createElement(
                                                'p',
                                                null,
                                                data.name
                                            )
                                        )
                                    );
                                }
                            })
                        )
                    ),
                    _react2['default'].createElement(
                        'div',
                        { className: 'col-md-12 material', style: { textAlign: 'center', padding: '30px' } },
                        this.state.validationOne ? _react2['default'].createElement(
                            'div',
                            { className: 'validation' },
                            _react2['default'].createElement(
                                'span',
                                null,
                                'Please select the material'
                            )
                        ) : null
                    )
                ),
                _react2['default'].createElement('hr', { className: 'material-seperation' }),
                _react2['default'].createElement(
                    'div',
                    { className: 'container' },
                    _react2['default'].createElement(
                        'div',
                        { className: 'col-md-12 heading_text font-quicksand bold' },
                        'VÄDERSTRECK'
                    ),
                    _react2['default'].createElement(_componentsSurfaceDirectionDrag2['default'], { direction: this.direction }),
                    _react2['default'].createElement(
                        'div',
                        { className: 'col-md-12 material', style: { textAlign: 'center', padding: '30px' } },
                        this.state.validationTwo ? _react2['default'].createElement(
                            'div',
                            { className: 'validation' },
                            _react2['default'].createElement(
                                'span',
                                null,
                                'Please select the roof direction'
                            )
                        ) : null
                    )
                ),
                _react2['default'].createElement(
                    'div',
                    { className: 'col-sm-12 col-md-12 estimate', style: { textAlign: 'center', padding: '30px' } },
                    this.state.material && this.state.surfaceDirection != '' ? _react2['default'].createElement(
                        'div',
                        { className: 'flex justifyCenter' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'padding1' },
                            _react2['default'].createElement(
                                'button',
                                { onClick: this.props.back.bind(this, 2), className: 'submit' },
                                'Föregående'
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            { className: 'padding1' },
                            _react2['default'].createElement(
                                'button',
                                { onClick: this.props.matval.bind(this, this.state.material, this.state.cost, this.state.surfaceDirection), className: 'submit' },
                                'Nästa'
                            )
                        )
                    ) : _react2['default'].createElement(
                        'div',
                        { className: 'flex justifyCenter' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'padding1' },
                            _react2['default'].createElement(
                                'button',
                                { onClick: this.props.back.bind(this, 2), className: 'submit' },
                                'Föregående'
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            { className: 'padding1' },
                            _react2['default'].createElement(
                                'button',
                                { onClick: this.validate, className: 'submit' },
                                'Nästa'
                            )
                        )
                    )
                )
            );
        }
    }]);

    return MaterialComponent;
})(_react.Component);

exports['default'] = MaterialComponent;
module.exports = exports['default'];

},{"./components/SurfaceDirectionDrag":14,"react":undefined,"react-modal":88}],30:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _componentsElectricityMaterialDarggable = require('./components/ElectricityMaterialDarggable');

var _componentsElectricityMaterialDarggable2 = _interopRequireDefault(_componentsElectricityMaterialDarggable);

var _reactModal = require('react-modal');

var _reactModal2 = _interopRequireDefault(_reactModal);

var customStyles = {
    content: {
        top: '50%',
        left: '50%',
        right: 'auto',
        bottom: 'auto',
        marginRight: '-50%',
        transform: 'translate(-50%, -50%)',
        padding: '20px 15px',
        fontSize: '16px',
        width: '50%',
        borderRadius: '20px',
        border: '2px solid rgb(142, 226, 174)',
        position: 'absolute'
    }
};
var ColoredLine = function ColoredLine(_ref) {
    var color = _ref.color;
    return _react2['default'].createElement('hr', {
        style: {
            color: "#aaa",
            backgroundColor: "#aaa",
            height: 1,
            width: '100%'
        }
    });
};
var highletstyle = {
    fontSize: '15px'
};

var MaterialQuestions = (function (_Component) {
    _inherits(MaterialQuestions, _Component);

    function MaterialQuestions(props) {
        _classCallCheck(this, MaterialQuestions);

        _get(Object.getPrototypeOf(MaterialQuestions.prototype), 'constructor', this).call(this, props);
        window.scrollTo(0, 0);
        _reactModal2['default'].setAppElement('body');
        this.openModal = this.openModal.bind(this);
        this.afterOpenModal = this.afterOpenModal.bind(this);
        this.closeModal = this.closeModal.bind(this);
        this.matquestionval = props.matquestionval.bind(this);
        this.dataSet = [{
            question: "Hur stor är din årliga elförbrukning? <para> - 	Ange din totala elförbrukning i kWh genom att justera reglaget. Om du inte vet din årliga elförbrukning kan du använda våra fördefinierade värden.",
            answers: ['7,000 kWh -  Normalt radhus/villa med fjärrvärme', '13,000 kWh - Normal villa med värmepump', '25,000 kWh - Normal villa med direktverkande el']
        }, {
            question: "Hur stor är din huvudsäkring? <para>	- Storleken på din huvudsäkring hittar du i ditt proppskåp på huvudströmbrytaren, automatströmbrytaren eller på din elräkning. Dom flesta radhus och villor har en huvudsäkring på 16-25 Amp.",
            answers: [' 16A', ' 20A', ' 25A', ' 35A', ' 50A', ' 63A', 'Vet ej']
        }];

        this.state = { popupTwo: false, popup: false, modalIsOneOpen: false, modalIsTwoOpen: false, stepIndex: 1, selectedValue: '', selectedValueTwo: '', angle: '1000', left: '135px', validationOne: false, validation: false };
        this.handleClick = this.handleClick.bind(this);
        this.handleClickTwo = this.handleClickTwo.bind(this);
        this.validate = this.validate.bind(this);
        this.scrollable = this.scrollable.bind(this);
        this.electricy = this.electricy.bind(this);
        this.selectedAnswers = [];
    }

    _createClass(MaterialQuestions, [{
        key: 'handleClick',
        value: function handleClick(value, index, id) {
            var selectedValue = value;
            highletstyle = {
                fontWeight: 'bold',
                color: 'black',
                fontSize: '16px'
            };
            this.selectedAnswers.push(value);
            this.setState({ selectedValue: selectedValue, validationOne: false });
        }
    }, {
        key: 'handleClickTwo',
        value: function handleClickTwo(value2, index, id) {
            var selectedValue = value2;
            this.selectedAnswers.push(value2);
            this.setState({ selectedValueTwo: selectedValue, validation: false });
        }
    }, {
        key: 'validate',
        value: function validate() {
            if (!this.state.selectedValue) {
                this.setState({ validationOne: true });
            } else if (!this.state.selectedValueTwo) {
                this.setState({ validation: true });
            }
        }
    }, {
        key: 'scrollable',
        value: function scrollable(e) {
            if (e.nativeEvent.offsetX > 270) {
                this.setState({ left: '270px' });
                this.setState({ angle: 90 });
            } else {
                this.setState({ left: e.nativeEvent.offsetX });
                var val = Math.floor(e.nativeEvent.offsetX / 3);
                this.setState({ angle: Math.ceil(val / 5) * 5 });
            }
        }
    }, {
        key: 'electricy',
        value: function electricy(angle) {
            this.setState({ angle: angle, selectedValue: angle + ' kWh', validationOne: false });
        }
    }, {
        key: 'openPopup',
        value: function openPopup(popup) {
            if (popup === 'one') {
                this.setState({ popup: true, modalIsOneOpen: true });
            } else if (popup === 'two') {
                this.setState({ popupTwo: true, modalIsTwoOpen: true });
            }
        }
    }, {
        key: 'openModal',
        value: function openModal() {}
    }, {
        key: 'afterOpenModal',
        value: function afterOpenModal() {}
    }, {
        key: 'closeModal',
        value: function closeModal() {
            this.setState({ modalIsOneOpen: false, modalIsTwoOpen: false });
        }
    }, {
        key: 'render',
        value: function render() {
            var style = {
                color: '#064f70',
                fontSize: '20px',
                fontFamily: 'quicksand',
                textTransform: 'uppercase',
                fontWeight: 'bold'
            };
            return _react2['default'].createElement(
                'div',
                null,
                _react2['default'].createElement(
                    'div',
                    { className: 'container ' },
                    _react2['default'].createElement(
                        'h3',
                        { className: 'roof_subhead' },
                        'Elförbrukning och säkring '
                    )
                ),
                _react2['default'].createElement(
                    'div',
                    { className: 'container panding_no material_questions_page' },
                    _react2['default'].createElement('div', { className: 'col-md-2' }),
                    _react2['default'].createElement(
                        'div',
                        { className: 'col-md-8 panding_no', id: 'padding-b' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'panding_no' },
                            _react2['default'].createElement(
                                'div',
                                null,
                                _react2['default'].createElement(
                                    'div',
                                    { style: { alignItems: 'center', paddingBottom: '15px' } },
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-md-12 panding_no align-text-center' },
                                        _react2['default'].createElement(
                                            'h1',
                                            { style: style },
                                            this.dataSet[0].question.split('<para>')[0]
                                        )
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-md-12 align-text-center padding1' },
                                        _react2['default'].createElement(
                                            'button',
                                            { style: { border: 'none', backgroundColor: '#0A539C', 'borderRadius': '5px', color: '#fff', padding: '8px 25px 8px 25px' } },
                                            this.state.angle,
                                            ' kWh'
                                        )
                                    )
                                ),
                                _react2['default'].createElement(
                                    'div',
                                    null,
                                    _react2['default'].createElement(
                                        'div',
                                        { id: 'electriciy_draggable', className: 'col-md-12', style: { pad: '1em' } },
                                        _react2['default'].createElement(_componentsElectricityMaterialDarggable2['default'], { electricy: this.electricy })
                                    ),
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-md-12 col-sm-12 align-text-center slots-centering' },
                                        _react2['default'].createElement(
                                            'a',
                                            { className: 'hiperLink', style: { textDecoration: 'underline', fontFamily: 'Quicksand' }, onClick: this.openPopup.bind(this, 'one') },
                                            'Läs mer om elförbrukning'
                                        )
                                    ),
                                    this.state.popup ? _react2['default'].createElement(
                                        'div',
                                        null,
                                        _react2['default'].createElement(
                                            _reactModal2['default'],
                                            {
                                                isOpen: this.state.modalIsOneOpen,
                                                onAfterOpen: this.afterOpenModal,
                                                onRequestClose: this.closeModal,
                                                style: customStyles,
                                                contentLabel: 'Example Modal' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-md-12 panding_no' },
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'boka-heading' },
                                                    'ELFÖRBRUKNING'
                                                ),
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'f-right' },
                                                    _react2['default'].createElement(
                                                        'button',
                                                        { className: 'close-button ', onClick: this.closeModal },
                                                        'X'
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'footer-popup questionsPage' },
                                                'Ange din totala elförbrukning i kWh genom att justera reglaget. Om du inte vet din årliga elförbrukning kan du använda våra fördefinierade värden.'
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'questionsPage pt-none' },
                                                _react2['default'].createElement(
                                                    'ul',
                                                    null,
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        '6000 kWh – Normal villa med fjärrvärme'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        '13.000 kWh – Normal villa med värmepump'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        '25.000 kWh – Normal villa med direktverkande el'
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'estimate ' },
                                                _react2['default'].createElement(
                                                    'button',
                                                    { className: 'submit', onClick: this.closeModal },
                                                    'stäng'
                                                )
                                            )
                                        )
                                    ) : null,
                                    _react2['default'].createElement(
                                        'div',
                                        { className: 'col-md-12 material', style: { textAlign: 'center', padding: '30px' } },
                                        this.state.validationOne ? _react2['default'].createElement(
                                            'div',
                                            { className: 'validation' },
                                            _react2['default'].createElement(
                                                'span',
                                                null,
                                                'Please select Electricity cosumption'
                                            )
                                        ) : null
                                    )
                                )
                            )
                        )
                    ),
                    _react2['default'].createElement('div', { className: 'col-sm-2' }),
                    _react2['default'].createElement(ColoredLine, { color: 'black' }),
                    _react2['default'].createElement(
                        'div',
                        { className: 'col-sm-12' },
                        _react2['default'].createElement('div', { className: 'col-sm-1' }),
                        _react2['default'].createElement(
                            'div',
                            { className: 'col-sm-10 panding_no', id: 'padding-b' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'panding_no' },
                                _react2['default'].createElement(QuizAreaTwo, { handleClick: this.handleClickTwo, validation: this.state.validation, dataSet: this.dataSet[1], selected: this.state.selectedValueTwo, style: highletstyle }),
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-md-12 col-sm-12 align-text-center' },
                                    _react2['default'].createElement(
                                        'a',
                                        { className: 'hiperLink', style: { textDecoration: 'underline', fontFamily: 'Quicksand' }, onClick: this.openPopup.bind(this, 'two') },
                                        'Läs mer om huvudsäkring'
                                    )
                                ),
                                this.state.popupTwo ? _react2['default'].createElement(
                                    'div',
                                    null,
                                    _react2['default'].createElement(
                                        _reactModal2['default'],
                                        {
                                            isOpen: this.state.modalIsTwoOpen,
                                            onAfterOpen: this.afterOpenModal,
                                            onRequestClose: this.closeModal,
                                            style: customStyles,
                                            contentLabel: 'Example Modal' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-md-12 panding_no' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'boka-heading' },
                                                'HUVUDSÄKRING'
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'f-right' },
                                                _react2['default'].createElement(
                                                    'button',
                                                    { className: 'close-button ', onClick: this.closeModal },
                                                    'X'
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'footer-popup questionsPage' },
                                            'Storleken på din huvudsäkring hittar du i ditt proppskåp på huvudströmbrytaren, automatströmbrytaren eller på din elräkning. Dom flesta radhus och villor har en huvudsäkring på 16-25 Amp.'
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'estimate ' },
                                            _react2['default'].createElement(
                                                'button',
                                                { className: 'submit', onClick: this.closeModal },
                                                'stäng'
                                            )
                                        )
                                    )
                                ) : null
                            )
                        ),
                        _react2['default'].createElement('div', { className: 'col-sm-1' })
                    )
                ),
                _react2['default'].createElement(
                    'div',
                    { className: 'col-md-12 estimate', style: { textAlign: 'center' } },
                    this.state.selectedValue && this.state.selectedValueTwo ? _react2['default'].createElement(
                        'div',
                        { className: 'flex justifyCenter' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'padding1' },
                            _react2['default'].createElement(
                                'button',
                                { onClick: this.props.back.bind(this, 3), className: 'submit' },
                                'Föregående'
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            { className: 'padding1' },
                            _react2['default'].createElement(
                                'button',
                                { onClick: this.props.matquestionval.bind(this, this.state.selectedValue, this.state.selectedValueTwo), className: 'submit' },
                                'Nästa'
                            )
                        )
                    ) : _react2['default'].createElement(
                        'div',
                        { className: 'flex justifyCenter' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'padding1' },
                            _react2['default'].createElement(
                                'button',
                                { onClick: this.props.back.bind(this, 3), className: 'submit' },
                                'Föregående'
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            { className: 'padding1' },
                            _react2['default'].createElement(
                                'button',
                                { onClick: this.validate, className: 'submit' },
                                'Nästa'
                            )
                        )
                    )
                )
            );
        }
    }]);

    return MaterialQuestions;
})(_react.Component);

function QuestionTwo(props) {
    var style = {
        color: '#064f70',
        fontSize: '20px',
        textTransform: 'uppercase',
        fontWeight: 'bold'
    };
    return _react2['default'].createElement(
        'div',
        null,
        _react2['default'].createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center', paddingBottom: '15px', paddingTop: '2em', justifyContent: 'center' } },
            _react2['default'].createElement(
                'div',
                { className: 'col-md-12 panding_no align-text-center' },
                _react2['default'].createElement(
                    'h1',
                    { className: 'font-quicksand', style: style },
                    props.dataSet.question.split('<para>')[0]
                )
            )
        ),
        _react2['default'].createElement(
            'div',
            { className: 'col-md-12 material', style: { textAlign: 'center', padding: '30px' } },
            props.validation ? _react2['default'].createElement(
                'div',
                { className: 'validation' },
                _react2['default'].createElement(
                    'span',
                    null,
                    'Please select the Power consumption'
                )
            ) : null
        )
    );
}

function AnswerTwo(props) {
    var colors = ['#C4C4C4', '#3585C1', '#F9D155', 'rgb(158, 241, 168)', 'rgb(234, 163, 163)', '#000000', '#FFFFFF'];
    var colorCode = {
        border: '4px solid #8ee2ae',
        color: '#064f70',
        fontWeight: 'bold',
        padding: "30px 10px 30px",
        margin: "5px 5px 50px 5px",
        textAlign: "-webkit-center",
        borderRadius: "4px",
        boxShadow: "0 15px 35px rgba(50,50,93,.1), 0 5px 15px rgba(0,0,0,.07)",
        transition: "all 0.3s ease-out",
        WebkitTransform: "all 0.3s ease-out",
        minHeight: "90px",
        color: '#585858',
        background: colors[props.choice],
        textTransform: 'uppercase'
    };

    var stylestyle = {
        padding: "30px 0",
        margin: "5px 5px 50px 5px",
        border: "2px solid #f9f9f9",
        textAlign: "-webkit-center",
        borderRadius: "4px",
        boxShadow: "0 15px 35px rgba(50,50,93,.1), 0 5px 15px rgba(0,0,0,.07)",
        transition: "all 0.3s ease-out",
        WebkitTransform: "all 0.3s ease-out",
        minHeight: "90px",
        color: '#585858',
        background: colors[props.choice],
        textTransform: 'uppercase'
    };
    var appliedstyle = props.answer === props.selected ? colorCode : stylestyle;
    return _react2['default'].createElement(
        'div',
        { className: 'col-sm-4 col-md-2 panding_no', key: props.choice, onClick: props.handleClick.bind(this, props.answer) },
        props.answer === props.selected ? _react2['default'].createElement(
            'div',
            { className: 'onfocs_brdr', style: appliedstyle },
            _react2['default'].createElement(
                'h3',
                { className: 'bold' },
                props.answer
            )
        ) : _react2['default'].createElement(
            'div',
            { className: 'onfocs_brdr', style: appliedstyle },
            _react2['default'].createElement(
                'h3',
                null,
                props.answer
            )
        ),
        _react2['default'].createElement('br', null)
    );
}

function AnswerListTwo(props) {
    var answers = [];
    for (var i = 0; i < props.dataSet.answers.length; i++) {
        answers.push(_react2['default'].createElement(AnswerTwo, { key: i, choice: i, style: props.style, handleClick: props.handleClick, selected: props.selected, answer: props.dataSet.answers[i] }));
    }
    return _react2['default'].createElement(
        'div',
        { className: 'col-sm-12 col-md-12 panding_no' },
        _react2['default'].createElement(
            'div',
            { className: 'col-md-12 col-sm-12 color_cards', style: { justifyContent: 'center' } },
            answers
        )
    );
}

function QuizAreaTwo(props) {
    return _react2['default'].createElement(
        'div',
        { className: 'col-sm-12 col-md-12 panding_no' },
        _react2['default'].createElement(QuestionTwo, { dataSet: props.dataSet, validation: props.validation }),
        _react2['default'].createElement(AnswerListTwo, { dataSet: props.dataSet, style: props.style, handleClick: props.handleClick, selected: props.selected })
    );
}

exports['default'] = MaterialQuestions;
module.exports = exports['default'];

},{"./components/ElectricityMaterialDarggable":12,"react":undefined,"react-modal":88}],31:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactModal = require('react-modal');

var _reactModal2 = _interopRequireDefault(_reactModal);

var matstyle = {
    padding: "20px",
    margin: "5px 5px 50px 5px",
    border: "4px solid #f9f9f9",
    textAlign: "-webkit-center",
    borderRadius: "4px",
    boxShadow: "0 15px 35px rgba(50,50,93,.1), 0 5px 15px rgba(0,0,0,.07)",
    transition: "all 0.3s ease-out",
    WebkitTransform: "all 0.3s ease-out",
    textTransform: "uppercase",
    color: '#064f70',
    fontSize: '16px',
    minHeight: '240px'
};

var selectedStyle = {
    padding: "20px",
    margin: "5px 5px 50px 5px",
    textAlign: "-webkit-center",
    borderRadius: "4px",
    boxShadow: "0 15px 35px rgba(50,50,93,.1), 0 5px 15px rgba(0,0,0,.07)",
    transition: "all 0.3s ease-out",
    WebkitTransform: "all 0.3s ease-out",
    border: "4px solid rgb(142, 226, 174)",
    textTransform: "uppercase",
    color: '#064f70',
    fontWeight: 'bold',
    fontSize: '16px',
    minHeight: '240px'
};

var customStyles = {
    content: {
        top: '50%',
        left: '50%',
        position: ' absolute',
        right: 'auto',
        bottom: 'auto',
        marginRight: '-50%',
        transform: 'translate(-50%, -50%)',
        padding: '10px 15px 23px',
        fontSize: '16px',
        border: "4px solid rgb(142, 226, 174)",
        borderRadius: '20px',
        width: '50%',
        background: '#ffffff'
    }
};
var _annualOutput = undefined,
    installedPower = undefined,
    solarRadiation = 0.9,
    powerLoss = 0.9,
    reducedPower = 0.9,
    Standardpacket = undefined,
    maxPacket = undefined,
    minPacket = undefined,
    capacity = undefined,
    totalInstalledPowerInkw = undefined;

var PanelComponent = (function (_Component) {
    _inherits(PanelComponent, _Component);

    function PanelComponent(props) {
        _classCallCheck(this, PanelComponent);

        _get(Object.getPrototypeOf(PanelComponent.prototype), 'constructor', this).call(this, props);
        this.state = {
            panel: '',
            validationOne: false,
            panel_cost: '',
            battery_cost: '',
            battery: '',
            value: 12,
            message: null,
            panelCount: [],
            packetName: '',
            packetsCount: 0,
            validationThree: false,
            popup: false,
            modalIsOpen: false,
            customPacket: "Ange antal paneler",
            selectedPacket: 'Custom paket',
            panelarrayUpdate: false,
            modalForPanelIsOpen: false,
            panelPopup: false,
            batteryPopup: false,
            annualOutput: 0,
            maximumPackets: 0,
            panelCountValidation: false,
            minimumPackets: 0,
            soltakPanels: [],
            soltakCustomPaket: 'Specify the area of soloar roof'
        };
        window.scrollTo(0, 0);
        this.modalpopup = this.modalpopup.bind(this);
        _reactModal2['default'].setAppElement('body');
        this.openModal = this.openModal.bind(this);
        this.afterOpenModal = this.afterOpenModal.bind(this);
        this.closeModal = this.closeModal.bind(this);
        this.validate = this.validate.bind(this);
        this.selectedCount = this.selectedCount.bind(this);
        this.panelTypesChange = this.panelTypesChange.bind(this);
        this.countOfpanels = this.countOfpanels.bind(this);
        this.increment = this.increment.bind(this);
        this.decrement = this.decrement.bind(this);
        this.closePanelModal = this.closePanelModal.bind(this);
        this.openPanelPopup = this.openPanelPopup.bind(this);
        this.closeBatteryModal = this.closeBatteryModal.bind(this);
        this.openBatteryPopup = this.openBatteryPopup.bind(this);
        this.closePacketModal = this.closePacketModal.bind(this);
        this.openPacketPopup = this.openPacketPopup.bind(this);
        this.annualOutput = this.annualOutput.bind(this);
        this.calculateRoofArea = this.calculateRoofArea.bind(this);

        this.panels = [{
            image: "./img/premium_panel2.jpg",
            name: "Premium",
            cost: 1180
        }, {
            image: "./img/Standard_Panel2.jpg",
            name: "Standard",
            cost: 1400
        }];
        this.soltakPanels = [{
            image: "./img/Standard_Panel2.jpg",
            name: "Midsommar soltak",
            cost: 1600
        }, {
            image: "./img/Standard_Panel2.jpg",
            name: "Bendars sunwave palema",
            cost: 1800
        }];
        this.batteries = [{
            image: "./img/premium-battery.png",
            name: "Premium",
            cost: 300
        }, {
            image: "./img/no_battery.png",
            name: "Inga",
            cost: 220
        }];
        function degrees_to_radians(degrees) {
            var pi = Math.PI;
            return degrees * (pi / 180);
        }
        var roofArea = parseInt(this.props.roofarea) / Math.cos(degrees_to_radians(parseInt(this.props.roof_pitch)));
        this.soltakPanelsArray = [{ packet: 'Small paket', count: 25 }, { packet: 'Standard paket', count: 50 }, { packet: 'Max paket', count: 99 }, { packet: 'Custom paket', count: 'Specify the area of solar roof' }];
        if (roofArea > 400) {
            this.panelsArray = [];
            Standardpacket = 100;
            minPacket = 12;
            this.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: this.state.selectedPacket, count: this.state.customPacket }];
            this.state.maximumPackets = parseInt(Standardpacket);
            this.state.minimumPackets = parseInt(minPacket);
        } else if (roofArea < 400 && roofArea > 200) {
            this.panelsArray = [];
            maxPacket = 100;
            Standardpacket = parseInt(roofArea / 4);
            minPacket = 12;
            this.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: 'Max paket', count: parseInt(maxPacket) }, { packet: this.state.selectedPacket, count: this.state.customPacket }];
            this.state.maximumPackets = parseInt(maxPacket);
            this.state.minimumPackets = parseInt(minPacket);
        } else if (roofArea < 200 && roofArea > 36) {
            this.panelsArray = [];
            maxPacket = parseInt(roofArea / 2);
            Standardpacket = 1 / 2 * maxPacket;
            minPacket = 12;
            this.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: 'Max paket', count: parseInt(maxPacket) }, { packet: this.state.selectedPacket, count: this.state.customPacket }];
            this.state.maximumPackets = parseInt(maxPacket);
            this.state.minimumPackets = parseInt(minPacket);
        } else if (roofArea < 36 && roofArea > 26) {
            this.panelsArray = [];
            Standardpacket = parseInt(roofArea / 2);
            minPacket = 12;
            this.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: this.state.selectedPacket, count: this.state.customPacket }];
            this.state.maximumPackets = parseInt(Standardpacket);
            this.state.minimumPackets = parseInt(minPacket);
        } else if (roofArea < 26) {
            this.panelsArray = [];
            Standardpacket = 12;
            this.panelsArray = [{ packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: this.state.selectedPacket, count: this.state.customPacket }];
            this.state.maximumPackets = parseInt(Standardpacket);
            this.state.minimumPackets = parseInt(Standardpacket);
        }
    }

    _createClass(PanelComponent, [{
        key: 'componentDidMount',
        value: function componentDidMount() {}
    }, {
        key: 'annualOutput',
        value: function annualOutput(watts, packet, countOfPanels) {
            var primarySideAnualOutput,
                secondarySideAnnualOutput,
                installedPowerOnPrimarySide,
                installedPowerOnSecondarySide,
                primarySideRadiation,
                secondarySideRadiation,
                primarySidePanels = 0,
                secondarySidePanels = 0;
            if (this.props.surfaceDirection == 'VÄST 1' || this.props.surfaceDirection == 'OST 2') {
                //west east
                primarySideRadiation = 0.84;
                secondarySideRadiation = 0.76;
            } else if (this.props.surfaceDirection == 'VÄST 2' || this.props.surfaceDirection == 'OST 1') {
                //west east
                primarySideRadiation = 0.88;
                secondarySideRadiation = 0.72;
            } else if (this.props.surfaceDirection == 'SYDVÄST 1') {
                //southwest
                primarySideRadiation = 0.92;
                secondarySideRadiation = 0.68;
            } else if (this.props.surfaceDirection == 'SYDVÄST') {
                //southwest
                primarySideRadiation = 0.96;
                secondarySideRadiation = 0.64;
            } else if (this.props.surfaceDirection == 'SYD 1' || this.props.surfaceDirection == 'SYD 2') {
                //south
                primarySideRadiation = 1;
                secondarySideRadiation = 0.60;
            } else if (this.props.surfaceDirection == 'SYDOST 1') {
                //southeast
                primarySideRadiation = 0.92;
                secondarySideRadiation = 0.64;
            } else if (this.props.surfaceDirection == 'SYDOST 2') {
                //southeast
                primarySideRadiation = 0.92;
                secondarySideRadiation = 0.68;
            } else if (this.props.surfaceDirection == 'OST 1') {
                //east
                primarySideRadiation = 0.84;
                secondarySideRadiation = 0.72;
            }
            if (this.props.location.includes('Stockholm')) {
                solarRadiation = 1000;
            } else if (this.props.location.includes('Västerbotten')) {
                solarRadiation = 825;
            } else if (this.props.location.includes('Norrbotten')) {
                solarRadiation = 775;
            } else if (this.props.location.includes('Uppsala')) {
                solarRadiation = 95;
            } else if (this.props.location.includes('Södermanland')) {
                solarRadiation = 85;
            } else if (this.props.location.includes('Östergötland')) {
                solarRadiation = 975;
            } else if (this.props.location.includes('Jönköping')) {
                solarRadiation = 925;
            } else if (this.props.location.includes('Kronoberg')) {
                solarRadiation = 925;
            } else if (this.props.location.includes('Kalmar')) {
                solarRadiation = 950;
            } else if (this.props.location.includes('Gotland')) {
                solarRadiation = 1025;
            } else if (this.props.location.includes('Blekinge')) {
                solarRadiation = 975;
            } else if (this.props.location.includes('Skåne')) {
                solarRadiation = 1000;
            } else if (this.props.location.includes('Halland')) {
                solarRadiation = 1000;
            } else if (this.props.location.includes('Västra Götaland')) {
                solarRadiation = 950;
            } else if (this.props.location.includes('Värmland')) {
                solarRadiation = 950;
            } else if (this.props.location.includes('Örebro')) {
                solarRadiation = 950;
            } else if (this.props.location.includes('Västmanland')) {
                solarRadiation = 975;
            } else if (this.props.location.includes('Dalarna')) {
                solarRadiation = 950;
            } else if (this.props.location.includes('Gävleborgd')) {
                solarRadiation = 950;
            } else if (this.props.location.includes('Västernorrland')) {
                solarRadiation = 900;
            } else if (this.props.location.includes('Jämtland')) {
                solarRadiation = 900;
            } else {
                solarRadiation = 900;
            }
            if (packet) {
                if (this.state.panelName == 'soltak') {
                    var packetValuesObject = this.soltakPanelsArray.filter(function (packetObj) {
                        return packetObj.packet === packet;
                    });
                } else if (this.state.panelName == 'solpanel') {
                    var packetValuesObject = this.panelsArray.filter(function (packetObj) {
                        return packetObj.packet === packet;
                    });
                }
                sessionStorage.setItem('selected_panel', this.state.panelName);
                totalInstalledPowerInkw = countOfPanels * watts / 1000;
                if (packetValuesObject[0].packet == 'Small paket' || packetValuesObject[0].packet == 'Standard paket') {
                    primarySidePanels = countOfPanels;
                } else if (packetValuesObject[0].packet == 'Max paket') {
                    primarySidePanels = countOfPanels / 2;
                    secondarySidePanels = countOfPanels / 2;
                } else if (packetValuesObject[0].packet == 'Custom paket') {
                    if (countOfPanels > this.panelsArray[1].count) {
                        primarySidePanels = this.panelsArray[1].count;
                        secondarySidePanels = countOfPanels - this.panelsArray[1].count;
                    } else if (countOfPanels == this.panelsArray[1].count || countOfPanels < this.panelsArray[1].count) {
                        primarySidePanels = countOfPanels;
                    }
                }
                installedPowerOnPrimarySide = primarySidePanels * watts;
                installedPowerOnSecondarySide = secondarySidePanels * watts;
                primarySideAnualOutput = installedPowerOnPrimarySide * primarySideRadiation * solarRadiation * powerLoss * reducedPower;
                secondarySideAnnualOutput = installedPowerOnSecondarySide * secondarySideRadiation * solarRadiation * powerLoss * reducedPower;
                _annualOutput = (primarySideAnualOutput + secondarySideAnnualOutput) / 1000;
                this.setState({
                    annualOutput: _annualOutput
                });
            } else {
                this.setState({
                    annualOutput: 0
                });
            }
        }
    }, {
        key: 'openModal',
        value: function openModal() {}
    }, {
        key: 'afterOpenModal',
        value: function afterOpenModal() {}
    }, {
        key: 'closeModal',
        value: function closeModal() {
            this.setState({ modalIsOpen: false });
        }
    }, {
        key: 'modalpopup',
        value: function modalpopup() {
            this.setState({ popup: true, modalIsOpen: true });
        }
    }, {
        key: 'selectedPanel',
        value: function selectedPanel(panel, cost, panelName) {

            if (panel === 'Standard') {
                capacity = 270;
            } else if (panel === 'Premium') {
                capacity = 320;
            } else if (panel === 'Midsommar soltak') {
                capacity = 110;
            } else if (panel === 'Bendars sunwave palema') {
                capacity = 105;
            }
            this.setState({
                panel: panel,
                panel_cost: cost,
                validationOne: false,
                panelName: panelName
            });
            //panelCount: panelsArray
            sessionStorage.setItem('panel_cost', cost);
            sessionStorage.setItem('pannel_name', panel);
            sessionStorage.setItem('pannel_capacity', capacity);
            sessionStorage.setItem('pannelName', panelName);
            this.annualOutput(capacity, this.state.packetName, this.state.packetsCount);
        }
    }, {
        key: 'selectedBattery',
        value: function selectedBattery(battery, cost) {
            this.setState({
                battery: battery,
                battery_cost: cost,
                validationTwo: false
            });
        }
    }, {
        key: 'selectedCount',
        value: function selectedCount(name, count) {
            if (name == 'Custom paket' || name == 'Selected Paket') {
                this.setState({ popup: true, modalIsOpen: true, packetName: name });
            } else if (name == 'Specify the area of solar roof') {
                this.setState({ popup: true, modalIsOpen: true, packetName: name });
            } else if (name === '') {
                this.setState({
                    packetName: 'Custom paket',
                    selectedPacket: 'Custom paket',
                    packetsCount: count,
                    validationThree: false,
                    value: count,
                    customPacket: parseInt(this.state.value),
                    panelarrayUpdate: true,
                    modalIsOpen: false,
                    packetPopup: true,
                    value: this.state.value
                });
                this.annualOutput(capacity, 'Custom paket', count);
            } else {
                this.setState({
                    packetName: name,
                    packetsCount: count,
                    validationThree: false,
                    panelarrayUpdate: true,
                    customPacket: "Ange antal paneler",
                    packetPopup: true,
                    soltakCustomPaket: 'Specify the area of solar roof'
                });
                this.annualOutput(capacity, name, count);
            }
            this.calculateRoofArea(name, this.roofArea);
        }
    }, {
        key: 'calculateRoofArea',
        value: function calculateRoofArea(name, roofArea) {
            var smallRoofArea = 0;
            var normalRoofArea = 0;
            function degrees_to_radians(degrees) {
                var pi = Math.PI;
                return degrees * (pi / 180);
            }
            if (name === 'Small paket') {
                var roofArea = parseInt(this.props.roofarea) / Math.cos(degrees_to_radians(parseInt(this.props.roof_pitch)));
                smallRoofArea = roofArea * 25 / 100;
                normalRoofArea = roofArea * 75 / 100;
            }
            if (name === 'Standard paket') {
                var roofArea = parseInt(this.props.roofarea) / Math.cos(degrees_to_radians(parseInt(this.props.roof_pitch)));
                smallRoofArea = roofArea * 50 / 100;
                normalRoofArea = roofArea * 50 / 100;
            }
            if (name === 'Max paket') {
                var roofArea = parseInt(this.props.roofarea) / Math.cos(degrees_to_radians(parseInt(this.props.roof_pitch)));
                smallRoofArea = roofArea * 100 / 100;
                normalRoofArea = roofArea;
            }

            sessionStorage.setItem('roofAreaPkt', JSON.stringify({
                smallRoofArea: smallRoofArea,
                normalRoofArea: normalRoofArea
            }));
        }
    }, {
        key: 'componentWillUpdate',
        value: function componentWillUpdate(state, prop) {
            var _self = this;
            setTimeout(changeUpdate(prop), 2000);
            function changeUpdate(props) {
                if (props.panelarrayUpdate) {
                    var degrees_to_radians = function degrees_to_radians(degrees) {
                        var pi = Math.PI;
                        return degrees * (pi / 180);
                    };

                    _self.setState({ panelarrayUpdate: false });

                    var roofArea = parseInt(_self.props.roofarea) / Math.cos(degrees_to_radians(parseInt(_self.props.roof_pitch)));
                    if (roofArea > 400) {
                        _self.panelsArray = [];
                        Standardpacket = 100;
                        minPacket = 12;
                        _self.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: props.selectedPacket, count: props.customPacket }];
                        _self.setState({ maximumPackets: Standardpacket, minimumPackets: minPacket });
                    } else if (roofArea < 400 && roofArea > 200) {
                        _self.panelsArray = [];
                        Standardpacket = parseInt(roofArea / 4);
                        minPacket = 12;
                        maxPacket = 100;
                        _self.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: 'Max paket', count: parseInt(maxPacket) }, { packet: props.selectedPacket, count: props.customPacket }];
                        _self.setState({ maximumPackets: maxPacket, minimumPackets: minPacket });
                    } else if (roofArea < 200 && roofArea > 36) {
                        _self.panelsArray = [];
                        maxPacket = parseInt(roofArea / 2);
                        Standardpacket = 1 / 2 * maxPacket;
                        minPacket = 12;
                        _self.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: 'Max paket', count: parseInt(maxPacket) }, { packet: props.selectedPacket, count: props.customPacket }];
                        _self.setState({ maximumPackets: maxPacket, minimumPackets: minPacket });
                    } else if (roofArea < 36 && roofArea > 26) {
                        _self.panelsArray = [];
                        Standardpacket = parseInt(roofArea / 2);
                        minPacket = 12;
                        _self.panelsArray = [{ packet: 'Small paket', count: parseInt(minPacket) }, { packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: props.selectedPacket, count: props.customPacket }];
                        _self.setState({ maximumPackets: Standardpacket, minimumPackets: minPacket });
                    } else if (roofArea < 26) {
                        _self.panelsArray = [];
                        Standardpacket = 12;
                        _self.panelsArray = [{ packet: 'Standard paket', count: parseInt(Standardpacket) }, { packet: props.selectedPacket, count: props.customPacket }];
                        _self.setState({ maximumPackets: Standardpacket, minimumPackets: 12 });
                    }
                }
            }
        }
    }, {
        key: 'validate',
        value: function validate() {
            if (this.state.panel === '') {
                this.setState({ validationOne: true });
            } else if (this.state.battery === '') {
                this.setState({ validationTwo: true });
            } else if (this.state.packetsCount === '') {
                this.setState({ validationThree: true });
            }
        }
    }, {
        key: 'panelTypesChange',
        value: function panelTypesChange(panel, battery, value) {
            sessionStorage.removeItem('panel');
            sessionStorage.removeItem('battery');
            sessionStorage.removeItem('panelsCount');
            sessionStorage.setItem('panel', panel);
            sessionStorage.setItem('battery', battery);
            sessionStorage.setItem('panelsCount', value);
        }
    }, {
        key: 'countOfpanels',
        value: function countOfpanels(e) {
            if (this.state.minimumPackets <= e.target.value && e.target.value <= this.state.maximumPackets) {
                this.setState({
                    value: e.target.value,
                    selectedPacket: 'Custom paket',
                    packetName: 'Custom paket',
                    panelCountValidation: false
                });
            } else {
                this.setState({
                    value: e.target.value,
                    panelCountValidation: true
                });
            }
        }
    }, {
        key: 'increment',
        value: function increment() {
            if (this.state.value <= this.state.maximumPackets - 1) {
                this.setState({
                    value: parseInt(this.state.value) + 1,
                    panelCountValidation: false
                });
            } else {
                this.setState({ panelCountValidation: true });
            }
        }
    }, {
        key: 'decrement',
        value: function decrement() {
            if (this.state.value >= this.state.minimumPackets + 1) {
                this.setState({
                    value: parseInt(this.state.value) - 1,
                    panelCountValidation: false
                });
            } else {
                this.setState({ panelCountValidation: true });
            }
        }
    }, {
        key: 'openPanelPopup',
        value: function openPanelPopup() {
            this.setState({ modalForPanelIsOpen: true, panelPopup: true });
        }
    }, {
        key: 'closePanelModal',
        value: function closePanelModal() {
            this.setState({ modalForPanelIsOpen: false, panelPopup: false });
        }
    }, {
        key: 'openBatteryPopup',
        value: function openBatteryPopup() {
            this.setState({ modalForBatteryIsOpen: true, batteryPopup: true });
        }
    }, {
        key: 'closeBatteryModal',
        value: function closeBatteryModal() {
            this.setState({ modalForBatteryIsOpen: false, batteryPopup: false });
        }
    }, {
        key: 'closePacketModal',
        value: function closePacketModal() {
            this.setState({ modalForPacketIsOpen: false, packetPopup: false });
        }
    }, {
        key: 'openPacketPopup',
        value: function openPacketPopup() {
            this.setState({ modalForPacketIsOpen: true, packetPopup: true });
        }
    }, {
        key: 'render',
        value: function render() {
            var _this = this;

            return _react2['default'].createElement(
                'div',
                null,
                _react2['default'].createElement(
                    'div',
                    { className: '' },
                    _react2['default'].createElement(
                        'h3',
                        { className: 'roof_subhead' },
                        'Välj produkt'
                    )
                ),
                _react2['default'].createElement(
                    'div',
                    { className: '' },
                    _react2['default'].createElement(
                        'div',
                        { className: 'seperation-line' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'container' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-md-12 heading_text font-quicksand bold' },
                                'Välj Solpaneler'
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 col-sm-offset-3 material', style: { textAlign: 'center', padding: '30px', margin: '0px auto' } },
                                this.state.validationOne ? _react2['default'].createElement(
                                    'div',
                                    { className: 'validation', style: { margin: '0px auto' } },
                                    _react2['default'].createElement(
                                        'span',
                                        null,
                                        'Please select the Panel type'
                                    )
                                ) : null
                            ),
                            _react2['default'].createElement('div', { className: 'col-md-1' }),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-md-12 col-sm-12 align-text-center' },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-6 col-md-6', id: 'panel-types' },
                                    this.panels.map(function (data, index) {
                                        return _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6 col-md-6', key: index, onClick: _this.selectedPanel.bind(_this, data.name, data.cost, 'solpanel') },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'onfocs_brdr b-white', style: data.name == _this.state.panel ? selectedStyle : matstyle },
                                                _react2['default'].createElement('img', { src: data.image, alt: data.name, className: 'img-responsive' }),
                                                _react2['default'].createElement('br', null),
                                                _react2['default'].createElement(
                                                    'p',
                                                    { className: 'm-top9 panel-font' },
                                                    data.name,
                                                    ' panel'
                                                )
                                            )
                                        );
                                    })
                                ),
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-6 col-md-6', id: 'panel-types' },
                                    this.soltakPanels.map(function (data, index) {
                                        return _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6 col-md-6', key: index, onClick: _this.selectedPanel.bind(_this, data.name, data.cost, 'soltak') },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'onfocs_brdr b-white', style: data.name == _this.state.panel ? selectedStyle : matstyle },
                                                _react2['default'].createElement('img', { src: data.image, alt: data.name, className: 'img-responsive' }),
                                                _react2['default'].createElement('br', null),
                                                _react2['default'].createElement(
                                                    'p',
                                                    { className: 'm-top9 panel-font' },
                                                    data.name,
                                                    ' panel'
                                                )
                                            )
                                        );
                                    })
                                )
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-md-12 col-sm-12 align-text-center' },
                                _react2['default'].createElement(
                                    'a',
                                    { className: 'hiperLink', onClick: this.openPanelPopup.bind(this) },
                                    'Läs mer om solpanel'
                                ),
                                this.state.panelPopup ? _react2['default'].createElement(
                                    'div',
                                    null,
                                    _react2['default'].createElement(
                                        _reactModal2['default'],
                                        {
                                            isOpen: this.state.modalForPanelIsOpen,
                                            onAfterOpen: this.afterOpenModal,
                                            onRequestClose: this.closePanelModal,
                                            style: customStyles,
                                            className: 'panel-modal',
                                            contentLabel: 'Example Modal' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-md-12 panding_no' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'boka-heading' },
                                                'Solpaneler'
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'f-right' },
                                                _react2['default'].createElement(
                                                    'button',
                                                    { className: 'close-button ', onClick: this.closePanelModal },
                                                    'X'
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-md-12 questionsPage padding-bottom-none' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'heading list-head' },
                                                'STANDARD SOLPANEL'
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'p-10' },
                                                _react2['default'].createElement(
                                                    'ul',
                                                    { className: 'panels-list' },
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - 275 kWh '
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Panel ipolykristallin'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Passarbästförstorainstallationerpåexempelvisföretag, solcellsparkerochmarkanläggningar'
                                                    )
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-md-12 questionsPage padding-top-none' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'heading list-head' },
                                                'PREMIUM SOLPANEL'
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'p-10' },
                                                _react2['default'].createElement(
                                                    'ul',
                                                    { className: 'panels-list' },
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - 320 kWh '
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Panel imonokristallin'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Passarbästförvillordå den svartskimrandefärgenoftastärmeruppskattadänstandardpanelen'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Högreeffekt per panel görpanelenlämpligförmindretak'
                                                    )
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'estimate col-md-12 align-text-center' },
                                            _react2['default'].createElement(
                                                'button',
                                                { className: 'submit float-none', onClick: this.closePanelModal },
                                                'stäng'
                                            )
                                        )
                                    )
                                ) : null
                            )
                        )
                    ),
                    _react2['default'].createElement(
                        'div',
                        { className: 'col-sm-12 ' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'container' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-md-12 heading_text font-quicksand bold' },
                                'välj antal solpaneler'
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: '' },
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-12 material', style: { textAlign: 'center', padding: '30px', margin: '0px auto' } },
                                    this.state.validationThree ? _react2['default'].createElement(
                                        'div',
                                        { className: 'validation', style: { margin: '0px auto' } },
                                        _react2['default'].createElement(
                                            'span',
                                            null,
                                            'Please select the packet type'
                                        )
                                    ) : null
                                ),
                                _react2['default'].createElement('div', { className: 'col-md-1' }),
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-sm-12 col-md-10', id: 'panels-count' },
                                    this.state.popup ? _react2['default'].createElement(
                                        'div',
                                        null,
                                        _react2['default'].createElement(
                                            _reactModal2['default'],
                                            {
                                                isOpen: this.state.modalIsOpen,
                                                onAfterOpen: this.afterOpenModal,
                                                onRequestClose: this.closeModal,
                                                style: customStyles,
                                                className: 'panel-modal',
                                                contentLabel: 'Specify packet' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-md-12 panding_no' },
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'boka-heading' },
                                                    'Ange antal paneler'
                                                ),
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'f-right' },
                                                    _react2['default'].createElement(
                                                        'button',
                                                        { className: 'close-button', onClick: this.closeModal },
                                                        'X'
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'form',
                                                null,
                                                this.state.panelCountValidation ? _react2['default'].createElement(
                                                    'div',
                                                    { className: 'col-md-12 panels-valid-head' },
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'panels-count-validation' },
                                                        'Panels range is ',
                                                        this.state.maximumPackets,
                                                        ' - ',
                                                        this.state.minimumPackets
                                                    )
                                                ) : null,
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'col-md-12 align-text-center slots-centering ' },
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'move-left' },
                                                        _react2['default'].createElement(
                                                            'div',
                                                            { onClick: this.increment.bind(this) },
                                                            _react2['default'].createElement('img', { src: './img/caret-symbol.png', alt: 'increment' })
                                                        )
                                                    ),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        null,
                                                        _react2['default'].createElement('input', { id: 'counter', value: this.state.value, onChange: this.countOfpanels })
                                                    ),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'move-left' },
                                                        _react2['default'].createElement(
                                                            'div',
                                                            { onClick: this.decrement.bind(this) },
                                                            _react2['default'].createElement('img', { src: './img/down-arrow.png', alt: 'decrement' }),
                                                            ' '
                                                        )
                                                    )
                                                ),
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'col-md-12 booking-buttons align-text-center' },
                                                    _react2['default'].createElement(
                                                        'button',
                                                        { className: 'submit', onClick: this.closeModal },
                                                        'Avbryt'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'button',
                                                        { className: 'submit', disabled: this.state.panelCountValidation, onClick: this.selectedCount.bind(this, '', this.state.value) },
                                                        'Ok'
                                                    )
                                                )
                                            )
                                        )
                                    ) : null,
                                    this.state.panelName === 'solpanel' || this.state.panelName == undefined ? this.panelsArray.map(function (data, index) {
                                        return _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6 col-md-3 panding_no', key: index, onClick: _this.selectedCount.bind(_this, data.packet, data.count) },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'onfocs_brdr1 b-white solar-panel', style: data.packet == _this.state.packetName ? selectedStyle : matstyle },
                                                data.packet === "Custom paket" && _this.state.customPacket == "Ange antal paneler" ? _react2['default'].createElement(
                                                    'div',
                                                    { className: 'f21 text-capital specify-card' },
                                                    data.count
                                                ) : _react2['default'].createElement(
                                                    'div',
                                                    { className: 'packets-font' },
                                                    data.count
                                                ),
                                                _react2['default'].createElement('br', null),
                                                _react2['default'].createElement('br', null),
                                                _react2['default'].createElement(
                                                    'p',
                                                    { className: 'm-top9' },
                                                    data.packet
                                                )
                                            )
                                        );
                                    }) : null,
                                    this.state.panelName === 'soltak' && this.state.panelName !== undefined ? this.soltakPanelsArray.map(function (data, index) {
                                        return _react2['default'].createElement(
                                            'div',
                                            { className: 'col-sm-6 col-md-3 panding_no', key: index, onClick: _this.selectedCount.bind(_this, data.packet, data.count, "Specify the area of solar roof") },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'onfocs_brdr1 b-white solar-panel', style: data.packet == _this.state.packetName ? selectedStyle : matstyle },
                                                data.packet === "Custom paket" && _this.state.soltakCustomPaket == "Specify the area of solar roof" ? _react2['default'].createElement(
                                                    'div',
                                                    { className: 'f21 text-capital specify-card' },
                                                    data.count
                                                ) : _react2['default'].createElement(
                                                    'div',
                                                    { className: 'packets-font' },
                                                    data.count
                                                ),
                                                _react2['default'].createElement('br', null),
                                                _react2['default'].createElement('br', null),
                                                _react2['default'].createElement(
                                                    'p',
                                                    { className: 'm-top9' },
                                                    data.packet
                                                )
                                            )
                                        );
                                    }) : null
                                ),
                                _react2['default'].createElement(
                                    'div',
                                    { className: 'col-md-12 col-sm-12 align-text-center' },
                                    this.state.packetPopup && this.state.panel && this.state.panelName == 'solpanel' ? _react2['default'].createElement(
                                        'div',
                                        null,
                                        _react2['default'].createElement('div', { className: 'col-md-1' }),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-md-10 col-sm-12 panding_no panel-count-info-border' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-6 col-md-4 panding_no' },
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'list-head' },
                                                    _react2['default'].createElement(
                                                        'p',
                                                        { className: 'panel-count-info' },
                                                        'MAX ANTAL SOLARPANELER',
                                                        _react2['default'].createElement('br', null),
                                                        '(Takyta har plats for)'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'panel-values-info' },
                                                        this.state.maximumPackets
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-6 col-md-4 panding_no' },
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'list-head' },
                                                    _react2['default'].createElement(
                                                        'p',
                                                        { className: 'panel-count-info' },
                                                        'VALT ANTAL SOLARPANELER'
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'panel-values-info' },
                                                        this.state.packetsCount
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-6 col-md-4 panding_no' },
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'list-head' },
                                                    _react2['default'].createElement(
                                                        'p',
                                                        { className: 'panel-count-info' },
                                                        'EFFEKT'
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'panel-values-info no-border' },
                                                        totalInstalledPowerInkw,
                                                        _react2['default'].createElement(
                                                            'span',
                                                            null,
                                                            ' kWh'
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    ) : null,
                                    this.state.packetPopup && this.state.panel && this.state.panelName == 'soltak' ? _react2['default'].createElement(
                                        'div',
                                        null,
                                        _react2['default'].createElement('div', { className: 'col-md-1' }),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-md-10 col-sm-12 panding_no panel-count-info-border' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-6 col-md-4 panding_no' },
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'list-head' },
                                                    _react2['default'].createElement(
                                                        'p',
                                                        { className: 'panel-count-info' },
                                                        'Tak YTA'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'panel-values-info no-border' },
                                                        this.state.maximumPackets,
                                                        _react2['default'].createElement(
                                                            'span',
                                                            null,
                                                            ' kvm'
                                                        )
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-6 col-md-4 panding_no' },
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'list-head' },
                                                    _react2['default'].createElement(
                                                        'p',
                                                        { className: 'panel-count-info' },
                                                        'VALT SOLTAK YTA'
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'panel-values-info' },
                                                        this.state.packetsCount
                                                    )
                                                )
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'col-sm-6 col-md-4 panding_no' },
                                                _react2['default'].createElement(
                                                    'div',
                                                    { className: 'list-head' },
                                                    _react2['default'].createElement(
                                                        'p',
                                                        { className: 'panel-count-info' },
                                                        'EFFEKT'
                                                    ),
                                                    _react2['default'].createElement('br', null),
                                                    _react2['default'].createElement(
                                                        'div',
                                                        { className: 'panel-values-info no-border' },
                                                        totalInstalledPowerInkw,
                                                        _react2['default'].createElement(
                                                            'span',
                                                            null,
                                                            ' kWh'
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    ) : null
                                )
                            )
                        )
                    ),
                    _react2['default'].createElement(
                        'div',
                        { className: 'col-sm-12 center-line-seperation' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'container' },
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-md-12 heading_text font-quicksand bold' },
                                'välj Batteri'
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 material', style: { textAlign: 'center', padding: '30px', margin: '0px auto' } },
                                this.state.validationTwo ? _react2['default'].createElement(
                                    'div',
                                    { className: 'validation', style: { margin: '0px auto' } },
                                    _react2['default'].createElement(
                                        'span',
                                        null,
                                        'Please select the Battery type'
                                    )
                                ) : null
                            ),
                            _react2['default'].createElement('div', { className: 'col-md-1' }),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-sm-12 col-md-10', id: 'battery-types' },
                                this.batteries.map(function (data, index) {
                                    return _react2['default'].createElement(
                                        'div',
                                        { className: 'col-sm-6 col-md-4', key: index, onClick: _this.selectedBattery.bind(_this, data.name, data.cost) },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'onfocs_brdr b-white', style: data.name == _this.state.battery ? selectedStyle : matstyle },
                                            _react2['default'].createElement('img', { src: data.image, alt: data.name, className: 'img-responsive' }),
                                            _react2['default'].createElement('br', null),
                                            _react2['default'].createElement(
                                                'p',
                                                { className: 'm-top9' },
                                                data.name,
                                                ' batteri'
                                            )
                                        )
                                    );
                                })
                            ),
                            _react2['default'].createElement(
                                'div',
                                { className: 'col-md-12 col-sm-12 align-text-center' },
                                _react2['default'].createElement(
                                    'a',
                                    { className: 'hiperLink', onClick: this.openBatteryPopup.bind(this) },
                                    'Läs mer om batteri'
                                ),
                                this.state.batteryPopup ? _react2['default'].createElement(
                                    'div',
                                    null,
                                    _react2['default'].createElement(
                                        _reactModal2['default'],
                                        {
                                            isOpen: this.state.modalForBatteryIsOpen,
                                            onAfterOpen: this.afterOpenModal,
                                            onRequestClose: this.closeBatteryModal,
                                            style: customStyles,
                                            className: 'panel-modal',
                                            contentLabel: 'Example Modal' },
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'col-md-12 panding_no' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'boka-heading' },
                                                'BATTERI'
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'f-right' },
                                                _react2['default'].createElement(
                                                    'button',
                                                    { className: 'close-button ', onClick: this.closeBatteryModal },
                                                    'X'
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'questionsPage padding-bottom-none' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'heading list-head' },
                                                'PREMIUM BATTERI'
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'p-10' },
                                                _react2['default'].createElement(
                                                    'ul',
                                                    { className: 'panels-list' },
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - 11,4 kWh effekt '
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Strömäven vid strömavbrott'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - VäxelriktareochbatterigenomBatterX.'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Möjlighet till strömlagringfrånsolpaneler'
                                                    )
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'questionsPage padding-top-none' },
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'heading list-head' },
                                                'UTAN BATTERI'
                                            ),
                                            _react2['default'].createElement(
                                                'div',
                                                { className: 'p-10' },
                                                _react2['default'].createElement(
                                                    'ul',
                                                    { className: 'panels-list' },
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Sälj din överskottseldirekt till elbolaget'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Panel imonokristallin'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Passarbästförvillordå den svartskimrandefärgenoftastärmeruppskattadänstandardpanelen'
                                                    ),
                                                    _react2['default'].createElement(
                                                        'li',
                                                        null,
                                                        ' - Högreeffekt per panel görpanelenlämpligförmindretak'
                                                    )
                                                )
                                            )
                                        ),
                                        _react2['default'].createElement(
                                            'div',
                                            { className: 'estimate align-text-center' },
                                            _react2['default'].createElement(
                                                'button',
                                                { className: 'submit float-none', onClick: this.closeBatteryModal },
                                                'stäng'
                                            )
                                        )
                                    )
                                ) : null
                            )
                        )
                    )
                ),
                _react2['default'].createElement(
                    'div',
                    { className: 'col-sm-12 estimate', style: { textAlign: 'center', padding: '30px' } },
                    this.state.panel && this.state.battery ? _react2['default'].createElement(
                        'div',
                        { className: 'flex justifyCenter' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'padding1' },
                            _react2['default'].createElement(
                                'button',
                                { onClick: this.props.back.bind(this, 4), className: 'submit' },
                                'Föregående'
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            { className: 'padding1' },
                            _react2['default'].createElement(
                                'button',
                                { onClick: this.props.panelTypes.bind(this, this.state.panel, this.state.battery, parseInt(this.state.packetsCount), this.state.packetName, parseInt(this.state.annualOutput)), className: 'submit' },
                                'Slutför'
                            )
                        )
                    ) : _react2['default'].createElement(
                        'div',
                        { className: 'flex justifyCenter' },
                        _react2['default'].createElement(
                            'div',
                            { className: 'padding1' },
                            _react2['default'].createElement(
                                'button',
                                { onClick: this.props.back.bind(this, 4), className: 'submit' },
                                'Föregående'
                            )
                        ),
                        _react2['default'].createElement(
                            'div',
                            { className: 'padding1' },
                            _react2['default'].createElement(
                                'button',
                                { onClick: this.validate, className: 'submit' },
                                'Slutför'
                            )
                        )
                    )
                )
            );
        }
    }]);

    return PanelComponent;
})(_react.Component);

exports['default'] = PanelComponent;
module.exports = exports['default'];
/* <div className="col-sm-6 col-md-3 panding_no">
   <div className="list-head">
       <p className="panel-count-info">ÅRSPRODUKTION</p>
       <br />
       <div className='panel-values-info'>{parseInt(this.state.annualOutput)}
           <span> KWh</span>
       </div>
   </div>
</div> */ /* <div className="col-sm-6 col-md-3 panding_no">
             <div className="list-head">
                 <p className="panel-count-info">ÅRSPRODUKTION</p>
                 <br />
                 <div className='panel-values-info'>{parseInt(this.state.annualOutput)}
                     <span> KWh</span>
                 </div>
             </div>
          </div> */

},{"react":undefined,"react-modal":88}],32:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var Profile = (function (_Component) {
    _inherits(Profile, _Component);

    function Profile(props) {
        _classCallCheck(this, Profile);

        _get(Object.getPrototypeOf(Profile.prototype), "constructor", this).call(this, props);
        var userdata = "";
        var name = "";
        var Phone = "";
        var Email = "";
        if (localStorage.getItem("userdata") == "undefined" || localStorage.getItem("userdata") == undefined) {
            this.userdata = "";
        } else {
            this.userdata = JSON.parse(localStorage.getItem("userdata"));
            this.name = this.userdata.name;
            this.Phone = this.userdata.email;
            this.Email = this.userdata.phone;
        }
    }

    _createClass(Profile, [{
        key: "render",
        value: function render() {
            return _react2["default"].createElement(
                "div",
                { id: "profile" },
                _react2["default"].createElement(
                    "div",
                    { className: "container" },
                    _react2["default"].createElement(
                        "div",
                        { className: "col-sm-12" },
                        _react2["default"].createElement(
                            "div",
                            { id: "", hidden: true },
                            _react2["default"].createElement(
                                "table",
                                { className: "table" },
                                _react2["default"].createElement(
                                    "tbody",
                                    null,
                                    _react2["default"].createElement(
                                        "tr",
                                        null,
                                        _react2["default"].createElement(
                                            "td",
                                            null,
                                            "Name"
                                        ),
                                        _react2["default"].createElement(
                                            "td",
                                            null,
                                            " ",
                                            _react2["default"].createElement("input", { type: "text", className: "form-control", value: this.name, readOnly: true }),
                                            " "
                                        ),
                                        _react2["default"].createElement(
                                            "td",
                                            null,
                                            "Email"
                                        ),
                                        _react2["default"].createElement(
                                            "td",
                                            null,
                                            _react2["default"].createElement("input", { type: "text", className: "form-control", value: this.Email, readOnly: true })
                                        )
                                    ),
                                    _react2["default"].createElement(
                                        "tr",
                                        null,
                                        _react2["default"].createElement(
                                            "td",
                                            null,
                                            "Phone"
                                        ),
                                        _react2["default"].createElement(
                                            "td",
                                            null,
                                            " ",
                                            _react2["default"].createElement("input", { type: "text", value: this.Phone, className: "form-control", readOnly: true }),
                                            " "
                                        ),
                                        _react2["default"].createElement("td", null),
                                        _react2["default"].createElement(
                                            "td",
                                            null,
                                            " ",
                                            _react2["default"].createElement(
                                                "button",
                                                { className: "btn btn-primary" },
                                                "Submit"
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    ),
                    _react2["default"].createElement(
                        "div",
                        { className: "col-sm-12" },
                        _react2["default"].createElement(
                            "div",
                            { id: "" },
                            _react2["default"].createElement(
                                "h2",
                                null,
                                _react2["default"].createElement(
                                    "b",
                                    null,
                                    this.props.address
                                )
                            ),
                            _react2["default"].createElement(
                                "h3",
                                { className: "text-center" },
                                _react2["default"].createElement(
                                    "b",
                                    null,
                                    "Your Roofing Estimation"
                                )
                            ),
                            _react2["default"].createElement(
                                "table",
                                { className: "table" },
                                _react2["default"].createElement(
                                    "thead",
                                    null,
                                    _react2["default"].createElement(
                                        "tr",
                                        null,
                                        _react2["default"].createElement(
                                            "th",
                                            null,
                                            "S.No"
                                        ),
                                        _react2["default"].createElement(
                                            "th",
                                            null,
                                            "Style"
                                        ),
                                        _react2["default"].createElement(
                                            "th",
                                            null,
                                            "Material"
                                        ),
                                        _react2["default"].createElement(
                                            "th",
                                            null,
                                            "Area"
                                        ),
                                        _react2["default"].createElement(
                                            "th",
                                            null,
                                            "Estimated Price"
                                        )
                                    )
                                ),
                                _react2["default"].createElement(Estimation, { data: this.userdata.estdet })
                            )
                        )
                    ),
                    _react2["default"].createElement("div", { className: "col-sm-12" })
                )
            );
        }
    }]);

    return Profile;
})(_react.Component);

var Estimation = (function (_Component2) {
    _inherits(Estimation, _Component2);

    function Estimation(props) {
        _classCallCheck(this, Estimation);

        _get(Object.getPrototypeOf(Estimation.prototype), "constructor", this).call(this, props);
        var resdata = props.data;
    }

    _createClass(Estimation, [{
        key: "render",
        value: function render() {
            return _react2["default"].createElement(
                "tbody",
                null,
                this.props.data.map(function (value, key) {
                    return _react2["default"].createElement(
                        "tr",
                        { key: key },
                        _react2["default"].createElement(
                            "td",
                            null,
                            key + 1
                        ),
                        _react2["default"].createElement(
                            "td",
                            { key: key },
                            value.slope
                        ),
                        _react2["default"].createElement(
                            "td",
                            null,
                            value.material
                        ),
                        _react2["default"].createElement(
                            "td",
                            null,
                            value.area
                        ),
                        _react2["default"].createElement(
                            "td",
                            null,
                            value.estimatedamount
                        )
                    );
                })
            );
        }
    }]);

    return Estimation;
})(_react.Component);

exports["default"] = Profile;
module.exports = exports["default"];

},{"react":undefined}],33:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _componentsDragabbleComponent = require('./components/DragabbleComponent');

var _componentsDragabbleComponent2 = _interopRequireDefault(_componentsDragabbleComponent);

var _componentsContext = require('./components/Context');

var _componentsContext2 = _interopRequireDefault(_componentsContext);

var _reactModal = require('react-modal');

var _reactModal2 = _interopRequireDefault(_reactModal);

var customStyles = {
  content: {
    top: '50%',
    left: '50%',
    right: 'auto',
    bottom: 'auto',
    marginRight: '-50%',
    transform: 'translate(-50%, -50%)',
    padding: '10px 15px 23px',
    fontSize: '16px',
    borderRadius: '85px',
    zIndex: '90'
  }
};
var highletstyle = {
  fontSize: '15'
};
var highletstyle2 = {
  fontSize: '15'
};

var RoofQuestions = (function (_Component) {
  _inherits(RoofQuestions, _Component);

  function RoofQuestions(props) {
    _classCallCheck(this, RoofQuestions);

    _get(Object.getPrototypeOf(RoofQuestions.prototype), 'constructor', this).call(this, props);
    window.scrollTo(0, 0);
    this.dataSet = [{
      question: "Vilken typ av fastighet bor du i?",
      answers: [{
        image: "./img/Digitak_Radhus.png",
        name: "Radhus"
      }, {
        image: "./img/Digitak_Villa.png",
        name: "Villa"
      }, {
        image: "./img/Digitak_Fritidshus.png",
        name: "Fritidshus"
      }, {
        image: "./img/Digitak_Bostadsra_Level.png",
        name: "Bostadsrätt"
      }, {
        image: "./img/Digitak_Lantbruk.png",
        name: "Lantbruk"
      }]
    }, {
      question: "Hur många våningar är fastigheten?",
      answers: [{
        image: "./img/Digitak_1_Level.png",
        name: "1 plan"
      }, {
        image: "./img/Digitak_2_Level.png",
        name: "2 plan"
      }, {
        image: "./img/Digitak_3_Level.png",
        name: "3 plan"
      }, {
        image: "./img/Digitak_3+_Level.png",
        name: "3+ plan"
      }]
    }];
    this.state = { modalIsOpen: false, stepIndex: 1, selectedValue: '', selectedValueTwo: '', angle: 45, left: '135px', validationOne: false, validation: false, popup: false };
    this.handleClick = this.handleClick.bind(this);
    this.roofangle = this.roofangle.bind(this);
    this.handleClickTwo = this.handleClickTwo.bind(this);
    this.validate = this.validate.bind(this);
    this.scrollable = this.scrollable.bind(this);
    this.selectedAnswers = [];
    this.openPopup = this.openPopup.bind(this);
    _reactModal2['default'].setAppElement('body');
    this.openModal = this.openModal.bind(this);
    this.afterOpenModal = this.afterOpenModal.bind(this);
    this.closeModal = this.closeModal.bind(this);
  }

  _createClass(RoofQuestions, [{
    key: 'handleClick',
    value: function handleClick(value) {
      var selectedValue = value;
      highletstyle = {
        fontWeight: 'bold',
        color: 'black',
        fontSize: '16px'
      };
      this.selectedAnswers.push(value);
      this.setState({ selectedValue: selectedValue, validationOne: false });
    }
  }, {
    key: 'handleClickTwo',
    value: function handleClickTwo(value2) {
      var selectedValue = value2;
      highletstyle2 = {
        fontWeight: 'bold',
        color: 'black',
        fontSize: '16px'
      };
      this.selectedAnswers.push(value2);
      this.setState({ selectedValueTwo: selectedValue, validation: false });
    }
  }, {
    key: 'validate',
    value: function validate() {
      if (!this.state.selectedValue) {
        this.setState({ validationOne: true });
      } else if (!this.state.selectedValueTwo) {
        this.setState({ validation: true });
      }
    }
  }, {
    key: 'scrollable',
    value: function scrollable(e) {
      if (e.nativeEvent.offsetX > 270) {
        this.setState({ left: '270px' });
        this.setState({ angle: 90 });
      } else {
        this.setState({ left: e.nativeEvent.offsetX });
        var val = Math.floor(e.nativeEvent.offsetX / 3);
        this.setState({ angle: Math.ceil(val / 5) * 5 });
      }
    }
  }, {
    key: 'roofangle',
    value: function roofangle(roofAngle) {
      this.setState({ angle: roofAngle });
    }
  }, {
    key: 'openPopup',
    value: function openPopup() {
      this.setState({ popup: true, modalIsOpen: true });
    }
  }, {
    key: 'openModal',
    value: function openModal() {}
  }, {
    key: 'afterOpenModal',
    value: function afterOpenModal() {}
  }, {
    key: 'closeModal',
    value: function closeModal() {
      this.setState({ modalIsOpen: false });
    }
  }, {
    key: 'render',
    value: function render() {
      var _this = this;

      return _react2['default'].createElement(
        _componentsContext2['default'].Consumer,
        null,
        function (value) {
          var _value$actions = value.actions;
          var queval = _value$actions.qusetionsval;
          var back = _value$actions.stepval;

          return _react2['default'].createElement(
            'div',
            null,
            _react2['default'].createElement(
              'div',
              { className: 'container ' },
              _react2['default'].createElement(
                'h3',
                { className: 'roof_subhead' },
                'Fastighetsinformation'
              )
            ),
            _react2['default'].createElement(
              'div',
              { className: 'container roofing_type col-sm-12 panding_no' },
              _react2['default'].createElement(
                'div',
                { className: 'col-sm-12 col-md-12', style: {
                    padding: '2em 0',
                    borderBottom: '1px solid #8888886e'
                  } },
                _react2['default'].createElement('div', { className: 'col-md-2' }),
                _react2['default'].createElement(
                  'div',
                  { className: 'col-md-8 panding_no', id: 'navbar2' },
                  _react2['default'].createElement(
                    'div',
                    { className: 'col-sm-12 col-md-12 panding_no uppercase text-blue align-text-center' },
                    _react2['default'].createElement(
                      'div',
                      { style: { padding: '20px 0px 20px 0' } },
                      _react2['default'].createElement(
                        'div',
                        { className: 'bold font-quicksand' },
                        'Vilken är fastighetens ungefärliga taklutning ?'
                      )
                    )
                  ),
                  _react2['default'].createElement(_componentsDragabbleComponent2['default'], { roofAngle: _this.roofangle }),
                  _react2['default'].createElement(
                    'div',
                    { className: 'col-md-12 col-sm-12 align-text-center slots-centering' },
                    _react2['default'].createElement(
                      'div',
                      { className: 'hiperLink', style: { textDecoration: 'underline' }, onClick: _this.openPopup },
                      'Läs mer om taklutning'
                    )
                  )
                )
              ),
              _this.state.popup ? _react2['default'].createElement(
                'div',
                null,
                _react2['default'].createElement(
                  _reactModal2['default'],
                  {
                    isOpen: _this.state.modalIsOpen,
                    onAfterOpen: _this.afterOpenModal,
                    onRequestClose: _this.closeModal,
                    style: customStyles,
                    contentLabel: 'Example Modal' },
                  _react2['default'].createElement(
                    'div',
                    null,
                    _react2['default'].createElement(
                      'button',
                      { style: { float: 'right', color: '#8ee2ae', backgroundColor: '#fff', border: 'none', margin: '0 75px', fontSize: '20px' }, onClick: _this.closeModal },
                      'X'
                    )
                  ),
                  _react2['default'].createElement(
                    'div',
                    { className: 'heading' },
                    'TAKLUTNING'
                  ),
                  _react2['default'].createElement(
                    'div',
                    { className: 'footer-popup questionsPage' },
                    'Dra i reglaget för att ändra takets ungefärliga taklutning.'
                  ),
                  _react2['default'].createElement(
                    'div',
                    { className: 'estimate ' },
                    _react2['default'].createElement(
                      'button',
                      { className: 'submit', onClick: _this.closeModal },
                      'stäng'
                    )
                  )
                )
              ) : null,
              _react2['default'].createElement(
                'div',
                { className: 'col-sm-12 panding_no', style: {
                    backgroundColor: '#eee', padding: '2em 0px 4em', boxShadow: '0 -3px 5px -3px rgba(0,0,0,.15)',
                    borderBottom: '1px solid #8888886e'
                  } },
                _react2['default'].createElement('div', { className: 'col-sm-1' }),
                _react2['default'].createElement(
                  'div',
                  { className: 'col-sm-10 panding_no', id: 'padding-b' },
                  _react2['default'].createElement(QuizArea, { handleClick: _this.handleClick, validation: _this.state.validationOne, dataSet: _this.dataSet[0], selected: _this.state.selectedValue, style: highletstyle })
                )
              ),
              _react2['default'].createElement(
                'div',
                { className: 'col-sm-12', style: { padding: '4em 0 0 0' } },
                _react2['default'].createElement('div', { className: 'col-sm-1' }),
                _react2['default'].createElement(
                  'div',
                  { className: 'col-sm-10 panding_no', id: 'padding-b' },
                  _react2['default'].createElement(QuizArea, { handleClick: _this.handleClickTwo, validation: _this.state.validation, dataSet: _this.dataSet[1], selected: _this.state.selectedValueTwo, style: highletstyle2 })
                )
              ),
              _react2['default'].createElement(
                'div',
                { className: 'col-sm-12 estimate', style: { textAlign: 'center', padding: '30px' } },
                _this.state.selectedValue && _this.state.selectedValueTwo ? _react2['default'].createElement(
                  'div',
                  { className: 'flex justifyCenter' },
                  _react2['default'].createElement(
                    'div',
                    { className: 'padding1' },
                    _react2['default'].createElement(
                      'button',
                      { onClick: back.bind(_this, 1), className: 'submit' },
                      'Föregående'
                    )
                  ),
                  _react2['default'].createElement(
                    'div',
                    { className: 'padding1' },
                    _react2['default'].createElement(
                      'button',
                      { onClick: queval.bind(_this, _this.state.selectedValue, _this.state.selectedValueTwo, _this.state.angle), className: 'submit' },
                      'Nästa'
                    )
                  )
                ) : _react2['default'].createElement(
                  'div',
                  { className: 'flex justifyCenter' },
                  _react2['default'].createElement(
                    'div',
                    { className: 'padding1' },
                    _react2['default'].createElement(
                      'button',
                      { onClick: back.bind(_this, 1), className: 'submit' },
                      'Föregående'
                    )
                  ),
                  _react2['default'].createElement(
                    'div',
                    { className: 'padding1' },
                    _react2['default'].createElement(
                      'button',
                      { onClick: _this.validate, className: 'submit' },
                      'Nästa'
                    )
                  )
                )
              )
            )
          );
        }
      );
    }
  }]);

  return RoofQuestions;
})(_react.Component);

function Question(props) {
  return _react2['default'].createElement(
    'div',
    null,
    _react2['default'].createElement(
      'div',
      { className: 'roof-question font-quicksand' },
      props.dataSet.question
    ),
    props.validation ? _react2['default'].createElement(
      'div',
      { className: 'col-md-6 col-md-offset-3' },
      _react2['default'].createElement(
        'div',
        { className: 'validation' },
        _react2['default'].createElement(
          'span',
          null,
          'Please select One'
        )
      )
    ) : null
  );
}

function Answer(props) {
  var colorCode = {
    border: '4px solid #8ee2ae',
    color: '#064f70',
    fontWeight: 'bold',
    padding: "10px 0 10px",
    margin: "5px 5px 50px 5px",
    textAlign: "-webkit-center",
    borderRadius: "4px",
    boxShadow: "0 15px 35px rgba(50,50,93,.1), 0 5px 15px rgba(0,0,0,.07)",
    transition: "all 0.3s ease-out",
    WebkitTransform: "all 0.3s ease-out",
    minHeight: "190px",
    textTransform: 'uppercase',
    fontSize: '15px'
  };
  var stylestyle = {
    padding: "10px 0 10px",
    margin: "5px 5px 50px 5px",
    border: "4px solid #f9f9f9",
    textAlign: "-webkit-center",
    borderRadius: "4px",
    boxShadow: "0 15px 35px rgba(50,50,93,.1), 0 5px 15px rgba(0,0,0,.07)",
    transition: "all 0.3s ease-out",
    WebkitTransform: "all 0.3s ease-out",
    minHeight: "190px",
    textTransform: 'uppercase',
    color: 'rgb(6, 79, 112)',
    fontSize: '15px'
  };
  var appliedstyle = props.answer.name === props.selected ? colorCode : stylestyle;
  return _react2['default'].createElement(
    'div',
    { className: 'col-sm-6 col-md-4 col-lg-2', key: props.choice, onClick: props.handleClick.bind(this, props.answer.name) },
    _react2['default'].createElement(
      'div',
      { className: 'onfocs_brdr b-white', style: appliedstyle },
      _react2['default'].createElement('img', { className: 'img-responsive', src: props.answer.image, alt: props.answer.name }),
      _react2['default'].createElement(
        'p',
        null,
        props.answer.name
      )
    )
  );
}

function AnswerList(props) {
  var answers = [];
  for (var i = 0; i < props.dataSet.answers.length; i++) {
    answers.push(_react2['default'].createElement(Answer, { key: i, choice: i, style: props.style, handleClick: props.handleClick, selected: props.selected, answer: props.dataSet.answers[i] }));
  }
  return _react2['default'].createElement(
    'div',
    { className: 'col-md-12 justifyCenter align-text-center padd-top-bot' },
    props.dataSet.answers.length == 4 ? _react2['default'].createElement(
      'div',
      null,
      _react2['default'].createElement('div', { className: 'col-lg-2' }),
      answers,
      _react2['default'].createElement('div', { className: 'col-lg-2' })
    ) : _react2['default'].createElement(
      'div',
      null,
      _react2['default'].createElement('div', { className: 'col-lg-1' }),
      answers,
      _react2['default'].createElement('div', { className: 'col-lg-1' })
    )
  );
}

function QuizArea(props) {
  return _react2['default'].createElement(
    'div',
    null,
    _react2['default'].createElement(Question, { dataSet: props.dataSet, validation: props.validation }),
    _react2['default'].createElement(AnswerList, { dataSet: props.dataSet, style: props.style, handleClick: props.handleClick, selected: props.selected })
  );
}

exports['default'] = RoofQuestions;
module.exports = exports['default'];

},{"./components/Context":7,"./components/DragabbleComponent":10,"react":undefined,"react-modal":88}],34:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRouterDom = require('react-router-dom');

var mainurl = require('./config.json');

var Textc = (function (_Component) {
    _inherits(Textc, _Component);

    function Textc(props) {
        _classCallCheck(this, Textc);

        _get(Object.getPrototypeOf(Textc.prototype), 'constructor', this).call(this, props);
        this.state = {
            userdata: ""
        };
        fetch('./config.json').then(function (response) {});
    }

    _createClass(Textc, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            var main = this;
            var payload = {
                name: 'mahesh',
                email: 'maheshs.versatilemobitech111111@gmail.com',
                password: '123456',
                phone: '7386949079',
                type: 'USER'
            };
            fetch(mainurl.url + 'users/registeruser', {
                method: "post", headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                    "Access-Control-Request-Headers": "*",
                    "Access-Control-Request-Method": "*"
                }, body: 'json=' + JSON.stringify(payload)
            }).then(function (response) {
                return response;
            }).then(function (response) {
                return response.json();
            }).then(function (data) {
                if (data.status == 400) {
                    main.setState({
                        userdata: data.message
                    });
                } else {
                    main.setState({
                        userdata: data.data
                    });
                }
            });
            /*
                method: 'POST',
              url: 'http://localhost:8080/users/',
             ,
              form: 
               { name: 'mahesh',
                 email: 'maheshs.versatilemobitech1@gmail.com',
                 password: '123456',
                 phone: '7386949079',
                 type: 'USER' }*/
            /*
                  fetch(`/users/`,{method:"post"},)
               .then( function(response) {
                 return response;
               })
               .then( function(response) {
               return response.json();
            
            
               }).then( function(data) {
            
               console.log(data);
               	
             })
               */
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2['default'].createElement(
                'div',
                null,
                this.state.userdata
            );
        }
    }]);

    return Textc;
})(_react.Component);

exports['default'] = Textc;
module.exports = exports['default'];

},{"./config.json":15,"react":undefined,"react-dom":undefined,"react-router-dom":104}],35:[function(require,module,exports){
!function(a,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n(require,exports,module):a.CountUp=n()}(this,function(a,n,t){var e=function(a,n,t,e,i,r){function o(a){var n,t,e,i,r,o,s=a<0;if(a=Math.abs(a).toFixed(l.decimals),a+="",n=a.split("."),t=n[0],e=n.length>1?l.options.decimal+n[1]:"",l.options.useGrouping){for(i="",r=0,o=t.length;r<o;++r)0!==r&&r%3===0&&(i=l.options.separator+i),i=t[o-r-1]+i;t=i}return l.options.numerals.length&&(t=t.replace(/[0-9]/g,function(a){return l.options.numerals[+a]}),e=e.replace(/[0-9]/g,function(a){return l.options.numerals[+a]})),(s?"-":"")+l.options.prefix+t+e+l.options.suffix}function s(a,n,t,e){return t*(-Math.pow(2,-10*a/e)+1)*1024/1023+n}function u(a){return"number"==typeof a&&!isNaN(a)}var l=this;if(l.version=function(){return"1.9.3"},l.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:s,formattingFn:o,prefix:"",suffix:"",numerals:[]},r&&"object"==typeof r)for(var m in l.options)r.hasOwnProperty(m)&&null!==r[m]&&(l.options[m]=r[m]);""===l.options.separator?l.options.useGrouping=!1:l.options.separator=""+l.options.separator;for(var d=0,c=["webkit","moz","ms","o"],f=0;f<c.length&&!window.requestAnimationFrame;++f)window.requestAnimationFrame=window[c[f]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[f]+"CancelAnimationFrame"]||window[c[f]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,n){var t=(new Date).getTime(),e=Math.max(0,16-(t-d)),i=window.setTimeout(function(){a(t+e)},e);return d=t+e,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)}),l.initialize=function(){return!!l.initialized||(l.error="",l.d="string"==typeof a?document.getElementById(a):a,l.d?(l.startVal=Number(n),l.endVal=Number(t),u(l.startVal)&&u(l.endVal)?(l.decimals=Math.max(0,e||0),l.dec=Math.pow(10,l.decimals),l.duration=1e3*Number(i)||2e3,l.countDown=l.startVal>l.endVal,l.frameVal=l.startVal,l.initialized=!0,!0):(l.error="[CountUp] startVal ("+n+") or endVal ("+t+") is not a number",!1)):(l.error="[CountUp] target is null or undefined",!1))},l.printValue=function(a){var n=l.options.formattingFn(a);"INPUT"===l.d.tagName?this.d.value=n:"text"===l.d.tagName||"tspan"===l.d.tagName?this.d.textContent=n:this.d.innerHTML=n},l.count=function(a){l.startTime||(l.startTime=a),l.timestamp=a;var n=a-l.startTime;l.remaining=l.duration-n,l.options.useEasing?l.countDown?l.frameVal=l.startVal-l.options.easingFn(n,0,l.startVal-l.endVal,l.duration):l.frameVal=l.options.easingFn(n,l.startVal,l.endVal-l.startVal,l.duration):l.countDown?l.frameVal=l.startVal-(l.startVal-l.endVal)*(n/l.duration):l.frameVal=l.startVal+(l.endVal-l.startVal)*(n/l.duration),l.countDown?l.frameVal=l.frameVal<l.endVal?l.endVal:l.frameVal:l.frameVal=l.frameVal>l.endVal?l.endVal:l.frameVal,l.frameVal=Math.round(l.frameVal*l.dec)/l.dec,l.printValue(l.frameVal),n<l.duration?l.rAF=requestAnimationFrame(l.count):l.callback&&l.callback()},l.start=function(a){l.initialize()&&(l.callback=a,l.rAF=requestAnimationFrame(l.count))},l.pauseResume=function(){l.paused?(l.paused=!1,delete l.startTime,l.duration=l.remaining,l.startVal=l.frameVal,requestAnimationFrame(l.count)):(l.paused=!0,cancelAnimationFrame(l.rAF))},l.reset=function(){l.paused=!1,delete l.startTime,l.initialized=!1,l.initialize()&&(cancelAnimationFrame(l.rAF),l.printValue(l.startVal))},l.update=function(a){if(l.initialize()){if(a=Number(a),!u(a))return void(l.error="[CountUp] update() - new endVal is not a number: "+a);l.error="",a!==l.frameVal&&(cancelAnimationFrame(l.rAF),l.paused=!1,delete l.startTime,l.startVal=l.frameVal,l.endVal=a,l.countDown=l.startVal>l.endVal,l.rAF=requestAnimationFrame(l.count))}},l.initialize()&&l.printValue(l.startVal)};return e});
},{}],36:[function(require,module,exports){
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/* global define */

(function () {
	'use strict';

	var canUseDOM = !!(
		typeof window !== 'undefined' &&
		window.document &&
		window.document.createElement
	);

	var ExecutionEnvironment = {

		canUseDOM: canUseDOM,

		canUseWorkers: typeof Worker !== 'undefined',

		canUseEventListeners:
			canUseDOM && !!(window.addEventListener || window.attachEvent),

		canUseViewport: canUseDOM && !!window.screen

	};

	if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {
		define(function () {
			return ExecutionEnvironment;
		});
	} else if (typeof module !== 'undefined' && module.exports) {
		module.exports = ExecutionEnvironment;
	} else {
		window.ExecutionEnvironment = ExecutionEnvironment;
	}

}());

},{}],37:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var resolvePathname = _interopDefault(require('resolve-pathname'));
var valueEqual = _interopDefault(require('value-equal'));
var warning = _interopDefault(require('tiny-warning'));
var invariant = _interopDefault(require('tiny-invariant'));

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function addLeadingSlash(path) {
  return path.charAt(0) === '/' ? path : '/' + path;
}
function stripLeadingSlash(path) {
  return path.charAt(0) === '/' ? path.substr(1) : path;
}
function hasBasename(path, prefix) {
  return new RegExp('^' + prefix + '(\\/|\\?|#|$)', 'i').test(path);
}
function stripBasename(path, prefix) {
  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;
}
function stripTrailingSlash(path) {
  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;
}
function parsePath(path) {
  var pathname = path || '/';
  var search = '';
  var hash = '';
  var hashIndex = pathname.indexOf('#');

  if (hashIndex !== -1) {
    hash = pathname.substr(hashIndex);
    pathname = pathname.substr(0, hashIndex);
  }

  var searchIndex = pathname.indexOf('?');

  if (searchIndex !== -1) {
    search = pathname.substr(searchIndex);
    pathname = pathname.substr(0, searchIndex);
  }

  return {
    pathname: pathname,
    search: search === '?' ? '' : search,
    hash: hash === '#' ? '' : hash
  };
}
function createPath(location) {
  var pathname = location.pathname,
      search = location.search,
      hash = location.hash;
  var path = pathname || '/';
  if (search && search !== '?') path += search.charAt(0) === '?' ? search : "?" + search;
  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : "#" + hash;
  return path;
}

function createLocation(path, state, key, currentLocation) {
  var location;

  if (typeof path === 'string') {
    // Two-arg form: push(path, state)
    location = parsePath(path);
    location.state = state;
  } else {
    // One-arg form: push(location)
    location = _extends({}, path);
    if (location.pathname === undefined) location.pathname = '';

    if (location.search) {
      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;
    } else {
      location.search = '';
    }

    if (location.hash) {
      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;
    } else {
      location.hash = '';
    }

    if (state !== undefined && location.state === undefined) location.state = state;
  }

  try {
    location.pathname = decodeURI(location.pathname);
  } catch (e) {
    if (e instanceof URIError) {
      throw new URIError('Pathname "' + location.pathname + '" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');
    } else {
      throw e;
    }
  }

  if (key) location.key = key;

  if (currentLocation) {
    // Resolve incomplete/relative pathname relative to current location.
    if (!location.pathname) {
      location.pathname = currentLocation.pathname;
    } else if (location.pathname.charAt(0) !== '/') {
      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);
    }
  } else {
    // When there is no prior location and pathname is empty, set it to /
    if (!location.pathname) {
      location.pathname = '/';
    }
  }

  return location;
}
function locationsAreEqual(a, b) {
  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);
}

function createTransitionManager() {
  var prompt = null;

  function setPrompt(nextPrompt) {
    warning(prompt == null, 'A history supports only one prompt at a time');
    prompt = nextPrompt;
    return function () {
      if (prompt === nextPrompt) prompt = null;
    };
  }

  function confirmTransitionTo(location, action, getUserConfirmation, callback) {
    // TODO: If another transition starts while we're still confirming
    // the previous one, we may end up in a weird state. Figure out the
    // best way to handle this.
    if (prompt != null) {
      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;

      if (typeof result === 'string') {
        if (typeof getUserConfirmation === 'function') {
          getUserConfirmation(result, callback);
        } else {
          warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message');
          callback(true);
        }
      } else {
        // Return false from a transition hook to cancel the transition.
        callback(result !== false);
      }
    } else {
      callback(true);
    }
  }

  var listeners = [];

  function appendListener(fn) {
    var isActive = true;

    function listener() {
      if (isActive) fn.apply(void 0, arguments);
    }

    listeners.push(listener);
    return function () {
      isActive = false;
      listeners = listeners.filter(function (item) {
        return item !== listener;
      });
    };
  }

  function notifyListeners() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    listeners.forEach(function (listener) {
      return listener.apply(void 0, args);
    });
  }

  return {
    setPrompt: setPrompt,
    confirmTransitionTo: confirmTransitionTo,
    appendListener: appendListener,
    notifyListeners: notifyListeners
  };
}

var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);
function getConfirmation(message, callback) {
  callback(window.confirm(message)); // eslint-disable-line no-alert
}
/**
 * Returns true if the HTML5 history API is supported. Taken from Modernizr.
 *
 * https://github.com/Modernizr/Modernizr/blob/master/LICENSE
 * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js
 * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586
 */

function supportsHistory() {
  var ua = window.navigator.userAgent;
  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;
  return window.history && 'pushState' in window.history;
}
/**
 * Returns true if browser fires popstate on hash change.
 * IE10 and IE11 do not.
 */

function supportsPopStateOnHashChange() {
  return window.navigator.userAgent.indexOf('Trident') === -1;
}
/**
 * Returns false if using go(n) with hash history causes a full page reload.
 */

function supportsGoWithoutReloadUsingHash() {
  return window.navigator.userAgent.indexOf('Firefox') === -1;
}
/**
 * Returns true if a given popstate event is an extraneous WebKit event.
 * Accounts for the fact that Chrome on iOS fires real popstate events
 * containing undefined state when pressing the back button.
 */

function isExtraneousPopstateEvent(event) {
  event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;
}

var PopStateEvent = 'popstate';
var HashChangeEvent = 'hashchange';

function getHistoryState() {
  try {
    return window.history.state || {};
  } catch (e) {
    // IE 11 sometimes throws when accessing window.history.state
    // See https://github.com/ReactTraining/history/pull/289
    return {};
  }
}
/**
 * Creates a history object that uses the HTML5 history API including
 * pushState, replaceState, and the popstate event.
 */


function createBrowserHistory(props) {
  if (props === void 0) {
    props = {};
  }

  !canUseDOM ? invariant(false, 'Browser history needs a DOM') : void 0;
  var globalHistory = window.history;
  var canUseHistory = supportsHistory();
  var needsHashChangeListener = !supportsPopStateOnHashChange();
  var _props = props,
      _props$forceRefresh = _props.forceRefresh,
      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,
      _props$getUserConfirm = _props.getUserConfirmation,
      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,
      _props$keyLength = _props.keyLength,
      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;
  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';

  function getDOMLocation(historyState) {
    var _ref = historyState || {},
        key = _ref.key,
        state = _ref.state;

    var _window$location = window.location,
        pathname = _window$location.pathname,
        search = _window$location.search,
        hash = _window$location.hash;
    var path = pathname + search + hash;
    warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path "' + path + '" to begin with "' + basename + '".');
    if (basename) path = stripBasename(path, basename);
    return createLocation(path, state, key);
  }

  function createKey() {
    return Math.random().toString(36).substr(2, keyLength);
  }

  var transitionManager = createTransitionManager();

  function setState(nextState) {
    _extends(history, nextState);

    history.length = globalHistory.length;
    transitionManager.notifyListeners(history.location, history.action);
  }

  function handlePopState(event) {
    // Ignore extraneous popstate events in WebKit.
    if (isExtraneousPopstateEvent(event)) return;
    handlePop(getDOMLocation(event.state));
  }

  function handleHashChange() {
    handlePop(getDOMLocation(getHistoryState()));
  }

  var forceNextPop = false;

  function handlePop(location) {
    if (forceNextPop) {
      forceNextPop = false;
      setState();
    } else {
      var action = 'POP';
      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
        if (ok) {
          setState({
            action: action,
            location: location
          });
        } else {
          revertPop(location);
        }
      });
    }
  }

  function revertPop(fromLocation) {
    var toLocation = history.location; // TODO: We could probably make this more reliable by
    // keeping a list of keys we've seen in sessionStorage.
    // Instead, we just default to 0 for keys we don't know.

    var toIndex = allKeys.indexOf(toLocation.key);
    if (toIndex === -1) toIndex = 0;
    var fromIndex = allKeys.indexOf(fromLocation.key);
    if (fromIndex === -1) fromIndex = 0;
    var delta = toIndex - fromIndex;

    if (delta) {
      forceNextPop = true;
      go(delta);
    }
  }

  var initialLocation = getDOMLocation(getHistoryState());
  var allKeys = [initialLocation.key]; // Public interface

  function createHref(location) {
    return basename + createPath(location);
  }

  function push(path, state) {
    warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');
    var action = 'PUSH';
    var location = createLocation(path, state, createKey(), history.location);
    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
      if (!ok) return;
      var href = createHref(location);
      var key = location.key,
          state = location.state;

      if (canUseHistory) {
        globalHistory.pushState({
          key: key,
          state: state
        }, null, href);

        if (forceRefresh) {
          window.location.href = href;
        } else {
          var prevIndex = allKeys.indexOf(history.location.key);
          var nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);
          nextKeys.push(location.key);
          allKeys = nextKeys;
          setState({
            action: action,
            location: location
          });
        }
      } else {
        warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history');
        window.location.href = href;
      }
    });
  }

  function replace(path, state) {
    warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');
    var action = 'REPLACE';
    var location = createLocation(path, state, createKey(), history.location);
    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
      if (!ok) return;
      var href = createHref(location);
      var key = location.key,
          state = location.state;

      if (canUseHistory) {
        globalHistory.replaceState({
          key: key,
          state: state
        }, null, href);

        if (forceRefresh) {
          window.location.replace(href);
        } else {
          var prevIndex = allKeys.indexOf(history.location.key);
          if (prevIndex !== -1) allKeys[prevIndex] = location.key;
          setState({
            action: action,
            location: location
          });
        }
      } else {
        warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history');
        window.location.replace(href);
      }
    });
  }

  function go(n) {
    globalHistory.go(n);
  }

  function goBack() {
    go(-1);
  }

  function goForward() {
    go(1);
  }

  var listenerCount = 0;

  function checkDOMListeners(delta) {
    listenerCount += delta;

    if (listenerCount === 1 && delta === 1) {
      window.addEventListener(PopStateEvent, handlePopState);
      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);
    } else if (listenerCount === 0) {
      window.removeEventListener(PopStateEvent, handlePopState);
      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);
    }
  }

  var isBlocked = false;

  function block(prompt) {
    if (prompt === void 0) {
      prompt = false;
    }

    var unblock = transitionManager.setPrompt(prompt);

    if (!isBlocked) {
      checkDOMListeners(1);
      isBlocked = true;
    }

    return function () {
      if (isBlocked) {
        isBlocked = false;
        checkDOMListeners(-1);
      }

      return unblock();
    };
  }

  function listen(listener) {
    var unlisten = transitionManager.appendListener(listener);
    checkDOMListeners(1);
    return function () {
      checkDOMListeners(-1);
      unlisten();
    };
  }

  var history = {
    length: globalHistory.length,
    action: 'POP',
    location: initialLocation,
    createHref: createHref,
    push: push,
    replace: replace,
    go: go,
    goBack: goBack,
    goForward: goForward,
    block: block,
    listen: listen
  };
  return history;
}

var HashChangeEvent$1 = 'hashchange';
var HashPathCoders = {
  hashbang: {
    encodePath: function encodePath(path) {
      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);
    },
    decodePath: function decodePath(path) {
      return path.charAt(0) === '!' ? path.substr(1) : path;
    }
  },
  noslash: {
    encodePath: stripLeadingSlash,
    decodePath: addLeadingSlash
  },
  slash: {
    encodePath: addLeadingSlash,
    decodePath: addLeadingSlash
  }
};

function getHashPath() {
  // We can't use window.location.hash here because it's not
  // consistent across browsers - Firefox will pre-decode it!
  var href = window.location.href;
  var hashIndex = href.indexOf('#');
  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);
}

function pushHashPath(path) {
  window.location.hash = path;
}

function replaceHashPath(path) {
  var hashIndex = window.location.href.indexOf('#');
  window.location.replace(window.location.href.slice(0, hashIndex >= 0 ? hashIndex : 0) + '#' + path);
}

function createHashHistory(props) {
  if (props === void 0) {
    props = {};
  }

  !canUseDOM ? invariant(false, 'Hash history needs a DOM') : void 0;
  var globalHistory = window.history;
  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();
  var _props = props,
      _props$getUserConfirm = _props.getUserConfirmation,
      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,
      _props$hashType = _props.hashType,
      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;
  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';
  var _HashPathCoders$hashT = HashPathCoders[hashType],
      encodePath = _HashPathCoders$hashT.encodePath,
      decodePath = _HashPathCoders$hashT.decodePath;

  function getDOMLocation() {
    var path = decodePath(getHashPath());
    warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path "' + path + '" to begin with "' + basename + '".');
    if (basename) path = stripBasename(path, basename);
    return createLocation(path);
  }

  var transitionManager = createTransitionManager();

  function setState(nextState) {
    _extends(history, nextState);

    history.length = globalHistory.length;
    transitionManager.notifyListeners(history.location, history.action);
  }

  var forceNextPop = false;
  var ignorePath = null;

  function handleHashChange() {
    var path = getHashPath();
    var encodedPath = encodePath(path);

    if (path !== encodedPath) {
      // Ensure we always have a properly-encoded hash.
      replaceHashPath(encodedPath);
    } else {
      var location = getDOMLocation();
      var prevLocation = history.location;
      if (!forceNextPop && locationsAreEqual(prevLocation, location)) return; // A hashchange doesn't always == location change.

      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.

      ignorePath = null;
      handlePop(location);
    }
  }

  function handlePop(location) {
    if (forceNextPop) {
      forceNextPop = false;
      setState();
    } else {
      var action = 'POP';
      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
        if (ok) {
          setState({
            action: action,
            location: location
          });
        } else {
          revertPop(location);
        }
      });
    }
  }

  function revertPop(fromLocation) {
    var toLocation = history.location; // TODO: We could probably make this more reliable by
    // keeping a list of paths we've seen in sessionStorage.
    // Instead, we just default to 0 for paths we don't know.

    var toIndex = allPaths.lastIndexOf(createPath(toLocation));
    if (toIndex === -1) toIndex = 0;
    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));
    if (fromIndex === -1) fromIndex = 0;
    var delta = toIndex - fromIndex;

    if (delta) {
      forceNextPop = true;
      go(delta);
    }
  } // Ensure the hash is encoded properly before doing anything else.


  var path = getHashPath();
  var encodedPath = encodePath(path);
  if (path !== encodedPath) replaceHashPath(encodedPath);
  var initialLocation = getDOMLocation();
  var allPaths = [createPath(initialLocation)]; // Public interface

  function createHref(location) {
    return '#' + encodePath(basename + createPath(location));
  }

  function push(path, state) {
    warning(state === undefined, 'Hash history cannot push state; it is ignored');
    var action = 'PUSH';
    var location = createLocation(path, undefined, undefined, history.location);
    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
      if (!ok) return;
      var path = createPath(location);
      var encodedPath = encodePath(basename + path);
      var hashChanged = getHashPath() !== encodedPath;

      if (hashChanged) {
        // We cannot tell if a hashchange was caused by a PUSH, so we'd
        // rather setState here and ignore the hashchange. The caveat here
        // is that other hash histories in the page will consider it a POP.
        ignorePath = path;
        pushHashPath(encodedPath);
        var prevIndex = allPaths.lastIndexOf(createPath(history.location));
        var nextPaths = allPaths.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);
        nextPaths.push(path);
        allPaths = nextPaths;
        setState({
          action: action,
          location: location
        });
      } else {
        warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack');
        setState();
      }
    });
  }

  function replace(path, state) {
    warning(state === undefined, 'Hash history cannot replace state; it is ignored');
    var action = 'REPLACE';
    var location = createLocation(path, undefined, undefined, history.location);
    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
      if (!ok) return;
      var path = createPath(location);
      var encodedPath = encodePath(basename + path);
      var hashChanged = getHashPath() !== encodedPath;

      if (hashChanged) {
        // We cannot tell if a hashchange was caused by a REPLACE, so we'd
        // rather setState here and ignore the hashchange. The caveat here
        // is that other hash histories in the page will consider it a POP.
        ignorePath = path;
        replaceHashPath(encodedPath);
      }

      var prevIndex = allPaths.indexOf(createPath(history.location));
      if (prevIndex !== -1) allPaths[prevIndex] = path;
      setState({
        action: action,
        location: location
      });
    });
  }

  function go(n) {
    warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser');
    globalHistory.go(n);
  }

  function goBack() {
    go(-1);
  }

  function goForward() {
    go(1);
  }

  var listenerCount = 0;

  function checkDOMListeners(delta) {
    listenerCount += delta;

    if (listenerCount === 1 && delta === 1) {
      window.addEventListener(HashChangeEvent$1, handleHashChange);
    } else if (listenerCount === 0) {
      window.removeEventListener(HashChangeEvent$1, handleHashChange);
    }
  }

  var isBlocked = false;

  function block(prompt) {
    if (prompt === void 0) {
      prompt = false;
    }

    var unblock = transitionManager.setPrompt(prompt);

    if (!isBlocked) {
      checkDOMListeners(1);
      isBlocked = true;
    }

    return function () {
      if (isBlocked) {
        isBlocked = false;
        checkDOMListeners(-1);
      }

      return unblock();
    };
  }

  function listen(listener) {
    var unlisten = transitionManager.appendListener(listener);
    checkDOMListeners(1);
    return function () {
      checkDOMListeners(-1);
      unlisten();
    };
  }

  var history = {
    length: globalHistory.length,
    action: 'POP',
    location: initialLocation,
    createHref: createHref,
    push: push,
    replace: replace,
    go: go,
    goBack: goBack,
    goForward: goForward,
    block: block,
    listen: listen
  };
  return history;
}

function clamp(n, lowerBound, upperBound) {
  return Math.min(Math.max(n, lowerBound), upperBound);
}
/**
 * Creates a history object that stores locations in memory.
 */


function createMemoryHistory(props) {
  if (props === void 0) {
    props = {};
  }

  var _props = props,
      getUserConfirmation = _props.getUserConfirmation,
      _props$initialEntries = _props.initialEntries,
      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,
      _props$initialIndex = _props.initialIndex,
      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,
      _props$keyLength = _props.keyLength,
      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;
  var transitionManager = createTransitionManager();

  function setState(nextState) {
    _extends(history, nextState);

    history.length = history.entries.length;
    transitionManager.notifyListeners(history.location, history.action);
  }

  function createKey() {
    return Math.random().toString(36).substr(2, keyLength);
  }

  var index = clamp(initialIndex, 0, initialEntries.length - 1);
  var entries = initialEntries.map(function (entry) {
    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());
  }); // Public interface

  var createHref = createPath;

  function push(path, state) {
    warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');
    var action = 'PUSH';
    var location = createLocation(path, state, createKey(), history.location);
    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
      if (!ok) return;
      var prevIndex = history.index;
      var nextIndex = prevIndex + 1;
      var nextEntries = history.entries.slice(0);

      if (nextEntries.length > nextIndex) {
        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);
      } else {
        nextEntries.push(location);
      }

      setState({
        action: action,
        location: location,
        index: nextIndex,
        entries: nextEntries
      });
    });
  }

  function replace(path, state) {
    warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');
    var action = 'REPLACE';
    var location = createLocation(path, state, createKey(), history.location);
    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
      if (!ok) return;
      history.entries[history.index] = location;
      setState({
        action: action,
        location: location
      });
    });
  }

  function go(n) {
    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);
    var action = 'POP';
    var location = history.entries[nextIndex];
    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
      if (ok) {
        setState({
          action: action,
          location: location,
          index: nextIndex
        });
      } else {
        // Mimic the behavior of DOM histories by
        // causing a render after a cancelled POP.
        setState();
      }
    });
  }

  function goBack() {
    go(-1);
  }

  function goForward() {
    go(1);
  }

  function canGo(n) {
    var nextIndex = history.index + n;
    return nextIndex >= 0 && nextIndex < history.entries.length;
  }

  function block(prompt) {
    if (prompt === void 0) {
      prompt = false;
    }

    return transitionManager.setPrompt(prompt);
  }

  function listen(listener) {
    return transitionManager.appendListener(listener);
  }

  var history = {
    length: entries.length,
    action: 'POP',
    location: entries[index],
    index: index,
    entries: entries,
    createHref: createHref,
    push: push,
    replace: replace,
    go: go,
    goBack: goBack,
    goForward: goForward,
    canGo: canGo,
    block: block,
    listen: listen
  };
  return history;
}

exports.createBrowserHistory = createBrowserHistory;
exports.createHashHistory = createHashHistory;
exports.createMemoryHistory = createMemoryHistory;
exports.createLocation = createLocation;
exports.locationsAreEqual = locationsAreEqual;
exports.parsePath = parsePath;
exports.createPath = createPath;

},{"resolve-pathname":123,"tiny-invariant":124,"tiny-warning":125,"value-equal":126}],38:[function(require,module,exports){
"use strict";function _interopDefault(n){return n&&"object"==typeof n&&"default"in n?n.default:n}Object.defineProperty(exports,"__esModule",{value:!0});var resolvePathname=_interopDefault(require("resolve-pathname")),valueEqual=_interopDefault(require("value-equal"));require("tiny-warning");var invariant=_interopDefault(require("tiny-invariant"));function _extends(){return(_extends=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n}).apply(this,arguments)}function addLeadingSlash(n){return"/"===n.charAt(0)?n:"/"+n}function stripLeadingSlash(n){return"/"===n.charAt(0)?n.substr(1):n}function hasBasename(n,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(n)}function stripBasename(n,t){return hasBasename(n,t)?n.substr(t.length):n}function stripTrailingSlash(n){return"/"===n.charAt(n.length-1)?n.slice(0,-1):n}function parsePath(n){var t=n||"/",e="",a="",o=t.indexOf("#");-1!==o&&(a=t.substr(o),t=t.substr(0,o));var r=t.indexOf("?");return-1!==r&&(e=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===e?"":e,hash:"#"===a?"":a}}function createPath(n){var t=n.pathname,e=n.search,a=n.hash,o=t||"/";return e&&"?"!==e&&(o+="?"===e.charAt(0)?e:"?"+e),a&&"#"!==a&&(o+="#"===a.charAt(0)?a:"#"+a),o}function createLocation(n,t,e,a){var o;"string"==typeof n?(o=parsePath(n)).state=t:(void 0===(o=_extends({},n)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(n){throw n instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):n}return e&&(o.key=e),a?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=resolvePathname(o.pathname,a.pathname)):o.pathname=a.pathname:o.pathname||(o.pathname="/"),o}function locationsAreEqual(n,t){return n.pathname===t.pathname&&n.search===t.search&&n.hash===t.hash&&n.key===t.key&&valueEqual(n.state,t.state)}function createTransitionManager(){var r=null;var a=[];return{setPrompt:function(n){return r=n,function(){r===n&&(r=null)}},confirmTransitionTo:function(n,t,e,a){if(null!=r){var o="function"==typeof r?r(n,t):r;"string"==typeof o?"function"==typeof e?e(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(n){var t=!0;function e(){t&&n.apply(void 0,arguments)}return a.push(e),function(){t=!1,a=a.filter(function(n){return n!==e})}},notifyListeners:function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];a.forEach(function(n){return n.apply(void 0,t)})}}}var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement);function getConfirmation(n,t){t(window.confirm(n))}function supportsHistory(){var n=window.navigator.userAgent;return(-1===n.indexOf("Android 2.")&&-1===n.indexOf("Android 4.0")||-1===n.indexOf("Mobile Safari")||-1!==n.indexOf("Chrome")||-1!==n.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf("Trident")}function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf("Firefox")}function isExtraneousPopstateEvent(n){void 0===n.state&&navigator.userAgent.indexOf("CriOS")}var PopStateEvent="popstate",HashChangeEvent="hashchange";function getHistoryState(){try{return window.history.state||{}}catch(n){return{}}}function createBrowserHistory(n){void 0===n&&(n={}),canUseDOM||invariant(!1);var c=window.history,s=supportsHistory(),t=!supportsPopStateOnHashChange(),e=n,a=e.forceRefresh,h=void 0!==a&&a,o=e.getUserConfirmation,u=void 0===o?getConfirmation:o,r=e.keyLength,i=void 0===r?6:r,f=n.basename?stripTrailingSlash(addLeadingSlash(n.basename)):"";function l(n){var t=n||{},e=t.key,a=t.state,o=window.location,r=o.pathname+o.search+o.hash;return f&&(r=stripBasename(r,f)),createLocation(r,a,e)}function d(){return Math.random().toString(36).substr(2,i)}var v=createTransitionManager();function p(n){_extends(T,n),T.length=c.length,v.notifyListeners(T.location,T.action)}function g(n){isExtraneousPopstateEvent(n)||w(l(n.state))}function P(){w(l(getHistoryState()))}var m=!1;function w(t){if(m)m=!1,p();else{v.confirmTransitionTo(t,"POP",u,function(n){n?p({action:"POP",location:t}):function(n){var t=T.location,e=H.indexOf(t.key);-1===e&&(e=0);var a=H.indexOf(n.key);-1===a&&(a=0);var o=e-a;o&&(m=!0,L(o))}(t)})}}var y=l(getHistoryState()),H=[y.key];function x(n){return f+createPath(n)}function L(n){c.go(n)}var O=0;function E(n){1===(O+=n)&&1===n?(window.addEventListener(PopStateEvent,g),t&&window.addEventListener(HashChangeEvent,P)):0===O&&(window.removeEventListener(PopStateEvent,g),t&&window.removeEventListener(HashChangeEvent,P))}var S=!1;var T={length:c.length,action:"POP",location:y,createHref:x,push:function(n,t){var i=createLocation(n,t,d(),T.location);v.confirmTransitionTo(i,"PUSH",u,function(n){if(n){var t=x(i),e=i.key,a=i.state;if(s)if(c.pushState({key:e,state:a},null,t),h)window.location.href=t;else{var o=H.indexOf(T.location.key),r=H.slice(0,-1===o?0:o+1);r.push(i.key),H=r,p({action:"PUSH",location:i})}else window.location.href=t}})},replace:function(n,t){var r="REPLACE",i=createLocation(n,t,d(),T.location);v.confirmTransitionTo(i,r,u,function(n){if(n){var t=x(i),e=i.key,a=i.state;if(s)if(c.replaceState({key:e,state:a},null,t),h)window.location.replace(t);else{var o=H.indexOf(T.location.key);-1!==o&&(H[o]=i.key),p({action:r,location:i})}else window.location.replace(t)}})},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(n){void 0===n&&(n=!1);var t=v.setPrompt(n);return S||(E(1),S=!0),function(){return S&&(S=!1,E(-1)),t()}},listen:function(n){var t=v.appendListener(n);return E(1),function(){E(-1),t()}}};return T}var HashChangeEvent$1="hashchange",HashPathCoders={hashbang:{encodePath:function(n){return"!"===n.charAt(0)?n:"!/"+stripLeadingSlash(n)},decodePath:function(n){return"!"===n.charAt(0)?n.substr(1):n}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function getHashPath(){var n=window.location.href,t=n.indexOf("#");return-1===t?"":n.substring(t+1)}function pushHashPath(n){window.location.hash=n}function replaceHashPath(n){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,0<=t?t:0)+"#"+n)}function createHashHistory(n){void 0===n&&(n={}),canUseDOM||invariant(!1);var t=window.history,e=(supportsGoWithoutReloadUsingHash(),n),a=e.getUserConfirmation,i=void 0===a?getConfirmation:a,o=e.hashType,r=void 0===o?"slash":o,c=n.basename?stripTrailingSlash(addLeadingSlash(n.basename)):"",s=HashPathCoders[r],h=s.encodePath,u=s.decodePath;function f(){var n=u(getHashPath());return c&&(n=stripBasename(n,c)),createLocation(n)}var l=createTransitionManager();function d(n){_extends(E,n),E.length=t.length,l.notifyListeners(E.location,E.action)}var v=!1,p=null;function g(){var n=getHashPath(),t=h(n);if(n!==t)replaceHashPath(t);else{var e=f(),a=E.location;if(!v&&locationsAreEqual(a,e))return;if(p===createPath(e))return;p=null,function(t){if(v)v=!1,d();else{l.confirmTransitionTo(t,"POP",i,function(n){n?d({action:"POP",location:t}):function(n){var t=E.location,e=y.lastIndexOf(createPath(t));-1===e&&(e=0);var a=y.lastIndexOf(createPath(n));-1===a&&(a=0);var o=e-a;o&&(v=!0,H(o))}(t)})}}(e)}}var P=getHashPath(),m=h(P);P!==m&&replaceHashPath(m);var w=f(),y=[createPath(w)];function H(n){t.go(n)}var x=0;function L(n){1===(x+=n)&&1===n?window.addEventListener(HashChangeEvent$1,g):0===x&&window.removeEventListener(HashChangeEvent$1,g)}var O=!1;var E={length:t.length,action:"POP",location:w,createHref:function(n){return"#"+h(c+createPath(n))},push:function(n,t){var r=createLocation(n,void 0,void 0,E.location);l.confirmTransitionTo(r,"PUSH",i,function(n){if(n){var t=createPath(r),e=h(c+t);if(getHashPath()!==e){p=t,pushHashPath(e);var a=y.lastIndexOf(createPath(E.location)),o=y.slice(0,-1===a?0:a+1);o.push(t),y=o,d({action:"PUSH",location:r})}else d()}})},replace:function(n,t){var o="REPLACE",r=createLocation(n,void 0,void 0,E.location);l.confirmTransitionTo(r,o,i,function(n){if(n){var t=createPath(r),e=h(c+t);getHashPath()!==e&&(p=t,replaceHashPath(e));var a=y.indexOf(createPath(E.location));-1!==a&&(y[a]=t),d({action:o,location:r})}})},go:H,goBack:function(){H(-1)},goForward:function(){H(1)},block:function(n){void 0===n&&(n=!1);var t=l.setPrompt(n);return O||(L(1),O=!0),function(){return O&&(O=!1,L(-1)),t()}},listen:function(n){var t=l.appendListener(n);return L(1),function(){L(-1),t()}}};return E}function clamp(n,t,e){return Math.min(Math.max(n,t),e)}function createMemoryHistory(n){void 0===n&&(n={});var t=n,o=t.getUserConfirmation,e=t.initialEntries,a=void 0===e?["/"]:e,r=t.initialIndex,i=void 0===r?0:r,c=t.keyLength,s=void 0===c?6:c,h=createTransitionManager();function u(n){_extends(g,n),g.length=g.entries.length,h.notifyListeners(g.location,g.action)}function f(){return Math.random().toString(36).substr(2,s)}var l=clamp(i,0,a.length-1),d=a.map(function(n){return createLocation(n,void 0,"string"==typeof n?f():n.key||f())}),v=createPath;function p(n){var t=clamp(g.index+n,0,g.entries.length-1),e=g.entries[t];h.confirmTransitionTo(e,"POP",o,function(n){n?u({action:"POP",location:e,index:t}):u()})}var g={length:d.length,action:"POP",location:d[l],index:l,entries:d,createHref:v,push:function(n,t){var a=createLocation(n,t,f(),g.location);h.confirmTransitionTo(a,"PUSH",o,function(n){if(n){var t=g.index+1,e=g.entries.slice(0);e.length>t?e.splice(t,e.length-t,a):e.push(a),u({action:"PUSH",location:a,index:t,entries:e})}})},replace:function(n,t){var e="REPLACE",a=createLocation(n,t,f(),g.location);h.confirmTransitionTo(a,e,o,function(n){n&&(g.entries[g.index]=a,u({action:e,location:a}))})},go:p,goBack:function(){p(-1)},goForward:function(){p(1)},canGo:function(n){var t=g.index+n;return 0<=t&&t<g.entries.length},block:function(n){return void 0===n&&(n=!1),h.setPrompt(n)},listen:function(n){return h.appendListener(n)}};return g}exports.createBrowserHistory=createBrowserHistory,exports.createHashHistory=createHashHistory,exports.createMemoryHistory=createMemoryHistory,exports.createLocation=createLocation,exports.locationsAreEqual=locationsAreEqual,exports.parsePath=parsePath,exports.createPath=createPath;

},{"resolve-pathname":123,"tiny-invariant":124,"tiny-warning":125,"value-equal":126}],39:[function(require,module,exports){
(function (process){
'use strict';

if (process.env.NODE_ENV === 'production') {
  module.exports = require('./cjs/history.min.js');
} else {
  module.exports = require('./cjs/history.js');
}

}).call(this,require('_process'))

},{"./cjs/history.js":37,"./cjs/history.min.js":38,"_process":46}],40:[function(require,module,exports){
'use strict';

/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */
var REACT_STATICS = {
    childContextTypes: true,
    contextTypes: true,
    defaultProps: true,
    displayName: true,
    getDefaultProps: true,
    getDerivedStateFromProps: true,
    mixins: true,
    propTypes: true,
    type: true
};

var KNOWN_STATICS = {
    name: true,
    length: true,
    prototype: true,
    caller: true,
    callee: true,
    arguments: true,
    arity: true
};

var defineProperty = Object.defineProperty;
var getOwnPropertyNames = Object.getOwnPropertyNames;
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var getPrototypeOf = Object.getPrototypeOf;
var objectPrototype = getPrototypeOf && getPrototypeOf(Object);

function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {
    if (typeof sourceComponent !== 'string') { // don't hoist over string (html) components

        if (objectPrototype) {
            var inheritedComponent = getPrototypeOf(sourceComponent);
            if (inheritedComponent && inheritedComponent !== objectPrototype) {
                hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);
            }
        }

        var keys = getOwnPropertyNames(sourceComponent);

        if (getOwnPropertySymbols) {
            keys = keys.concat(getOwnPropertySymbols(sourceComponent));
        }

        for (var i = 0; i < keys.length; ++i) {
            var key = keys[i];
            if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {
                var descriptor = getOwnPropertyDescriptor(sourceComponent, key);
                try { // Avoid failures from read-only properties
                    defineProperty(targetComponent, key, descriptor);
                } catch (e) {}
            }
        }

        return targetComponent;
    }

    return targetComponent;
}

module.exports = hoistNonReactStatics;

},{}],41:[function(require,module,exports){
(function (process){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

/**
 * Use invariant() to assert state which your program assumes to be true.
 *
 * Provide sprintf-style format (only %s is supported) and arguments
 * to provide information about what broke and what you were
 * expecting.
 *
 * The invariant message will be stripped in production, but the invariant
 * will remain to ensure logic does not differ in production.
 */

var invariant = function(condition, format, a, b, c, d, e, f) {
  if (process.env.NODE_ENV !== 'production') {
    if (format === undefined) {
      throw new Error('invariant requires an error message argument');
    }
  }

  if (!condition) {
    var error;
    if (format === undefined) {
      error = new Error(
        'Minified exception occurred; use the non-minified dev environment ' +
        'for the full error message and additional helpful warnings.'
      );
    } else {
      var args = [a, b, c, d, e, f];
      var argIndex = 0;
      error = new Error(
        format.replace(/%s/g, function() { return args[argIndex++]; })
      );
      error.name = 'Invariant Violation';
    }

    error.framesToPop = 1; // we don't care about invariant's own frame
    throw error;
  }
};

module.exports = invariant;

}).call(this,require('_process'))

},{"_process":46}],42:[function(require,module,exports){
module.exports = Array.isArray || function (arr) {
  return Object.prototype.toString.call(arr) == '[object Array]';
};

},{}],43:[function(require,module,exports){
//! moment.js

;(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    global.moment = factory()
}(this, (function () { 'use strict';

    var hookCallback;

    function hooks () {
        return hookCallback.apply(null, arguments);
    }

    // This is done to register the method called with moment()
    // without creating circular dependencies.
    function setHookCallback (callback) {
        hookCallback = callback;
    }

    function isArray(input) {
        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';
    }

    function isObject(input) {
        // IE8 will treat undefined and null as object if it wasn't for
        // input != null
        return input != null && Object.prototype.toString.call(input) === '[object Object]';
    }

    function isObjectEmpty(obj) {
        if (Object.getOwnPropertyNames) {
            return (Object.getOwnPropertyNames(obj).length === 0);
        } else {
            var k;
            for (k in obj) {
                if (obj.hasOwnProperty(k)) {
                    return false;
                }
            }
            return true;
        }
    }

    function isUndefined(input) {
        return input === void 0;
    }

    function isNumber(input) {
        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';
    }

    function isDate(input) {
        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
    }

    function map(arr, fn) {
        var res = [], i;
        for (i = 0; i < arr.length; ++i) {
            res.push(fn(arr[i], i));
        }
        return res;
    }

    function hasOwnProp(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }

    function extend(a, b) {
        for (var i in b) {
            if (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }

        if (hasOwnProp(b, 'toString')) {
            a.toString = b.toString;
        }

        if (hasOwnProp(b, 'valueOf')) {
            a.valueOf = b.valueOf;
        }

        return a;
    }

    function createUTC (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, true).utc();
    }

    function defaultParsingFlags() {
        // We need to deep clone this object.
        return {
            empty           : false,
            unusedTokens    : [],
            unusedInput     : [],
            overflow        : -2,
            charsLeftOver   : 0,
            nullInput       : false,
            invalidMonth    : null,
            invalidFormat   : false,
            userInvalidated : false,
            iso             : false,
            parsedDateParts : [],
            meridiem        : null,
            rfc2822         : false,
            weekdayMismatch : false
        };
    }

    function getParsingFlags(m) {
        if (m._pf == null) {
            m._pf = defaultParsingFlags();
        }
        return m._pf;
    }

    var some;
    if (Array.prototype.some) {
        some = Array.prototype.some;
    } else {
        some = function (fun) {
            var t = Object(this);
            var len = t.length >>> 0;

            for (var i = 0; i < len; i++) {
                if (i in t && fun.call(this, t[i], i, t)) {
                    return true;
                }
            }

            return false;
        };
    }

    function isValid(m) {
        if (m._isValid == null) {
            var flags = getParsingFlags(m);
            var parsedParts = some.call(flags.parsedDateParts, function (i) {
                return i != null;
            });
            var isNowValid = !isNaN(m._d.getTime()) &&
                flags.overflow < 0 &&
                !flags.empty &&
                !flags.invalidMonth &&
                !flags.invalidWeekday &&
                !flags.weekdayMismatch &&
                !flags.nullInput &&
                !flags.invalidFormat &&
                !flags.userInvalidated &&
                (!flags.meridiem || (flags.meridiem && parsedParts));

            if (m._strict) {
                isNowValid = isNowValid &&
                    flags.charsLeftOver === 0 &&
                    flags.unusedTokens.length === 0 &&
                    flags.bigHour === undefined;
            }

            if (Object.isFrozen == null || !Object.isFrozen(m)) {
                m._isValid = isNowValid;
            }
            else {
                return isNowValid;
            }
        }
        return m._isValid;
    }

    function createInvalid (flags) {
        var m = createUTC(NaN);
        if (flags != null) {
            extend(getParsingFlags(m), flags);
        }
        else {
            getParsingFlags(m).userInvalidated = true;
        }

        return m;
    }

    // Plugins that add properties should also add the key here (null value),
    // so we can properly clone ourselves.
    var momentProperties = hooks.momentProperties = [];

    function copyConfig(to, from) {
        var i, prop, val;

        if (!isUndefined(from._isAMomentObject)) {
            to._isAMomentObject = from._isAMomentObject;
        }
        if (!isUndefined(from._i)) {
            to._i = from._i;
        }
        if (!isUndefined(from._f)) {
            to._f = from._f;
        }
        if (!isUndefined(from._l)) {
            to._l = from._l;
        }
        if (!isUndefined(from._strict)) {
            to._strict = from._strict;
        }
        if (!isUndefined(from._tzm)) {
            to._tzm = from._tzm;
        }
        if (!isUndefined(from._isUTC)) {
            to._isUTC = from._isUTC;
        }
        if (!isUndefined(from._offset)) {
            to._offset = from._offset;
        }
        if (!isUndefined(from._pf)) {
            to._pf = getParsingFlags(from);
        }
        if (!isUndefined(from._locale)) {
            to._locale = from._locale;
        }

        if (momentProperties.length > 0) {
            for (i = 0; i < momentProperties.length; i++) {
                prop = momentProperties[i];
                val = from[prop];
                if (!isUndefined(val)) {
                    to[prop] = val;
                }
            }
        }

        return to;
    }

    var updateInProgress = false;

    // Moment prototype object
    function Moment(config) {
        copyConfig(this, config);
        this._d = new Date(config._d != null ? config._d.getTime() : NaN);
        if (!this.isValid()) {
            this._d = new Date(NaN);
        }
        // Prevent infinite loop in case updateOffset creates new moment
        // objects.
        if (updateInProgress === false) {
            updateInProgress = true;
            hooks.updateOffset(this);
            updateInProgress = false;
        }
    }

    function isMoment (obj) {
        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
    }

    function absFloor (number) {
        if (number < 0) {
            // -0 -> 0
            return Math.ceil(number) || 0;
        } else {
            return Math.floor(number);
        }
    }

    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion,
            value = 0;

        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
            value = absFloor(coercedNumber);
        }

        return value;
    }

    // compare two arrays, return the number of differences
    function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length),
            lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0,
            i;
        for (i = 0; i < len; i++) {
            if ((dontConvert && array1[i] !== array2[i]) ||
                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }

    function warn(msg) {
        if (hooks.suppressDeprecationWarnings === false &&
                (typeof console !==  'undefined') && console.warn) {
            console.warn('Deprecation warning: ' + msg);
        }
    }

    function deprecate(msg, fn) {
        var firstTime = true;

        return extend(function () {
            if (hooks.deprecationHandler != null) {
                hooks.deprecationHandler(null, msg);
            }
            if (firstTime) {
                var args = [];
                var arg;
                for (var i = 0; i < arguments.length; i++) {
                    arg = '';
                    if (typeof arguments[i] === 'object') {
                        arg += '\n[' + i + '] ';
                        for (var key in arguments[0]) {
                            arg += key + ': ' + arguments[0][key] + ', ';
                        }
                        arg = arg.slice(0, -2); // Remove trailing comma and space
                    } else {
                        arg = arguments[i];
                    }
                    args.push(arg);
                }
                warn(msg + '\nArguments: ' + Array.prototype.slice.call(args).join('') + '\n' + (new Error()).stack);
                firstTime = false;
            }
            return fn.apply(this, arguments);
        }, fn);
    }

    var deprecations = {};

    function deprecateSimple(name, msg) {
        if (hooks.deprecationHandler != null) {
            hooks.deprecationHandler(name, msg);
        }
        if (!deprecations[name]) {
            warn(msg);
            deprecations[name] = true;
        }
    }

    hooks.suppressDeprecationWarnings = false;
    hooks.deprecationHandler = null;

    function isFunction(input) {
        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';
    }

    function set (config) {
        var prop, i;
        for (i in config) {
            prop = config[i];
            if (isFunction(prop)) {
                this[i] = prop;
            } else {
                this['_' + i] = prop;
            }
        }
        this._config = config;
        // Lenient ordinal parsing accepts just a number in addition to
        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.
        // TODO: Remove "ordinalParse" fallback in next major release.
        this._dayOfMonthOrdinalParseLenient = new RegExp(
            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +
                '|' + (/\d{1,2}/).source);
    }

    function mergeConfigs(parentConfig, childConfig) {
        var res = extend({}, parentConfig), prop;
        for (prop in childConfig) {
            if (hasOwnProp(childConfig, prop)) {
                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
                    res[prop] = {};
                    extend(res[prop], parentConfig[prop]);
                    extend(res[prop], childConfig[prop]);
                } else if (childConfig[prop] != null) {
                    res[prop] = childConfig[prop];
                } else {
                    delete res[prop];
                }
            }
        }
        for (prop in parentConfig) {
            if (hasOwnProp(parentConfig, prop) &&
                    !hasOwnProp(childConfig, prop) &&
                    isObject(parentConfig[prop])) {
                // make sure changes to properties don't modify parent config
                res[prop] = extend({}, res[prop]);
            }
        }
        return res;
    }

    function Locale(config) {
        if (config != null) {
            this.set(config);
        }
    }

    var keys;

    if (Object.keys) {
        keys = Object.keys;
    } else {
        keys = function (obj) {
            var i, res = [];
            for (i in obj) {
                if (hasOwnProp(obj, i)) {
                    res.push(i);
                }
            }
            return res;
        };
    }

    var defaultCalendar = {
        sameDay : '[Today at] LT',
        nextDay : '[Tomorrow at] LT',
        nextWeek : 'dddd [at] LT',
        lastDay : '[Yesterday at] LT',
        lastWeek : '[Last] dddd [at] LT',
        sameElse : 'L'
    };

    function calendar (key, mom, now) {
        var output = this._calendar[key] || this._calendar['sameElse'];
        return isFunction(output) ? output.call(mom, now) : output;
    }

    var defaultLongDateFormat = {
        LTS  : 'h:mm:ss A',
        LT   : 'h:mm A',
        L    : 'MM/DD/YYYY',
        LL   : 'MMMM D, YYYY',
        LLL  : 'MMMM D, YYYY h:mm A',
        LLLL : 'dddd, MMMM D, YYYY h:mm A'
    };

    function longDateFormat (key) {
        var format = this._longDateFormat[key],
            formatUpper = this._longDateFormat[key.toUpperCase()];

        if (format || !formatUpper) {
            return format;
        }

        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {
            return val.slice(1);
        });

        return this._longDateFormat[key];
    }

    var defaultInvalidDate = 'Invalid date';

    function invalidDate () {
        return this._invalidDate;
    }

    var defaultOrdinal = '%d';
    var defaultDayOfMonthOrdinalParse = /\d{1,2}/;

    function ordinal (number) {
        return this._ordinal.replace('%d', number);
    }

    var defaultRelativeTime = {
        future : 'in %s',
        past   : '%s ago',
        s  : 'a few seconds',
        ss : '%d seconds',
        m  : 'a minute',
        mm : '%d minutes',
        h  : 'an hour',
        hh : '%d hours',
        d  : 'a day',
        dd : '%d days',
        M  : 'a month',
        MM : '%d months',
        y  : 'a year',
        yy : '%d years'
    };

    function relativeTime (number, withoutSuffix, string, isFuture) {
        var output = this._relativeTime[string];
        return (isFunction(output)) ?
            output(number, withoutSuffix, string, isFuture) :
            output.replace(/%d/i, number);
    }

    function pastFuture (diff, output) {
        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
        return isFunction(format) ? format(output) : format.replace(/%s/i, output);
    }

    var aliases = {};

    function addUnitAlias (unit, shorthand) {
        var lowerCase = unit.toLowerCase();
        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
    }

    function normalizeUnits(units) {
        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
    }

    function normalizeObjectUnits(inputObject) {
        var normalizedInput = {},
            normalizedProp,
            prop;

        for (prop in inputObject) {
            if (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                if (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        return normalizedInput;
    }

    var priorities = {};

    function addUnitPriority(unit, priority) {
        priorities[unit] = priority;
    }

    function getPrioritizedUnits(unitsObj) {
        var units = [];
        for (var u in unitsObj) {
            units.push({unit: u, priority: priorities[u]});
        }
        units.sort(function (a, b) {
            return a.priority - b.priority;
        });
        return units;
    }

    function zeroFill(number, targetLength, forceSign) {
        var absNumber = '' + Math.abs(number),
            zerosToFill = targetLength - absNumber.length,
            sign = number >= 0;
        return (sign ? (forceSign ? '+' : '') : '-') +
            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
    }

    var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;

    var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;

    var formatFunctions = {};

    var formatTokenFunctions = {};

    // token:    'M'
    // padded:   ['MM', 2]
    // ordinal:  'Mo'
    // callback: function () { this.month() + 1 }
    function addFormatToken (token, padded, ordinal, callback) {
        var func = callback;
        if (typeof callback === 'string') {
            func = function () {
                return this[callback]();
            };
        }
        if (token) {
            formatTokenFunctions[token] = func;
        }
        if (padded) {
            formatTokenFunctions[padded[0]] = function () {
                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
            };
        }
        if (ordinal) {
            formatTokenFunctions[ordinal] = function () {
                return this.localeData().ordinal(func.apply(this, arguments), token);
            };
        }
    }

    function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
            return input.replace(/^\[|\]$/g, '');
        }
        return input.replace(/\\/g, '');
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens), i, length;

        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        return function (mom) {
            var output = '', i;
            for (i = 0; i < length; i++) {
                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];
            }
            return output;
        };
    }

    // format date using native date object
    function formatMoment(m, format) {
        if (!m.isValid()) {
            return m.localeData().invalidDate();
        }

        format = expandFormat(format, m.localeData());
        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

        return formatFunctions[format](m);
    }

    function expandFormat(format, locale) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
            localFormattingTokens.lastIndex = 0;
            i -= 1;
        }

        return format;
    }

    var match1         = /\d/;            //       0 - 9
    var match2         = /\d\d/;          //      00 - 99
    var match3         = /\d{3}/;         //     000 - 999
    var match4         = /\d{4}/;         //    0000 - 9999
    var match6         = /[+-]?\d{6}/;    // -999999 - 999999
    var match1to2      = /\d\d?/;         //       0 - 99
    var match3to4      = /\d\d\d\d?/;     //     999 - 9999
    var match5to6      = /\d\d\d\d\d\d?/; //   99999 - 999999
    var match1to3      = /\d{1,3}/;       //       0 - 999
    var match1to4      = /\d{1,4}/;       //       0 - 9999
    var match1to6      = /[+-]?\d{1,6}/;  // -999999 - 999999

    var matchUnsigned  = /\d+/;           //       0 - inf
    var matchSigned    = /[+-]?\d+/;      //    -inf - inf

    var matchOffset    = /Z|[+-]\d\d:?\d\d/gi; // +00:00 -00:00 +0000 -0000 or Z
    var matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z

    var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/; // 123456789 123456789.123

    // any word (or two) characters or numbers including two/three word month in arabic.
    // includes scottish gaelic two word and hyphenated months
    var matchWord = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;

    var regexes = {};

    function addRegexToken (token, regex, strictRegex) {
        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {
            return (isStrict && strictRegex) ? strictRegex : regex;
        };
    }

    function getParseRegexForToken (token, config) {
        if (!hasOwnProp(regexes, token)) {
            return new RegExp(unescapeFormat(token));
        }

        return regexes[token](config._strict, config._locale);
    }

    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function unescapeFormat(s) {
        return regexEscape(s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
            return p1 || p2 || p3 || p4;
        }));
    }

    function regexEscape(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    var tokens = {};

    function addParseToken (token, callback) {
        var i, func = callback;
        if (typeof token === 'string') {
            token = [token];
        }
        if (isNumber(callback)) {
            func = function (input, array) {
                array[callback] = toInt(input);
            };
        }
        for (i = 0; i < token.length; i++) {
            tokens[token[i]] = func;
        }
    }

    function addWeekParseToken (token, callback) {
        addParseToken(token, function (input, array, config, token) {
            config._w = config._w || {};
            callback(input, config._w, config, token);
        });
    }

    function addTimeToArrayFromToken(token, input, config) {
        if (input != null && hasOwnProp(tokens, token)) {
            tokens[token](input, config._a, config, token);
        }
    }

    var YEAR = 0;
    var MONTH = 1;
    var DATE = 2;
    var HOUR = 3;
    var MINUTE = 4;
    var SECOND = 5;
    var MILLISECOND = 6;
    var WEEK = 7;
    var WEEKDAY = 8;

    // FORMATTING

    addFormatToken('Y', 0, 0, function () {
        var y = this.year();
        return y <= 9999 ? '' + y : '+' + y;
    });

    addFormatToken(0, ['YY', 2], 0, function () {
        return this.year() % 100;
    });

    addFormatToken(0, ['YYYY',   4],       0, 'year');
    addFormatToken(0, ['YYYYY',  5],       0, 'year');
    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');

    // ALIASES

    addUnitAlias('year', 'y');

    // PRIORITIES

    addUnitPriority('year', 1);

    // PARSING

    addRegexToken('Y',      matchSigned);
    addRegexToken('YY',     match1to2, match2);
    addRegexToken('YYYY',   match1to4, match4);
    addRegexToken('YYYYY',  match1to6, match6);
    addRegexToken('YYYYYY', match1to6, match6);

    addParseToken(['YYYYY', 'YYYYYY'], YEAR);
    addParseToken('YYYY', function (input, array) {
        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
    });
    addParseToken('YY', function (input, array) {
        array[YEAR] = hooks.parseTwoDigitYear(input);
    });
    addParseToken('Y', function (input, array) {
        array[YEAR] = parseInt(input, 10);
    });

    // HELPERS

    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }

    function isLeapYear(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    }

    // HOOKS

    hooks.parseTwoDigitYear = function (input) {
        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
    };

    // MOMENTS

    var getSetYear = makeGetSet('FullYear', true);

    function getIsLeapYear () {
        return isLeapYear(this.year());
    }

    function makeGetSet (unit, keepTime) {
        return function (value) {
            if (value != null) {
                set$1(this, unit, value);
                hooks.updateOffset(this, keepTime);
                return this;
            } else {
                return get(this, unit);
            }
        };
    }

    function get (mom, unit) {
        return mom.isValid() ?
            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;
    }

    function set$1 (mom, unit, value) {
        if (mom.isValid() && !isNaN(value)) {
            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));
            }
            else {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
            }
        }
    }

    // MOMENTS

    function stringGet (units) {
        units = normalizeUnits(units);
        if (isFunction(this[units])) {
            return this[units]();
        }
        return this;
    }


    function stringSet (units, value) {
        if (typeof units === 'object') {
            units = normalizeObjectUnits(units);
            var prioritized = getPrioritizedUnits(units);
            for (var i = 0; i < prioritized.length; i++) {
                this[prioritized[i].unit](units[prioritized[i].unit]);
            }
        } else {
            units = normalizeUnits(units);
            if (isFunction(this[units])) {
                return this[units](value);
            }
        }
        return this;
    }

    function mod(n, x) {
        return ((n % x) + x) % x;
    }

    var indexOf;

    if (Array.prototype.indexOf) {
        indexOf = Array.prototype.indexOf;
    } else {
        indexOf = function (o) {
            // I know
            var i;
            for (i = 0; i < this.length; ++i) {
                if (this[i] === o) {
                    return i;
                }
            }
            return -1;
        };
    }

    function daysInMonth(year, month) {
        if (isNaN(year) || isNaN(month)) {
            return NaN;
        }
        var modMonth = mod(month, 12);
        year += (month - modMonth) / 12;
        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);
    }

    // FORMATTING

    addFormatToken('M', ['MM', 2], 'Mo', function () {
        return this.month() + 1;
    });

    addFormatToken('MMM', 0, 0, function (format) {
        return this.localeData().monthsShort(this, format);
    });

    addFormatToken('MMMM', 0, 0, function (format) {
        return this.localeData().months(this, format);
    });

    // ALIASES

    addUnitAlias('month', 'M');

    // PRIORITY

    addUnitPriority('month', 8);

    // PARSING

    addRegexToken('M',    match1to2);
    addRegexToken('MM',   match1to2, match2);
    addRegexToken('MMM',  function (isStrict, locale) {
        return locale.monthsShortRegex(isStrict);
    });
    addRegexToken('MMMM', function (isStrict, locale) {
        return locale.monthsRegex(isStrict);
    });

    addParseToken(['M', 'MM'], function (input, array) {
        array[MONTH] = toInt(input) - 1;
    });

    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
        var month = config._locale.monthsParse(input, token, config._strict);
        // if we didn't find a month name, mark the date as invalid.
        if (month != null) {
            array[MONTH] = month;
        } else {
            getParsingFlags(config).invalidMonth = input;
        }
    });

    // LOCALES

    var MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;
    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
    function localeMonths (m, format) {
        if (!m) {
            return isArray(this._months) ? this._months :
                this._months['standalone'];
        }
        return isArray(this._months) ? this._months[m.month()] :
            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];
    }

    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
    function localeMonthsShort (m, format) {
        if (!m) {
            return isArray(this._monthsShort) ? this._monthsShort :
                this._monthsShort['standalone'];
        }
        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :
            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];
    }

    function handleStrictParse(monthName, format, strict) {
        var i, ii, mom, llc = monthName.toLocaleLowerCase();
        if (!this._monthsParse) {
            // this is not used
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
            for (i = 0; i < 12; ++i) {
                mom = createUTC([2000, i]);
                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();
                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeMonthsParse (monthName, format, strict) {
        var i, mom, regex;

        if (this._monthsParseExact) {
            return handleStrictParse.call(this, monthName, format, strict);
        }

        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
        }

        // TODO: add sorting
        // Sorting makes sure if one month (or abbr) is a prefix of another
        // see sorting in computeMonthsParse
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            if (strict && !this._longMonthsParse[i]) {
                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
            }
            if (!strict && !this._monthsParse[i]) {
                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
                return i;
            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
                return i;
            } else if (!strict && this._monthsParse[i].test(monthName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function setMonth (mom, value) {
        var dayOfMonth;

        if (!mom.isValid()) {
            // No op
            return mom;
        }

        if (typeof value === 'string') {
            if (/^\d+$/.test(value)) {
                value = toInt(value);
            } else {
                value = mom.localeData().monthsParse(value);
                // TODO: Another silent failure?
                if (!isNumber(value)) {
                    return mom;
                }
            }
        }

        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
        return mom;
    }

    function getSetMonth (value) {
        if (value != null) {
            setMonth(this, value);
            hooks.updateOffset(this, true);
            return this;
        } else {
            return get(this, 'Month');
        }
    }

    function getDaysInMonth () {
        return daysInMonth(this.year(), this.month());
    }

    var defaultMonthsShortRegex = matchWord;
    function monthsShortRegex (isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsShortStrictRegex;
            } else {
                return this._monthsShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsShortRegex')) {
                this._monthsShortRegex = defaultMonthsShortRegex;
            }
            return this._monthsShortStrictRegex && isStrict ?
                this._monthsShortStrictRegex : this._monthsShortRegex;
        }
    }

    var defaultMonthsRegex = matchWord;
    function monthsRegex (isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsStrictRegex;
            } else {
                return this._monthsRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsRegex')) {
                this._monthsRegex = defaultMonthsRegex;
            }
            return this._monthsStrictRegex && isStrict ?
                this._monthsStrictRegex : this._monthsRegex;
        }
    }

    function computeMonthsParse () {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom;
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            shortPieces.push(this.monthsShort(mom, ''));
            longPieces.push(this.months(mom, ''));
            mixedPieces.push(this.months(mom, ''));
            mixedPieces.push(this.monthsShort(mom, ''));
        }
        // Sorting makes sure if one month (or abbr) is a prefix of another it
        // will match the longer piece.
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 12; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
        }
        for (i = 0; i < 24; i++) {
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._monthsShortRegex = this._monthsRegex;
        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
    }

    function createDate (y, m, d, h, M, s, ms) {
        // can't just apply() to create a date:
        // https://stackoverflow.com/q/181348
        var date;
        // the date constructor remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            date = new Date(y + 400, m, d, h, M, s, ms);
            if (isFinite(date.getFullYear())) {
                date.setFullYear(y);
            }
        } else {
            date = new Date(y, m, d, h, M, s, ms);
        }

        return date;
    }

    function createUTCDate (y) {
        var date;
        // the Date.UTC function remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            var args = Array.prototype.slice.call(arguments);
            // preserve leap years using a full 400 year cycle, then reset
            args[0] = y + 400;
            date = new Date(Date.UTC.apply(null, args));
            if (isFinite(date.getUTCFullYear())) {
                date.setUTCFullYear(y);
            }
        } else {
            date = new Date(Date.UTC.apply(null, arguments));
        }

        return date;
    }

    // start-of-first-week - start-of-year
    function firstWeekOffset(year, dow, doy) {
        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)
            fwd = 7 + dow - doy,
            // first-week day local weekday -- which local weekday is fwd
            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;

        return -fwdlw + fwd - 1;
    }

    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
        var localWeekday = (7 + weekday - dow) % 7,
            weekOffset = firstWeekOffset(year, dow, doy),
            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
            resYear, resDayOfYear;

        if (dayOfYear <= 0) {
            resYear = year - 1;
            resDayOfYear = daysInYear(resYear) + dayOfYear;
        } else if (dayOfYear > daysInYear(year)) {
            resYear = year + 1;
            resDayOfYear = dayOfYear - daysInYear(year);
        } else {
            resYear = year;
            resDayOfYear = dayOfYear;
        }

        return {
            year: resYear,
            dayOfYear: resDayOfYear
        };
    }

    function weekOfYear(mom, dow, doy) {
        var weekOffset = firstWeekOffset(mom.year(), dow, doy),
            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
            resWeek, resYear;

        if (week < 1) {
            resYear = mom.year() - 1;
            resWeek = week + weeksInYear(resYear, dow, doy);
        } else if (week > weeksInYear(mom.year(), dow, doy)) {
            resWeek = week - weeksInYear(mom.year(), dow, doy);
            resYear = mom.year() + 1;
        } else {
            resYear = mom.year();
            resWeek = week;
        }

        return {
            week: resWeek,
            year: resYear
        };
    }

    function weeksInYear(year, dow, doy) {
        var weekOffset = firstWeekOffset(year, dow, doy),
            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
    }

    // FORMATTING

    addFormatToken('w', ['ww', 2], 'wo', 'week');
    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');

    // ALIASES

    addUnitAlias('week', 'w');
    addUnitAlias('isoWeek', 'W');

    // PRIORITIES

    addUnitPriority('week', 5);
    addUnitPriority('isoWeek', 5);

    // PARSING

    addRegexToken('w',  match1to2);
    addRegexToken('ww', match1to2, match2);
    addRegexToken('W',  match1to2);
    addRegexToken('WW', match1to2, match2);

    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {
        week[token.substr(0, 1)] = toInt(input);
    });

    // HELPERS

    // LOCALES

    function localeWeek (mom) {
        return weekOfYear(mom, this._week.dow, this._week.doy).week;
    }

    var defaultLocaleWeek = {
        dow : 0, // Sunday is the first day of the week.
        doy : 6  // The week that contains Jan 6th is the first week of the year.
    };

    function localeFirstDayOfWeek () {
        return this._week.dow;
    }

    function localeFirstDayOfYear () {
        return this._week.doy;
    }

    // MOMENTS

    function getSetWeek (input) {
        var week = this.localeData().week(this);
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    function getSetISOWeek (input) {
        var week = weekOfYear(this, 1, 4).week;
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    // FORMATTING

    addFormatToken('d', 0, 'do', 'day');

    addFormatToken('dd', 0, 0, function (format) {
        return this.localeData().weekdaysMin(this, format);
    });

    addFormatToken('ddd', 0, 0, function (format) {
        return this.localeData().weekdaysShort(this, format);
    });

    addFormatToken('dddd', 0, 0, function (format) {
        return this.localeData().weekdays(this, format);
    });

    addFormatToken('e', 0, 0, 'weekday');
    addFormatToken('E', 0, 0, 'isoWeekday');

    // ALIASES

    addUnitAlias('day', 'd');
    addUnitAlias('weekday', 'e');
    addUnitAlias('isoWeekday', 'E');

    // PRIORITY
    addUnitPriority('day', 11);
    addUnitPriority('weekday', 11);
    addUnitPriority('isoWeekday', 11);

    // PARSING

    addRegexToken('d',    match1to2);
    addRegexToken('e',    match1to2);
    addRegexToken('E',    match1to2);
    addRegexToken('dd',   function (isStrict, locale) {
        return locale.weekdaysMinRegex(isStrict);
    });
    addRegexToken('ddd',   function (isStrict, locale) {
        return locale.weekdaysShortRegex(isStrict);
    });
    addRegexToken('dddd',   function (isStrict, locale) {
        return locale.weekdaysRegex(isStrict);
    });

    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {
        var weekday = config._locale.weekdaysParse(input, token, config._strict);
        // if we didn't get a weekday name, mark the date as invalid
        if (weekday != null) {
            week.d = weekday;
        } else {
            getParsingFlags(config).invalidWeekday = input;
        }
    });

    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
        week[token] = toInt(input);
    });

    // HELPERS

    function parseWeekday(input, locale) {
        if (typeof input !== 'string') {
            return input;
        }

        if (!isNaN(input)) {
            return parseInt(input, 10);
        }

        input = locale.weekdaysParse(input);
        if (typeof input === 'number') {
            return input;
        }

        return null;
    }

    function parseIsoWeekday(input, locale) {
        if (typeof input === 'string') {
            return locale.weekdaysParse(input) % 7 || 7;
        }
        return isNaN(input) ? null : input;
    }

    // LOCALES
    function shiftWeekdays (ws, n) {
        return ws.slice(n, 7).concat(ws.slice(0, n));
    }

    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
    function localeWeekdays (m, format) {
        var weekdays = isArray(this._weekdays) ? this._weekdays :
            this._weekdays[(m && m !== true && this._weekdays.isFormat.test(format)) ? 'format' : 'standalone'];
        return (m === true) ? shiftWeekdays(weekdays, this._week.dow)
            : (m) ? weekdays[m.day()] : weekdays;
    }

    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
    function localeWeekdaysShort (m) {
        return (m === true) ? shiftWeekdays(this._weekdaysShort, this._week.dow)
            : (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;
    }

    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
    function localeWeekdaysMin (m) {
        return (m === true) ? shiftWeekdays(this._weekdaysMin, this._week.dow)
            : (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;
    }

    function handleStrictParse$1(weekdayName, format, strict) {
        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();
        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._minWeekdaysParse = [];

            for (i = 0; i < 7; ++i) {
                mom = createUTC([2000, 1]).day(i);
                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();
                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();
                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeWeekdaysParse (weekdayName, format, strict) {
        var i, mom, regex;

        if (this._weekdaysParseExact) {
            return handleStrictParse$1.call(this, weekdayName, format, strict);
        }

        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._minWeekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._fullWeekdaysParse = [];
        }

        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already

            mom = createUTC([2000, 1]).day(i);
            if (strict && !this._fullWeekdaysParse[i]) {
                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');
                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');
                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');
            }
            if (!this._weekdaysParse[i]) {
                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function getSetDayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        if (input != null) {
            input = parseWeekday(input, this.localeData());
            return this.add(input - day, 'd');
        } else {
            return day;
        }
    }

    function getSetLocaleDayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return input == null ? weekday : this.add(input - weekday, 'd');
    }

    function getSetISODayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }

        // behaves the same as moment#day except
        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
        // as a setter, sunday should belong to the previous week.

        if (input != null) {
            var weekday = parseIsoWeekday(input, this.localeData());
            return this.day(this.day() % 7 ? weekday : weekday - 7);
        } else {
            return this.day() || 7;
        }
    }

    var defaultWeekdaysRegex = matchWord;
    function weekdaysRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysStrictRegex;
            } else {
                return this._weekdaysRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                this._weekdaysRegex = defaultWeekdaysRegex;
            }
            return this._weekdaysStrictRegex && isStrict ?
                this._weekdaysStrictRegex : this._weekdaysRegex;
        }
    }

    var defaultWeekdaysShortRegex = matchWord;
    function weekdaysShortRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysShortStrictRegex;
            } else {
                return this._weekdaysShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysShortRegex')) {
                this._weekdaysShortRegex = defaultWeekdaysShortRegex;
            }
            return this._weekdaysShortStrictRegex && isStrict ?
                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
        }
    }

    var defaultWeekdaysMinRegex = matchWord;
    function weekdaysMinRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysMinStrictRegex;
            } else {
                return this._weekdaysMinRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysMinRegex')) {
                this._weekdaysMinRegex = defaultWeekdaysMinRegex;
            }
            return this._weekdaysMinStrictRegex && isStrict ?
                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
        }
    }


    function computeWeekdaysParse () {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom, minp, shortp, longp;
        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, 1]).day(i);
            minp = this.weekdaysMin(mom, '');
            shortp = this.weekdaysShort(mom, '');
            longp = this.weekdays(mom, '');
            minPieces.push(minp);
            shortPieces.push(shortp);
            longPieces.push(longp);
            mixedPieces.push(minp);
            mixedPieces.push(shortp);
            mixedPieces.push(longp);
        }
        // Sorting makes sure if one weekday (or abbr) is a prefix of another it
        // will match the longer piece.
        minPieces.sort(cmpLenRev);
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 7; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._weekdaysShortRegex = this._weekdaysRegex;
        this._weekdaysMinRegex = this._weekdaysRegex;

        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');
    }

    // FORMATTING

    function hFormat() {
        return this.hours() % 12 || 12;
    }

    function kFormat() {
        return this.hours() || 24;
    }

    addFormatToken('H', ['HH', 2], 0, 'hour');
    addFormatToken('h', ['hh', 2], 0, hFormat);
    addFormatToken('k', ['kk', 2], 0, kFormat);

    addFormatToken('hmm', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
    });

    addFormatToken('hmmss', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2);
    });

    addFormatToken('Hmm', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2);
    });

    addFormatToken('Hmmss', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2);
    });

    function meridiem (token, lowercase) {
        addFormatToken(token, 0, 0, function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
        });
    }

    meridiem('a', true);
    meridiem('A', false);

    // ALIASES

    addUnitAlias('hour', 'h');

    // PRIORITY
    addUnitPriority('hour', 13);

    // PARSING

    function matchMeridiem (isStrict, locale) {
        return locale._meridiemParse;
    }

    addRegexToken('a',  matchMeridiem);
    addRegexToken('A',  matchMeridiem);
    addRegexToken('H',  match1to2);
    addRegexToken('h',  match1to2);
    addRegexToken('k',  match1to2);
    addRegexToken('HH', match1to2, match2);
    addRegexToken('hh', match1to2, match2);
    addRegexToken('kk', match1to2, match2);

    addRegexToken('hmm', match3to4);
    addRegexToken('hmmss', match5to6);
    addRegexToken('Hmm', match3to4);
    addRegexToken('Hmmss', match5to6);

    addParseToken(['H', 'HH'], HOUR);
    addParseToken(['k', 'kk'], function (input, array, config) {
        var kInput = toInt(input);
        array[HOUR] = kInput === 24 ? 0 : kInput;
    });
    addParseToken(['a', 'A'], function (input, array, config) {
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
    });
    addParseToken(['h', 'hh'], function (input, array, config) {
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('Hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
    });
    addParseToken('Hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
    });

    // LOCALES

    function localeIsPM (input) {
        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
        // Using charAt should be more compatible.
        return ((input + '').toLowerCase().charAt(0) === 'p');
    }

    var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;
    function localeMeridiem (hours, minutes, isLower) {
        if (hours > 11) {
            return isLower ? 'pm' : 'PM';
        } else {
            return isLower ? 'am' : 'AM';
        }
    }


    // MOMENTS

    // Setting the hour should keep the time, because the user explicitly
    // specified which hour they want. So trying to maintain the same hour (in
    // a new timezone) makes sense. Adding/subtracting hours does not follow
    // this rule.
    var getSetHour = makeGetSet('Hours', true);

    var baseConfig = {
        calendar: defaultCalendar,
        longDateFormat: defaultLongDateFormat,
        invalidDate: defaultInvalidDate,
        ordinal: defaultOrdinal,
        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,
        relativeTime: defaultRelativeTime,

        months: defaultLocaleMonths,
        monthsShort: defaultLocaleMonthsShort,

        week: defaultLocaleWeek,

        weekdays: defaultLocaleWeekdays,
        weekdaysMin: defaultLocaleWeekdaysMin,
        weekdaysShort: defaultLocaleWeekdaysShort,

        meridiemParse: defaultLocaleMeridiemParse
    };

    // internal storage for locale config files
    var locales = {};
    var localeFamilies = {};
    var globalLocale;

    function normalizeLocale(key) {
        return key ? key.toLowerCase().replace('_', '-') : key;
    }

    // pick the locale from the array
    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
    function chooseLocale(names) {
        var i = 0, j, next, locale, split;

        while (i < names.length) {
            split = normalizeLocale(names[i]).split('-');
            j = split.length;
            next = normalizeLocale(names[i + 1]);
            next = next ? next.split('-') : null;
            while (j > 0) {
                locale = loadLocale(split.slice(0, j).join('-'));
                if (locale) {
                    return locale;
                }
                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                    //the next array item is better than a shallower substring of this one
                    break;
                }
                j--;
            }
            i++;
        }
        return globalLocale;
    }

    function loadLocale(name) {
        var oldLocale = null;
        // TODO: Find a better way to register and load all the locales in Node
        if (!locales[name] && (typeof module !== 'undefined') &&
                module && module.exports) {
            try {
                oldLocale = globalLocale._abbr;
                var aliasedRequire = require;
                aliasedRequire('./locale/' + name);
                getSetGlobalLocale(oldLocale);
            } catch (e) {}
        }
        return locales[name];
    }

    // This function will load locale and then set the global locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    function getSetGlobalLocale (key, values) {
        var data;
        if (key) {
            if (isUndefined(values)) {
                data = getLocale(key);
            }
            else {
                data = defineLocale(key, values);
            }

            if (data) {
                // moment.duration._locale = moment._locale = data;
                globalLocale = data;
            }
            else {
                if ((typeof console !==  'undefined') && console.warn) {
                    //warn user if arguments are passed but the locale could not be set
                    console.warn('Locale ' + key +  ' not found. Did you forget to load it?');
                }
            }
        }

        return globalLocale._abbr;
    }

    function defineLocale (name, config) {
        if (config !== null) {
            var locale, parentConfig = baseConfig;
            config.abbr = name;
            if (locales[name] != null) {
                deprecateSimple('defineLocaleOverride',
                        'use moment.updateLocale(localeName, config) to change ' +
                        'an existing locale. moment.defineLocale(localeName, ' +
                        'config) should only be used for creating a new locale ' +
                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');
                parentConfig = locales[name]._config;
            } else if (config.parentLocale != null) {
                if (locales[config.parentLocale] != null) {
                    parentConfig = locales[config.parentLocale]._config;
                } else {
                    locale = loadLocale(config.parentLocale);
                    if (locale != null) {
                        parentConfig = locale._config;
                    } else {
                        if (!localeFamilies[config.parentLocale]) {
                            localeFamilies[config.parentLocale] = [];
                        }
                        localeFamilies[config.parentLocale].push({
                            name: name,
                            config: config
                        });
                        return null;
                    }
                }
            }
            locales[name] = new Locale(mergeConfigs(parentConfig, config));

            if (localeFamilies[name]) {
                localeFamilies[name].forEach(function (x) {
                    defineLocale(x.name, x.config);
                });
            }

            // backwards compat for now: also set the locale
            // make sure we set the locale AFTER all child locales have been
            // created, so we won't end up with the child locale set.
            getSetGlobalLocale(name);


            return locales[name];
        } else {
            // useful for testing
            delete locales[name];
            return null;
        }
    }

    function updateLocale(name, config) {
        if (config != null) {
            var locale, tmpLocale, parentConfig = baseConfig;
            // MERGE
            tmpLocale = loadLocale(name);
            if (tmpLocale != null) {
                parentConfig = tmpLocale._config;
            }
            config = mergeConfigs(parentConfig, config);
            locale = new Locale(config);
            locale.parentLocale = locales[name];
            locales[name] = locale;

            // backwards compat for now: also set the locale
            getSetGlobalLocale(name);
        } else {
            // pass null for config to unupdate, useful for tests
            if (locales[name] != null) {
                if (locales[name].parentLocale != null) {
                    locales[name] = locales[name].parentLocale;
                } else if (locales[name] != null) {
                    delete locales[name];
                }
            }
        }
        return locales[name];
    }

    // returns locale data
    function getLocale (key) {
        var locale;

        if (key && key._locale && key._locale._abbr) {
            key = key._locale._abbr;
        }

        if (!key) {
            return globalLocale;
        }

        if (!isArray(key)) {
            //short-circuit everything else
            locale = loadLocale(key);
            if (locale) {
                return locale;
            }
            key = [key];
        }

        return chooseLocale(key);
    }

    function listLocales() {
        return keys(locales);
    }

    function checkOverflow (m) {
        var overflow;
        var a = m._a;

        if (a && getParsingFlags(m).overflow === -2) {
            overflow =
                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :
                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :
                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :
                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :
                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :
                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :
                -1;

            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
                overflow = DATE;
            }
            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
                overflow = WEEK;
            }
            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
                overflow = WEEKDAY;
            }

            getParsingFlags(m).overflow = overflow;
        }

        return m;
    }

    // Pick the first defined of two or three arguments.
    function defaults(a, b, c) {
        if (a != null) {
            return a;
        }
        if (b != null) {
            return b;
        }
        return c;
    }

    function currentDateArray(config) {
        // hooks is actually the exported moment object
        var nowValue = new Date(hooks.now());
        if (config._useUTC) {
            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
        }
        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
    }

    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function configFromArray (config) {
        var i, date, input = [], currentDate, expectedWeekday, yearToUse;

        if (config._d) {
            return;
        }

        currentDate = currentDateArray(config);

        //compute day of the year from weeks and weekdays
        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
            dayOfYearFromWeekInfo(config);
        }

        //if the day of the year is set, figure out what it is
        if (config._dayOfYear != null) {
            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {
                getParsingFlags(config)._overflowDayOfYear = true;
            }

            date = createUTCDate(yearToUse, 0, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }

        // Default to current date.
        // * if no year, month, day of month are given, default to today
        // * if day of month is given, default month and year
        // * if month is given, default only year
        // * if year is given, don't default anything
        for (i = 0; i < 3 && config._a[i] == null; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }

        // Zero out whatever was not defaulted, including time
        for (; i < 7; i++) {
            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
        }

        // Check for 24:00:00.000
        if (config._a[HOUR] === 24 &&
                config._a[MINUTE] === 0 &&
                config._a[SECOND] === 0 &&
                config._a[MILLISECOND] === 0) {
            config._nextDay = true;
            config._a[HOUR] = 0;
        }

        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();

        // Apply timezone offset from input. The actual utcOffset can be changed
        // with parseZone.
        if (config._tzm != null) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }

        if (config._nextDay) {
            config._a[HOUR] = 24;
        }

        // check for mismatching day of week
        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {
            getParsingFlags(config).weekdayMismatch = true;
        }
    }

    function dayOfYearFromWeekInfo(config) {
        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;

        w = config._w;
        if (w.GG != null || w.W != null || w.E != null) {
            dow = 1;
            doy = 4;

            // TODO: We need to take the current isoWeekYear, but that depends on
            // how we interpret now (local, utc, fixed offset). So create
            // a now version of current config (take local/utc/offset flags, and
            // create now).
            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);
            week = defaults(w.W, 1);
            weekday = defaults(w.E, 1);
            if (weekday < 1 || weekday > 7) {
                weekdayOverflow = true;
            }
        } else {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;

            var curWeek = weekOfYear(createLocal(), dow, doy);

            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);

            // Default to current week.
            week = defaults(w.w, curWeek.week);

            if (w.d != null) {
                // weekday -- low day numbers are considered next week
                weekday = w.d;
                if (weekday < 0 || weekday > 6) {
                    weekdayOverflow = true;
                }
            } else if (w.e != null) {
                // local weekday -- counting starts from beginning of week
                weekday = w.e + dow;
                if (w.e < 0 || w.e > 6) {
                    weekdayOverflow = true;
                }
            } else {
                // default to beginning of week
                weekday = dow;
            }
        }
        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
            getParsingFlags(config)._overflowWeeks = true;
        } else if (weekdayOverflow != null) {
            getParsingFlags(config)._overflowWeekday = true;
        } else {
            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
            config._a[YEAR] = temp.year;
            config._dayOfYear = temp.dayOfYear;
        }
    }

    // iso 8601 regex
    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)
    var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;
    var basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;

    var tzRegex = /Z|[+-]\d\d(?::?\d\d)?/;

    var isoDates = [
        ['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/],
        ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/],
        ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/],
        ['GGGG-[W]WW', /\d{4}-W\d\d/, false],
        ['YYYY-DDD', /\d{4}-\d{3}/],
        ['YYYY-MM', /\d{4}-\d\d/, false],
        ['YYYYYYMMDD', /[+-]\d{10}/],
        ['YYYYMMDD', /\d{8}/],
        // YYYYMM is NOT allowed by the standard
        ['GGGG[W]WWE', /\d{4}W\d{3}/],
        ['GGGG[W]WW', /\d{4}W\d{2}/, false],
        ['YYYYDDD', /\d{7}/]
    ];

    // iso time formats and regexes
    var isoTimes = [
        ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
        ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
        ['HH:mm:ss', /\d\d:\d\d:\d\d/],
        ['HH:mm', /\d\d:\d\d/],
        ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
        ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
        ['HHmmss', /\d\d\d\d\d\d/],
        ['HHmm', /\d\d\d\d/],
        ['HH', /\d\d/]
    ];

    var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;

    // date from iso format
    function configFromISO(config) {
        var i, l,
            string = config._i,
            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
            allowTime, dateFormat, timeFormat, tzFormat;

        if (match) {
            getParsingFlags(config).iso = true;

            for (i = 0, l = isoDates.length; i < l; i++) {
                if (isoDates[i][1].exec(match[1])) {
                    dateFormat = isoDates[i][0];
                    allowTime = isoDates[i][2] !== false;
                    break;
                }
            }
            if (dateFormat == null) {
                config._isValid = false;
                return;
            }
            if (match[3]) {
                for (i = 0, l = isoTimes.length; i < l; i++) {
                    if (isoTimes[i][1].exec(match[3])) {
                        // match[2] should be 'T' or space
                        timeFormat = (match[2] || ' ') + isoTimes[i][0];
                        break;
                    }
                }
                if (timeFormat == null) {
                    config._isValid = false;
                    return;
                }
            }
            if (!allowTime && timeFormat != null) {
                config._isValid = false;
                return;
            }
            if (match[4]) {
                if (tzRegex.exec(match[4])) {
                    tzFormat = 'Z';
                } else {
                    config._isValid = false;
                    return;
                }
            }
            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
            configFromStringAndFormat(config);
        } else {
            config._isValid = false;
        }
    }

    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3
    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;

    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {
        var result = [
            untruncateYear(yearStr),
            defaultLocaleMonthsShort.indexOf(monthStr),
            parseInt(dayStr, 10),
            parseInt(hourStr, 10),
            parseInt(minuteStr, 10)
        ];

        if (secondStr) {
            result.push(parseInt(secondStr, 10));
        }

        return result;
    }

    function untruncateYear(yearStr) {
        var year = parseInt(yearStr, 10);
        if (year <= 49) {
            return 2000 + year;
        } else if (year <= 999) {
            return 1900 + year;
        }
        return year;
    }

    function preprocessRFC2822(s) {
        // Remove comments and folding whitespace and replace multiple-spaces with a single space
        return s.replace(/\([^)]*\)|[\n\t]/g, ' ').replace(/(\s\s+)/g, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    }

    function checkWeekday(weekdayStr, parsedInput, config) {
        if (weekdayStr) {
            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.
            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),
                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();
            if (weekdayProvided !== weekdayActual) {
                getParsingFlags(config).weekdayMismatch = true;
                config._isValid = false;
                return false;
            }
        }
        return true;
    }

    var obsOffsets = {
        UT: 0,
        GMT: 0,
        EDT: -4 * 60,
        EST: -5 * 60,
        CDT: -5 * 60,
        CST: -6 * 60,
        MDT: -6 * 60,
        MST: -7 * 60,
        PDT: -7 * 60,
        PST: -8 * 60
    };

    function calculateOffset(obsOffset, militaryOffset, numOffset) {
        if (obsOffset) {
            return obsOffsets[obsOffset];
        } else if (militaryOffset) {
            // the only allowed military tz is Z
            return 0;
        } else {
            var hm = parseInt(numOffset, 10);
            var m = hm % 100, h = (hm - m) / 100;
            return h * 60 + m;
        }
    }

    // date and time from ref 2822 format
    function configFromRFC2822(config) {
        var match = rfc2822.exec(preprocessRFC2822(config._i));
        if (match) {
            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);
            if (!checkWeekday(match[1], parsedArray, config)) {
                return;
            }

            config._a = parsedArray;
            config._tzm = calculateOffset(match[8], match[9], match[10]);

            config._d = createUTCDate.apply(null, config._a);
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);

            getParsingFlags(config).rfc2822 = true;
        } else {
            config._isValid = false;
        }
    }

    // date from iso format or fallback
    function configFromString(config) {
        var matched = aspNetJsonRegex.exec(config._i);

        if (matched !== null) {
            config._d = new Date(+matched[1]);
            return;
        }

        configFromISO(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        configFromRFC2822(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        // Final attempt, use Input Fallback
        hooks.createFromInputFallback(config);
    }

    hooks.createFromInputFallback = deprecate(
        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +
        'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +
        'discouraged and will be removed in an upcoming major release. Please refer to ' +
        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',
        function (config) {
            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
        }
    );

    // constant that refers to the ISO standard
    hooks.ISO_8601 = function () {};

    // constant that refers to the RFC 2822 form
    hooks.RFC_2822 = function () {};

    // date from string and format string
    function configFromStringAndFormat(config) {
        // TODO: Move this to another part of the creation flow to prevent circular deps
        if (config._f === hooks.ISO_8601) {
            configFromISO(config);
            return;
        }
        if (config._f === hooks.RFC_2822) {
            configFromRFC2822(config);
            return;
        }
        config._a = [];
        getParsingFlags(config).empty = true;

        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var string = '' + config._i,
            i, parsedInput, tokens, token, skipped,
            stringLength = string.length,
            totalParsedInputLength = 0;

        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

        for (i = 0; i < tokens.length; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
            // console.log('token', token, 'parsedInput', parsedInput,
            //         'regex', getParseRegexForToken(token, config));
            if (parsedInput) {
                skipped = string.substr(0, string.indexOf(parsedInput));
                if (skipped.length > 0) {
                    getParsingFlags(config).unusedInput.push(skipped);
                }
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
                totalParsedInputLength += parsedInput.length;
            }
            // don't parse if it's not a known token
            if (formatTokenFunctions[token]) {
                if (parsedInput) {
                    getParsingFlags(config).empty = false;
                }
                else {
                    getParsingFlags(config).unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            }
            else if (config._strict && !parsedInput) {
                getParsingFlags(config).unusedTokens.push(token);
            }
        }

        // add remaining unparsed input length to the string
        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
        if (string.length > 0) {
            getParsingFlags(config).unusedInput.push(string);
        }

        // clear _12h flag if hour is <= 12
        if (config._a[HOUR] <= 12 &&
            getParsingFlags(config).bigHour === true &&
            config._a[HOUR] > 0) {
            getParsingFlags(config).bigHour = undefined;
        }

        getParsingFlags(config).parsedDateParts = config._a.slice(0);
        getParsingFlags(config).meridiem = config._meridiem;
        // handle meridiem
        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);

        configFromArray(config);
        checkOverflow(config);
    }


    function meridiemFixWrap (locale, hour, meridiem) {
        var isPm;

        if (meridiem == null) {
            // nothing to do
            return hour;
        }
        if (locale.meridiemHour != null) {
            return locale.meridiemHour(hour, meridiem);
        } else if (locale.isPM != null) {
            // Fallback
            isPm = locale.isPM(meridiem);
            if (isPm && hour < 12) {
                hour += 12;
            }
            if (!isPm && hour === 12) {
                hour = 0;
            }
            return hour;
        } else {
            // this is not supposed to happen
            return hour;
        }
    }

    // date from string and array of format strings
    function configFromStringAndArray(config) {
        var tempConfig,
            bestMoment,

            scoreToBeat,
            i,
            currentScore;

        if (config._f.length === 0) {
            getParsingFlags(config).invalidFormat = true;
            config._d = new Date(NaN);
            return;
        }

        for (i = 0; i < config._f.length; i++) {
            currentScore = 0;
            tempConfig = copyConfig({}, config);
            if (config._useUTC != null) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._f = config._f[i];
            configFromStringAndFormat(tempConfig);

            if (!isValid(tempConfig)) {
                continue;
            }

            // if there is any input that was not parsed add a penalty for that format
            currentScore += getParsingFlags(tempConfig).charsLeftOver;

            //or tokens
            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

            getParsingFlags(tempConfig).score = currentScore;

            if (scoreToBeat == null || currentScore < scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempConfig;
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    function configFromObject(config) {
        if (config._d) {
            return;
        }

        var i = normalizeObjectUnits(config._i);
        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {
            return obj && parseInt(obj, 10);
        });

        configFromArray(config);
    }

    function createFromConfig (config) {
        var res = new Moment(checkOverflow(prepareConfig(config)));
        if (res._nextDay) {
            // Adding is smart enough around DST
            res.add(1, 'd');
            res._nextDay = undefined;
        }

        return res;
    }

    function prepareConfig (config) {
        var input = config._i,
            format = config._f;

        config._locale = config._locale || getLocale(config._l);

        if (input === null || (format === undefined && input === '')) {
            return createInvalid({nullInput: true});
        }

        if (typeof input === 'string') {
            config._i = input = config._locale.preparse(input);
        }

        if (isMoment(input)) {
            return new Moment(checkOverflow(input));
        } else if (isDate(input)) {
            config._d = input;
        } else if (isArray(format)) {
            configFromStringAndArray(config);
        } else if (format) {
            configFromStringAndFormat(config);
        }  else {
            configFromInput(config);
        }

        if (!isValid(config)) {
            config._d = null;
        }

        return config;
    }

    function configFromInput(config) {
        var input = config._i;
        if (isUndefined(input)) {
            config._d = new Date(hooks.now());
        } else if (isDate(input)) {
            config._d = new Date(input.valueOf());
        } else if (typeof input === 'string') {
            configFromString(config);
        } else if (isArray(input)) {
            config._a = map(input.slice(0), function (obj) {
                return parseInt(obj, 10);
            });
            configFromArray(config);
        } else if (isObject(input)) {
            configFromObject(config);
        } else if (isNumber(input)) {
            // from milliseconds
            config._d = new Date(input);
        } else {
            hooks.createFromInputFallback(config);
        }
    }

    function createLocalOrUTC (input, format, locale, strict, isUTC) {
        var c = {};

        if (locale === true || locale === false) {
            strict = locale;
            locale = undefined;
        }

        if ((isObject(input) && isObjectEmpty(input)) ||
                (isArray(input) && input.length === 0)) {
            input = undefined;
        }
        // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        c._isAMomentObject = true;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;

        return createFromConfig(c);
    }

    function createLocal (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, false);
    }

    var prototypeMin = deprecate(
        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',
        function () {
            var other = createLocal.apply(null, arguments);
            if (this.isValid() && other.isValid()) {
                return other < this ? this : other;
            } else {
                return createInvalid();
            }
        }
    );

    var prototypeMax = deprecate(
        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',
        function () {
            var other = createLocal.apply(null, arguments);
            if (this.isValid() && other.isValid()) {
                return other > this ? this : other;
            } else {
                return createInvalid();
            }
        }
    );

    // Pick a moment m from moments so that m[fn](other) is true for all
    // other. This relies on the function fn to be transitive.
    //
    // moments should either be an array of moment objects or an array, whose
    // first element is an array of moment objects.
    function pickBy(fn, moments) {
        var res, i;
        if (moments.length === 1 && isArray(moments[0])) {
            moments = moments[0];
        }
        if (!moments.length) {
            return createLocal();
        }
        res = moments[0];
        for (i = 1; i < moments.length; ++i) {
            if (!moments[i].isValid() || moments[i][fn](res)) {
                res = moments[i];
            }
        }
        return res;
    }

    // TODO: Use [].sort instead?
    function min () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isBefore', args);
    }

    function max () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isAfter', args);
    }

    var now = function () {
        return Date.now ? Date.now() : +(new Date());
    };

    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];

    function isDurationValid(m) {
        for (var key in m) {
            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {
                return false;
            }
        }

        var unitHasDecimal = false;
        for (var i = 0; i < ordering.length; ++i) {
            if (m[ordering[i]]) {
                if (unitHasDecimal) {
                    return false; // only allow non-integers for smallest unit
                }
                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {
                    unitHasDecimal = true;
                }
            }
        }

        return true;
    }

    function isValid$1() {
        return this._isValid;
    }

    function createInvalid$1() {
        return createDuration(NaN);
    }

    function Duration (duration) {
        var normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || 0,
            quarters = normalizedInput.quarter || 0,
            months = normalizedInput.month || 0,
            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,
            days = normalizedInput.day || 0,
            hours = normalizedInput.hour || 0,
            minutes = normalizedInput.minute || 0,
            seconds = normalizedInput.second || 0,
            milliseconds = normalizedInput.millisecond || 0;

        this._isValid = isDurationValid(normalizedInput);

        // representation for dateAddRemove
        this._milliseconds = +milliseconds +
            seconds * 1e3 + // 1000
            minutes * 6e4 + // 1000 * 60
            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = +days +
            weeks * 7;
        // It is impossible to translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = +months +
            quarters * 3 +
            years * 12;

        this._data = {};

        this._locale = getLocale();

        this._bubble();
    }

    function isDuration (obj) {
        return obj instanceof Duration;
    }

    function absRound (number) {
        if (number < 0) {
            return Math.round(-1 * number) * -1;
        } else {
            return Math.round(number);
        }
    }

    // FORMATTING

    function offset (token, separator) {
        addFormatToken(token, 0, 0, function () {
            var offset = this.utcOffset();
            var sign = '+';
            if (offset < 0) {
                offset = -offset;
                sign = '-';
            }
            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
        });
    }

    offset('Z', ':');
    offset('ZZ', '');

    // PARSING

    addRegexToken('Z',  matchShortOffset);
    addRegexToken('ZZ', matchShortOffset);
    addParseToken(['Z', 'ZZ'], function (input, array, config) {
        config._useUTC = true;
        config._tzm = offsetFromString(matchShortOffset, input);
    });

    // HELPERS

    // timezone chunker
    // '+10:00' > ['10',  '00']
    // '-1530'  > ['-15', '30']
    var chunkOffset = /([\+\-]|\d\d)/gi;

    function offsetFromString(matcher, string) {
        var matches = (string || '').match(matcher);

        if (matches === null) {
            return null;
        }

        var chunk   = matches[matches.length - 1] || [];
        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];
        var minutes = +(parts[1] * 60) + toInt(parts[2]);

        return minutes === 0 ?
          0 :
          parts[0] === '+' ? minutes : -minutes;
    }

    // Return a moment from input, that is local/utc/zone equivalent to model.
    function cloneWithOffset(input, model) {
        var res, diff;
        if (model._isUTC) {
            res = model.clone();
            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
            // Use low-level api, because this fn is low-level api.
            res._d.setTime(res._d.valueOf() + diff);
            hooks.updateOffset(res, false);
            return res;
        } else {
            return createLocal(input).local();
        }
    }

    function getDateOffset (m) {
        // On Firefox.24 Date#getTimezoneOffset returns a floating point.
        // https://github.com/moment/moment/pull/1871
        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
    }

    // HOOKS

    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    hooks.updateOffset = function () {};

    // MOMENTS

    // keepLocalTime = true means only change the timezone, without
    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
    // +0200, so we adjust the time as needed, to be valid.
    //
    // Keeping the time actually adds/subtracts (one hour)
    // from the actual represented time. That is why we call updateOffset
    // a second time. In case it wants us to change the offset again
    // _changeInProgress == true case, then we have to adjust, because
    // there is no such time in the given timezone.
    function getSetOffset (input, keepLocalTime, keepMinutes) {
        var offset = this._offset || 0,
            localAdjust;
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        if (input != null) {
            if (typeof input === 'string') {
                input = offsetFromString(matchShortOffset, input);
                if (input === null) {
                    return this;
                }
            } else if (Math.abs(input) < 16 && !keepMinutes) {
                input = input * 60;
            }
            if (!this._isUTC && keepLocalTime) {
                localAdjust = getDateOffset(this);
            }
            this._offset = input;
            this._isUTC = true;
            if (localAdjust != null) {
                this.add(localAdjust, 'm');
            }
            if (offset !== input) {
                if (!keepLocalTime || this._changeInProgress) {
                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);
                } else if (!this._changeInProgress) {
                    this._changeInProgress = true;
                    hooks.updateOffset(this, true);
                    this._changeInProgress = null;
                }
            }
            return this;
        } else {
            return this._isUTC ? offset : getDateOffset(this);
        }
    }

    function getSetZone (input, keepLocalTime) {
        if (input != null) {
            if (typeof input !== 'string') {
                input = -input;
            }

            this.utcOffset(input, keepLocalTime);

            return this;
        } else {
            return -this.utcOffset();
        }
    }

    function setOffsetToUTC (keepLocalTime) {
        return this.utcOffset(0, keepLocalTime);
    }

    function setOffsetToLocal (keepLocalTime) {
        if (this._isUTC) {
            this.utcOffset(0, keepLocalTime);
            this._isUTC = false;

            if (keepLocalTime) {
                this.subtract(getDateOffset(this), 'm');
            }
        }
        return this;
    }

    function setOffsetToParsedOffset () {
        if (this._tzm != null) {
            this.utcOffset(this._tzm, false, true);
        } else if (typeof this._i === 'string') {
            var tZone = offsetFromString(matchOffset, this._i);
            if (tZone != null) {
                this.utcOffset(tZone);
            }
            else {
                this.utcOffset(0, true);
            }
        }
        return this;
    }

    function hasAlignedHourOffset (input) {
        if (!this.isValid()) {
            return false;
        }
        input = input ? createLocal(input).utcOffset() : 0;

        return (this.utcOffset() - input) % 60 === 0;
    }

    function isDaylightSavingTime () {
        return (
            this.utcOffset() > this.clone().month(0).utcOffset() ||
            this.utcOffset() > this.clone().month(5).utcOffset()
        );
    }

    function isDaylightSavingTimeShifted () {
        if (!isUndefined(this._isDSTShifted)) {
            return this._isDSTShifted;
        }

        var c = {};

        copyConfig(c, this);
        c = prepareConfig(c);

        if (c._a) {
            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
            this._isDSTShifted = this.isValid() &&
                compareArrays(c._a, other.toArray()) > 0;
        } else {
            this._isDSTShifted = false;
        }

        return this._isDSTShifted;
    }

    function isLocal () {
        return this.isValid() ? !this._isUTC : false;
    }

    function isUtcOffset () {
        return this.isValid() ? this._isUTC : false;
    }

    function isUtc () {
        return this.isValid() ? this._isUTC && this._offset === 0 : false;
    }

    // ASP.NET json date format regex
    var aspNetRegex = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;

    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
    // and further modified to allow for strings containing both week and day
    var isoRegex = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;

    function createDuration (input, key) {
        var duration = input,
            // matching against regexp is expensive, do it on demand
            match = null,
            sign,
            ret,
            diffRes;

        if (isDuration(input)) {
            duration = {
                ms : input._milliseconds,
                d  : input._days,
                M  : input._months
            };
        } else if (isNumber(input)) {
            duration = {};
            if (key) {
                duration[key] = input;
            } else {
                duration.milliseconds = input;
            }
        } else if (!!(match = aspNetRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y  : 0,
                d  : toInt(match[DATE])                         * sign,
                h  : toInt(match[HOUR])                         * sign,
                m  : toInt(match[MINUTE])                       * sign,
                s  : toInt(match[SECOND])                       * sign,
                ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match
            };
        } else if (!!(match = isoRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y : parseIso(match[2], sign),
                M : parseIso(match[3], sign),
                w : parseIso(match[4], sign),
                d : parseIso(match[5], sign),
                h : parseIso(match[6], sign),
                m : parseIso(match[7], sign),
                s : parseIso(match[8], sign)
            };
        } else if (duration == null) {// checks for null or undefined
            duration = {};
        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));

            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }

        ret = new Duration(duration);

        if (isDuration(input) && hasOwnProp(input, '_locale')) {
            ret._locale = input._locale;
        }

        return ret;
    }

    createDuration.fn = Duration.prototype;
    createDuration.invalid = createInvalid$1;

    function parseIso (inp, sign) {
        // We'd normally use ~~inp for this, but unfortunately it also
        // converts floats to ints.
        // inp may be undefined, so careful calling replace on it.
        var res = inp && parseFloat(inp.replace(',', '.'));
        // apply sign while we're at it
        return (isNaN(res) ? 0 : res) * sign;
    }

    function positiveMomentsDifference(base, other) {
        var res = {};

        res.months = other.month() - base.month() +
            (other.year() - base.year()) * 12;
        if (base.clone().add(res.months, 'M').isAfter(other)) {
            --res.months;
        }

        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));

        return res;
    }

    function momentsDifference(base, other) {
        var res;
        if (!(base.isValid() && other.isValid())) {
            return {milliseconds: 0, months: 0};
        }

        other = cloneWithOffset(other, base);
        if (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } else {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }

        return res;
    }

    // TODO: remove 'name' arg after deprecation is removed
    function createAdder(direction, name) {
        return function (val, period) {
            var dur, tmp;
            //invert the arguments, but complain about it
            if (period !== null && !isNaN(+period)) {
                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +
                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');
                tmp = val; val = period; period = tmp;
            }

            val = typeof val === 'string' ? +val : val;
            dur = createDuration(val, period);
            addSubtract(this, dur, direction);
            return this;
        };
    }

    function addSubtract (mom, duration, isAdding, updateOffset) {
        var milliseconds = duration._milliseconds,
            days = absRound(duration._days),
            months = absRound(duration._months);

        if (!mom.isValid()) {
            // No op
            return;
        }

        updateOffset = updateOffset == null ? true : updateOffset;

        if (months) {
            setMonth(mom, get(mom, 'Month') + months * isAdding);
        }
        if (days) {
            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
        }
        if (milliseconds) {
            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
        }
        if (updateOffset) {
            hooks.updateOffset(mom, days || months);
        }
    }

    var add      = createAdder(1, 'add');
    var subtract = createAdder(-1, 'subtract');

    function getCalendarFormat(myMoment, now) {
        var diff = myMoment.diff(now, 'days', true);
        return diff < -6 ? 'sameElse' :
                diff < -1 ? 'lastWeek' :
                diff < 0 ? 'lastDay' :
                diff < 1 ? 'sameDay' :
                diff < 2 ? 'nextDay' :
                diff < 7 ? 'nextWeek' : 'sameElse';
    }

    function calendar$1 (time, formats) {
        // We want to compare the start of today, vs this.
        // Getting start-of-today depends on whether we're local/utc/offset or not.
        var now = time || createLocal(),
            sod = cloneWithOffset(now, this).startOf('day'),
            format = hooks.calendarFormat(this, sod) || 'sameElse';

        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);

        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));
    }

    function clone () {
        return new Moment(this);
    }

    function isAfter (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() > localInput.valueOf();
        } else {
            return localInput.valueOf() < this.clone().startOf(units).valueOf();
        }
    }

    function isBefore (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() < localInput.valueOf();
        } else {
            return this.clone().endOf(units).valueOf() < localInput.valueOf();
        }
    }

    function isBetween (from, to, units, inclusivity) {
        var localFrom = isMoment(from) ? from : createLocal(from),
            localTo = isMoment(to) ? to : createLocal(to);
        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {
            return false;
        }
        inclusivity = inclusivity || '()';
        return (inclusivity[0] === '(' ? this.isAfter(localFrom, units) : !this.isBefore(localFrom, units)) &&
            (inclusivity[1] === ')' ? this.isBefore(localTo, units) : !this.isAfter(localTo, units));
    }

    function isSame (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input),
            inputMs;
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() === localInput.valueOf();
        } else {
            inputMs = localInput.valueOf();
            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
        }
    }

    function isSameOrAfter (input, units) {
        return this.isSame(input, units) || this.isAfter(input, units);
    }

    function isSameOrBefore (input, units) {
        return this.isSame(input, units) || this.isBefore(input, units);
    }

    function diff (input, units, asFloat) {
        var that,
            zoneDelta,
            output;

        if (!this.isValid()) {
            return NaN;
        }

        that = cloneWithOffset(input, this);

        if (!that.isValid()) {
            return NaN;
        }

        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;

        units = normalizeUnits(units);

        switch (units) {
            case 'year': output = monthDiff(this, that) / 12; break;
            case 'month': output = monthDiff(this, that); break;
            case 'quarter': output = monthDiff(this, that) / 3; break;
            case 'second': output = (this - that) / 1e3; break; // 1000
            case 'minute': output = (this - that) / 6e4; break; // 1000 * 60
            case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60
            case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst
            case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst
            default: output = this - that;
        }

        return asFloat ? output : absFloor(output);
    }

    function monthDiff (a, b) {
        // difference in months
        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
            // b is in (anchor - 1 month, anchor + 1 month)
            anchor = a.clone().add(wholeMonthDiff, 'months'),
            anchor2, adjust;

        if (b - anchor < 0) {
            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor - anchor2);
        } else {
            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor2 - anchor);
        }

        //check for negative zero, return zero if negative zero
        return -(wholeMonthDiff + adjust) || 0;
    }

    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';

    function toString () {
        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
    }

    function toISOString(keepOffset) {
        if (!this.isValid()) {
            return null;
        }
        var utc = keepOffset !== true;
        var m = utc ? this.clone().utc() : this;
        if (m.year() < 0 || m.year() > 9999) {
            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');
        }
        if (isFunction(Date.prototype.toISOString)) {
            // native implementation is ~50x faster, use it when we can
            if (utc) {
                return this.toDate().toISOString();
            } else {
                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));
            }
        }
        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');
    }

    /**
     * Return a human readable representation of a moment that can
     * also be evaluated to get a new moment which is the same
     *
     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
     */
    function inspect () {
        if (!this.isValid()) {
            return 'moment.invalid(/* ' + this._i + ' */)';
        }
        var func = 'moment';
        var zone = '';
        if (!this.isLocal()) {
            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
            zone = 'Z';
        }
        var prefix = '[' + func + '("]';
        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';
        var datetime = '-MM-DD[T]HH:mm:ss.SSS';
        var suffix = zone + '[")]';

        return this.format(prefix + year + datetime + suffix);
    }

    function format (inputString) {
        if (!inputString) {
            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
        }
        var output = formatMoment(this, inputString);
        return this.localeData().postformat(output);
    }

    function from (time, withoutSuffix) {
        if (this.isValid() &&
                ((isMoment(time) && time.isValid()) ||
                 createLocal(time).isValid())) {
            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function fromNow (withoutSuffix) {
        return this.from(createLocal(), withoutSuffix);
    }

    function to (time, withoutSuffix) {
        if (this.isValid() &&
                ((isMoment(time) && time.isValid()) ||
                 createLocal(time).isValid())) {
            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function toNow (withoutSuffix) {
        return this.to(createLocal(), withoutSuffix);
    }

    // If passed a locale key, it will set the locale for this
    // instance.  Otherwise, it will return the locale configuration
    // variables for this instance.
    function locale (key) {
        var newLocaleData;

        if (key === undefined) {
            return this._locale._abbr;
        } else {
            newLocaleData = getLocale(key);
            if (newLocaleData != null) {
                this._locale = newLocaleData;
            }
            return this;
        }
    }

    var lang = deprecate(
        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
        function (key) {
            if (key === undefined) {
                return this.localeData();
            } else {
                return this.locale(key);
            }
        }
    );

    function localeData () {
        return this._locale;
    }

    var MS_PER_SECOND = 1000;
    var MS_PER_MINUTE = 60 * MS_PER_SECOND;
    var MS_PER_HOUR = 60 * MS_PER_MINUTE;
    var MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;

    // actual modulo - handles negative numbers (for dates before 1970):
    function mod$1(dividend, divisor) {
        return (dividend % divisor + divisor) % divisor;
    }

    function localStartOfDate(y, m, d) {
        // the date constructor remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            return new Date(y + 400, m, d) - MS_PER_400_YEARS;
        } else {
            return new Date(y, m, d).valueOf();
        }
    }

    function utcStartOfDate(y, m, d) {
        // Date.UTC remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;
        } else {
            return Date.UTC(y, m, d);
        }
    }

    function startOf (units) {
        var time;
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond' || !this.isValid()) {
            return this;
        }

        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;

        switch (units) {
            case 'year':
                time = startOfDate(this.year(), 0, 1);
                break;
            case 'quarter':
                time = startOfDate(this.year(), this.month() - this.month() % 3, 1);
                break;
            case 'month':
                time = startOfDate(this.year(), this.month(), 1);
                break;
            case 'week':
                time = startOfDate(this.year(), this.month(), this.date() - this.weekday());
                break;
            case 'isoWeek':
                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));
                break;
            case 'day':
            case 'date':
                time = startOfDate(this.year(), this.month(), this.date());
                break;
            case 'hour':
                time = this._d.valueOf();
                time -= mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR);
                break;
            case 'minute':
                time = this._d.valueOf();
                time -= mod$1(time, MS_PER_MINUTE);
                break;
            case 'second':
                time = this._d.valueOf();
                time -= mod$1(time, MS_PER_SECOND);
                break;
        }

        this._d.setTime(time);
        hooks.updateOffset(this, true);
        return this;
    }

    function endOf (units) {
        var time;
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond' || !this.isValid()) {
            return this;
        }

        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;

        switch (units) {
            case 'year':
                time = startOfDate(this.year() + 1, 0, 1) - 1;
                break;
            case 'quarter':
                time = startOfDate(this.year(), this.month() - this.month() % 3 + 3, 1) - 1;
                break;
            case 'month':
                time = startOfDate(this.year(), this.month() + 1, 1) - 1;
                break;
            case 'week':
                time = startOfDate(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;
                break;
            case 'isoWeek':
                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;
                break;
            case 'day':
            case 'date':
                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;
                break;
            case 'hour':
                time = this._d.valueOf();
                time += MS_PER_HOUR - mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR) - 1;
                break;
            case 'minute':
                time = this._d.valueOf();
                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;
                break;
            case 'second':
                time = this._d.valueOf();
                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;
                break;
        }

        this._d.setTime(time);
        hooks.updateOffset(this, true);
        return this;
    }

    function valueOf () {
        return this._d.valueOf() - ((this._offset || 0) * 60000);
    }

    function unix () {
        return Math.floor(this.valueOf() / 1000);
    }

    function toDate () {
        return new Date(this.valueOf());
    }

    function toArray () {
        var m = this;
        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
    }

    function toObject () {
        var m = this;
        return {
            years: m.year(),
            months: m.month(),
            date: m.date(),
            hours: m.hours(),
            minutes: m.minutes(),
            seconds: m.seconds(),
            milliseconds: m.milliseconds()
        };
    }

    function toJSON () {
        // new Date(NaN).toJSON() === null
        return this.isValid() ? this.toISOString() : null;
    }

    function isValid$2 () {
        return isValid(this);
    }

    function parsingFlags () {
        return extend({}, getParsingFlags(this));
    }

    function invalidAt () {
        return getParsingFlags(this).overflow;
    }

    function creationData() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict
        };
    }

    // FORMATTING

    addFormatToken(0, ['gg', 2], 0, function () {
        return this.weekYear() % 100;
    });

    addFormatToken(0, ['GG', 2], 0, function () {
        return this.isoWeekYear() % 100;
    });

    function addWeekYearFormatToken (token, getter) {
        addFormatToken(0, [token, token.length], 0, getter);
    }

    addWeekYearFormatToken('gggg',     'weekYear');
    addWeekYearFormatToken('ggggg',    'weekYear');
    addWeekYearFormatToken('GGGG',  'isoWeekYear');
    addWeekYearFormatToken('GGGGG', 'isoWeekYear');

    // ALIASES

    addUnitAlias('weekYear', 'gg');
    addUnitAlias('isoWeekYear', 'GG');

    // PRIORITY

    addUnitPriority('weekYear', 1);
    addUnitPriority('isoWeekYear', 1);


    // PARSING

    addRegexToken('G',      matchSigned);
    addRegexToken('g',      matchSigned);
    addRegexToken('GG',     match1to2, match2);
    addRegexToken('gg',     match1to2, match2);
    addRegexToken('GGGG',   match1to4, match4);
    addRegexToken('gggg',   match1to4, match4);
    addRegexToken('GGGGG',  match1to6, match6);
    addRegexToken('ggggg',  match1to6, match6);

    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {
        week[token.substr(0, 2)] = toInt(input);
    });

    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
        week[token] = hooks.parseTwoDigitYear(input);
    });

    // MOMENTS

    function getSetWeekYear (input) {
        return getSetWeekYearHelper.call(this,
                input,
                this.week(),
                this.weekday(),
                this.localeData()._week.dow,
                this.localeData()._week.doy);
    }

    function getSetISOWeekYear (input) {
        return getSetWeekYearHelper.call(this,
                input, this.isoWeek(), this.isoWeekday(), 1, 4);
    }

    function getISOWeeksInYear () {
        return weeksInYear(this.year(), 1, 4);
    }

    function getWeeksInYear () {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
    }

    function getSetWeekYearHelper(input, week, weekday, dow, doy) {
        var weeksTarget;
        if (input == null) {
            return weekOfYear(this, dow, doy).year;
        } else {
            weeksTarget = weeksInYear(input, dow, doy);
            if (week > weeksTarget) {
                week = weeksTarget;
            }
            return setWeekAll.call(this, input, week, weekday, dow, doy);
        }
    }

    function setWeekAll(weekYear, week, weekday, dow, doy) {
        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);

        this.year(date.getUTCFullYear());
        this.month(date.getUTCMonth());
        this.date(date.getUTCDate());
        return this;
    }

    // FORMATTING

    addFormatToken('Q', 0, 'Qo', 'quarter');

    // ALIASES

    addUnitAlias('quarter', 'Q');

    // PRIORITY

    addUnitPriority('quarter', 7);

    // PARSING

    addRegexToken('Q', match1);
    addParseToken('Q', function (input, array) {
        array[MONTH] = (toInt(input) - 1) * 3;
    });

    // MOMENTS

    function getSetQuarter (input) {
        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
    }

    // FORMATTING

    addFormatToken('D', ['DD', 2], 'Do', 'date');

    // ALIASES

    addUnitAlias('date', 'D');

    // PRIORITY
    addUnitPriority('date', 9);

    // PARSING

    addRegexToken('D',  match1to2);
    addRegexToken('DD', match1to2, match2);
    addRegexToken('Do', function (isStrict, locale) {
        // TODO: Remove "ordinalParse" fallback in next major release.
        return isStrict ?
          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :
          locale._dayOfMonthOrdinalParseLenient;
    });

    addParseToken(['D', 'DD'], DATE);
    addParseToken('Do', function (input, array) {
        array[DATE] = toInt(input.match(match1to2)[0]);
    });

    // MOMENTS

    var getSetDayOfMonth = makeGetSet('Date', true);

    // FORMATTING

    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');

    // ALIASES

    addUnitAlias('dayOfYear', 'DDD');

    // PRIORITY
    addUnitPriority('dayOfYear', 4);

    // PARSING

    addRegexToken('DDD',  match1to3);
    addRegexToken('DDDD', match3);
    addParseToken(['DDD', 'DDDD'], function (input, array, config) {
        config._dayOfYear = toInt(input);
    });

    // HELPERS

    // MOMENTS

    function getSetDayOfYear (input) {
        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
    }

    // FORMATTING

    addFormatToken('m', ['mm', 2], 0, 'minute');

    // ALIASES

    addUnitAlias('minute', 'm');

    // PRIORITY

    addUnitPriority('minute', 14);

    // PARSING

    addRegexToken('m',  match1to2);
    addRegexToken('mm', match1to2, match2);
    addParseToken(['m', 'mm'], MINUTE);

    // MOMENTS

    var getSetMinute = makeGetSet('Minutes', false);

    // FORMATTING

    addFormatToken('s', ['ss', 2], 0, 'second');

    // ALIASES

    addUnitAlias('second', 's');

    // PRIORITY

    addUnitPriority('second', 15);

    // PARSING

    addRegexToken('s',  match1to2);
    addRegexToken('ss', match1to2, match2);
    addParseToken(['s', 'ss'], SECOND);

    // MOMENTS

    var getSetSecond = makeGetSet('Seconds', false);

    // FORMATTING

    addFormatToken('S', 0, 0, function () {
        return ~~(this.millisecond() / 100);
    });

    addFormatToken(0, ['SS', 2], 0, function () {
        return ~~(this.millisecond() / 10);
    });

    addFormatToken(0, ['SSS', 3], 0, 'millisecond');
    addFormatToken(0, ['SSSS', 4], 0, function () {
        return this.millisecond() * 10;
    });
    addFormatToken(0, ['SSSSS', 5], 0, function () {
        return this.millisecond() * 100;
    });
    addFormatToken(0, ['SSSSSS', 6], 0, function () {
        return this.millisecond() * 1000;
    });
    addFormatToken(0, ['SSSSSSS', 7], 0, function () {
        return this.millisecond() * 10000;
    });
    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
        return this.millisecond() * 100000;
    });
    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
        return this.millisecond() * 1000000;
    });


    // ALIASES

    addUnitAlias('millisecond', 'ms');

    // PRIORITY

    addUnitPriority('millisecond', 16);

    // PARSING

    addRegexToken('S',    match1to3, match1);
    addRegexToken('SS',   match1to3, match2);
    addRegexToken('SSS',  match1to3, match3);

    var token;
    for (token = 'SSSS'; token.length <= 9; token += 'S') {
        addRegexToken(token, matchUnsigned);
    }

    function parseMs(input, array) {
        array[MILLISECOND] = toInt(('0.' + input) * 1000);
    }

    for (token = 'S'; token.length <= 9; token += 'S') {
        addParseToken(token, parseMs);
    }
    // MOMENTS

    var getSetMillisecond = makeGetSet('Milliseconds', false);

    // FORMATTING

    addFormatToken('z',  0, 0, 'zoneAbbr');
    addFormatToken('zz', 0, 0, 'zoneName');

    // MOMENTS

    function getZoneAbbr () {
        return this._isUTC ? 'UTC' : '';
    }

    function getZoneName () {
        return this._isUTC ? 'Coordinated Universal Time' : '';
    }

    var proto = Moment.prototype;

    proto.add               = add;
    proto.calendar          = calendar$1;
    proto.clone             = clone;
    proto.diff              = diff;
    proto.endOf             = endOf;
    proto.format            = format;
    proto.from              = from;
    proto.fromNow           = fromNow;
    proto.to                = to;
    proto.toNow             = toNow;
    proto.get               = stringGet;
    proto.invalidAt         = invalidAt;
    proto.isAfter           = isAfter;
    proto.isBefore          = isBefore;
    proto.isBetween         = isBetween;
    proto.isSame            = isSame;
    proto.isSameOrAfter     = isSameOrAfter;
    proto.isSameOrBefore    = isSameOrBefore;
    proto.isValid           = isValid$2;
    proto.lang              = lang;
    proto.locale            = locale;
    proto.localeData        = localeData;
    proto.max               = prototypeMax;
    proto.min               = prototypeMin;
    proto.parsingFlags      = parsingFlags;
    proto.set               = stringSet;
    proto.startOf           = startOf;
    proto.subtract          = subtract;
    proto.toArray           = toArray;
    proto.toObject          = toObject;
    proto.toDate            = toDate;
    proto.toISOString       = toISOString;
    proto.inspect           = inspect;
    proto.toJSON            = toJSON;
    proto.toString          = toString;
    proto.unix              = unix;
    proto.valueOf           = valueOf;
    proto.creationData      = creationData;
    proto.year       = getSetYear;
    proto.isLeapYear = getIsLeapYear;
    proto.weekYear    = getSetWeekYear;
    proto.isoWeekYear = getSetISOWeekYear;
    proto.quarter = proto.quarters = getSetQuarter;
    proto.month       = getSetMonth;
    proto.daysInMonth = getDaysInMonth;
    proto.week           = proto.weeks        = getSetWeek;
    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;
    proto.weeksInYear    = getWeeksInYear;
    proto.isoWeeksInYear = getISOWeeksInYear;
    proto.date       = getSetDayOfMonth;
    proto.day        = proto.days             = getSetDayOfWeek;
    proto.weekday    = getSetLocaleDayOfWeek;
    proto.isoWeekday = getSetISODayOfWeek;
    proto.dayOfYear  = getSetDayOfYear;
    proto.hour = proto.hours = getSetHour;
    proto.minute = proto.minutes = getSetMinute;
    proto.second = proto.seconds = getSetSecond;
    proto.millisecond = proto.milliseconds = getSetMillisecond;
    proto.utcOffset            = getSetOffset;
    proto.utc                  = setOffsetToUTC;
    proto.local                = setOffsetToLocal;
    proto.parseZone            = setOffsetToParsedOffset;
    proto.hasAlignedHourOffset = hasAlignedHourOffset;
    proto.isDST                = isDaylightSavingTime;
    proto.isLocal              = isLocal;
    proto.isUtcOffset          = isUtcOffset;
    proto.isUtc                = isUtc;
    proto.isUTC                = isUtc;
    proto.zoneAbbr = getZoneAbbr;
    proto.zoneName = getZoneName;
    proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
    proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);
    proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);
    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);

    function createUnix (input) {
        return createLocal(input * 1000);
    }

    function createInZone () {
        return createLocal.apply(null, arguments).parseZone();
    }

    function preParsePostFormat (string) {
        return string;
    }

    var proto$1 = Locale.prototype;

    proto$1.calendar        = calendar;
    proto$1.longDateFormat  = longDateFormat;
    proto$1.invalidDate     = invalidDate;
    proto$1.ordinal         = ordinal;
    proto$1.preparse        = preParsePostFormat;
    proto$1.postformat      = preParsePostFormat;
    proto$1.relativeTime    = relativeTime;
    proto$1.pastFuture      = pastFuture;
    proto$1.set             = set;

    proto$1.months            =        localeMonths;
    proto$1.monthsShort       =        localeMonthsShort;
    proto$1.monthsParse       =        localeMonthsParse;
    proto$1.monthsRegex       = monthsRegex;
    proto$1.monthsShortRegex  = monthsShortRegex;
    proto$1.week = localeWeek;
    proto$1.firstDayOfYear = localeFirstDayOfYear;
    proto$1.firstDayOfWeek = localeFirstDayOfWeek;

    proto$1.weekdays       =        localeWeekdays;
    proto$1.weekdaysMin    =        localeWeekdaysMin;
    proto$1.weekdaysShort  =        localeWeekdaysShort;
    proto$1.weekdaysParse  =        localeWeekdaysParse;

    proto$1.weekdaysRegex       =        weekdaysRegex;
    proto$1.weekdaysShortRegex  =        weekdaysShortRegex;
    proto$1.weekdaysMinRegex    =        weekdaysMinRegex;

    proto$1.isPM = localeIsPM;
    proto$1.meridiem = localeMeridiem;

    function get$1 (format, index, field, setter) {
        var locale = getLocale();
        var utc = createUTC().set(setter, index);
        return locale[field](utc, format);
    }

    function listMonthsImpl (format, index, field) {
        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';

        if (index != null) {
            return get$1(format, index, field, 'month');
        }

        var i;
        var out = [];
        for (i = 0; i < 12; i++) {
            out[i] = get$1(format, i, field, 'month');
        }
        return out;
    }

    // ()
    // (5)
    // (fmt, 5)
    // (fmt)
    // (true)
    // (true, 5)
    // (true, fmt, 5)
    // (true, fmt)
    function listWeekdaysImpl (localeSorted, format, index, field) {
        if (typeof localeSorted === 'boolean') {
            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        } else {
            format = localeSorted;
            index = format;
            localeSorted = false;

            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        }

        var locale = getLocale(),
            shift = localeSorted ? locale._week.dow : 0;

        if (index != null) {
            return get$1(format, (index + shift) % 7, field, 'day');
        }

        var i;
        var out = [];
        for (i = 0; i < 7; i++) {
            out[i] = get$1(format, (i + shift) % 7, field, 'day');
        }
        return out;
    }

    function listMonths (format, index) {
        return listMonthsImpl(format, index, 'months');
    }

    function listMonthsShort (format, index) {
        return listMonthsImpl(format, index, 'monthsShort');
    }

    function listWeekdays (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
    }

    function listWeekdaysShort (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
    }

    function listWeekdaysMin (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
    }

    getSetGlobalLocale('en', {
        dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (toInt(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });

    // Side effect imports

    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);
    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);

    var mathAbs = Math.abs;

    function abs () {
        var data           = this._data;

        this._milliseconds = mathAbs(this._milliseconds);
        this._days         = mathAbs(this._days);
        this._months       = mathAbs(this._months);

        data.milliseconds  = mathAbs(data.milliseconds);
        data.seconds       = mathAbs(data.seconds);
        data.minutes       = mathAbs(data.minutes);
        data.hours         = mathAbs(data.hours);
        data.months        = mathAbs(data.months);
        data.years         = mathAbs(data.years);

        return this;
    }

    function addSubtract$1 (duration, input, value, direction) {
        var other = createDuration(input, value);

        duration._milliseconds += direction * other._milliseconds;
        duration._days         += direction * other._days;
        duration._months       += direction * other._months;

        return duration._bubble();
    }

    // supports only 2.0-style add(1, 's') or add(duration)
    function add$1 (input, value) {
        return addSubtract$1(this, input, value, 1);
    }

    // supports only 2.0-style subtract(1, 's') or subtract(duration)
    function subtract$1 (input, value) {
        return addSubtract$1(this, input, value, -1);
    }

    function absCeil (number) {
        if (number < 0) {
            return Math.floor(number);
        } else {
            return Math.ceil(number);
        }
    }

    function bubble () {
        var milliseconds = this._milliseconds;
        var days         = this._days;
        var months       = this._months;
        var data         = this._data;
        var seconds, minutes, hours, years, monthsFromDays;

        // if we have a mix of positive and negative values, bubble down first
        // check: https://github.com/moment/moment/issues/2166
        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||
                (milliseconds <= 0 && days <= 0 && months <= 0))) {
            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
            days = 0;
            months = 0;
        }

        // The following code bubbles up values, see the tests for
        // examples of what that means.
        data.milliseconds = milliseconds % 1000;

        seconds           = absFloor(milliseconds / 1000);
        data.seconds      = seconds % 60;

        minutes           = absFloor(seconds / 60);
        data.minutes      = minutes % 60;

        hours             = absFloor(minutes / 60);
        data.hours        = hours % 24;

        days += absFloor(hours / 24);

        // convert days to months
        monthsFromDays = absFloor(daysToMonths(days));
        months += monthsFromDays;
        days -= absCeil(monthsToDays(monthsFromDays));

        // 12 months -> 1 year
        years = absFloor(months / 12);
        months %= 12;

        data.days   = days;
        data.months = months;
        data.years  = years;

        return this;
    }

    function daysToMonths (days) {
        // 400 years have 146097 days (taking into account leap year rules)
        // 400 years have 12 months === 4800
        return days * 4800 / 146097;
    }

    function monthsToDays (months) {
        // the reverse of daysToMonths
        return months * 146097 / 4800;
    }

    function as (units) {
        if (!this.isValid()) {
            return NaN;
        }
        var days;
        var months;
        var milliseconds = this._milliseconds;

        units = normalizeUnits(units);

        if (units === 'month' || units === 'quarter' || units === 'year') {
            days = this._days + milliseconds / 864e5;
            months = this._months + daysToMonths(days);
            switch (units) {
                case 'month':   return months;
                case 'quarter': return months / 3;
                case 'year':    return months / 12;
            }
        } else {
            // handle milliseconds separately because of floating point math errors (issue #1867)
            days = this._days + Math.round(monthsToDays(this._months));
            switch (units) {
                case 'week'   : return days / 7     + milliseconds / 6048e5;
                case 'day'    : return days         + milliseconds / 864e5;
                case 'hour'   : return days * 24    + milliseconds / 36e5;
                case 'minute' : return days * 1440  + milliseconds / 6e4;
                case 'second' : return days * 86400 + milliseconds / 1000;
                // Math.floor prevents floating point math errors here
                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;
                default: throw new Error('Unknown unit ' + units);
            }
        }
    }

    // TODO: Use this.as('ms')?
    function valueOf$1 () {
        if (!this.isValid()) {
            return NaN;
        }
        return (
            this._milliseconds +
            this._days * 864e5 +
            (this._months % 12) * 2592e6 +
            toInt(this._months / 12) * 31536e6
        );
    }

    function makeAs (alias) {
        return function () {
            return this.as(alias);
        };
    }

    var asMilliseconds = makeAs('ms');
    var asSeconds      = makeAs('s');
    var asMinutes      = makeAs('m');
    var asHours        = makeAs('h');
    var asDays         = makeAs('d');
    var asWeeks        = makeAs('w');
    var asMonths       = makeAs('M');
    var asQuarters     = makeAs('Q');
    var asYears        = makeAs('y');

    function clone$1 () {
        return createDuration(this);
    }

    function get$2 (units) {
        units = normalizeUnits(units);
        return this.isValid() ? this[units + 's']() : NaN;
    }

    function makeGetter(name) {
        return function () {
            return this.isValid() ? this._data[name] : NaN;
        };
    }

    var milliseconds = makeGetter('milliseconds');
    var seconds      = makeGetter('seconds');
    var minutes      = makeGetter('minutes');
    var hours        = makeGetter('hours');
    var days         = makeGetter('days');
    var months       = makeGetter('months');
    var years        = makeGetter('years');

    function weeks () {
        return absFloor(this.days() / 7);
    }

    var round = Math.round;
    var thresholds = {
        ss: 44,         // a few seconds to seconds
        s : 45,         // seconds to minute
        m : 45,         // minutes to hour
        h : 22,         // hours to day
        d : 26,         // days to month
        M : 11          // months to year
    };

    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function relativeTime$1 (posNegDuration, withoutSuffix, locale) {
        var duration = createDuration(posNegDuration).abs();
        var seconds  = round(duration.as('s'));
        var minutes  = round(duration.as('m'));
        var hours    = round(duration.as('h'));
        var days     = round(duration.as('d'));
        var months   = round(duration.as('M'));
        var years    = round(duration.as('y'));

        var a = seconds <= thresholds.ss && ['s', seconds]  ||
                seconds < thresholds.s   && ['ss', seconds] ||
                minutes <= 1             && ['m']           ||
                minutes < thresholds.m   && ['mm', minutes] ||
                hours   <= 1             && ['h']           ||
                hours   < thresholds.h   && ['hh', hours]   ||
                days    <= 1             && ['d']           ||
                days    < thresholds.d   && ['dd', days]    ||
                months  <= 1             && ['M']           ||
                months  < thresholds.M   && ['MM', months]  ||
                years   <= 1             && ['y']           || ['yy', years];

        a[2] = withoutSuffix;
        a[3] = +posNegDuration > 0;
        a[4] = locale;
        return substituteTimeAgo.apply(null, a);
    }

    // This function allows you to set the rounding function for relative time strings
    function getSetRelativeTimeRounding (roundingFunction) {
        if (roundingFunction === undefined) {
            return round;
        }
        if (typeof(roundingFunction) === 'function') {
            round = roundingFunction;
            return true;
        }
        return false;
    }

    // This function allows you to set a threshold for relative time strings
    function getSetRelativeTimeThreshold (threshold, limit) {
        if (thresholds[threshold] === undefined) {
            return false;
        }
        if (limit === undefined) {
            return thresholds[threshold];
        }
        thresholds[threshold] = limit;
        if (threshold === 's') {
            thresholds.ss = limit - 1;
        }
        return true;
    }

    function humanize (withSuffix) {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var locale = this.localeData();
        var output = relativeTime$1(this, !withSuffix, locale);

        if (withSuffix) {
            output = locale.pastFuture(+this, output);
        }

        return locale.postformat(output);
    }

    var abs$1 = Math.abs;

    function sign(x) {
        return ((x > 0) - (x < 0)) || +x;
    }

    function toISOString$1() {
        // for ISO strings we do not use the normal bubbling rules:
        //  * milliseconds bubble up until they become hours
        //  * days do not bubble at all
        //  * months bubble up until they become years
        // This is because there is no context-free conversion between hours and days
        // (think of clock changes)
        // and also not between days and months (28-31 days per month)
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var seconds = abs$1(this._milliseconds) / 1000;
        var days         = abs$1(this._days);
        var months       = abs$1(this._months);
        var minutes, hours, years;

        // 3600 seconds -> 60 minutes -> 1 hour
        minutes           = absFloor(seconds / 60);
        hours             = absFloor(minutes / 60);
        seconds %= 60;
        minutes %= 60;

        // 12 months -> 1 year
        years  = absFloor(months / 12);
        months %= 12;


        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
        var Y = years;
        var M = months;
        var D = days;
        var h = hours;
        var m = minutes;
        var s = seconds ? seconds.toFixed(3).replace(/\.?0+$/, '') : '';
        var total = this.asSeconds();

        if (!total) {
            // this is the same as C#'s (Noda) and python (isodate)...
            // but not other JS (goog.date)
            return 'P0D';
        }

        var totalSign = total < 0 ? '-' : '';
        var ymSign = sign(this._months) !== sign(total) ? '-' : '';
        var daysSign = sign(this._days) !== sign(total) ? '-' : '';
        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';

        return totalSign + 'P' +
            (Y ? ymSign + Y + 'Y' : '') +
            (M ? ymSign + M + 'M' : '') +
            (D ? daysSign + D + 'D' : '') +
            ((h || m || s) ? 'T' : '') +
            (h ? hmsSign + h + 'H' : '') +
            (m ? hmsSign + m + 'M' : '') +
            (s ? hmsSign + s + 'S' : '');
    }

    var proto$2 = Duration.prototype;

    proto$2.isValid        = isValid$1;
    proto$2.abs            = abs;
    proto$2.add            = add$1;
    proto$2.subtract       = subtract$1;
    proto$2.as             = as;
    proto$2.asMilliseconds = asMilliseconds;
    proto$2.asSeconds      = asSeconds;
    proto$2.asMinutes      = asMinutes;
    proto$2.asHours        = asHours;
    proto$2.asDays         = asDays;
    proto$2.asWeeks        = asWeeks;
    proto$2.asMonths       = asMonths;
    proto$2.asQuarters     = asQuarters;
    proto$2.asYears        = asYears;
    proto$2.valueOf        = valueOf$1;
    proto$2._bubble        = bubble;
    proto$2.clone          = clone$1;
    proto$2.get            = get$2;
    proto$2.milliseconds   = milliseconds;
    proto$2.seconds        = seconds;
    proto$2.minutes        = minutes;
    proto$2.hours          = hours;
    proto$2.days           = days;
    proto$2.weeks          = weeks;
    proto$2.months         = months;
    proto$2.years          = years;
    proto$2.humanize       = humanize;
    proto$2.toISOString    = toISOString$1;
    proto$2.toString       = toISOString$1;
    proto$2.toJSON         = toISOString$1;
    proto$2.locale         = locale;
    proto$2.localeData     = localeData;

    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);
    proto$2.lang = lang;

    // Side effect imports

    // FORMATTING

    addFormatToken('X', 0, 0, 'unix');
    addFormatToken('x', 0, 0, 'valueOf');

    // PARSING

    addRegexToken('x', matchSigned);
    addRegexToken('X', matchTimestamp);
    addParseToken('X', function (input, array, config) {
        config._d = new Date(parseFloat(input, 10) * 1000);
    });
    addParseToken('x', function (input, array, config) {
        config._d = new Date(toInt(input));
    });

    // Side effect imports


    hooks.version = '2.24.0';

    setHookCallback(createLocal);

    hooks.fn                    = proto;
    hooks.min                   = min;
    hooks.max                   = max;
    hooks.now                   = now;
    hooks.utc                   = createUTC;
    hooks.unix                  = createUnix;
    hooks.months                = listMonths;
    hooks.isDate                = isDate;
    hooks.locale                = getSetGlobalLocale;
    hooks.invalid               = createInvalid;
    hooks.duration              = createDuration;
    hooks.isMoment              = isMoment;
    hooks.weekdays              = listWeekdays;
    hooks.parseZone             = createInZone;
    hooks.localeData            = getLocale;
    hooks.isDuration            = isDuration;
    hooks.monthsShort           = listMonthsShort;
    hooks.weekdaysMin           = listWeekdaysMin;
    hooks.defineLocale          = defineLocale;
    hooks.updateLocale          = updateLocale;
    hooks.locales               = listLocales;
    hooks.weekdaysShort         = listWeekdaysShort;
    hooks.normalizeUnits        = normalizeUnits;
    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;
    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
    hooks.calendarFormat        = getCalendarFormat;
    hooks.prototype             = proto;

    // currently HTML5 input type only supports 24-hour formats
    hooks.HTML5_FMT = {
        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type="datetime-local" />
        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type="datetime-local" step="1" />
        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type="datetime-local" step="0.001" />
        DATE: 'YYYY-MM-DD',                             // <input type="date" />
        TIME: 'HH:mm',                                  // <input type="time" />
        TIME_SECONDS: 'HH:mm:ss',                       // <input type="time" step="1" />
        TIME_MS: 'HH:mm:ss.SSS',                        // <input type="time" step="0.001" />
        WEEK: 'GGGG-[W]WW',                             // <input type="week" />
        MONTH: 'YYYY-MM'                                // <input type="month" />
    };

    return hooks;

})));

},{}],44:[function(require,module,exports){
exports.endianness = function () { return 'LE' };

exports.hostname = function () {
    if (typeof location !== 'undefined') {
        return location.hostname
    }
    else return '';
};

exports.loadavg = function () { return [] };

exports.uptime = function () { return 0 };

exports.freemem = function () {
    return Number.MAX_VALUE;
};

exports.totalmem = function () {
    return Number.MAX_VALUE;
};

exports.cpus = function () { return [] };

exports.type = function () { return 'Browser' };

exports.release = function () {
    if (typeof navigator !== 'undefined') {
        return navigator.appVersion;
    }
    return '';
};

exports.networkInterfaces
= exports.getNetworkInterfaces
= function () { return {} };

exports.arch = function () { return 'javascript' };

exports.platform = function () { return 'browser' };

exports.tmpdir = exports.tmpDir = function () {
    return '/tmp';
};

exports.EOL = '\n';

},{}],45:[function(require,module,exports){
var isarray = require('isarray')

/**
 * Expose `pathToRegexp`.
 */
module.exports = pathToRegexp
module.exports.parse = parse
module.exports.compile = compile
module.exports.tokensToFunction = tokensToFunction
module.exports.tokensToRegExp = tokensToRegExp

/**
 * The main path matching regexp utility.
 *
 * @type {RegExp}
 */
var PATH_REGEXP = new RegExp([
  // Match escaped characters that would otherwise appear in future matches.
  // This allows the user to escape special characters that won't transform.
  '(\\\\.)',
  // Match Express-style parameters and un-named parameters with a prefix
  // and optional suffixes. Matches appear as:
  //
  // "/:test(\\d+)?" => ["/", "test", "\d+", undefined, "?", undefined]
  // "/route(\\d+)"  => [undefined, undefined, undefined, "\d+", undefined, undefined]
  // "/*"            => ["/", undefined, undefined, undefined, undefined, "*"]
  '([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))'
].join('|'), 'g')

/**
 * Parse a string for the raw tokens.
 *
 * @param  {string}  str
 * @param  {Object=} options
 * @return {!Array}
 */
function parse (str, options) {
  var tokens = []
  var key = 0
  var index = 0
  var path = ''
  var defaultDelimiter = options && options.delimiter || '/'
  var res

  while ((res = PATH_REGEXP.exec(str)) != null) {
    var m = res[0]
    var escaped = res[1]
    var offset = res.index
    path += str.slice(index, offset)
    index = offset + m.length

    // Ignore already escaped sequences.
    if (escaped) {
      path += escaped[1]
      continue
    }

    var next = str[index]
    var prefix = res[2]
    var name = res[3]
    var capture = res[4]
    var group = res[5]
    var modifier = res[6]
    var asterisk = res[7]

    // Push the current path onto the tokens.
    if (path) {
      tokens.push(path)
      path = ''
    }

    var partial = prefix != null && next != null && next !== prefix
    var repeat = modifier === '+' || modifier === '*'
    var optional = modifier === '?' || modifier === '*'
    var delimiter = res[2] || defaultDelimiter
    var pattern = capture || group

    tokens.push({
      name: name || key++,
      prefix: prefix || '',
      delimiter: delimiter,
      optional: optional,
      repeat: repeat,
      partial: partial,
      asterisk: !!asterisk,
      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')
    })
  }

  // Match any characters still remaining.
  if (index < str.length) {
    path += str.substr(index)
  }

  // If the path exists, push it onto the end.
  if (path) {
    tokens.push(path)
  }

  return tokens
}

/**
 * Compile a string to a template function for the path.
 *
 * @param  {string}             str
 * @param  {Object=}            options
 * @return {!function(Object=, Object=)}
 */
function compile (str, options) {
  return tokensToFunction(parse(str, options))
}

/**
 * Prettier encoding of URI path segments.
 *
 * @param  {string}
 * @return {string}
 */
function encodeURIComponentPretty (str) {
  return encodeURI(str).replace(/[\/?#]/g, function (c) {
    return '%' + c.charCodeAt(0).toString(16).toUpperCase()
  })
}

/**
 * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.
 *
 * @param  {string}
 * @return {string}
 */
function encodeAsterisk (str) {
  return encodeURI(str).replace(/[?#]/g, function (c) {
    return '%' + c.charCodeAt(0).toString(16).toUpperCase()
  })
}

/**
 * Expose a method for transforming tokens into the path function.
 */
function tokensToFunction (tokens) {
  // Compile all the tokens into regexps.
  var matches = new Array(tokens.length)

  // Compile all the patterns before compilation.
  for (var i = 0; i < tokens.length; i++) {
    if (typeof tokens[i] === 'object') {
      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')
    }
  }

  return function (obj, opts) {
    var path = ''
    var data = obj || {}
    var options = opts || {}
    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent

    for (var i = 0; i < tokens.length; i++) {
      var token = tokens[i]

      if (typeof token === 'string') {
        path += token

        continue
      }

      var value = data[token.name]
      var segment

      if (value == null) {
        if (token.optional) {
          // Prepend partial segment prefixes.
          if (token.partial) {
            path += token.prefix
          }

          continue
        } else {
          throw new TypeError('Expected "' + token.name + '" to be defined')
        }
      }

      if (isarray(value)) {
        if (!token.repeat) {
          throw new TypeError('Expected "' + token.name + '" to not repeat, but received `' + JSON.stringify(value) + '`')
        }

        if (value.length === 0) {
          if (token.optional) {
            continue
          } else {
            throw new TypeError('Expected "' + token.name + '" to not be empty')
          }
        }

        for (var j = 0; j < value.length; j++) {
          segment = encode(value[j])

          if (!matches[i].test(segment)) {
            throw new TypeError('Expected all "' + token.name + '" to match "' + token.pattern + '", but received `' + JSON.stringify(segment) + '`')
          }

          path += (j === 0 ? token.prefix : token.delimiter) + segment
        }

        continue
      }

      segment = token.asterisk ? encodeAsterisk(value) : encode(value)

      if (!matches[i].test(segment)) {
        throw new TypeError('Expected "' + token.name + '" to match "' + token.pattern + '", but received "' + segment + '"')
      }

      path += token.prefix + segment
    }

    return path
  }
}

/**
 * Escape a regular expression string.
 *
 * @param  {string} str
 * @return {string}
 */
function escapeString (str) {
  return str.replace(/([.+*?=^!:${}()[\]|\/\\])/g, '\\$1')
}

/**
 * Escape the capturing group by escaping special characters and meaning.
 *
 * @param  {string} group
 * @return {string}
 */
function escapeGroup (group) {
  return group.replace(/([=!:$\/()])/g, '\\$1')
}

/**
 * Attach the keys as a property of the regexp.
 *
 * @param  {!RegExp} re
 * @param  {Array}   keys
 * @return {!RegExp}
 */
function attachKeys (re, keys) {
  re.keys = keys
  return re
}

/**
 * Get the flags for a regexp from the options.
 *
 * @param  {Object} options
 * @return {string}
 */
function flags (options) {
  return options.sensitive ? '' : 'i'
}

/**
 * Pull out keys from a regexp.
 *
 * @param  {!RegExp} path
 * @param  {!Array}  keys
 * @return {!RegExp}
 */
function regexpToRegexp (path, keys) {
  // Use a negative lookahead to match only capturing groups.
  var groups = path.source.match(/\((?!\?)/g)

  if (groups) {
    for (var i = 0; i < groups.length; i++) {
      keys.push({
        name: i,
        prefix: null,
        delimiter: null,
        optional: false,
        repeat: false,
        partial: false,
        asterisk: false,
        pattern: null
      })
    }
  }

  return attachKeys(path, keys)
}

/**
 * Transform an array into a regexp.
 *
 * @param  {!Array}  path
 * @param  {Array}   keys
 * @param  {!Object} options
 * @return {!RegExp}
 */
function arrayToRegexp (path, keys, options) {
  var parts = []

  for (var i = 0; i < path.length; i++) {
    parts.push(pathToRegexp(path[i], keys, options).source)
  }

  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))

  return attachKeys(regexp, keys)
}

/**
 * Create a path regexp from string input.
 *
 * @param  {string}  path
 * @param  {!Array}  keys
 * @param  {!Object} options
 * @return {!RegExp}
 */
function stringToRegexp (path, keys, options) {
  return tokensToRegExp(parse(path, options), keys, options)
}

/**
 * Expose a function for taking tokens and returning a RegExp.
 *
 * @param  {!Array}          tokens
 * @param  {(Array|Object)=} keys
 * @param  {Object=}         options
 * @return {!RegExp}
 */
function tokensToRegExp (tokens, keys, options) {
  if (!isarray(keys)) {
    options = /** @type {!Object} */ (keys || options)
    keys = []
  }

  options = options || {}

  var strict = options.strict
  var end = options.end !== false
  var route = ''

  // Iterate over the tokens and create our regexp string.
  for (var i = 0; i < tokens.length; i++) {
    var token = tokens[i]

    if (typeof token === 'string') {
      route += escapeString(token)
    } else {
      var prefix = escapeString(token.prefix)
      var capture = '(?:' + token.pattern + ')'

      keys.push(token)

      if (token.repeat) {
        capture += '(?:' + prefix + capture + ')*'
      }

      if (token.optional) {
        if (!token.partial) {
          capture = '(?:' + prefix + '(' + capture + '))?'
        } else {
          capture = prefix + '(' + capture + ')?'
        }
      } else {
        capture = prefix + '(' + capture + ')'
      }

      route += capture
    }
  }

  var delimiter = escapeString(options.delimiter || '/')
  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter

  // In non-strict mode we allow a slash at the end of match. If the path to
  // match already ends with a slash, we remove it for consistency. The slash
  // is valid at the end of a path match, not in the middle. This is important
  // in non-ending mode, where "/test/" shouldn't match "/test//route".
  if (!strict) {
    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'
  }

  if (end) {
    route += '$'
  } else {
    // In non-ending mode, we need the capturing groups to match as much as
    // possible by using a positive lookahead to the end or next path segment.
    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'
  }

  return attachKeys(new RegExp('^' + route, flags(options)), keys)
}

/**
 * Normalize the given path string, returning a regular expression.
 *
 * An empty array can be passed in for the keys, which will hold the
 * placeholder key descriptions. For example, using `/user/:id`, `keys` will
 * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.
 *
 * @param  {(string|RegExp|Array)} path
 * @param  {(Array|Object)=}       keys
 * @param  {Object=}               options
 * @return {!RegExp}
 */
function pathToRegexp (path, keys, options) {
  if (!isarray(keys)) {
    options = /** @type {!Object} */ (keys || options)
    keys = []
  }

  options = options || {}

  if (path instanceof RegExp) {
    return regexpToRegexp(path, /** @type {!Array} */ (keys))
  }

  if (isarray(path)) {
    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)
  }

  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)
}

},{"isarray":42}],46:[function(require,module,exports){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],47:[function(require,module,exports){
(function (process){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

var printWarning = function() {};

if (process.env.NODE_ENV !== 'production') {
  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');
  var loggedTypeFailures = {};
  var has = Function.call.bind(Object.prototype.hasOwnProperty);

  printWarning = function(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };
}

/**
 * Assert that the values match with the type specs.
 * Error messages are memorized and will only be shown once.
 *
 * @param {object} typeSpecs Map of name to a ReactPropType
 * @param {object} values Runtime values that need to be type-checked
 * @param {string} location e.g. "prop", "context", "child context"
 * @param {string} componentName Name of the component for error messages.
 * @param {?Function} getStack Returns the component stack.
 * @private
 */
function checkPropTypes(typeSpecs, values, location, componentName, getStack) {
  if (process.env.NODE_ENV !== 'production') {
    for (var typeSpecName in typeSpecs) {
      if (has(typeSpecs, typeSpecName)) {
        var error;
        // Prop type validation may throw. In case they do, we don't want to
        // fail the render phase where it didn't fail before. So we log it.
        // After these have been cleaned up, we'll let them throw.
        try {
          // This is intentionally an invariant that gets caught. It's the same
          // behavior as without this statement except with a better message.
          if (typeof typeSpecs[typeSpecName] !== 'function') {
            var err = Error(
              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +
              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'
            );
            err.name = 'Invariant Violation';
            throw err;
          }
          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);
        } catch (ex) {
          error = ex;
        }
        if (error && !(error instanceof Error)) {
          printWarning(
            (componentName || 'React class') + ': type specification of ' +
            location + ' `' + typeSpecName + '` is invalid; the type checker ' +
            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +
            'You may have forgotten to pass an argument to the type checker ' +
            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +
            'shape all require an argument).'
          );
        }
        if (error instanceof Error && !(error.message in loggedTypeFailures)) {
          // Only monitor this failure once because there tends to be a lot of the
          // same error.
          loggedTypeFailures[error.message] = true;

          var stack = getStack ? getStack() : '';

          printWarning(
            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')
          );
        }
      }
    }
  }
}

/**
 * Resets warning cache when testing.
 *
 * @private
 */
checkPropTypes.resetWarningCache = function() {
  if (process.env.NODE_ENV !== 'production') {
    loggedTypeFailures = {};
  }
}

module.exports = checkPropTypes;

}).call(this,require('_process'))

},{"./lib/ReactPropTypesSecret":51,"_process":46}],48:[function(require,module,exports){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');

function emptyFunction() {}
function emptyFunctionWithReset() {}
emptyFunctionWithReset.resetWarningCache = emptyFunction;

module.exports = function() {
  function shim(props, propName, componentName, location, propFullName, secret) {
    if (secret === ReactPropTypesSecret) {
      // It is still safe when called from React.
      return;
    }
    var err = new Error(
      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +
      'Use PropTypes.checkPropTypes() to call them. ' +
      'Read more at http://fb.me/use-check-prop-types'
    );
    err.name = 'Invariant Violation';
    throw err;
  };
  shim.isRequired = shim;
  function getShim() {
    return shim;
  };
  // Important!
  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.
  var ReactPropTypes = {
    array: shim,
    bool: shim,
    func: shim,
    number: shim,
    object: shim,
    string: shim,
    symbol: shim,

    any: shim,
    arrayOf: getShim,
    element: shim,
    elementType: shim,
    instanceOf: getShim,
    node: shim,
    objectOf: getShim,
    oneOf: getShim,
    oneOfType: getShim,
    shape: getShim,
    exact: getShim,

    checkPropTypes: emptyFunctionWithReset,
    resetWarningCache: emptyFunction
  };

  ReactPropTypes.PropTypes = ReactPropTypes;

  return ReactPropTypes;
};

},{"./lib/ReactPropTypesSecret":51}],49:[function(require,module,exports){
(function (process){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

var ReactIs = require('react-is');
var assign = require('object-assign');

var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');
var checkPropTypes = require('./checkPropTypes');

var has = Function.call.bind(Object.prototype.hasOwnProperty);
var printWarning = function() {};

if (process.env.NODE_ENV !== 'production') {
  printWarning = function(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };
}

function emptyFunctionThatReturnsNull() {
  return null;
}

module.exports = function(isValidElement, throwOnDirectAccess) {
  /* global Symbol */
  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;
  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.

  /**
   * Returns the iterator method function contained on the iterable object.
   *
   * Be sure to invoke the function with the iterable as context:
   *
   *     var iteratorFn = getIteratorFn(myIterable);
   *     if (iteratorFn) {
   *       var iterator = iteratorFn.call(myIterable);
   *       ...
   *     }
   *
   * @param {?object} maybeIterable
   * @return {?function}
   */
  function getIteratorFn(maybeIterable) {
    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
    if (typeof iteratorFn === 'function') {
      return iteratorFn;
    }
  }

  /**
   * Collection of methods that allow declaration and validation of props that are
   * supplied to React components. Example usage:
   *
   *   var Props = require('ReactPropTypes');
   *   var MyArticle = React.createClass({
   *     propTypes: {
   *       // An optional string prop named "description".
   *       description: Props.string,
   *
   *       // A required enum prop named "category".
   *       category: Props.oneOf(['News','Photos']).isRequired,
   *
   *       // A prop named "dialog" that requires an instance of Dialog.
   *       dialog: Props.instanceOf(Dialog).isRequired
   *     },
   *     render: function() { ... }
   *   });
   *
   * A more formal specification of how these methods are used:
   *
   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)
   *   decl := ReactPropTypes.{type}(.isRequired)?
   *
   * Each and every declaration produces a function with the same signature. This
   * allows the creation of custom validation functions. For example:
   *
   *  var MyLink = React.createClass({
   *    propTypes: {
   *      // An optional string or URI prop named "href".
   *      href: function(props, propName, componentName) {
   *        var propValue = props[propName];
   *        if (propValue != null && typeof propValue !== 'string' &&
   *            !(propValue instanceof URI)) {
   *          return new Error(
   *            'Expected a string or an URI for ' + propName + ' in ' +
   *            componentName
   *          );
   *        }
   *      }
   *    },
   *    render: function() {...}
   *  });
   *
   * @internal
   */

  var ANONYMOUS = '<<anonymous>>';

  // Important!
  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.
  var ReactPropTypes = {
    array: createPrimitiveTypeChecker('array'),
    bool: createPrimitiveTypeChecker('boolean'),
    func: createPrimitiveTypeChecker('function'),
    number: createPrimitiveTypeChecker('number'),
    object: createPrimitiveTypeChecker('object'),
    string: createPrimitiveTypeChecker('string'),
    symbol: createPrimitiveTypeChecker('symbol'),

    any: createAnyTypeChecker(),
    arrayOf: createArrayOfTypeChecker,
    element: createElementTypeChecker(),
    elementType: createElementTypeTypeChecker(),
    instanceOf: createInstanceTypeChecker,
    node: createNodeChecker(),
    objectOf: createObjectOfTypeChecker,
    oneOf: createEnumTypeChecker,
    oneOfType: createUnionTypeChecker,
    shape: createShapeTypeChecker,
    exact: createStrictShapeTypeChecker,
  };

  /**
   * inlined Object.is polyfill to avoid requiring consumers ship their own
   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
   */
  /*eslint-disable no-self-compare*/
  function is(x, y) {
    // SameValue algorithm
    if (x === y) {
      // Steps 1-5, 7-10
      // Steps 6.b-6.e: +0 != -0
      return x !== 0 || 1 / x === 1 / y;
    } else {
      // Step 6.a: NaN == NaN
      return x !== x && y !== y;
    }
  }
  /*eslint-enable no-self-compare*/

  /**
   * We use an Error-like object for backward compatibility as people may call
   * PropTypes directly and inspect their output. However, we don't use real
   * Errors anymore. We don't inspect their stack anyway, and creating them
   * is prohibitively expensive if they are created too often, such as what
   * happens in oneOfType() for any type before the one that matched.
   */
  function PropTypeError(message) {
    this.message = message;
    this.stack = '';
  }
  // Make `instanceof Error` still work for returned errors.
  PropTypeError.prototype = Error.prototype;

  function createChainableTypeChecker(validate) {
    if (process.env.NODE_ENV !== 'production') {
      var manualPropTypeCallCache = {};
      var manualPropTypeWarningCount = 0;
    }
    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {
      componentName = componentName || ANONYMOUS;
      propFullName = propFullName || propName;

      if (secret !== ReactPropTypesSecret) {
        if (throwOnDirectAccess) {
          // New behavior only for users of `prop-types` package
          var err = new Error(
            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +
            'Use `PropTypes.checkPropTypes()` to call them. ' +
            'Read more at http://fb.me/use-check-prop-types'
          );
          err.name = 'Invariant Violation';
          throw err;
        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {
          // Old behavior for people using React.PropTypes
          var cacheKey = componentName + ':' + propName;
          if (
            !manualPropTypeCallCache[cacheKey] &&
            // Avoid spamming the console because they are often not actionable except for lib authors
            manualPropTypeWarningCount < 3
          ) {
            printWarning(
              'You are manually calling a React.PropTypes validation ' +
              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +
              'and will throw in the standalone `prop-types` package. ' +
              'You may be seeing this warning due to a third-party PropTypes ' +
              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'
            );
            manualPropTypeCallCache[cacheKey] = true;
            manualPropTypeWarningCount++;
          }
        }
      }
      if (props[propName] == null) {
        if (isRequired) {
          if (props[propName] === null) {
            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));
          }
          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));
        }
        return null;
      } else {
        return validate(props, propName, componentName, location, propFullName);
      }
    }

    var chainedCheckType = checkType.bind(null, false);
    chainedCheckType.isRequired = checkType.bind(null, true);

    return chainedCheckType;
  }

  function createPrimitiveTypeChecker(expectedType) {
    function validate(props, propName, componentName, location, propFullName, secret) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== expectedType) {
        // `propValue` being instance of, say, date/regexp, pass the 'object'
        // check, but we can offer a more precise error message here rather than
        // 'of type `object`'.
        var preciseType = getPreciseType(propValue);

        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createAnyTypeChecker() {
    return createChainableTypeChecker(emptyFunctionThatReturnsNull);
  }

  function createArrayOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');
      }
      var propValue = props[propName];
      if (!Array.isArray(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));
      }
      for (var i = 0; i < propValue.length; i++) {
        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);
        if (error instanceof Error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createElementTypeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      if (!isValidElement(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createElementTypeTypeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      if (!ReactIs.isValidElementType(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createInstanceTypeChecker(expectedClass) {
    function validate(props, propName, componentName, location, propFullName) {
      if (!(props[propName] instanceof expectedClass)) {
        var expectedClassName = expectedClass.name || ANONYMOUS;
        var actualClassName = getClassName(props[propName]);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createEnumTypeChecker(expectedValues) {
    if (!Array.isArray(expectedValues)) {
      if (process.env.NODE_ENV !== 'production') {
        if (arguments.length > 1) {
          printWarning(
            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +
            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'
          );
        } else {
          printWarning('Invalid argument supplied to oneOf, expected an array.');
        }
      }
      return emptyFunctionThatReturnsNull;
    }

    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      for (var i = 0; i < expectedValues.length; i++) {
        if (is(propValue, expectedValues[i])) {
          return null;
        }
      }

      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {
        var type = getPreciseType(value);
        if (type === 'symbol') {
          return String(value);
        }
        return value;
      });
      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));
    }
    return createChainableTypeChecker(validate);
  }

  function createObjectOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');
      }
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));
      }
      for (var key in propValue) {
        if (has(propValue, key)) {
          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
          if (error instanceof Error) {
            return error;
          }
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createUnionTypeChecker(arrayOfTypeCheckers) {
    if (!Array.isArray(arrayOfTypeCheckers)) {
      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;
      return emptyFunctionThatReturnsNull;
    }

    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
      var checker = arrayOfTypeCheckers[i];
      if (typeof checker !== 'function') {
        printWarning(
          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +
          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'
        );
        return emptyFunctionThatReturnsNull;
      }
    }

    function validate(props, propName, componentName, location, propFullName) {
      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
        var checker = arrayOfTypeCheckers[i];
        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {
          return null;
        }
      }

      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));
    }
    return createChainableTypeChecker(validate);
  }

  function createNodeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      if (!isNode(props[propName])) {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      for (var key in shapeTypes) {
        var checker = shapeTypes[key];
        if (!checker) {
          continue;
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createStrictShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      // We need to check all keys in case some are required but missing from
      // props.
      var allKeys = assign({}, props[propName], shapeTypes);
      for (var key in allKeys) {
        var checker = shapeTypes[key];
        if (!checker) {
          return new PropTypeError(
            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +
            '\nBad object: ' + JSON.stringify(props[propName], null, '  ') +
            '\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')
          );
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }

    return createChainableTypeChecker(validate);
  }

  function isNode(propValue) {
    switch (typeof propValue) {
      case 'number':
      case 'string':
      case 'undefined':
        return true;
      case 'boolean':
        return !propValue;
      case 'object':
        if (Array.isArray(propValue)) {
          return propValue.every(isNode);
        }
        if (propValue === null || isValidElement(propValue)) {
          return true;
        }

        var iteratorFn = getIteratorFn(propValue);
        if (iteratorFn) {
          var iterator = iteratorFn.call(propValue);
          var step;
          if (iteratorFn !== propValue.entries) {
            while (!(step = iterator.next()).done) {
              if (!isNode(step.value)) {
                return false;
              }
            }
          } else {
            // Iterator will provide entry [k,v] tuples rather than values.
            while (!(step = iterator.next()).done) {
              var entry = step.value;
              if (entry) {
                if (!isNode(entry[1])) {
                  return false;
                }
              }
            }
          }
        } else {
          return false;
        }

        return true;
      default:
        return false;
    }
  }

  function isSymbol(propType, propValue) {
    // Native Symbol.
    if (propType === 'symbol') {
      return true;
    }

    // falsy value can't be a Symbol
    if (!propValue) {
      return false;
    }

    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'
    if (propValue['@@toStringTag'] === 'Symbol') {
      return true;
    }

    // Fallback for non-spec compliant Symbols which are polyfilled.
    if (typeof Symbol === 'function' && propValue instanceof Symbol) {
      return true;
    }

    return false;
  }

  // Equivalent of `typeof` but with special handling for array and regexp.
  function getPropType(propValue) {
    var propType = typeof propValue;
    if (Array.isArray(propValue)) {
      return 'array';
    }
    if (propValue instanceof RegExp) {
      // Old webkits (at least until Android 4.0) return 'function' rather than
      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/
      // passes PropTypes.object.
      return 'object';
    }
    if (isSymbol(propType, propValue)) {
      return 'symbol';
    }
    return propType;
  }

  // This handles more types than `getPropType`. Only used for error messages.
  // See `createPrimitiveTypeChecker`.
  function getPreciseType(propValue) {
    if (typeof propValue === 'undefined' || propValue === null) {
      return '' + propValue;
    }
    var propType = getPropType(propValue);
    if (propType === 'object') {
      if (propValue instanceof Date) {
        return 'date';
      } else if (propValue instanceof RegExp) {
        return 'regexp';
      }
    }
    return propType;
  }

  // Returns a string that is postfixed to a warning about an invalid type.
  // For example, "undefined" or "of type array"
  function getPostfixForTypeWarning(value) {
    var type = getPreciseType(value);
    switch (type) {
      case 'array':
      case 'object':
        return 'an ' + type;
      case 'boolean':
      case 'date':
      case 'regexp':
        return 'a ' + type;
      default:
        return type;
    }
  }

  // Returns class name of the object, if any.
  function getClassName(propValue) {
    if (!propValue.constructor || !propValue.constructor.name) {
      return ANONYMOUS;
    }
    return propValue.constructor.name;
  }

  ReactPropTypes.checkPropTypes = checkPropTypes;
  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;
  ReactPropTypes.PropTypes = ReactPropTypes;

  return ReactPropTypes;
};

}).call(this,require('_process'))

},{"./checkPropTypes":47,"./lib/ReactPropTypesSecret":51,"_process":46,"object-assign":52,"react-is":78}],50:[function(require,module,exports){
(function (process){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

if (process.env.NODE_ENV !== 'production') {
  var ReactIs = require('react-is');

  // By explicitly using `prop-types` you are opting into new development behavior.
  // http://fb.me/prop-types-in-prod
  var throwOnDirectAccess = true;
  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);
} else {
  // By explicitly using `prop-types` you are opting into new production behavior.
  // http://fb.me/prop-types-in-prod
  module.exports = require('./factoryWithThrowingShims')();
}

}).call(this,require('_process'))

},{"./factoryWithThrowingShims":48,"./factoryWithTypeCheckers":49,"_process":46,"react-is":78}],51:[function(require,module,exports){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';

module.exports = ReactPropTypesSecret;

},{}],52:[function(require,module,exports){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/

'use strict';
/* eslint-disable no-unused-vars */
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

function shouldUseNative() {
	try {
		if (!Object.assign) {
			return false;
		}

		// Detect buggy property enumeration order in older V8 versions.

		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
		var test1 = new String('abc');  // eslint-disable-line no-new-wrappers
		test1[5] = 'de';
		if (Object.getOwnPropertyNames(test1)[0] === '5') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test2 = {};
		for (var i = 0; i < 10; i++) {
			test2['_' + String.fromCharCode(i)] = i;
		}
		var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
			return test2[n];
		});
		if (order2.join('') !== '0123456789') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test3 = {};
		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
			test3[letter] = letter;
		});
		if (Object.keys(Object.assign({}, test3)).join('') !==
				'abcdefghijklmnopqrst') {
			return false;
		}

		return true;
	} catch (err) {
		// We don't expect any of the above to throw, but better to be safe.
		return false;
	}
}

module.exports = shouldUseNative() ? Object.assign : function (target, source) {
	var from;
	var to = toObject(target);
	var symbols;

	for (var s = 1; s < arguments.length; s++) {
		from = Object(arguments[s]);

		for (var key in from) {
			if (hasOwnProperty.call(from, key)) {
				to[key] = from[key];
			}
		}

		if (getOwnPropertySymbols) {
			symbols = getOwnPropertySymbols(from);
			for (var i = 0; i < symbols.length; i++) {
				if (propIsEnumerable.call(from, symbols[i])) {
					to[symbols[i]] = from[symbols[i]];
				}
			}
		}
	}

	return to;
};

},{}],53:[function(require,module,exports){
// Load modules

var Stringify = require('./stringify');
var Parse = require('./parse');


// Declare internals

var internals = {};


module.exports = {
    stringify: Stringify,
    parse: Parse
};

},{"./parse":54,"./stringify":55}],54:[function(require,module,exports){
// Load modules

var Utils = require('./utils');


// Declare internals

var internals = {
    delimiter: '&',
    depth: 5,
    arrayLimit: 20,
    parameterLimit: 1000,
    strictNullHandling: false,
    plainObjects: false,
    allowPrototypes: false
};


internals.parseValues = function (str, options) {

    var obj = {};
    var parts = str.split(options.delimiter, options.parameterLimit === Infinity ? undefined : options.parameterLimit);

    for (var i = 0, il = parts.length; i < il; ++i) {
        var part = parts[i];
        var pos = part.indexOf(']=') === -1 ? part.indexOf('=') : part.indexOf(']=') + 1;

        if (pos === -1) {
            obj[Utils.decode(part)] = '';

            if (options.strictNullHandling) {
                obj[Utils.decode(part)] = null;
            }
        }
        else {
            var key = Utils.decode(part.slice(0, pos));
            var val = Utils.decode(part.slice(pos + 1));

            if (!Object.prototype.hasOwnProperty.call(obj, key)) {
                obj[key] = val;
            }
            else {
                obj[key] = [].concat(obj[key]).concat(val);
            }
        }
    }

    return obj;
};


internals.parseObject = function (chain, val, options) {

    if (!chain.length) {
        return val;
    }

    var root = chain.shift();

    var obj;
    if (root === '[]') {
        obj = [];
        obj = obj.concat(internals.parseObject(chain, val, options));
    }
    else {
        obj = options.plainObjects ? Object.create(null) : {};
        var cleanRoot = root[0] === '[' && root[root.length - 1] === ']' ? root.slice(1, root.length - 1) : root;
        var index = parseInt(cleanRoot, 10);
        var indexString = '' + index;
        if (!isNaN(index) &&
            root !== cleanRoot &&
            indexString === cleanRoot &&
            index >= 0 &&
            (options.parseArrays &&
             index <= options.arrayLimit)) {

            obj = [];
            obj[index] = internals.parseObject(chain, val, options);
        }
        else {
            obj[cleanRoot] = internals.parseObject(chain, val, options);
        }
    }

    return obj;
};


internals.parseKeys = function (key, val, options) {

    if (!key) {
        return;
    }

    // Transform dot notation to bracket notation

    if (options.allowDots) {
        key = key.replace(/\.([^\.\[]+)/g, '[$1]');
    }

    // The regex chunks

    var parent = /^([^\[\]]*)/;
    var child = /(\[[^\[\]]*\])/g;

    // Get the parent

    var segment = parent.exec(key);

    // Stash the parent if it exists

    var keys = [];
    if (segment[1]) {
        // If we aren't using plain objects, optionally prefix keys
        // that would overwrite object prototype properties
        if (!options.plainObjects &&
            Object.prototype.hasOwnProperty(segment[1])) {

            if (!options.allowPrototypes) {
                return;
            }
        }

        keys.push(segment[1]);
    }

    // Loop through children appending to the array until we hit depth

    var i = 0;
    while ((segment = child.exec(key)) !== null && i < options.depth) {

        ++i;
        if (!options.plainObjects &&
            Object.prototype.hasOwnProperty(segment[1].replace(/\[|\]/g, ''))) {

            if (!options.allowPrototypes) {
                continue;
            }
        }
        keys.push(segment[1]);
    }

    // If there's a remainder, just add whatever is left

    if (segment) {
        keys.push('[' + key.slice(segment.index) + ']');
    }

    return internals.parseObject(keys, val, options);
};


module.exports = function (str, options) {

    options = options || {};
    options.delimiter = typeof options.delimiter === 'string' || Utils.isRegExp(options.delimiter) ? options.delimiter : internals.delimiter;
    options.depth = typeof options.depth === 'number' ? options.depth : internals.depth;
    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : internals.arrayLimit;
    options.parseArrays = options.parseArrays !== false;
    options.allowDots = options.allowDots !== false;
    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : internals.plainObjects;
    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : internals.allowPrototypes;
    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : internals.parameterLimit;
    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : internals.strictNullHandling;

    if (str === '' ||
        str === null ||
        typeof str === 'undefined') {

        return options.plainObjects ? Object.create(null) : {};
    }

    var tempObj = typeof str === 'string' ? internals.parseValues(str, options) : str;
    var obj = options.plainObjects ? Object.create(null) : {};

    // Iterate over the keys and setup the new object

    var keys = Object.keys(tempObj);
    for (var i = 0, il = keys.length; i < il; ++i) {
        var key = keys[i];
        var newObj = internals.parseKeys(key, tempObj[key], options);
        obj = Utils.merge(obj, newObj, options);
    }

    return Utils.compact(obj);
};

},{"./utils":56}],55:[function(require,module,exports){
// Load modules

var Utils = require('./utils');


// Declare internals

var internals = {
    delimiter: '&',
    arrayPrefixGenerators: {
        brackets: function (prefix, key) {

            return prefix + '[]';
        },
        indices: function (prefix, key) {

            return prefix + '[' + key + ']';
        },
        repeat: function (prefix, key) {

            return prefix;
        }
    },
    strictNullHandling: false
};


internals.stringify = function (obj, prefix, generateArrayPrefix, strictNullHandling, filter) {

    if (typeof filter === 'function') {
        obj = filter(prefix, obj);
    }
    else if (Utils.isBuffer(obj)) {
        obj = obj.toString();
    }
    else if (obj instanceof Date) {
        obj = obj.toISOString();
    }
    else if (obj === null) {
        if (strictNullHandling) {
            return Utils.encode(prefix);
        }

        obj = '';
    }

    if (typeof obj === 'string' ||
        typeof obj === 'number' ||
        typeof obj === 'boolean') {

        return [Utils.encode(prefix) + '=' + Utils.encode(obj)];
    }

    var values = [];

    if (typeof obj === 'undefined') {
        return values;
    }

    var objKeys = Array.isArray(filter) ? filter : Object.keys(obj);
    for (var i = 0, il = objKeys.length; i < il; ++i) {
        var key = objKeys[i];

        if (Array.isArray(obj)) {
            values = values.concat(internals.stringify(obj[key], generateArrayPrefix(prefix, key), generateArrayPrefix, strictNullHandling, filter));
        }
        else {
            values = values.concat(internals.stringify(obj[key], prefix + '[' + key + ']', generateArrayPrefix, strictNullHandling, filter));
        }
    }

    return values;
};


module.exports = function (obj, options) {

    options = options || {};
    var delimiter = typeof options.delimiter === 'undefined' ? internals.delimiter : options.delimiter;
    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : internals.strictNullHandling;
    var objKeys;
    var filter;
    if (typeof options.filter === 'function') {
        filter = options.filter;
        obj = filter('', obj);
    }
    else if (Array.isArray(options.filter)) {
        objKeys = filter = options.filter;
    }

    var keys = [];

    if (typeof obj !== 'object' ||
        obj === null) {

        return '';
    }

    var arrayFormat;
    if (options.arrayFormat in internals.arrayPrefixGenerators) {
        arrayFormat = options.arrayFormat;
    }
    else if ('indices' in options) {
        arrayFormat = options.indices ? 'indices' : 'repeat';
    }
    else {
        arrayFormat = 'indices';
    }

    var generateArrayPrefix = internals.arrayPrefixGenerators[arrayFormat];

    if (!objKeys) {
        objKeys = Object.keys(obj);
    }
    for (var i = 0, il = objKeys.length; i < il; ++i) {
        var key = objKeys[i];
        keys = keys.concat(internals.stringify(obj[key], key, generateArrayPrefix, strictNullHandling, filter));
    }

    return keys.join(delimiter);
};

},{"./utils":56}],56:[function(require,module,exports){
// Load modules


// Declare internals

var internals = {};
internals.hexTable = new Array(256);
for (var h = 0; h < 256; ++h) {
    internals.hexTable[h] = '%' + ((h < 16 ? '0' : '') + h.toString(16)).toUpperCase();
}


exports.arrayToObject = function (source, options) {

    var obj = options.plainObjects ? Object.create(null) : {};
    for (var i = 0, il = source.length; i < il; ++i) {
        if (typeof source[i] !== 'undefined') {

            obj[i] = source[i];
        }
    }

    return obj;
};


exports.merge = function (target, source, options) {

    if (!source) {
        return target;
    }

    if (typeof source !== 'object') {
        if (Array.isArray(target)) {
            target.push(source);
        }
        else if (typeof target === 'object') {
            target[source] = true;
        }
        else {
            target = [target, source];
        }

        return target;
    }

    if (typeof target !== 'object') {
        target = [target].concat(source);
        return target;
    }

    if (Array.isArray(target) &&
        !Array.isArray(source)) {

        target = exports.arrayToObject(target, options);
    }

    var keys = Object.keys(source);
    for (var k = 0, kl = keys.length; k < kl; ++k) {
        var key = keys[k];
        var value = source[key];

        if (!Object.prototype.hasOwnProperty.call(target, key)) {
            target[key] = value;
        }
        else {
            target[key] = exports.merge(target[key], value, options);
        }
    }

    return target;
};


exports.decode = function (str) {

    try {
        return decodeURIComponent(str.replace(/\+/g, ' '));
    } catch (e) {
        return str;
    }
};

exports.encode = function (str) {

    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.
    // It has been adapted here for stricter adherence to RFC 3986
    if (str.length === 0) {
        return str;
    }

    if (typeof str !== 'string') {
        str = '' + str;
    }

    var out = '';
    for (var i = 0, il = str.length; i < il; ++i) {
        var c = str.charCodeAt(i);

        if (c === 0x2D || // -
            c === 0x2E || // .
            c === 0x5F || // _
            c === 0x7E || // ~
            (c >= 0x30 && c <= 0x39) || // 0-9
            (c >= 0x41 && c <= 0x5A) || // a-z
            (c >= 0x61 && c <= 0x7A)) { // A-Z

            out += str[i];
            continue;
        }

        if (c < 0x80) {
            out += internals.hexTable[c];
            continue;
        }

        if (c < 0x800) {
            out += internals.hexTable[0xC0 | (c >> 6)] + internals.hexTable[0x80 | (c & 0x3F)];
            continue;
        }

        if (c < 0xD800 || c >= 0xE000) {
            out += internals.hexTable[0xE0 | (c >> 12)] + internals.hexTable[0x80 | ((c >> 6) & 0x3F)] + internals.hexTable[0x80 | (c & 0x3F)];
            continue;
        }

        ++i;
        c = 0x10000 + (((c & 0x3FF) << 10) | (str.charCodeAt(i) & 0x3FF));
        out += internals.hexTable[0xF0 | (c >> 18)] + internals.hexTable[0x80 | ((c >> 12) & 0x3F)] + internals.hexTable[0x80 | ((c >> 6) & 0x3F)] + internals.hexTable[0x80 | (c & 0x3F)];
    }

    return out;
};

exports.compact = function (obj, refs) {

    if (typeof obj !== 'object' ||
        obj === null) {

        return obj;
    }

    refs = refs || [];
    var lookup = refs.indexOf(obj);
    if (lookup !== -1) {
        return refs[lookup];
    }

    refs.push(obj);

    if (Array.isArray(obj)) {
        var compacted = [];

        for (var i = 0, il = obj.length; i < il; ++i) {
            if (typeof obj[i] !== 'undefined') {
                compacted.push(obj[i]);
            }
        }

        return compacted;
    }

    var keys = Object.keys(obj);
    for (i = 0, il = keys.length; i < il; ++i) {
        var key = keys[i];
        obj[key] = exports.compact(obj[key], refs);
    }

    return obj;
};


exports.isRegExp = function (obj) {

    return Object.prototype.toString.call(obj) === '[object RegExp]';
};


exports.isBuffer = function (obj) {

    if (obj === null ||
        typeof obj === 'undefined') {

        return false;
    }

    return !!(obj.constructor &&
              obj.constructor.isBuffer &&
              obj.constructor.isBuffer(obj));
};

},{}],57:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var CountUp = _interopDefault(require('countup.js'));
var PropTypes = _interopDefault(require('prop-types'));
var React = require('react');
var React__default = _interopDefault(React);
var warning = _interopDefault(require('warning'));

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _possibleConstructorReturn(self, call) {
  if (call && (typeof call === "object" || typeof call === "function")) {
    return call;
  }

  return _assertThisInitialized(self);
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

function _iterableToArrayLimit(arr, i) {
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance");
}

var createCountUpInstance = function createCountUpInstance(el, props) {
  var decimal = props.decimal,
      decimals = props.decimals,
      duration = props.duration,
      easingFn = props.easingFn,
      end = props.end,
      formattingFn = props.formattingFn,
      prefix = props.prefix,
      separator = props.separator,
      start = props.start,
      suffix = props.suffix,
      useEasing = props.useEasing;
  return new CountUp(el, start, end, decimals, duration, {
    decimal: decimal,
    easingFn: easingFn,
    formattingFn: formattingFn,
    separator: separator,
    prefix: prefix,
    suffix: suffix,
    useEasing: useEasing,
    useGrouping: !!separator
  });
};

var CountUp$1 =
/*#__PURE__*/
function (_Component) {
  _inherits(CountUp$$1, _Component);

  function CountUp$$1() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, CountUp$$1);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CountUp$$1)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), "createInstance", function () {
      if (typeof _this.props.children === 'function') {
        // Warn when user didn't use containerRef at all
        warning(_this.containerRef.current && (_this.containerRef.current instanceof HTMLElement || _this.containerRef.current instanceof SVGTextElement), "Couldn't find attached element to hook the CountUp instance into! Try to attach \"containerRef\" from the render prop to a an HTMLElement, eg. <span ref={containerRef} />.");
      }

      return createCountUpInstance(_this.containerRef.current, _this.props);
    });

    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), "pauseResume", function () {
      var _assertThisInitialize = _assertThisInitialized(_assertThisInitialized(_this)),
          reset = _assertThisInitialize.reset,
          start = _assertThisInitialize.restart,
          update = _assertThisInitialize.update;

      var onPauseResume = _this.props.onPauseResume;

      _this.instance.pauseResume();

      onPauseResume({
        reset: reset,
        start: start,
        update: update
      });
    });

    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), "reset", function () {
      var _assertThisInitialize2 = _assertThisInitialized(_assertThisInitialized(_this)),
          pauseResume = _assertThisInitialize2.pauseResume,
          start = _assertThisInitialize2.restart,
          update = _assertThisInitialize2.update;

      var onReset = _this.props.onReset;

      _this.instance.reset();

      onReset({
        pauseResume: pauseResume,
        start: start,
        update: update
      });
    });

    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), "restart", function () {
      _this.reset();

      _this.start();
    });

    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), "start", function () {
      var _assertThisInitialize3 = _assertThisInitialized(_assertThisInitialized(_this)),
          pauseResume = _assertThisInitialize3.pauseResume,
          reset = _assertThisInitialize3.reset,
          start = _assertThisInitialize3.restart,
          update = _assertThisInitialize3.update;

      var _this$props = _this.props,
          delay = _this$props.delay,
          onEnd = _this$props.onEnd,
          onStart = _this$props.onStart;

      var run = function run() {
        return _this.instance.start(function () {
          return onEnd({
            pauseResume: pauseResume,
            reset: reset,
            start: start,
            update: update
          });
        });
      }; // Delay start if delay prop is properly set


      if (delay > 0) {
        _this.timeoutId = setTimeout(run, delay * 1000);
      } else {
        run();
      }

      onStart({
        pauseResume: pauseResume,
        reset: reset,
        update: update
      });
    });

    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), "update", function (newEnd) {
      var _assertThisInitialize4 = _assertThisInitialized(_assertThisInitialized(_this)),
          pauseResume = _assertThisInitialize4.pauseResume,
          reset = _assertThisInitialize4.reset,
          start = _assertThisInitialize4.restart;

      var onUpdate = _this.props.onUpdate;

      _this.instance.update(newEnd);

      onUpdate({
        pauseResume: pauseResume,
        reset: reset,
        start: start
      });
    });

    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), "containerRef", React__default.createRef());

    return _this;
  }

  _createClass(CountUp$$1, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this$props2 = this.props,
          children = _this$props2.children,
          delay = _this$props2.delay;
      this.instance = this.createInstance(); // Don't invoke start if component is used as a render prop

      if (typeof children === 'function' && delay !== 0) return; // Otherwise just start immediately

      this.start();
    }
  }, {
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate(nextProps) {
      var hasCertainPropsChanged = this.props.duration !== nextProps.duration || this.props.end !== nextProps.end || this.props.start !== nextProps.start;
      return hasCertainPropsChanged || this.props.redraw;
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      // If duration or start has changed, there's no way to update the duration
      // or start value. So we need to re-create the CountUp instance in order to
      // restart it.
      if (this.props.duration !== prevProps.duration || this.props.start !== prevProps.start) {
        this.instance = this.createInstance();
        this.start();
      } // Only end value has changed, so reset and and re-animate with the updated
      // end value.


      if (this.props.end !== prevProps.end) {
        this.instance.reset();
        this.instance.update(this.props.end);
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this.timeoutId) {
        clearTimeout(this.timeoutId);
      }

      this.instance.reset();
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props3 = this.props,
          children = _this$props3.children,
          className = _this$props3.className,
          style = _this$props3.style;
      var containerRef = this.containerRef,
          pauseResume = this.pauseResume,
          reset = this.reset,
          restart = this.restart,
          update = this.update;

      if (typeof children === 'function') {
        return children({
          countUpRef: containerRef,
          pauseResume: pauseResume,
          reset: reset,
          start: restart,
          update: update
        });
      }

      return React__default.createElement("span", {
        className: className,
        ref: containerRef,
        style: style
      });
    }
  }]);

  return CountUp$$1;
}(React.Component);

_defineProperty(CountUp$1, "propTypes", {
  decimal: PropTypes.string,
  decimals: PropTypes.number,
  delay: PropTypes.number,
  easingFn: PropTypes.func,
  end: PropTypes.number.isRequired,
  formattingFn: PropTypes.func,
  onEnd: PropTypes.func,
  onStart: PropTypes.func,
  prefix: PropTypes.string,
  redraw: PropTypes.bool,
  separator: PropTypes.string,
  start: PropTypes.number,
  suffix: PropTypes.string,
  style: PropTypes.object,
  useEasing: PropTypes.bool
});

_defineProperty(CountUp$1, "defaultProps", {
  decimal: '.',
  decimals: 0,
  delay: null,
  duration: null,
  easingFn: null,
  formattingFn: null,
  onEnd: function onEnd() {},
  onPauseResume: function onPauseResume() {},
  onReset: function onReset() {},
  onStart: function onStart() {},
  onUpdate: function onUpdate() {},
  prefix: '',
  redraw: false,
  separator: '',
  start: 0,
  suffix: '',
  style: undefined,
  useEasing: true
});

// since it only checks for truthy values -1 is enough to mock an element.

var NO_ELEMENT = -1;

var useCountUp = function useCountUp(props) {
  var _props = _objectSpread({}, CountUp$1.defaultProps, props);

  var start = _props.start,
      formattingFn = _props.formattingFn;

  var _useState = React.useState(typeof formattingFn === 'function' ? formattingFn(start) : start),
      _useState2 = _slicedToArray(_useState, 2),
      count = _useState2[0],
      setCount = _useState2[1];

  var countUpRef = React.useRef(null);

  var createInstance = function createInstance() {
    var countUp = createCountUpInstance(NO_ELEMENT, _props);
    var formattingFnRef = countUp.options.formattingFn;

    countUp.options.formattingFn = function () {
      var result = formattingFnRef.apply(void 0, arguments);
      setCount(result);
    };

    return countUp;
  };

  var getCountUp = function getCountUp() {
    var countUp = countUpRef.current;

    if (countUp !== null) {
      return countUp;
    }

    var newCountUp = createInstance();
    countUpRef.current = newCountUp;
    return newCountUp;
  };

  var reset = function reset() {
    var onReset = _props.onReset;
    getCountUp().reset();
    onReset({
      pauseResume: pauseResume,
      start: restart,
      update: update
    });
  };

  var restart = function restart() {
    var onStart = _props.onStart,
        onEnd = _props.onEnd;
    getCountUp().reset();
    getCountUp().start(function () {
      onEnd({
        pauseResume: pauseResume,
        reset: reset,
        start: restart,
        update: update
      });
    });
    onStart({
      pauseResume: pauseResume,
      reset: reset,
      update: update
    });
  };

  var pauseResume = function pauseResume() {
    var onPauseResume = _props.onPauseResume;
    getCountUp().pauseResume();
    onPauseResume({
      reset: reset,
      start: restart,
      update: update
    });
  };

  var update = function update(newEnd) {
    var onUpdate = _props.onUpdate;
    getCountUp().update(newEnd);
    onUpdate({
      pauseResume: pauseResume,
      reset: reset,
      start: restart
    });
  };

  React.useEffect(function () {
    var delay = _props.delay,
        onStart = _props.onStart,
        onEnd = _props.onEnd;
    var timeout = setTimeout(function () {
      onStart({
        pauseResume: pauseResume,
        reset: reset,
        update: update
      });
      getCountUp().start(function () {
        clearTimeout(timeout);
        onEnd({
          pauseResume: pauseResume,
          reset: reset,
          start: restart,
          update: update
        });
      });
    }, delay * 1000);
    return reset;
  }, []);
  return {
    countUp: count,
    start: restart,
    pauseResume: pauseResume,
    reset: reset,
    update: update
  };
};

exports.default = CountUp$1;
exports.useCountUp = useCountUp;

},{"countup.js":35,"prop-types":50,"react":undefined,"warning":58}],58:[function(require,module,exports){
(function (process){
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

/**
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical
 * paths. Removing the logging code for production environments will keep the
 * same logic and follow the same code paths.
 */

var __DEV__ = process.env.NODE_ENV !== 'production';

var warning = function() {};

if (__DEV__) {
  var printWarning = function printWarning(format, args) {
    var len = arguments.length;
    args = new Array(len > 1 ? len - 1 : 0);
    for (var key = 1; key < len; key++) {
      args[key - 1] = arguments[key];
    }
    var argIndex = 0;
    var message = 'Warning: ' +
      format.replace(/%s/g, function() {
        return args[argIndex++];
      });
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  }

  warning = function(condition, format, args) {
    var len = arguments.length;
    args = new Array(len > 2 ? len - 2 : 0);
    for (var key = 2; key < len; key++) {
      args[key - 2] = arguments[key];
    }
    if (format === undefined) {
      throw new Error(
          '`warning(condition, format, ...args)` requires a warning ' +
          'message argument'
      );
    }
    if (!condition) {
      printWarning.apply(null, [format].concat(args));
    }
  };
}

module.exports = warning;

}).call(this,require('_process'))

},{"_process":46}],59:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _utils = require('./utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var propTypes = {
  thousandSeparator: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.oneOf([true])]),
  thousandSpacing: _propTypes2.default.oneOf(['2', '2s', '3', '4']),
  decimalSeparator: _propTypes2.default.string,
  decimalScale: _propTypes2.default.number,
  fixedDecimalScale: _propTypes2.default.bool,
  displayType: _propTypes2.default.oneOf(['input', 'text']),
  prefix: _propTypes2.default.string,
  suffix: _propTypes2.default.string,
  format: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]),
  removeFormatting: _propTypes2.default.func,
  mask: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.arrayOf(_propTypes2.default.string)]),
  value: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),
  isNumericString: _propTypes2.default.bool,
  customInput: _propTypes2.default.func,
  allowNegative: _propTypes2.default.bool,
  onValueChange: _propTypes2.default.func,
  onKeyDown: _propTypes2.default.func,
  onMouseUp: _propTypes2.default.func,
  onChange: _propTypes2.default.func,
  onFocus: _propTypes2.default.func,
  onBlur: _propTypes2.default.func,
  type: _propTypes2.default.oneOf(['text', 'tel']),
  isAllowed: _propTypes2.default.func,
  renderText: _propTypes2.default.func
};

var defaultProps = {
  displayType: 'input',
  decimalSeparator: '.',
  thousandSpacing: '3',
  fixedDecimalScale: false,
  prefix: '',
  suffix: '',
  allowNegative: true,
  isNumericString: false,
  type: 'text',
  onValueChange: _utils.noop,
  onChange: _utils.noop,
  onKeyDown: _utils.noop,
  onMouseUp: _utils.noop,
  onFocus: _utils.noop,
  onBlur: _utils.noop,
  isAllowed: _utils.returnTrue
};

var CurrencyFormat = function (_React$Component) {
  _inherits(CurrencyFormat, _React$Component);

  function CurrencyFormat(props) {
    _classCallCheck(this, CurrencyFormat);

    //validate props
    var _this = _possibleConstructorReturn(this, (CurrencyFormat.__proto__ || Object.getPrototypeOf(CurrencyFormat)).call(this, props));

    _this.validateProps();

    var formattedValue = _this.formatValueProp();

    _this.state = {
      value: formattedValue,
      numAsString: _this.removeFormatting(formattedValue)
    };

    _this.onChange = _this.onChange.bind(_this);
    _this.onKeyDown = _this.onKeyDown.bind(_this);
    _this.onMouseUp = _this.onMouseUp.bind(_this);
    _this.onFocus = _this.onFocus.bind(_this);
    _this.onBlur = _this.onBlur.bind(_this);
    return _this;
  }

  _createClass(CurrencyFormat, [{
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps) {
      this.updateValueIfRequired(prevProps);
    }
  }, {
    key: 'updateValueIfRequired',
    value: function updateValueIfRequired(prevProps) {
      var props = this.props,
          state = this.state;


      if (prevProps !== props) {
        //validate props
        this.validateProps();

        var stateValue = state.value;

        var lastNumStr = state.numAsString || '';

        var formattedValue = props.value === undefined ? this.formatNumString(lastNumStr) : this.formatValueProp();

        if (formattedValue !== stateValue) {
          this.setState({
            value: formattedValue,
            numAsString: this.removeFormatting(formattedValue)
          });
        }
      }
    }

    /** Misc methods **/

  }, {
    key: 'getFloatString',
    value: function getFloatString() {
      var num = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';

      var _getSeparators = this.getSeparators(),
          decimalSeparator = _getSeparators.decimalSeparator;

      var numRegex = this.getNumberRegex(true);

      //remove negation for regex check
      var hasNegation = num[0] === '-';
      if (hasNegation) num = num.replace('-', '');

      num = (num.match(numRegex) || []).join('').replace(decimalSeparator, '.');

      //remove extra decimals
      var firstDecimalIndex = num.indexOf('.');

      if (firstDecimalIndex !== -1) {
        num = num.substring(0, firstDecimalIndex) + '.' + num.substring(firstDecimalIndex + 1, num.length).replace(new RegExp((0, _utils.escapeRegExp)(decimalSeparator), 'g'), '');
      }

      //add negation back
      if (hasNegation) num = '-' + num;

      return num;
    }

    //returned regex assumes decimalSeparator is as per prop

  }, {
    key: 'getNumberRegex',
    value: function getNumberRegex(g, ignoreDecimalSeparator) {
      var _props = this.props,
          format = _props.format,
          decimalScale = _props.decimalScale;

      var _getSeparators2 = this.getSeparators(),
          decimalSeparator = _getSeparators2.decimalSeparator;

      return new RegExp('\\d' + (decimalSeparator && decimalScale !== 0 && !ignoreDecimalSeparator && !format ? '|' + (0, _utils.escapeRegExp)(decimalSeparator) : ''), g ? 'g' : undefined);
    }
  }, {
    key: 'getSeparators',
    value: function getSeparators() {
      var _props2 = this.props,
          decimalSeparator = _props2.decimalSeparator,
          thousandSpacing = _props2.thousandSpacing;
      var thousandSeparator = this.props.thousandSeparator;


      if (thousandSeparator === true) {
        thousandSeparator = ',';
      }

      return {
        decimalSeparator: decimalSeparator,
        thousandSeparator: thousandSeparator,
        thousandSpacing: thousandSpacing
      };
    }
  }, {
    key: 'getMaskAtIndex',
    value: function getMaskAtIndex(index) {
      var _props$mask = this.props.mask,
          mask = _props$mask === undefined ? ' ' : _props$mask;

      if (typeof mask === 'string') {
        return mask;
      }

      return mask[index] || ' ';
    }
  }, {
    key: 'validateProps',
    value: function validateProps() {
      var mask = this.props.mask;

      //validate decimalSeparator and thousandSeparator

      var _getSeparators3 = this.getSeparators(),
          decimalSeparator = _getSeparators3.decimalSeparator,
          thousandSeparator = _getSeparators3.thousandSeparator;

      if (decimalSeparator === thousandSeparator) {
        throw new Error('\n          Decimal separator can\'t be same as thousand separator.\n\n          thousandSeparator: ' + thousandSeparator + ' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: ' + decimalSeparator + ' (default value for decimalSeparator is .)\n       ');
      }

      //validate mask
      if (mask) {
        var maskAsStr = mask === 'string' ? mask : mask.toString();
        if (maskAsStr.match(/\d/g)) {
          throw new Error('\n          Mask ' + mask + ' should not contain numeric character;\n        ');
        }
      }
    }
  }, {
    key: 'splitDecimal',
    value: function splitDecimal(numStr) {
      var allowNegative = this.props.allowNegative;

      var hasNagation = numStr[0] === '-';
      var addNegation = hasNagation && allowNegative;
      numStr = numStr.replace('-', '');

      var parts = numStr.split('.');
      var beforeDecimal = parts[0];
      var afterDecimal = parts[1] || '';

      return {
        beforeDecimal: beforeDecimal,
        afterDecimal: afterDecimal,
        hasNagation: hasNagation,
        addNegation: addNegation
      };
    }

    /** Misc methods end **/

    /** caret specific methods **/

  }, {
    key: 'setPatchedCaretPosition',
    value: function setPatchedCaretPosition(el, caretPos, currentValue) {
      /* setting caret position within timeout of 0ms is required for mobile chrome,
      otherwise browser resets the caret position after we set it
      We are also setting it without timeout so that in normal browser we don't see the flickering */
      (0, _utils.setCaretPosition)(el, caretPos);
      setTimeout(function () {
        if (el.value === currentValue) (0, _utils.setCaretPosition)(el, caretPos);
      }, 0);
    }

    /* This keeps the caret within typing area so people can't type in between prefix or suffix */

  }, {
    key: 'correctCaretPosition',
    value: function correctCaretPosition(value, caretPos, direction) {
      var _props3 = this.props,
          prefix = _props3.prefix,
          suffix = _props3.suffix,
          format = _props3.format;

      //in case of format as number limit between prefix and suffix

      if (!format) {
        var hasNegation = value[0] === '-';
        return Math.min(Math.max(caretPos, prefix.length + (hasNegation ? 1 : 0)), value.length - suffix.length);
      }

      //in case if custom format method don't do anything
      if (typeof format === 'function') return caretPos;

      /* in case format is string find the closest # position from the caret position */

      //in case the caretPos have input value on it don't do anything
      if (format[caretPos] === '#' && (0, _utils.charIsNumber)(value[caretPos])) return caretPos;

      //if caretPos is just after input value don't do anything
      if (format[caretPos - 1] === '#' && (0, _utils.charIsNumber)(value[caretPos - 1])) return caretPos;

      //find the nearest caret position
      var firstHashPosition = format.indexOf('#');
      var lastHashPosition = format.lastIndexOf('#');

      //limit the cursor between the first # position and the last # position
      caretPos = Math.min(Math.max(caretPos, firstHashPosition), lastHashPosition + 1);

      var nextPos = format.substring(caretPos, format.length).indexOf('#');
      var caretLeftBound = caretPos;
      var caretRightBoud = caretPos + (nextPos === -1 ? 0 : nextPos);

      //get the position where the last number is present
      while (caretLeftBound > firstHashPosition && (format[caretLeftBound] !== '#' || !(0, _utils.charIsNumber)(value[caretLeftBound]))) {
        caretLeftBound -= 1;
      }

      var goToLeft = !(0, _utils.charIsNumber)(value[caretRightBoud]) || direction === 'left' && caretPos !== firstHashPosition || caretPos - caretLeftBound < caretRightBoud - caretPos;

      return goToLeft ? caretLeftBound + 1 : caretRightBoud;
    }
  }, {
    key: 'getCaretPosition',
    value: function getCaretPosition(inputValue, formattedValue, caretPos) {
      var format = this.props.format;

      var stateValue = this.state.value;
      var numRegex = this.getNumberRegex(true);
      var inputNumber = (inputValue.match(numRegex) || []).join('');
      var formattedNumber = (formattedValue.match(numRegex) || []).join('');
      var j = void 0,
          i = void 0;

      j = 0;

      for (i = 0; i < caretPos; i++) {
        var currentInputChar = inputValue[i] || '';
        var currentFormatChar = formattedValue[j] || '';
        //no need to increase new cursor position if formatted value does not have those characters
        //case inputValue = 1a23 and formattedValue =  123
        if (!currentInputChar.match(numRegex) && currentInputChar !== currentFormatChar) continue;

        //When we are striping out leading zeros maintain the new cursor position
        //Case inputValue = 00023 and formattedValue = 23;
        if (currentInputChar === '0' && currentFormatChar.match(numRegex) && currentFormatChar !== '0' && inputNumber.length !== formattedNumber.length) continue;

        //we are not using currentFormatChar because j can change here
        while (currentInputChar !== formattedValue[j] && j < formattedValue.length) {
          j++;
        }j++;
      }

      if (typeof format === 'string' && !stateValue) {
        //set it to the maximum value so it goes after the last number
        j = formattedValue.length;
      }

      //correct caret position if its outside of editable area
      j = this.correctCaretPosition(formattedValue, j);

      return j;
    }
    /** caret specific methods ends **/

    /** methods to remove formattting **/

  }, {
    key: 'removePrefixAndSuffix',
    value: function removePrefixAndSuffix(val) {
      var _props4 = this.props,
          format = _props4.format,
          prefix = _props4.prefix,
          suffix = _props4.suffix;

      //remove prefix and suffix

      if (!format && val) {
        var isNegative = val[0] === '-';

        //remove negation sign
        if (isNegative) val = val.substring(1, val.length);

        //remove prefix
        val = prefix && val.indexOf(prefix) === 0 ? val.substring(prefix.length, val.length) : val;

        //remove suffix
        var suffixLastIndex = val.lastIndexOf(suffix);
        val = suffix && suffixLastIndex !== -1 && suffixLastIndex === val.length - suffix.length ? val.substring(0, suffixLastIndex) : val;

        //add negation sign back
        if (isNegative) val = '-' + val;
      }

      return val;
    }
  }, {
    key: 'removePatternFormatting',
    value: function removePatternFormatting(val) {
      var format = this.props.format;

      var formatArray = format.split('#').filter(function (str) {
        return str !== '';
      });
      var start = 0;
      var numStr = '';

      for (var i = 0, ln = formatArray.length; i <= ln; i++) {
        var part = formatArray[i] || '';

        //if i is the last fragment take the index of end of the value
        //For case like +1 (911) 911 91 91 having pattern +1 (###) ### ## ##
        var index = i === ln ? val.length : val.indexOf(part, start);

        /* in any case if we don't find the pattern part in the value assume the val as numeric string
        This will be also in case if user has started typing, in any other case it will not be -1
        unless wrong prop value is provided */
        if (index === -1) {
          numStr = val;
          break;
        } else {
          numStr += val.substring(start, index);
          start = index + part.length;
        }
      }

      return (numStr.match(/\d/g) || []).join('');
    }
  }, {
    key: 'removeFormatting',
    value: function removeFormatting(val) {
      var _props5 = this.props,
          format = _props5.format,
          removeFormatting = _props5.removeFormatting;

      if (!val) return val;

      if (!format) {
        val = this.removePrefixAndSuffix(val);
        val = this.getFloatString(val);
      } else if (typeof format === 'string') {
        val = this.removePatternFormatting(val);
      } else if (typeof removeFormatting === 'function') {
        //condition need to be handled if format method is provide,
        val = removeFormatting(val);
      } else {
        val = (val.match(/\d/g) || []).join('');
      }
      return val;
    }
    /** methods to remove formattting end **/

    /*** format specific methods start ***/
    /**
     * Format when # based string is provided
     * @param  {string} numStr Numeric String
     * @return {string}        formatted Value
     */

  }, {
    key: 'formatWithPattern',
    value: function formatWithPattern(numStr) {
      var format = this.props.format;

      var hashCount = 0;
      var formattedNumberAry = format.split('');
      for (var i = 0, ln = format.length; i < ln; i++) {
        if (format[i] === '#') {
          formattedNumberAry[i] = numStr[hashCount] || this.getMaskAtIndex(hashCount);
          hashCount += 1;
        }
      }
      return formattedNumberAry.join('');
    }
    /**
     * Format the given string according to thousand separator and thousand spacing
     * @param {*} beforeDecimal 
     * @param {*} thousandSeparator 
     * @param {*} thousandSpacing 
     */

  }, {
    key: 'formatThousand',
    value: function formatThousand(beforeDecimal, thousandSeparator, thousandSpacing) {
      var digitalGroup = void 0;
      switch (thousandSpacing) {
        case _utils.thousandGroupSpacing.two:
          digitalGroup = /(\d)(?=(\d{2})+(?!\d))/g;
          break;
        case _utils.thousandGroupSpacing.twoScaled:
          digitalGroup = /(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;
          break;
        case _utils.thousandGroupSpacing.four:
          digitalGroup = /(\d)(?=(\d{4})+(?!\d))/g;
          break;
        default:
          digitalGroup = /(\d)(?=(\d{3})+(?!\d))/g;
      }

      return beforeDecimal.replace(digitalGroup, '$1' + thousandSeparator);
    }
    /**
     * @param  {string} numStr Numeric string/floatString] It always have decimalSeparator as .
     * @return {string} formatted Value
     */

  }, {
    key: 'formatAsNumber',
    value: function formatAsNumber(numStr) {
      var _props6 = this.props,
          decimalScale = _props6.decimalScale,
          fixedDecimalScale = _props6.fixedDecimalScale,
          prefix = _props6.prefix,
          suffix = _props6.suffix;

      var _getSeparators4 = this.getSeparators(),
          thousandSeparator = _getSeparators4.thousandSeparator,
          decimalSeparator = _getSeparators4.decimalSeparator,
          thousandSpacing = _getSeparators4.thousandSpacing;

      var hasDecimalSeparator = numStr.indexOf('.') !== -1 || decimalScale && fixedDecimalScale;

      var _splitDecimal = this.splitDecimal(numStr),
          beforeDecimal = _splitDecimal.beforeDecimal,
          afterDecimal = _splitDecimal.afterDecimal,
          addNegation = _splitDecimal.addNegation; // eslint-disable-line prefer-const

      //apply decimal precision if its defined


      if (decimalScale !== undefined) afterDecimal = (0, _utils.limitToScale)(afterDecimal, decimalScale, fixedDecimalScale);

      if (thousandSeparator) {
        beforeDecimal = this.formatThousand(beforeDecimal, thousandSeparator, thousandSpacing);
      }

      //add prefix and suffix
      if (prefix) beforeDecimal = prefix + beforeDecimal;
      if (suffix) afterDecimal = afterDecimal + suffix;

      //restore negation sign
      if (addNegation) beforeDecimal = '-' + beforeDecimal;

      numStr = beforeDecimal + (hasDecimalSeparator && decimalSeparator || '') + afterDecimal;

      return numStr;
    }
  }, {
    key: 'formatNumString',
    value: function formatNumString() {
      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
      var format = this.props.format;

      var formattedValue = value;

      if (value === '') {
        formattedValue = '';
      } else if (value === '-' && !format) {
        formattedValue = '-';
        value = '';
      } else if (typeof format === 'string') {
        formattedValue = this.formatWithPattern(formattedValue);
      } else if (typeof format === 'function') {
        formattedValue = format(formattedValue);
      } else {
        formattedValue = this.formatAsNumber(formattedValue);
      }

      return formattedValue;
    }
  }, {
    key: 'formatValueProp',
    value: function formatValueProp() {
      var _props7 = this.props,
          format = _props7.format,
          decimalScale = _props7.decimalScale,
          fixedDecimalScale = _props7.fixedDecimalScale;
      var _props8 = this.props,
          value = _props8.value,
          isNumericString = _props8.isNumericString;

      // if value is not defined return empty string

      if (value === undefined) return '';

      if (typeof value === 'number') {
        value = value.toString();
        isNumericString = true;
      }

      //round the number based on decimalScale
      //format only if non formatted value is provided
      if (isNumericString && !format && typeof decimalScale === 'number') {
        value = (0, _utils.roundToPrecision)(value, decimalScale, fixedDecimalScale);
      }

      var formattedValue = isNumericString ? this.formatNumString(value) : this.formatInput(value);

      return formattedValue;
    }
  }, {
    key: 'formatNegation',
    value: function formatNegation() {
      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
      var allowNegative = this.props.allowNegative;

      var negationRegex = new RegExp('(-)');
      var doubleNegationRegex = new RegExp('(-)(.)*(-)');

      // Check number has '-' value
      var hasNegation = negationRegex.test(value);

      // Check number has 2 or more '-' values
      var removeNegation = doubleNegationRegex.test(value);

      //remove negation
      value = value.replace(/-/g, '');

      if (hasNegation && !removeNegation && allowNegative) {
        value = '-' + value;
      }

      return value;
    }
  }, {
    key: 'formatInput',
    value: function formatInput() {
      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
      var format = this.props.format;

      //format negation only if we are formatting as number

      if (!format) {
        value = this.formatNegation(value);
      }

      //remove formatting from number
      value = this.removeFormatting(value);

      return this.formatNumString(value);
    }

    /*** format specific methods end ***/

  }, {
    key: 'isCharacterAFormat',
    value: function isCharacterAFormat(caretPos, value) {
      var _props9 = this.props,
          format = _props9.format,
          prefix = _props9.prefix,
          suffix = _props9.suffix,
          decimalScale = _props9.decimalScale,
          fixedDecimalScale = _props9.fixedDecimalScale;

      var _getSeparators5 = this.getSeparators(),
          decimalSeparator = _getSeparators5.decimalSeparator;

      //check within format pattern


      if (typeof format === 'string' && format[caretPos] !== '#') return true;

      //check in number format
      if (!format && (caretPos < prefix.length || caretPos >= value.length - suffix.length || decimalScale && fixedDecimalScale && value[caretPos] === decimalSeparator)) {
        return true;
      }

      return false;
    }
  }, {
    key: 'checkIfFormatGotDeleted',
    value: function checkIfFormatGotDeleted(start, end, value) {
      for (var i = start; i < end; i++) {
        if (this.isCharacterAFormat(i, value)) return true;
      }
      return false;
    }

    /**
     * This will check if any formatting got removed by the delete or backspace and reset the value
     * It will also work as fallback if android chome keyDown handler does not work
     **/

  }, {
    key: 'correctInputValue',
    value: function correctInputValue(caretPos, lastValue, value) {
      var format = this.props.format;

      var lastNumStr = this.state.numAsString || '';

      //don't do anyhting if something got added, or if value is empty string (when whole input is cleared)
      if (value.length >= lastValue.length || !value.length) {
        return value;
      }

      var start = caretPos;
      var lastValueParts = (0, _utils.splitString)(lastValue, caretPos);
      var newValueParts = (0, _utils.splitString)(value, caretPos);
      var deletedIndex = lastValueParts[1].lastIndexOf(newValueParts[1]);
      var diff = deletedIndex !== -1 ? lastValueParts[1].substring(0, deletedIndex) : '';
      var end = start + diff.length;

      //if format got deleted reset the value to last value
      if (this.checkIfFormatGotDeleted(start, end, lastValue)) {
        value = lastValue;
      }

      //for numbers check if beforeDecimal got deleted and there is nothing after decimal,
      //clear all numbers in such case while keeping the - sign
      if (!format) {
        var numericString = this.removeFormatting(value);

        var _splitDecimal2 = this.splitDecimal(numericString),
            beforeDecimal = _splitDecimal2.beforeDecimal,
            afterDecimal = _splitDecimal2.afterDecimal,
            addNegation = _splitDecimal2.addNegation; // eslint-disable-line prefer-const

        //clear only if something got deleted


        if (numericString.length < lastNumStr.length && beforeDecimal === '' && !parseFloat(afterDecimal)) {
          return addNegation ? '-' : '';
        }
      }

      return value;
    }
  }, {
    key: 'onChange',
    value: function onChange(e) {
      e.persist();
      var el = e.target;
      var inputValue = el.value;
      var state = this.state,
          props = this.props;
      var isAllowed = props.isAllowed;

      var lastValue = state.value || '';

      /*Max of selectionStart and selectionEnd is taken for the patch of pixel and other mobile device caret bug*/
      var currentCaretPosition = Math.max(el.selectionStart, el.selectionEnd);

      inputValue = this.correctInputValue(currentCaretPosition, lastValue, inputValue);

      var formattedValue = this.formatInput(inputValue) || '';
      var numAsString = this.removeFormatting(formattedValue);

      var valueObj = {
        formattedValue: formattedValue,
        value: numAsString,
        floatValue: parseFloat(numAsString)
      };

      if (!isAllowed(valueObj)) {
        formattedValue = lastValue;
      }

      //set the value imperatively, this is required for IE fix
      el.value = formattedValue;

      //get the caret position
      var caretPos = this.getCaretPosition(inputValue, formattedValue, currentCaretPosition);

      //set caret position
      this.setPatchedCaretPosition(el, caretPos, formattedValue);

      //change the state
      if (formattedValue !== lastValue) {
        this.setState({ value: formattedValue, numAsString: numAsString }, function () {
          props.onValueChange(valueObj);
          props.onChange(e);
        });
      } else {
        props.onChange(e);
      }
    }
  }, {
    key: 'onBlur',
    value: function onBlur(e) {
      var props = this.props,
          state = this.state;
      var format = props.format,
          onBlur = props.onBlur;
      var numAsString = state.numAsString;

      var lastValue = state.value;
      if (!format) {
        numAsString = (0, _utils.fixLeadingZero)(numAsString);
        var formattedValue = this.formatNumString(numAsString);
        var valueObj = {
          formattedValue: formattedValue,
          value: numAsString,
          floatValue: parseFloat(numAsString)
        };

        //change the state
        if (formattedValue !== lastValue) {
          // the event needs to be persisted because its properties can be accessed in an asynchronous way
          e.persist();
          this.setState({ value: formattedValue, numAsString: numAsString }, function () {
            props.onValueChange(valueObj);
            onBlur(e);
          });
          return;
        }
      }
      onBlur(e);
    }
  }, {
    key: 'onKeyDown',
    value: function onKeyDown(e) {
      var el = e.target;
      var key = e.key;
      var selectionEnd = el.selectionEnd,
          value = el.value;
      var selectionStart = el.selectionStart;

      var expectedCaretPosition = void 0;
      var _props10 = this.props,
          decimalScale = _props10.decimalScale,
          fixedDecimalScale = _props10.fixedDecimalScale,
          prefix = _props10.prefix,
          suffix = _props10.suffix,
          format = _props10.format,
          onKeyDown = _props10.onKeyDown;

      var ignoreDecimalSeparator = decimalScale !== undefined && fixedDecimalScale;
      var numRegex = this.getNumberRegex(false, ignoreDecimalSeparator);
      var negativeRegex = new RegExp('-');
      var isPatternFormat = typeof format === 'string';

      //Handle backspace and delete against non numerical/decimal characters or arrow keys
      if (key === 'ArrowLeft' || key === 'Backspace') {
        expectedCaretPosition = selectionStart - 1;
      } else if (key === 'ArrowRight') {
        expectedCaretPosition = selectionStart + 1;
      } else if (key === 'Delete') {
        expectedCaretPosition = selectionStart;
      }

      //if expectedCaretPosition is not set it means we don't want to Handle keyDown
      //also if multiple characters are selected don't handle
      if (expectedCaretPosition === undefined || selectionStart !== selectionEnd) {
        onKeyDown(e);
        return;
      }

      var newCaretPosition = expectedCaretPosition;
      var leftBound = isPatternFormat ? format.indexOf('#') : prefix.length;
      var rightBound = isPatternFormat ? format.lastIndexOf('#') + 1 : value.length - suffix.length;

      if (key === 'ArrowLeft' || key === 'ArrowRight') {
        var direction = key === 'ArrowLeft' ? 'left' : 'right';
        newCaretPosition = this.correctCaretPosition(value, expectedCaretPosition, direction);
      } else if (key === 'Delete' && !numRegex.test(value[expectedCaretPosition]) && !negativeRegex.test(value[expectedCaretPosition])) {
        while (!numRegex.test(value[newCaretPosition]) && newCaretPosition < rightBound) {
          newCaretPosition++;
        }
      } else if (key === 'Backspace' && !numRegex.test(value[expectedCaretPosition]) && !negativeRegex.test(value[expectedCaretPosition])) {
        while (!numRegex.test(value[newCaretPosition - 1]) && newCaretPosition > leftBound) {
          newCaretPosition--;
        }
        newCaretPosition = this.correctCaretPosition(value, newCaretPosition, 'left');
      }

      if (newCaretPosition !== expectedCaretPosition || expectedCaretPosition < leftBound || expectedCaretPosition > rightBound) {
        e.preventDefault();
        this.setPatchedCaretPosition(el, newCaretPosition, value);
      }

      /* NOTE: this is just required for unit test as we need to get the newCaretPosition,
              Remove this when you find different solution */
      if (e.isUnitTestRun) {
        this.setPatchedCaretPosition(el, newCaretPosition, value);
      }

      this.props.onKeyDown(e);
    }

    /** required to handle the caret position when click anywhere within the input **/

  }, {
    key: 'onMouseUp',
    value: function onMouseUp(e) {
      var el = e.target;
      var selectionStart = el.selectionStart,
          selectionEnd = el.selectionEnd,
          value = el.value;


      if (selectionStart === selectionEnd) {
        var caretPostion = this.correctCaretPosition(value, selectionStart);
        if (caretPostion !== selectionStart) {
          this.setPatchedCaretPosition(el, caretPostion, value);
        }
      }

      this.props.onMouseUp(e);
    }
  }, {
    key: 'onFocus',
    value: function onFocus(e) {
      var _this2 = this;

      // Workaround Chrome and Safari bug https://bugs.chromium.org/p/chromium/issues/detail?id=779328
      // (onFocus event target selectionStart is always 0 before setTimeout)
      e.persist();
      setTimeout(function () {
        var el = e.target;
        var selectionStart = el.selectionStart,
            value = el.value;


        var caretPosition = _this2.correctCaretPosition(value, selectionStart);
        if (caretPosition !== selectionStart) {
          _this2.setPatchedCaretPosition(el, caretPosition, value);
        }

        _this2.props.onFocus(e);
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _props11 = this.props,
          type = _props11.type,
          displayType = _props11.displayType,
          customInput = _props11.customInput,
          renderText = _props11.renderText;
      var value = this.state.value;


      var otherProps = (0, _utils.omit)(this.props, propTypes);

      var inputProps = _extends({}, otherProps, {
        type: type,
        value: value,
        onChange: this.onChange,
        onKeyDown: this.onKeyDown,
        onMouseUp: this.onMouseUp,
        onFocus: this.onFocus,
        onBlur: this.onBlur
      });

      if (displayType === 'text') {
        return renderText ? renderText(value) || null : _react2.default.createElement(
          'span',
          otherProps,
          value
        );
      } else if (customInput) {
        var CustomInput = customInput;
        return _react2.default.createElement(CustomInput, inputProps);
      }

      return _react2.default.createElement('input', inputProps);
    }
  }]);

  return CurrencyFormat;
}(_react2.default.Component);

CurrencyFormat.propTypes = propTypes;
CurrencyFormat.defaultProps = defaultProps;

module.exports = CurrencyFormat;
},{"./utils":60,"prop-types":50,"react":undefined}],60:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.noop = noop;
exports.returnTrue = returnTrue;
exports.charIsNumber = charIsNumber;
exports.escapeRegExp = escapeRegExp;
exports.fixLeadingZero = fixLeadingZero;
exports.splitString = splitString;
exports.limitToScale = limitToScale;
exports.roundToPrecision = roundToPrecision;
exports.omit = omit;
exports.setCaretPosition = setCaretPosition;


// basic noop function
function noop() {}
function returnTrue() {
  return true;
}

function charIsNumber(char) {
  return !!(char || '').match(/\d/);
}

function escapeRegExp(str) {
  return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
}

function fixLeadingZero(numStr) {
  if (!numStr) return numStr;
  var isNegative = numStr[0] === '-';
  if (isNegative) numStr = numStr.substring(1, numStr.length);
  var parts = numStr.split('.');
  var beforeDecimal = parts[0].replace(/^0+/, '') || '0';
  var afterDecimal = parts[1] || '';

  return '' + (isNegative ? '-' : '') + beforeDecimal + (afterDecimal ? '.' + afterDecimal : '');
}

function splitString(str, index) {
  return [str.substring(0, index), str.substring(index)];
}

/**
 * limit decimal numbers to given scale
 * Not used .fixedTo because that will break with big numbers
 */
function limitToScale(numStr, scale, fixedDecimalScale) {
  var str = '';
  var filler = fixedDecimalScale ? '0' : '';
  for (var i = 0; i <= scale - 1; i++) {
    str += numStr[i] || filler;
  }
  return str;
}

/**
 * This method is required to round prop value to given scale.
 * Not used .round or .fixedTo because that will break with big numbers
 */
function roundToPrecision(numStr, scale, fixedDecimalScale) {
  var numberParts = numStr.split('.');
  var roundedDecimalParts = parseFloat('0.' + (numberParts[1] || '0')).toFixed(scale).split('.');
  var intPart = numberParts[0].split('').reverse().reduce(function (roundedStr, current, idx) {
    if (roundedStr.length > idx) {
      return (Number(roundedStr[0]) + Number(current)).toString() + roundedStr.substring(1, roundedStr.length);
    }
    return current + roundedStr;
  }, roundedDecimalParts[0]);

  var decimalPart = limitToScale(roundedDecimalParts[1] || '', (numberParts[1] || '').length, fixedDecimalScale);

  return intPart + (decimalPart ? '.' + decimalPart : '');
}

function omit(obj, keyMaps) {
  var filteredObj = {};
  Object.keys(obj).forEach(function (key) {
    if (!keyMaps[key]) filteredObj[key] = obj[key];
  });
  return filteredObj;
}

/** set the caret positon in an input field **/
function setCaretPosition(el, caretPos) {
  el.value = el.value;
  // ^ this is used to not only get "focus", but
  // to make sure we don't have it everything -selected-
  // (it causes an issue in chrome, and having it doesn't hurt any other browser)
  if (el !== null) {
    if (el.createTextRange) {
      var range = el.createTextRange();
      range.move('character', caretPos);
      range.select();
      return true;
    }
    // (el.selectionStart === 0 added for Firefox bug)
    if (el.selectionStart || el.selectionStart === 0) {
      el.focus();
      el.setSelectionRange(caretPos, caretPos);
      return true;
    }

    // fail city, fortunately this never happens (as far as I've tested) :)
    el.focus();
    return false;
  }
}

var thousandGroupSpacing = exports.thousandGroupSpacing = {
  two: '2',
  twoScaled: '2s',
  three: '3',
  four: '4'
};
},{}],61:[function(require,module,exports){
/*
  Used as main file in package.json
*/

/* eslint-disable no-var */
/* eslint-env node */

var DayPicker = require('./lib/src/DayPicker');
var DateUtils = require('./lib/src/DateUtils');
var LocaleUtils = require('./lib/src/LocaleUtils');
var ModifiersUtils = require('./lib/src/ModifiersUtils');
var Weekday = require('./lib/src/Weekday');
var Navbar = require('./lib/src/Navbar');
var PropTypes = require('./lib/src/PropTypes');

module.exports = DayPicker;
module.exports.DateUtils = DateUtils;
module.exports.LocaleUtils = LocaleUtils;
module.exports.ModifiersUtils = ModifiersUtils;
module.exports.WeekdayPropTypes = Weekday.propTypes;
module.exports.NavbarPropTypes = Navbar.propTypes;
module.exports.PropTypes = PropTypes;

},{"./lib/src/DateUtils":63,"./lib/src/DayPicker":65,"./lib/src/LocaleUtils":67,"./lib/src/ModifiersUtils":68,"./lib/src/Navbar":70,"./lib/src/PropTypes":71,"./lib/src/Weekday":72}],62:[function(require,module,exports){
(function (process){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _LocaleUtils = require('./LocaleUtils');

var _LocaleUtils2 = _interopRequireDefault(_LocaleUtils);

var _keys = require('./keys');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Caption = function (_Component) {
  _inherits(Caption, _Component);

  function Caption(props) {
    _classCallCheck(this, Caption);

    var _this = _possibleConstructorReturn(this, (Caption.__proto__ || Object.getPrototypeOf(Caption)).call(this, props));

    _this.handleKeyUp = _this.handleKeyUp.bind(_this);
    return _this;
  }

  _createClass(Caption, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      return nextProps.locale !== this.props.locale || nextProps.classNames !== this.props.classNames || nextProps.date.getMonth() !== this.props.date.getMonth() || nextProps.date.getFullYear() !== this.props.date.getFullYear();
    }
  }, {
    key: 'handleKeyUp',
    value: function handleKeyUp(e) {
      if (e.keyCode === _keys.ENTER) {
        this.props.onClick(e);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          classNames = _props.classNames,
          date = _props.date,
          months = _props.months,
          locale = _props.locale,
          localeUtils = _props.localeUtils,
          onClick = _props.onClick;

      return _react2.default.createElement(
        'div',
        { className: classNames.caption, role: 'heading' },
        _react2.default.createElement(
          'div',
          { onClick: onClick, onKeyUp: this.handleKeyUp },
          months ? months[date.getMonth()] + ' ' + date.getFullYear() : localeUtils.formatMonthTitle(date, locale)
        )
      );
    }
  }]);

  return Caption;
}(_react.Component);

Caption.defaultProps = {
  localeUtils: _LocaleUtils2.default
};
exports.default = Caption;
Caption.propTypes = process.env.NODE_ENV !== "production" ? {
  date: _propTypes2.default.instanceOf(Date),
  months: _propTypes2.default.arrayOf(_propTypes2.default.string),
  locale: _propTypes2.default.string,
  localeUtils: _propTypes2.default.object,
  onClick: _propTypes2.default.func,
  classNames: _propTypes2.default.shape({
    caption: _propTypes2.default.string.isRequired
  }).isRequired
} : {};

}).call(this,require('_process'))

},{"./LocaleUtils":67,"./keys":75,"_process":46,"prop-types":50,"react":undefined}],63:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clone = clone;
exports.isDate = isDate;
exports.addMonths = addMonths;
exports.isSameDay = isSameDay;
exports.isSameMonth = isSameMonth;
exports.isDayBefore = isDayBefore;
exports.isDayAfter = isDayAfter;
exports.isPastDay = isPastDay;
exports.isFutureDay = isFutureDay;
exports.isDayBetween = isDayBetween;
exports.addDayToRange = addDayToRange;
exports.isDayInRange = isDayInRange;
exports.getWeekNumber = getWeekNumber;
/**
 * Clone a date object.
 *
 * @export
 * @param  {Date} d The date to clone
 * @return {Date} The cloned date
 */
function clone(d) {
  return new Date(d.getTime());
}

/**
 * Return `true` if the passed value is a valid JavaScript Date object.
 *
 * @export
 * @param {any} value
 * @returns {Boolean}
 */
function isDate(value) {
  return value instanceof Date && !isNaN(value.valueOf());
}

/**
 * Return `d` as a new date with `n` months added.
 *
 * @export
 * @param {[type]} d
 * @param {[type]} n
 */
function addMonths(d, n) {
  var newDate = clone(d);
  newDate.setMonth(d.getMonth() + n);
  return newDate;
}

/**
 * Return `true` if two dates are the same day, ignoring the time.
 *
 * @export
 * @param  {Date}  d1
 * @param  {Date}  d2
 * @return {Boolean}
 */
function isSameDay(d1, d2) {
  if (!d1 || !d2) {
    return false;
  }
  return d1.getDate() === d2.getDate() && d1.getMonth() === d2.getMonth() && d1.getFullYear() === d2.getFullYear();
}

/**
 * Return `true` if two dates fall in the same month.
 *
 * @export
 * @param  {Date}  d1
 * @param  {Date}  d2
 * @return {Boolean}
 */
function isSameMonth(d1, d2) {
  if (!d1 || !d2) {
    return false;
  }
  return d1.getMonth() === d2.getMonth() && d1.getFullYear() === d2.getFullYear();
}

/**
 * Returns `true` if the first day is before the second day.
 *
 * @export
 * @param {Date} d1
 * @param {Date} d2
 * @returns {Boolean}
 */
function isDayBefore(d1, d2) {
  var day1 = clone(d1).setHours(0, 0, 0, 0);
  var day2 = clone(d2).setHours(0, 0, 0, 0);
  return day1 < day2;
}

/**
 * Returns `true` if the first day is after the second day.
 *
 * @export
 * @param {Date} d1
 * @param {Date} d2
 * @returns {Boolean}
 */
function isDayAfter(d1, d2) {
  var day1 = clone(d1).setHours(0, 0, 0, 0);
  var day2 = clone(d2).setHours(0, 0, 0, 0);
  return day1 > day2;
}

/**
 * Return `true` if a day is in the past, e.g. yesterday or any day
 * before yesterday.
 *
 * @export
 * @param  {Date}  d
 * @return {Boolean}
 */
function isPastDay(d) {
  var today = new Date();
  today.setHours(0, 0, 0, 0);
  return isDayBefore(d, today);
}

/**
 * Return `true` if a day is in the future, e.g. tomorrow or any day
 * after tomorrow.
 *
 * @export
 * @param  {Date}  d
 * @return {Boolean}
 */
function isFutureDay(d) {
  var tomorrow = new Date(new Date().getTime() + 24 * 60 * 60 * 1000);
  tomorrow.setHours(0, 0, 0, 0);
  return d >= tomorrow;
}

/**
 * Return `true` if day `d` is between days `d1` and `d2`,
 * without including them.
 *
 * @export
 * @param  {Date}  d
 * @param  {Date}  d1
 * @param  {Date}  d2
 * @return {Boolean}
 */
function isDayBetween(d, d1, d2) {
  var date = clone(d);
  date.setHours(0, 0, 0, 0);
  return isDayAfter(date, d1) && isDayBefore(date, d2) || isDayAfter(date, d2) && isDayBefore(date, d1);
}

/**
 * Add a day to a range and return a new range. A range is an object with
 * `from` and `to` days.
 *
 * @export
 * @param {Date} day
 * @param {Object} range
 * @return {Object} Returns a new range object
 */
function addDayToRange(day) {
  var range = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { from: null, to: null };
  var from = range.from,
      to = range.to;

  if (!from) {
    from = day;
  } else if (from && to && isSameDay(from, to) && isSameDay(day, from)) {
    from = null;
    to = null;
  } else if (to && isDayBefore(day, from)) {
    from = day;
  } else if (to && isSameDay(day, to)) {
    from = day;
    to = day;
  } else {
    to = day;
    if (isDayBefore(to, from)) {
      to = from;
      from = day;
    }
  }

  return { from: from, to: to };
}

/**
 * Return `true` if a day is included in a range of days.
 *
 * @export
 * @param  {Date}  day
 * @param  {Object}  range
 * @return {Boolean}
 */
function isDayInRange(day, range) {
  var from = range.from,
      to = range.to;

  return from && isSameDay(day, from) || to && isSameDay(day, to) || from && to && isDayBetween(day, from, to);
}

/**
 * Return the year's week number (as per ISO, i.e. with the week starting from monday)
 * for the given day.
 *
 * @export
 * @param {Date} day
 * @returns {Number}
 */
function getWeekNumber(day) {
  var date = clone(day);
  date.setHours(0, 0, 0);
  date.setDate(date.getDate() + 4 - (date.getDay() || 7));
  return Math.ceil(((date - new Date(date.getFullYear(), 0, 1)) / 8.64e7 + 1) / 7);
}

exports.default = {
  addDayToRange: addDayToRange,
  addMonths: addMonths,
  clone: clone,
  getWeekNumber: getWeekNumber,
  isDate: isDate,
  isDayAfter: isDayAfter,
  isDayBefore: isDayBefore,
  isDayBetween: isDayBetween,
  isDayInRange: isDayInRange,
  isFutureDay: isFutureDay,
  isPastDay: isPastDay,
  isSameDay: isSameDay,
  isSameMonth: isSameMonth
};

},{}],64:[function(require,module,exports){
(function (process){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _DateUtils = require('./DateUtils');

var _Helpers = require('./Helpers');

var _classNames = require('./classNames');

var _classNames2 = _interopRequireDefault(_classNames);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint-disable jsx-a11y/no-static-element-interactions, react/forbid-prop-types */

function handleEvent(handler, day, modifiers) {
  if (!handler) {
    return undefined;
  }
  return function (e) {
    e.persist();
    handler(day, modifiers, e);
  };
}

var Day = function (_Component) {
  _inherits(Day, _Component);

  function Day() {
    _classCallCheck(this, Day);

    return _possibleConstructorReturn(this, (Day.__proto__ || Object.getPrototypeOf(Day)).apply(this, arguments));
  }

  _createClass(Day, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      var _this2 = this;

      var propNames = Object.keys(this.props);
      var nextPropNames = Object.keys(nextProps);
      if (propNames.length !== nextPropNames.length) {
        return true;
      }
      return propNames.some(function (name) {
        if (name === 'modifiers' || name === 'modifiersStyles' || name === 'classNames') {
          var prop = _this2.props[name];
          var nextProp = nextProps[name];
          var modifiers = Object.keys(prop);
          var nextModifiers = Object.keys(nextProp);
          if (modifiers.length !== nextModifiers.length) {
            return true;
          }
          return modifiers.some(function (mod) {
            return !(0, _Helpers.hasOwnProp)(nextProp, mod) || prop[mod] !== nextProp[mod];
          });
        }
        if (name === 'day') {
          return !(0, _DateUtils.isSameDay)(_this2.props[name], nextProps[name]);
        }
        return !(0, _Helpers.hasOwnProp)(nextProps, name) || _this2.props[name] !== nextProps[name];
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          classNames = _props.classNames,
          modifiersStyles = _props.modifiersStyles,
          day = _props.day,
          tabIndex = _props.tabIndex,
          empty = _props.empty,
          modifiers = _props.modifiers,
          onMouseEnter = _props.onMouseEnter,
          onMouseLeave = _props.onMouseLeave,
          onMouseUp = _props.onMouseUp,
          onMouseDown = _props.onMouseDown,
          onClick = _props.onClick,
          onKeyDown = _props.onKeyDown,
          onTouchStart = _props.onTouchStart,
          onTouchEnd = _props.onTouchEnd,
          onFocus = _props.onFocus,
          ariaLabel = _props.ariaLabel,
          ariaDisabled = _props.ariaDisabled,
          ariaSelected = _props.ariaSelected,
          children = _props.children;


      var className = classNames.day;
      if (classNames !== _classNames2.default) {
        // When using CSS modules prefix the modifier as required by the BEM syntax
        className += ' ' + Object.keys(modifiers).join(' ');
      } else {
        className += Object.keys(modifiers).map(function (modifier) {
          return ' ' + className + '--' + modifier;
        }).join('');
      }

      var style = void 0;
      if (modifiersStyles) {
        Object.keys(modifiers).filter(function (modifier) {
          return !!modifiersStyles[modifier];
        }).forEach(function (modifier) {
          style = _extends({}, style, modifiersStyles[modifier]);
        });
      }

      if (empty) {
        return _react2.default.createElement('div', { 'aria-disabled': true, className: className, style: style });
      }
      return _react2.default.createElement(
        'div',
        {
          className: className,
          tabIndex: tabIndex,
          style: style,
          role: 'gridcell',
          'aria-label': ariaLabel,
          'aria-disabled': ariaDisabled,
          'aria-selected': ariaSelected,
          onClick: handleEvent(onClick, day, modifiers),
          onKeyDown: handleEvent(onKeyDown, day, modifiers),
          onMouseEnter: handleEvent(onMouseEnter, day, modifiers),
          onMouseLeave: handleEvent(onMouseLeave, day, modifiers),
          onMouseUp: handleEvent(onMouseUp, day, modifiers),
          onMouseDown: handleEvent(onMouseDown, day, modifiers),
          onTouchEnd: handleEvent(onTouchEnd, day, modifiers),
          onTouchStart: handleEvent(onTouchStart, day, modifiers),
          onFocus: handleEvent(onFocus, day, modifiers)
        },
        children
      );
    }
  }]);

  return Day;
}(_react.Component);

Day.defaultProps = {
  tabIndex: -1
};
Day.defaultProps = {
  modifiers: {},
  modifiersStyles: {},
  empty: false
};
exports.default = Day;
Day.propTypes = process.env.NODE_ENV !== "production" ? {
  classNames: _propTypes2.default.shape({
    day: _propTypes2.default.string.isRequired
  }).isRequired,

  day: _propTypes2.default.instanceOf(Date).isRequired,
  children: _propTypes2.default.node.isRequired,

  ariaDisabled: _propTypes2.default.bool,
  ariaLabel: _propTypes2.default.string,
  ariaSelected: _propTypes2.default.bool,
  empty: _propTypes2.default.bool,
  modifiers: _propTypes2.default.object,
  modifiersStyles: _propTypes2.default.object,
  onClick: _propTypes2.default.func,
  onKeyDown: _propTypes2.default.func,
  onMouseEnter: _propTypes2.default.func,
  onMouseLeave: _propTypes2.default.func,
  onMouseDown: _propTypes2.default.func,
  onMouseUp: _propTypes2.default.func,
  onTouchEnd: _propTypes2.default.func,
  onTouchStart: _propTypes2.default.func,
  onFocus: _propTypes2.default.func,
  tabIndex: _propTypes2.default.number
} : {};

}).call(this,require('_process'))

},{"./DateUtils":63,"./Helpers":66,"./classNames":74,"_process":46,"prop-types":50,"react":undefined}],65:[function(require,module,exports){
(function (process){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModifiersUtils = exports.LocaleUtils = exports.DateUtils = exports.DayPicker = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _Caption = require('./Caption');

var _Caption2 = _interopRequireDefault(_Caption);

var _Navbar = require('./Navbar');

var _Navbar2 = _interopRequireDefault(_Navbar);

var _Month = require('./Month');

var _Month2 = _interopRequireDefault(_Month);

var _Weekday = require('./Weekday');

var _Weekday2 = _interopRequireDefault(_Weekday);

var _Helpers = require('./Helpers');

var Helpers = _interopRequireWildcard(_Helpers);

var _DateUtils = require('./DateUtils');

var DateUtils = _interopRequireWildcard(_DateUtils);

var _LocaleUtils = require('./LocaleUtils');

var LocaleUtils = _interopRequireWildcard(_LocaleUtils);

var _ModifiersUtils = require('./ModifiersUtils');

var ModifiersUtils = _interopRequireWildcard(_ModifiersUtils);

var _classNames = require('./classNames');

var _classNames2 = _interopRequireDefault(_classNames);

var _keys = require('./keys');

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DayPicker = exports.DayPicker = function (_Component) {
  _inherits(DayPicker, _Component);

  function DayPicker(props) {
    _classCallCheck(this, DayPicker);

    var _this = _possibleConstructorReturn(this, (DayPicker.__proto__ || Object.getPrototypeOf(DayPicker)).call(this, props));

    _this.dayPicker = null;

    _this.showNextMonth = function (callback) {
      if (!_this.allowNextMonth()) {
        return;
      }
      var deltaMonths = _this.props.pagedNavigation ? _this.props.numberOfMonths : 1;
      var nextMonth = DateUtils.addMonths(_this.state.currentMonth, deltaMonths);
      _this.showMonth(nextMonth, callback);
    };

    _this.showPreviousMonth = function (callback) {
      if (!_this.allowPreviousMonth()) {
        return;
      }
      var deltaMonths = _this.props.pagedNavigation ? _this.props.numberOfMonths : 1;
      var previousMonth = DateUtils.addMonths(_this.state.currentMonth, -deltaMonths);
      _this.showMonth(previousMonth, callback);
    };

    _this.handleKeyDown = function (e) {
      e.persist();

      switch (e.keyCode) {
        case _keys.LEFT:
          if (_this.props.dir === 'rtl') {
            _this.showNextMonth();
          } else {
            _this.showPreviousMonth();
          }
          Helpers.cancelEvent(e);
          break;
        case _keys.RIGHT:
          if (_this.props.dir === 'rtl') {
            _this.showPreviousMonth();
          } else {
            _this.showNextMonth();
          }
          Helpers.cancelEvent(e);
          break;
        case _keys.UP:
          _this.showPreviousYear();
          Helpers.cancelEvent(e);
          break;
        case _keys.DOWN:
          _this.showNextYear();
          Helpers.cancelEvent(e);
          break;
        default:
          break;
      }

      if (_this.props.onKeyDown) {
        _this.props.onKeyDown(e);
      }
    };

    _this.handleDayKeyDown = function (day, modifiers, e) {
      e.persist();

      switch (e.keyCode) {
        case _keys.LEFT:
          Helpers.cancelEvent(e);
          if (_this.props.dir === 'rtl') {
            _this.focusNextDay(e.target);
          } else {
            _this.focusPreviousDay(e.target);
          }
          break;
        case _keys.RIGHT:
          Helpers.cancelEvent(e);
          if (_this.props.dir === 'rtl') {
            _this.focusPreviousDay(e.target);
          } else {
            _this.focusNextDay(e.target);
          }
          break;
        case _keys.UP:
          Helpers.cancelEvent(e);
          _this.focusPreviousWeek(e.target);
          break;
        case _keys.DOWN:
          Helpers.cancelEvent(e);
          _this.focusNextWeek(e.target);
          break;
        case _keys.ENTER:
        case _keys.SPACE:
          Helpers.cancelEvent(e);
          if (_this.props.onDayClick) {
            _this.handleDayClick(day, modifiers, e);
          }
          break;
        default:
          break;
      }
      if (_this.props.onDayKeyDown) {
        _this.props.onDayKeyDown(day, modifiers, e);
      }
    };

    _this.handleDayClick = function (day, modifiers, e) {
      e.persist();

      if (modifiers[_this.props.classNames.outside] && _this.props.enableOutsideDaysClick) {
        _this.handleOutsideDayClick(day);
      }
      if (_this.props.onDayClick) {
        _this.props.onDayClick(day, modifiers, e);
      }
    };

    _this.handleTodayButtonClick = function (e) {
      var today = new Date();
      var month = new Date(today.getFullYear(), today.getMonth());
      _this.showMonth(month);
      e.target.blur();
      if (_this.props.onTodayButtonClick) {
        e.persist();
        _this.props.onTodayButtonClick(new Date(today.getFullYear(), today.getMonth(), today.getDate()), ModifiersUtils.getModifiersForDay(today, _this.props.modifiers), e);
      }
    };

    var currentMonth = _this.getCurrentMonthFromProps(props);
    _this.state = { currentMonth: currentMonth };
    return _this;
  }

  _createClass(DayPicker, [{
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps) {
      // Changing the `month` props means changing the current displayed month
      if (prevProps.month !== this.props.month && !DateUtils.isSameMonth(prevProps.month, this.props.month)) {
        var currentMonth = this.getCurrentMonthFromProps(this.props);
        // eslint-disable-next-line react/no-did-update-set-state
        this.setState({ currentMonth: currentMonth });
      }
    }

    /**
     * Return the month to be shown in the calendar based on the component props.
     *
     * @param {Object} props
     * @returns Date
     * @memberof DayPicker
     * @private
     */

  }, {
    key: 'getCurrentMonthFromProps',
    value: function getCurrentMonthFromProps(props) {
      var initialMonth = Helpers.startOfMonth(props.month || props.initialMonth);
      var currentMonth = initialMonth;

      if (props.pagedNavigation && props.numberOfMonths > 1 && props.fromMonth) {
        var fromMonth = Helpers.startOfMonth(props.fromMonth);
        var diffInMonths = Helpers.getMonthsDiff(fromMonth, currentMonth);
        currentMonth = DateUtils.addMonths(fromMonth, Math.floor(diffInMonths / props.numberOfMonths) * props.numberOfMonths);
      } else if (props.toMonth && props.numberOfMonths > 1 && Helpers.getMonthsDiff(currentMonth, props.toMonth) <= 0) {
        currentMonth = DateUtils.addMonths(Helpers.startOfMonth(props.toMonth), 1 - this.props.numberOfMonths);
      }
      return currentMonth;
    }
  }, {
    key: 'getNextNavigableMonth',
    value: function getNextNavigableMonth() {
      return DateUtils.addMonths(this.state.currentMonth, this.props.numberOfMonths);
    }
  }, {
    key: 'getPreviousNavigableMonth',
    value: function getPreviousNavigableMonth() {
      return DateUtils.addMonths(this.state.currentMonth, -1);
    }
  }, {
    key: 'allowPreviousMonth',
    value: function allowPreviousMonth() {
      var previousMonth = DateUtils.addMonths(this.state.currentMonth, -1);
      return this.allowMonth(previousMonth);
    }
  }, {
    key: 'allowNextMonth',
    value: function allowNextMonth() {
      var nextMonth = DateUtils.addMonths(this.state.currentMonth, this.props.numberOfMonths);
      return this.allowMonth(nextMonth);
    }
  }, {
    key: 'allowMonth',
    value: function allowMonth(d) {
      var _props = this.props,
          fromMonth = _props.fromMonth,
          toMonth = _props.toMonth,
          canChangeMonth = _props.canChangeMonth;

      if (!canChangeMonth || fromMonth && Helpers.getMonthsDiff(fromMonth, d) < 0 || toMonth && Helpers.getMonthsDiff(toMonth, d) > 0) {
        return false;
      }
      return true;
    }
  }, {
    key: 'allowYearChange',
    value: function allowYearChange() {
      return this.props.canChangeMonth;
    }
  }, {
    key: 'showMonth',
    value: function showMonth(d, callback) {
      var _this2 = this;

      if (!this.allowMonth(d)) {
        return;
      }
      this.setState({ currentMonth: Helpers.startOfMonth(d) }, function () {
        if (callback) {
          callback();
        }
        if (_this2.props.onMonthChange) {
          _this2.props.onMonthChange(_this2.state.currentMonth);
        }
      });
    }
  }, {
    key: 'showNextYear',
    value: function showNextYear() {
      if (!this.allowYearChange()) {
        return;
      }
      var nextMonth = DateUtils.addMonths(this.state.currentMonth, 12);
      this.showMonth(nextMonth);
    }
  }, {
    key: 'showPreviousYear',
    value: function showPreviousYear() {
      if (!this.allowYearChange()) {
        return;
      }
      var nextMonth = DateUtils.addMonths(this.state.currentMonth, -12);
      this.showMonth(nextMonth);
    }
  }, {
    key: 'focusFirstDayOfMonth',
    value: function focusFirstDayOfMonth() {
      Helpers.getDayNodes(this.dayPicker, this.props.classNames)[0].focus();
    }
  }, {
    key: 'focusLastDayOfMonth',
    value: function focusLastDayOfMonth() {
      var dayNodes = Helpers.getDayNodes(this.dayPicker, this.props.classNames);
      dayNodes[dayNodes.length - 1].focus();
    }
  }, {
    key: 'focusPreviousDay',
    value: function focusPreviousDay(dayNode) {
      var _this3 = this;

      var dayNodes = Helpers.getDayNodes(this.dayPicker, this.props.classNames);
      var dayNodeIndex = Helpers.nodeListToArray(dayNodes).indexOf(dayNode);
      if (dayNodeIndex === -1) return;
      if (dayNodeIndex === 0) {
        this.showPreviousMonth(function () {
          return _this3.focusLastDayOfMonth();
        });
      } else {
        dayNodes[dayNodeIndex - 1].focus();
      }
    }
  }, {
    key: 'focusNextDay',
    value: function focusNextDay(dayNode) {
      var _this4 = this;

      var dayNodes = Helpers.getDayNodes(this.dayPicker, this.props.classNames);
      var dayNodeIndex = Helpers.nodeListToArray(dayNodes).indexOf(dayNode);
      if (dayNodeIndex === -1) return;
      if (dayNodeIndex === dayNodes.length - 1) {
        this.showNextMonth(function () {
          return _this4.focusFirstDayOfMonth();
        });
      } else {
        dayNodes[dayNodeIndex + 1].focus();
      }
    }
  }, {
    key: 'focusNextWeek',
    value: function focusNextWeek(dayNode) {
      var _this5 = this;

      var dayNodes = Helpers.getDayNodes(this.dayPicker, this.props.classNames);
      var dayNodeIndex = Helpers.nodeListToArray(dayNodes).indexOf(dayNode);
      var isInLastWeekOfMonth = dayNodeIndex > dayNodes.length - 8;

      if (isInLastWeekOfMonth) {
        this.showNextMonth(function () {
          var daysAfterIndex = dayNodes.length - dayNodeIndex;
          var nextMonthDayNodeIndex = 7 - daysAfterIndex;
          Helpers.getDayNodes(_this5.dayPicker, _this5.props.classNames)[nextMonthDayNodeIndex].focus();
        });
      } else {
        dayNodes[dayNodeIndex + 7].focus();
      }
    }
  }, {
    key: 'focusPreviousWeek',
    value: function focusPreviousWeek(dayNode) {
      var _this6 = this;

      var dayNodes = Helpers.getDayNodes(this.dayPicker, this.props.classNames);
      var dayNodeIndex = Helpers.nodeListToArray(dayNodes).indexOf(dayNode);
      var isInFirstWeekOfMonth = dayNodeIndex <= 6;

      if (isInFirstWeekOfMonth) {
        this.showPreviousMonth(function () {
          var previousMonthDayNodes = Helpers.getDayNodes(_this6.dayPicker, _this6.props.classNames);
          var startOfLastWeekOfMonth = previousMonthDayNodes.length - 7;
          var previousMonthDayNodeIndex = startOfLastWeekOfMonth + dayNodeIndex;
          previousMonthDayNodes[previousMonthDayNodeIndex].focus();
        });
      } else {
        dayNodes[dayNodeIndex - 7].focus();
      }
    }

    // Event handlers

  }, {
    key: 'handleOutsideDayClick',
    value: function handleOutsideDayClick(day) {
      var currentMonth = this.state.currentMonth;
      var numberOfMonths = this.props.numberOfMonths;

      var diffInMonths = Helpers.getMonthsDiff(currentMonth, day);
      if (diffInMonths > 0 && diffInMonths >= numberOfMonths) {
        this.showNextMonth();
      } else if (diffInMonths < 0) {
        this.showPreviousMonth();
      }
    }
  }, {
    key: 'renderNavbar',
    value: function renderNavbar() {
      var _props2 = this.props,
          labels = _props2.labels,
          locale = _props2.locale,
          localeUtils = _props2.localeUtils,
          canChangeMonth = _props2.canChangeMonth,
          navbarElement = _props2.navbarElement,
          attributes = _objectWithoutProperties(_props2, ['labels', 'locale', 'localeUtils', 'canChangeMonth', 'navbarElement']);

      if (!canChangeMonth) return null;

      var props = {
        month: this.state.currentMonth,
        classNames: this.props.classNames,
        className: this.props.classNames.navBar,
        nextMonth: this.getNextNavigableMonth(),
        previousMonth: this.getPreviousNavigableMonth(),
        showPreviousButton: this.allowPreviousMonth(),
        showNextButton: this.allowNextMonth(),
        onNextClick: this.showNextMonth,
        onPreviousClick: this.showPreviousMonth,
        dir: attributes.dir,
        labels: labels,
        locale: locale,
        localeUtils: localeUtils
      };
      return _react2.default.isValidElement(navbarElement) ? _react2.default.cloneElement(navbarElement, props) : _react2.default.createElement(navbarElement, props);
    }
  }, {
    key: 'renderMonths',
    value: function renderMonths() {
      var months = [];
      var firstDayOfWeek = Helpers.getFirstDayOfWeekFromProps(this.props);
      for (var i = 0; i < this.props.numberOfMonths; i += 1) {
        var month = DateUtils.addMonths(this.state.currentMonth, i);
        months.push(_react2.default.createElement(_Month2.default, _extends({
          key: i
        }, this.props, {
          month: month,
          firstDayOfWeek: firstDayOfWeek,
          onDayKeyDown: this.handleDayKeyDown,
          onDayClick: this.handleDayClick
        })));
      }

      if (this.props.reverseMonths) {
        months.reverse();
      }
      return months;
    }
  }, {
    key: 'renderFooter',
    value: function renderFooter() {
      if (this.props.todayButton) {
        return _react2.default.createElement(
          'div',
          { className: this.props.classNames.footer },
          this.renderTodayButton()
        );
      }
      return null;
    }
  }, {
    key: 'renderTodayButton',
    value: function renderTodayButton() {
      return _react2.default.createElement(
        'button',
        {
          type: 'button',
          tabIndex: 0,
          className: this.props.classNames.todayButton,
          'aria-label': this.props.todayButton,
          onClick: this.handleTodayButtonClick
        },
        this.props.todayButton
      );
    }
  }, {
    key: 'render',
    value: function render() {
      var _this7 = this;

      var className = this.props.classNames.container;

      if (!this.props.onDayClick) {
        className = className + ' ' + this.props.classNames.interactionDisabled;
      }
      if (this.props.className) {
        className = className + ' ' + this.props.className;
      }
      return _react2.default.createElement(
        'div',
        _extends({}, this.props.containerProps, {
          className: className,
          ref: function ref(el) {
            return _this7.dayPicker = el;
          },
          lang: this.props.locale
        }),
        _react2.default.createElement(
          'div',
          {
            className: this.props.classNames.wrapper,
            tabIndex: this.props.canChangeMonth && typeof this.props.tabIndex !== 'undefined' ? this.props.tabIndex : -1,
            onKeyDown: this.handleKeyDown,
            onFocus: this.props.onFocus,
            onBlur: this.props.onBlur
          },
          this.renderNavbar(),
          _react2.default.createElement(
            'div',
            { className: this.props.classNames.months },
            this.renderMonths()
          ),
          this.renderFooter()
        )
      );
    }
  }]);

  return DayPicker;
}(_react.Component);

DayPicker.VERSION = '7.3.0';
DayPicker.defaultProps = {
  classNames: _classNames2.default,
  tabIndex: 0,
  initialMonth: new Date(),
  numberOfMonths: 1,
  labels: {
    previousMonth: 'Previous Month',
    nextMonth: 'Next Month'
  },
  locale: 'en',
  localeUtils: LocaleUtils,
  showOutsideDays: false,
  enableOutsideDaysClick: true,
  fixedWeeks: false,
  canChangeMonth: true,
  reverseMonths: false,
  pagedNavigation: false,
  showWeekNumbers: false,
  showWeekDays: true,
  renderDay: function renderDay(day) {
    return day.getDate();
  },
  renderWeek: function renderWeek(weekNumber) {
    return weekNumber;
  },
  weekdayElement: _react2.default.createElement(_Weekday2.default, null),
  navbarElement: _react2.default.createElement(_Navbar2.default, { classNames: _classNames2.default }),
  captionElement: _react2.default.createElement(_Caption2.default, { classNames: _classNames2.default })
};
DayPicker.propTypes = process.env.NODE_ENV !== "production" ? {
  // Rendering months
  initialMonth: _propTypes2.default.instanceOf(Date),
  month: _propTypes2.default.instanceOf(Date),
  numberOfMonths: _propTypes2.default.number,
  fromMonth: _propTypes2.default.instanceOf(Date),
  toMonth: _propTypes2.default.instanceOf(Date),
  canChangeMonth: _propTypes2.default.bool,
  reverseMonths: _propTypes2.default.bool,
  pagedNavigation: _propTypes2.default.bool,
  todayButton: _propTypes2.default.string,
  showWeekNumbers: _propTypes2.default.bool,
  showWeekDays: _propTypes2.default.bool,

  // Modifiers
  selectedDays: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.func, _propTypes2.default.array]),
  disabledDays: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.func, _propTypes2.default.array]),

  modifiers: _propTypes2.default.object,
  modifiersStyles: _propTypes2.default.object,

  // Localization
  dir: _propTypes2.default.string,
  firstDayOfWeek: _propTypes2.default.oneOf([0, 1, 2, 3, 4, 5, 6]),
  labels: _propTypes2.default.shape({
    nextMonth: _propTypes2.default.string.isRequired,
    previousMonth: _propTypes2.default.string.isRequired
  }),
  locale: _propTypes2.default.string,
  localeUtils: _propTypes2.default.shape({
    formatMonthTitle: _propTypes2.default.func,
    formatWeekdayShort: _propTypes2.default.func,
    formatWeekdayLong: _propTypes2.default.func,
    getFirstDayOfWeek: _propTypes2.default.func
  }),
  months: _propTypes2.default.arrayOf(_propTypes2.default.string),
  weekdaysLong: _propTypes2.default.arrayOf(_propTypes2.default.string),
  weekdaysShort: _propTypes2.default.arrayOf(_propTypes2.default.string),

  // Customization
  showOutsideDays: _propTypes2.default.bool,
  enableOutsideDaysClick: _propTypes2.default.bool,
  fixedWeeks: _propTypes2.default.bool,

  // CSS and HTML
  classNames: _propTypes2.default.shape({
    body: _propTypes2.default.string,
    container: _propTypes2.default.string,
    day: _propTypes2.default.string.isRequired,
    disabled: _propTypes2.default.string.isRequired,
    footer: _propTypes2.default.string,
    interactionDisabled: _propTypes2.default.string,
    months: _propTypes2.default.string,
    month: _propTypes2.default.string,
    navBar: _propTypes2.default.string,
    outside: _propTypes2.default.string.isRequired,
    selected: _propTypes2.default.string.isRequired,
    today: _propTypes2.default.string.isRequired,
    todayButton: _propTypes2.default.string,
    week: _propTypes2.default.string,
    wrapper: _propTypes2.default.string
  }),
  className: _propTypes2.default.string,
  containerProps: _propTypes2.default.object,
  tabIndex: _propTypes2.default.number,

  // Custom elements
  renderDay: _propTypes2.default.func,
  renderWeek: _propTypes2.default.func,
  weekdayElement: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.func, _propTypes2.default.instanceOf(_react.Component)]),
  navbarElement: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.func, _propTypes2.default.instanceOf(_react.Component)]),
  captionElement: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.func, _propTypes2.default.instanceOf(_react.Component)]),

  // Events
  onBlur: _propTypes2.default.func,
  onFocus: _propTypes2.default.func,
  onKeyDown: _propTypes2.default.func,
  onDayClick: _propTypes2.default.func,
  onDayKeyDown: _propTypes2.default.func,
  onDayMouseEnter: _propTypes2.default.func,
  onDayMouseLeave: _propTypes2.default.func,
  onDayMouseDown: _propTypes2.default.func,
  onDayMouseUp: _propTypes2.default.func,
  onDayTouchStart: _propTypes2.default.func,
  onDayTouchEnd: _propTypes2.default.func,
  onDayFocus: _propTypes2.default.func,
  onMonthChange: _propTypes2.default.func,
  onCaptionClick: _propTypes2.default.func,
  onWeekClick: _propTypes2.default.func,
  onTodayButtonClick: _propTypes2.default.func
} : {};


DayPicker.DateUtils = DateUtils;
DayPicker.LocaleUtils = LocaleUtils;
DayPicker.ModifiersUtils = ModifiersUtils;

exports.DateUtils = DateUtils;
exports.LocaleUtils = LocaleUtils;
exports.ModifiersUtils = ModifiersUtils;
exports.default = DayPicker;

}).call(this,require('_process'))

},{"./Caption":62,"./DateUtils":63,"./Helpers":66,"./LocaleUtils":67,"./ModifiersUtils":68,"./Month":69,"./Navbar":70,"./Weekday":72,"./classNames":74,"./keys":75,"_process":46,"prop-types":50,"react":undefined}],66:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.cancelEvent = cancelEvent;
exports.getFirstDayOfMonth = getFirstDayOfMonth;
exports.getDaysInMonth = getDaysInMonth;
exports.getModifiersFromProps = getModifiersFromProps;
exports.getFirstDayOfWeekFromProps = getFirstDayOfWeekFromProps;
exports.isRangeOfDates = isRangeOfDates;
exports.getMonthsDiff = getMonthsDiff;
exports.getWeekArray = getWeekArray;
exports.startOfMonth = startOfMonth;
exports.getDayNodes = getDayNodes;
exports.nodeListToArray = nodeListToArray;
exports.hasOwnProp = hasOwnProp;

var _DateUtils = require('./DateUtils');

var _LocaleUtils = require('./LocaleUtils');

var _classNames = require('./classNames');

var _classNames2 = _interopRequireDefault(_classNames);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function cancelEvent(e) {
  e.preventDefault();
  e.stopPropagation();
}

function getFirstDayOfMonth(d) {
  return new Date(d.getFullYear(), d.getMonth(), 1, 12);
}

function getDaysInMonth(d) {
  var resultDate = getFirstDayOfMonth(d);

  resultDate.setMonth(resultDate.getMonth() + 1);
  resultDate.setDate(resultDate.getDate() - 1);

  return resultDate.getDate();
}

function getModifiersFromProps(props) {
  var modifiers = _extends({}, props.modifiers);
  if (props.selectedDays) {
    modifiers[props.classNames.selected] = props.selectedDays;
  }
  if (props.disabledDays) {
    modifiers[props.classNames.disabled] = props.disabledDays;
  }
  return modifiers;
}

function getFirstDayOfWeekFromProps(props) {
  var firstDayOfWeek = props.firstDayOfWeek,
      _props$locale = props.locale,
      locale = _props$locale === undefined ? 'en' : _props$locale,
      _props$localeUtils = props.localeUtils,
      localeUtils = _props$localeUtils === undefined ? {} : _props$localeUtils;

  if (!isNaN(firstDayOfWeek)) {
    return firstDayOfWeek;
  }
  if (localeUtils.getFirstDayOfWeek) {
    return localeUtils.getFirstDayOfWeek(locale);
  }
  return 0;
}

function isRangeOfDates(value) {
  return !!(value && value.from && value.to);
}

function getMonthsDiff(d1, d2) {
  return d2.getMonth() - d1.getMonth() + 12 * (d2.getFullYear() - d1.getFullYear());
}

function getWeekArray(d) {
  var firstDayOfWeek = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (0, _LocaleUtils.getFirstDayOfWeek)();
  var fixedWeeks = arguments[2];

  var daysInMonth = getDaysInMonth(d);
  var dayArray = [];

  var week = [];
  var weekArray = [];

  for (var i = 1; i <= daysInMonth; i += 1) {
    dayArray.push(new Date(d.getFullYear(), d.getMonth(), i, 12));
  }

  dayArray.forEach(function (day) {
    if (week.length > 0 && day.getDay() === firstDayOfWeek) {
      weekArray.push(week);
      week = [];
    }
    week.push(day);
    if (dayArray.indexOf(day) === dayArray.length - 1) {
      weekArray.push(week);
    }
  });

  // unshift days to start the first week
  var firstWeek = weekArray[0];
  for (var _i = 7 - firstWeek.length; _i > 0; _i -= 1) {
    var outsideDate = (0, _DateUtils.clone)(firstWeek[0]);
    outsideDate.setDate(firstWeek[0].getDate() - 1);
    firstWeek.unshift(outsideDate);
  }

  // push days until the end of the last week
  var lastWeek = weekArray[weekArray.length - 1];
  for (var _i2 = lastWeek.length; _i2 < 7; _i2 += 1) {
    var _outsideDate = (0, _DateUtils.clone)(lastWeek[lastWeek.length - 1]);
    _outsideDate.setDate(lastWeek[lastWeek.length - 1].getDate() + 1);
    lastWeek.push(_outsideDate);
  }

  // add extra weeks to reach 6 weeks
  if (fixedWeeks && weekArray.length < 6) {
    var lastExtraWeek = void 0;

    for (var _i3 = weekArray.length; _i3 < 6; _i3 += 1) {
      lastExtraWeek = weekArray[weekArray.length - 1];
      var lastDay = lastExtraWeek[lastExtraWeek.length - 1];
      var extraWeek = [];

      for (var j = 0; j < 7; j += 1) {
        var _outsideDate2 = (0, _DateUtils.clone)(lastDay);
        _outsideDate2.setDate(lastDay.getDate() + j + 1);
        extraWeek.push(_outsideDate2);
      }

      weekArray.push(extraWeek);
    }
  }

  return weekArray;
}

function startOfMonth(d) {
  var newDate = (0, _DateUtils.clone)(d);
  newDate.setDate(1);
  newDate.setHours(12, 0, 0, 0); // always set noon to avoid time zone issues
  return newDate;
}

function getDayNodes(node, classNames) {
  var outsideClassName = void 0;
  if (classNames === _classNames2.default) {
    // When using CSS modules prefix the modifier as required by the BEM syntax
    outsideClassName = classNames.day + '--' + classNames.outside;
  } else {
    outsideClassName = '' + classNames.outside;
  }
  var dayQuery = classNames.day.replace(/ /g, '.');
  var outsideDayQuery = outsideClassName.replace(/ /g, '.');
  var selector = '.' + dayQuery + ':not(.' + outsideDayQuery + ')';
  return node.querySelectorAll(selector);
}

function nodeListToArray(nodeList) {
  return Array.prototype.slice.call(nodeList, 0);
}

function hasOwnProp(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

},{"./DateUtils":63,"./LocaleUtils":67,"./classNames":74}],67:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.formatDay = formatDay;
exports.formatMonthTitle = formatMonthTitle;
exports.formatWeekdayShort = formatWeekdayShort;
exports.formatWeekdayLong = formatWeekdayLong;
exports.getFirstDayOfWeek = getFirstDayOfWeek;
exports.getMonths = getMonths;
var WEEKDAYS_LONG = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];

var WEEKDAYS_SHORT = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];

var MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

function formatDay(day) {
  return day.toDateString();
}

function formatMonthTitle(d) {
  return MONTHS[d.getMonth()] + ' ' + d.getFullYear();
}

function formatWeekdayShort(i) {
  return WEEKDAYS_SHORT[i];
}

function formatWeekdayLong(i) {
  return WEEKDAYS_LONG[i];
}

function getFirstDayOfWeek() {
  return 0;
}

function getMonths() {
  return MONTHS;
}

exports.default = {
  formatDay: formatDay,
  formatMonthTitle: formatMonthTitle,
  formatWeekdayShort: formatWeekdayShort,
  formatWeekdayLong: formatWeekdayLong,
  getFirstDayOfWeek: getFirstDayOfWeek,
  getMonths: getMonths
};

},{}],68:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.dayMatchesModifier = dayMatchesModifier;
exports.getModifiersForDay = getModifiersForDay;

var _DateUtils = require('./DateUtils');

var _Helpers = require('./Helpers');

/**
 * Return `true` if a date matches the specified modifier.
 *
 * @export
 * @param {Date} day
 * @param {Any} modifier
 * @return {Boolean}
 */
function dayMatchesModifier(day, modifier) {
  if (!modifier) {
    return false;
  }
  var arr = Array.isArray(modifier) ? modifier : [modifier];
  return arr.some(function (mod) {
    if (!mod) {
      return false;
    }
    if (mod instanceof Date) {
      return (0, _DateUtils.isSameDay)(day, mod);
    }
    if ((0, _Helpers.isRangeOfDates)(mod)) {
      return (0, _DateUtils.isDayInRange)(day, mod);
    }
    if (mod.after && mod.before && (0, _DateUtils.isDayAfter)(mod.before, mod.after)) {
      return (0, _DateUtils.isDayAfter)(day, mod.after) && (0, _DateUtils.isDayBefore)(day, mod.before);
    }
    if (mod.after && mod.before && ((0, _DateUtils.isDayAfter)(mod.after, mod.before) || (0, _DateUtils.isSameDay)(mod.after, mod.before))) {
      return (0, _DateUtils.isDayAfter)(day, mod.after) || (0, _DateUtils.isDayBefore)(day, mod.before);
    }
    if (mod.after) {
      return (0, _DateUtils.isDayAfter)(day, mod.after);
    }
    if (mod.before) {
      return (0, _DateUtils.isDayBefore)(day, mod.before);
    }
    if (mod.daysOfWeek) {
      return mod.daysOfWeek.some(function (dayOfWeek) {
        return day.getDay() === dayOfWeek;
      });
    }
    if (typeof mod === 'function') {
      return mod(day);
    }
    return false;
  });
}

/**
 * Return the modifiers matching the given day for the given
 * object of modifiers.
 *
 * @export
 * @param {Date} day
 * @param {Object} [modifiersObj={}]
 * @return {Array}
 */
function getModifiersForDay(day) {
  var modifiersObj = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  return Object.keys(modifiersObj).reduce(function (modifiers, modifierName) {
    var value = modifiersObj[modifierName];
    if (dayMatchesModifier(day, value)) {
      modifiers.push(modifierName);
    }
    return modifiers;
  }, []);
}

exports.default = { dayMatchesModifier: dayMatchesModifier, getModifiersForDay: getModifiersForDay };

},{"./DateUtils":63,"./Helpers":66}],69:[function(require,module,exports){
(function (process){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _Weekdays = require('./Weekdays');

var _Weekdays2 = _interopRequireDefault(_Weekdays);

var _Day = require('./Day');

var _Day2 = _interopRequireDefault(_Day);

var _keys = require('./keys');

var _ModifiersUtils = require('./ModifiersUtils');

var ModifiersUtils = _interopRequireWildcard(_ModifiersUtils);

var _Helpers = require('./Helpers');

var Helpers = _interopRequireWildcard(_Helpers);

var _DateUtils = require('./DateUtils');

var DateUtils = _interopRequireWildcard(_DateUtils);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Month = function (_Component) {
  _inherits(Month, _Component);

  function Month() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Month);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Month.__proto__ || Object.getPrototypeOf(Month)).call.apply(_ref, [this].concat(args))), _this), _this.renderDay = function (day) {
      var monthNumber = _this.props.month.getMonth();
      var propModifiers = Helpers.getModifiersFromProps(_this.props);
      var dayModifiers = ModifiersUtils.getModifiersForDay(day, propModifiers);
      if (DateUtils.isSameDay(day, new Date()) && !Object.prototype.hasOwnProperty.call(propModifiers, _this.props.classNames.today)) {
        dayModifiers.push(_this.props.classNames.today);
      }
      if (day.getMonth() !== monthNumber) {
        dayModifiers.push(_this.props.classNames.outside);
      }

      var isOutside = day.getMonth() !== monthNumber;
      var tabIndex = -1;
      // Focus on the first day of the month
      if (_this.props.onDayClick && !isOutside && day.getDate() === 1) {
        tabIndex = _this.props.tabIndex; // eslint-disable-line prefer-destructuring
      }
      var key = '' + day.getFullYear() + day.getMonth() + day.getDate();
      var modifiers = {};
      dayModifiers.forEach(function (modifier) {
        modifiers[modifier] = true;
      });

      return _react2.default.createElement(
        _Day2.default,
        {
          key: '' + (isOutside ? 'outside-' : '') + key,
          classNames: _this.props.classNames,
          day: day,
          modifiers: modifiers,
          modifiersStyles: _this.props.modifiersStyles,
          empty: isOutside && !_this.props.showOutsideDays && !_this.props.fixedWeeks,
          tabIndex: tabIndex,
          ariaLabel: _this.props.localeUtils.formatDay(day, _this.props.locale),
          ariaDisabled: isOutside || dayModifiers.indexOf('disabled') > -1,
          ariaSelected: dayModifiers.indexOf('selected') > -1,
          onClick: _this.props.onDayClick,
          onFocus: _this.props.onDayFocus,
          onKeyDown: _this.props.onDayKeyDown,
          onMouseEnter: _this.props.onDayMouseEnter,
          onMouseLeave: _this.props.onDayMouseLeave,
          onMouseDown: _this.props.onDayMouseDown,
          onMouseUp: _this.props.onDayMouseUp,
          onTouchEnd: _this.props.onDayTouchEnd,
          onTouchStart: _this.props.onDayTouchStart
        },
        _this.props.renderDay(day, modifiers)
      );
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Month, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          classNames = _props.classNames,
          month = _props.month,
          months = _props.months,
          fixedWeeks = _props.fixedWeeks,
          captionElement = _props.captionElement,
          weekdayElement = _props.weekdayElement,
          locale = _props.locale,
          localeUtils = _props.localeUtils,
          weekdaysLong = _props.weekdaysLong,
          weekdaysShort = _props.weekdaysShort,
          firstDayOfWeek = _props.firstDayOfWeek,
          onCaptionClick = _props.onCaptionClick,
          showWeekNumbers = _props.showWeekNumbers,
          showWeekDays = _props.showWeekDays,
          onWeekClick = _props.onWeekClick;


      var captionProps = {
        date: month,
        classNames: classNames,
        months: months,
        localeUtils: localeUtils,
        locale: locale,
        onClick: onCaptionClick ? function (e) {
          return onCaptionClick(month, e);
        } : undefined
      };
      var caption = _react2.default.isValidElement(captionElement) ? _react2.default.cloneElement(captionElement, captionProps) : _react2.default.createElement(captionElement, captionProps);

      var weeks = Helpers.getWeekArray(month, firstDayOfWeek, fixedWeeks);
      return _react2.default.createElement(
        'div',
        { className: classNames.month, role: 'grid' },
        caption,
        showWeekDays && _react2.default.createElement(_Weekdays2.default, {
          classNames: classNames,
          weekdaysShort: weekdaysShort,
          weekdaysLong: weekdaysLong,
          firstDayOfWeek: firstDayOfWeek,
          showWeekNumbers: showWeekNumbers,
          locale: locale,
          localeUtils: localeUtils,
          weekdayElement: weekdayElement
        }),
        _react2.default.createElement(
          'div',
          { className: classNames.body, role: 'rowgroup' },
          weeks.map(function (week) {
            var weekNumber = void 0;
            if (showWeekNumbers) {
              weekNumber = DateUtils.getWeekNumber(week[6]);
            }
            return _react2.default.createElement(
              'div',
              {
                key: week[0].getTime(),
                className: classNames.week,
                role: 'row'
              },
              showWeekNumbers && _react2.default.createElement(
                'div',
                {
                  className: classNames.weekNumber,
                  tabIndex: onWeekClick ? 0 : -1,
                  role: 'gridcell',
                  onClick: onWeekClick ? function (e) {
                    return onWeekClick(weekNumber, week, e);
                  } : undefined,
                  onKeyUp: onWeekClick ? function (e) {
                    return e.keyCode === _keys.ENTER && onWeekClick(weekNumber, week, e);
                  } : undefined
                },
                _this2.props.renderWeek(weekNumber, week, month)
              ),
              week.map(_this2.renderDay)
            );
          })
        )
      );
    }
  }]);

  return Month;
}(_react.Component);

exports.default = Month;
Month.propTypes = process.env.NODE_ENV !== "production" ? {
  classNames: _propTypes2.default.shape({
    body: _propTypes2.default.string.isRequired,
    month: _propTypes2.default.string.isRequired,
    outside: _propTypes2.default.string.isRequired,
    today: _propTypes2.default.string.isRequired,
    week: _propTypes2.default.string.isRequired
  }).isRequired,
  tabIndex: _propTypes2.default.number,

  month: _propTypes2.default.instanceOf(Date).isRequired,
  months: _propTypes2.default.arrayOf(_propTypes2.default.string),

  modifiersStyles: _propTypes2.default.object,

  showWeekDays: _propTypes2.default.bool,
  showOutsideDays: _propTypes2.default.bool,

  renderDay: _propTypes2.default.func.isRequired,
  renderWeek: _propTypes2.default.func.isRequired,

  captionElement: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.func, _propTypes2.default.instanceOf(_react2.default.Component)]).isRequired,
  weekdayElement: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.func, _propTypes2.default.instanceOf(_react2.default.Component)]),

  fixedWeeks: _propTypes2.default.bool,
  showWeekNumbers: _propTypes2.default.bool,

  locale: _propTypes2.default.string.isRequired,
  localeUtils: _propTypes2.default.object.isRequired,
  weekdaysLong: _propTypes2.default.arrayOf(_propTypes2.default.string),
  weekdaysShort: _propTypes2.default.arrayOf(_propTypes2.default.string),
  firstDayOfWeek: _propTypes2.default.number.isRequired,

  onCaptionClick: _propTypes2.default.func,
  onDayClick: _propTypes2.default.func,
  onDayFocus: _propTypes2.default.func,
  onDayKeyDown: _propTypes2.default.func,
  onDayMouseEnter: _propTypes2.default.func,
  onDayMouseLeave: _propTypes2.default.func,
  onDayMouseDown: _propTypes2.default.func,
  onDayMouseUp: _propTypes2.default.func,
  onDayTouchEnd: _propTypes2.default.func,
  onDayTouchStart: _propTypes2.default.func,
  onWeekClick: _propTypes2.default.func
} : {};

}).call(this,require('_process'))

},{"./DateUtils":63,"./Day":64,"./Helpers":66,"./ModifiersUtils":68,"./Weekdays":73,"./keys":75,"_process":46,"prop-types":50,"react":undefined}],70:[function(require,module,exports){
(function (process){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classNames = require('./classNames');

var _classNames2 = _interopRequireDefault(_classNames);

var _keys = require('./keys');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Navbar = function (_Component) {
  _inherits(Navbar, _Component);

  function Navbar() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Navbar);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Navbar.__proto__ || Object.getPrototypeOf(Navbar)).call.apply(_ref, [this].concat(args))), _this), _this.handleNextClick = function () {
      if (_this.props.onNextClick) {
        _this.props.onNextClick();
      }
    }, _this.handlePreviousClick = function () {
      if (_this.props.onPreviousClick) {
        _this.props.onPreviousClick();
      }
    }, _this.handleNextKeyDown = function (e) {
      if (e.keyCode !== _keys.ENTER && e.keyCode !== _keys.SPACE) {
        return;
      }
      e.preventDefault();
      _this.handleNextClick();
    }, _this.handlePreviousKeyDown = function (e) {
      if (e.keyCode !== _keys.ENTER && e.keyCode !== _keys.SPACE) {
        return;
      }
      e.preventDefault();
      _this.handlePreviousClick();
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Navbar, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      return nextProps.labels !== this.props.labels || nextProps.dir !== this.props.dir || this.props.showPreviousButton !== nextProps.showPreviousButton || this.props.showNextButton !== nextProps.showNextButton;
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          classNames = _props.classNames,
          className = _props.className,
          showPreviousButton = _props.showPreviousButton,
          showNextButton = _props.showNextButton,
          labels = _props.labels,
          dir = _props.dir;


      var previousClickHandler = void 0;
      var nextClickHandler = void 0;
      var previousKeyDownHandler = void 0;
      var nextKeyDownHandler = void 0;
      var shouldShowPrevious = void 0;
      var shouldShowNext = void 0;

      if (dir === 'rtl') {
        previousClickHandler = this.handleNextClick;
        nextClickHandler = this.handlePreviousClick;
        previousKeyDownHandler = this.handleNextKeyDown;
        nextKeyDownHandler = this.handlePreviousKeyDown;
        shouldShowNext = showPreviousButton;
        shouldShowPrevious = showNextButton;
      } else {
        previousClickHandler = this.handlePreviousClick;
        nextClickHandler = this.handleNextClick;
        previousKeyDownHandler = this.handlePreviousKeyDown;
        nextKeyDownHandler = this.handleNextKeyDown;
        shouldShowNext = showNextButton;
        shouldShowPrevious = showPreviousButton;
      }

      var previousClassName = shouldShowPrevious ? classNames.navButtonPrev : classNames.navButtonPrev + ' ' + classNames.navButtonInteractionDisabled;

      var nextClassName = shouldShowNext ? classNames.navButtonNext : classNames.navButtonNext + ' ' + classNames.navButtonInteractionDisabled;

      var previousButton = _react2.default.createElement('span', {
        tabIndex: '0',
        role: 'button',
        'aria-label': labels.previousMonth,
        key: 'previous',
        className: previousClassName,
        onKeyDown: shouldShowPrevious ? previousKeyDownHandler : undefined,
        onClick: shouldShowPrevious ? previousClickHandler : undefined
      });

      var nextButton = _react2.default.createElement('span', {
        tabIndex: '0',
        role: 'button',
        'aria-label': labels.nextMonth,
        key: 'right',
        className: nextClassName,
        onKeyDown: shouldShowNext ? nextKeyDownHandler : undefined,
        onClick: shouldShowNext ? nextClickHandler : undefined
      });

      return _react2.default.createElement(
        'div',
        { className: className || classNames.navBar },
        dir === 'rtl' ? [nextButton, previousButton] : [previousButton, nextButton]
      );
    }
  }]);

  return Navbar;
}(_react.Component);

Navbar.defaultProps = {
  classNames: _classNames2.default,
  dir: 'ltr',
  labels: {
    previousMonth: 'Previous Month',
    nextMonth: 'Next Month'
  },
  showPreviousButton: true,
  showNextButton: true
};
exports.default = Navbar;
Navbar.propTypes = process.env.NODE_ENV !== "production" ? {
  classNames: _propTypes2.default.shape({
    navBar: _propTypes2.default.string.isRequired,
    navButtonPrev: _propTypes2.default.string.isRequired,
    navButtonNext: _propTypes2.default.string.isRequired
  }),
  className: _propTypes2.default.string,
  showPreviousButton: _propTypes2.default.bool,
  showNextButton: _propTypes2.default.bool,
  onPreviousClick: _propTypes2.default.func,
  onNextClick: _propTypes2.default.func,
  dir: _propTypes2.default.string,
  labels: _propTypes2.default.shape({
    previousMonth: _propTypes2.default.string.isRequired,
    nextMonth: _propTypes2.default.string.isRequired
  })
} : {};

}).call(this,require('_process'))

},{"./classNames":74,"./keys":75,"_process":46,"prop-types":50,"react":undefined}],71:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModifierPropType = undefined;

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PrimitiveTypes = {
  localeUtils: _propTypes2.default.shape({
    formatMonthTitle: _propTypes2.default.func,
    formatWeekdayShort: _propTypes2.default.func,
    formatWeekdayLong: _propTypes2.default.func,
    getFirstDayOfWeek: _propTypes2.default.func
  }),
  range: _propTypes2.default.shape({
    from: _propTypes2.default.instanceOf(Date),
    to: _propTypes2.default.instanceOf(Date)
  }),
  after: _propTypes2.default.shape({
    after: _propTypes2.default.instanceOf(Date)
  }),
  before: _propTypes2.default.shape({
    before: _propTypes2.default.instanceOf(Date)
  })
};

var ModifierPropType = exports.ModifierPropType = _propTypes2.default.oneOfType([PrimitiveTypes.after, PrimitiveTypes.before, PrimitiveTypes.range, _propTypes2.default.func, _propTypes2.default.array]);

exports.default = PrimitiveTypes;

},{"prop-types":50}],72:[function(require,module,exports){
(function (process){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Weekday = function (_Component) {
  _inherits(Weekday, _Component);

  function Weekday() {
    _classCallCheck(this, Weekday);

    return _possibleConstructorReturn(this, (Weekday.__proto__ || Object.getPrototypeOf(Weekday)).apply(this, arguments));
  }

  _createClass(Weekday, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      return this.props !== nextProps;
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          weekday = _props.weekday,
          className = _props.className,
          weekdaysLong = _props.weekdaysLong,
          weekdaysShort = _props.weekdaysShort,
          localeUtils = _props.localeUtils,
          locale = _props.locale;

      var title = void 0;
      if (weekdaysLong) {
        title = weekdaysLong[weekday];
      } else {
        title = localeUtils.formatWeekdayLong(weekday, locale);
      }
      var content = void 0;
      if (weekdaysShort) {
        content = weekdaysShort[weekday];
      } else {
        content = localeUtils.formatWeekdayShort(weekday, locale);
      }

      return _react2.default.createElement(
        'div',
        { className: className, role: 'columnheader' },
        _react2.default.createElement(
          'abbr',
          { title: title },
          content
        )
      );
    }
  }]);

  return Weekday;
}(_react.Component);

exports.default = Weekday;
Weekday.propTypes = process.env.NODE_ENV !== "production" ? {
  weekday: _propTypes2.default.number,
  className: _propTypes2.default.string,
  locale: _propTypes2.default.string,
  localeUtils: _propTypes2.default.object,

  weekdaysLong: _propTypes2.default.arrayOf(_propTypes2.default.string),
  weekdaysShort: _propTypes2.default.arrayOf(_propTypes2.default.string)
} : {};

}).call(this,require('_process'))

},{"_process":46,"prop-types":50,"react":undefined}],73:[function(require,module,exports){
(function (process){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Weekdays = function (_Component) {
  _inherits(Weekdays, _Component);

  function Weekdays() {
    _classCallCheck(this, Weekdays);

    return _possibleConstructorReturn(this, (Weekdays.__proto__ || Object.getPrototypeOf(Weekdays)).apply(this, arguments));
  }

  _createClass(Weekdays, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      return this.props !== nextProps;
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          classNames = _props.classNames,
          firstDayOfWeek = _props.firstDayOfWeek,
          showWeekNumbers = _props.showWeekNumbers,
          weekdaysLong = _props.weekdaysLong,
          weekdaysShort = _props.weekdaysShort,
          locale = _props.locale,
          localeUtils = _props.localeUtils,
          weekdayElement = _props.weekdayElement;

      var days = [];
      for (var i = 0; i < 7; i += 1) {
        var weekday = (i + firstDayOfWeek) % 7;
        var elementProps = {
          key: i,
          className: classNames.weekday,
          weekday: weekday,
          weekdaysLong: weekdaysLong,
          weekdaysShort: weekdaysShort,
          localeUtils: localeUtils,
          locale: locale
        };
        var element = _react2.default.isValidElement(weekdayElement) ? _react2.default.cloneElement(weekdayElement, elementProps) : _react2.default.createElement(weekdayElement, elementProps);
        days.push(element);
      }

      return _react2.default.createElement(
        'div',
        { className: classNames.weekdays, role: 'rowgroup' },
        _react2.default.createElement(
          'div',
          { className: classNames.weekdaysRow, role: 'row' },
          showWeekNumbers && _react2.default.createElement('div', { className: classNames.weekday }),
          days
        )
      );
    }
  }]);

  return Weekdays;
}(_react.Component);

exports.default = Weekdays;
Weekdays.propTypes = process.env.NODE_ENV !== "production" ? {
  classNames: _propTypes2.default.shape({
    weekday: _propTypes2.default.string.isRequired,
    weekdays: _propTypes2.default.string.isRequired,
    weekdaysRow: _propTypes2.default.string.isRequired
  }).isRequired,

  firstDayOfWeek: _propTypes2.default.number.isRequired,
  weekdaysLong: _propTypes2.default.arrayOf(_propTypes2.default.string),
  weekdaysShort: _propTypes2.default.arrayOf(_propTypes2.default.string),
  showWeekNumbers: _propTypes2.default.bool,
  locale: _propTypes2.default.string.isRequired,
  localeUtils: _propTypes2.default.object.isRequired,
  weekdayElement: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.func, _propTypes2.default.instanceOf(_react2.default.Component)])
} : {};

}).call(this,require('_process'))

},{"_process":46,"prop-types":50,"react":undefined}],74:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
// Proxy object to map classnames when css modules are not used

exports.default = {
  container: 'DayPicker',
  wrapper: 'DayPicker-wrapper',
  interactionDisabled: 'DayPicker--interactionDisabled',
  months: 'DayPicker-Months',
  month: 'DayPicker-Month',

  navBar: 'DayPicker-NavBar',
  navButtonPrev: 'DayPicker-NavButton DayPicker-NavButton--prev',
  navButtonNext: 'DayPicker-NavButton DayPicker-NavButton--next',
  navButtonInteractionDisabled: 'DayPicker-NavButton--interactionDisabled',

  caption: 'DayPicker-Caption',
  weekdays: 'DayPicker-Weekdays',
  weekdaysRow: 'DayPicker-WeekdaysRow',
  weekday: 'DayPicker-Weekday',
  body: 'DayPicker-Body',
  week: 'DayPicker-Week',
  weekNumber: 'DayPicker-WeekNumber',
  day: 'DayPicker-Day',
  footer: 'DayPicker-Footer',
  todayButton: 'DayPicker-TodayButton',

  // default modifiers
  today: 'today',
  selected: 'selected',
  disabled: 'disabled',
  outside: 'outside'
};

},{}],75:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var LEFT = exports.LEFT = 37;
var UP = exports.UP = 38;
var RIGHT = exports.RIGHT = 39;
var DOWN = exports.DOWN = 40;
var ENTER = exports.ENTER = 13;
var SPACE = exports.SPACE = 32;
var ESC = exports.ESC = 27;
var TAB = exports.TAB = 9;

},{}],76:[function(require,module,exports){
(function (process){
/** @license React v16.8.6
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';



if (process.env.NODE_ENV !== "production") {
  (function() {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

// The Symbol used to tag the ReactElement-like types. If there is no native Symbol
// nor polyfill, then a plain number is used for performance.
var hasSymbol = typeof Symbol === 'function' && Symbol.for;

var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;
var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;
var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;
var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;
var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;
var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;
var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace;
var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;
var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;
var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;
var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;
var REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;
var REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;

function isValidElementType(type) {
  return typeof type === 'string' || typeof type === 'function' ||
  // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.
  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE);
}

/**
 * Forked from fbjs/warning:
 * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js
 *
 * Only change is we use console.warn instead of console.error,
 * and do nothing when 'console' is not supported.
 * This really simplifies the code.
 * ---
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical
 * paths. Removing the logging code for production environments will keep the
 * same logic and follow the same code paths.
 */

var lowPriorityWarning = function () {};

{
  var printWarning = function (format) {
    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    var argIndex = 0;
    var message = 'Warning: ' + format.replace(/%s/g, function () {
      return args[argIndex++];
    });
    if (typeof console !== 'undefined') {
      console.warn(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };

  lowPriorityWarning = function (condition, format) {
    if (format === undefined) {
      throw new Error('`lowPriorityWarning(condition, format, ...args)` requires a warning ' + 'message argument');
    }
    if (!condition) {
      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
        args[_key2 - 2] = arguments[_key2];
      }

      printWarning.apply(undefined, [format].concat(args));
    }
  };
}

var lowPriorityWarning$1 = lowPriorityWarning;

function typeOf(object) {
  if (typeof object === 'object' && object !== null) {
    var $$typeof = object.$$typeof;
    switch ($$typeof) {
      case REACT_ELEMENT_TYPE:
        var type = object.type;

        switch (type) {
          case REACT_ASYNC_MODE_TYPE:
          case REACT_CONCURRENT_MODE_TYPE:
          case REACT_FRAGMENT_TYPE:
          case REACT_PROFILER_TYPE:
          case REACT_STRICT_MODE_TYPE:
          case REACT_SUSPENSE_TYPE:
            return type;
          default:
            var $$typeofType = type && type.$$typeof;

            switch ($$typeofType) {
              case REACT_CONTEXT_TYPE:
              case REACT_FORWARD_REF_TYPE:
              case REACT_PROVIDER_TYPE:
                return $$typeofType;
              default:
                return $$typeof;
            }
        }
      case REACT_LAZY_TYPE:
      case REACT_MEMO_TYPE:
      case REACT_PORTAL_TYPE:
        return $$typeof;
    }
  }

  return undefined;
}

// AsyncMode is deprecated along with isAsyncMode
var AsyncMode = REACT_ASYNC_MODE_TYPE;
var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;
var ContextConsumer = REACT_CONTEXT_TYPE;
var ContextProvider = REACT_PROVIDER_TYPE;
var Element = REACT_ELEMENT_TYPE;
var ForwardRef = REACT_FORWARD_REF_TYPE;
var Fragment = REACT_FRAGMENT_TYPE;
var Lazy = REACT_LAZY_TYPE;
var Memo = REACT_MEMO_TYPE;
var Portal = REACT_PORTAL_TYPE;
var Profiler = REACT_PROFILER_TYPE;
var StrictMode = REACT_STRICT_MODE_TYPE;
var Suspense = REACT_SUSPENSE_TYPE;

var hasWarnedAboutDeprecatedIsAsyncMode = false;

// AsyncMode should be deprecated
function isAsyncMode(object) {
  {
    if (!hasWarnedAboutDeprecatedIsAsyncMode) {
      hasWarnedAboutDeprecatedIsAsyncMode = true;
      lowPriorityWarning$1(false, 'The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');
    }
  }
  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;
}
function isConcurrentMode(object) {
  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;
}
function isContextConsumer(object) {
  return typeOf(object) === REACT_CONTEXT_TYPE;
}
function isContextProvider(object) {
  return typeOf(object) === REACT_PROVIDER_TYPE;
}
function isElement(object) {
  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
}
function isForwardRef(object) {
  return typeOf(object) === REACT_FORWARD_REF_TYPE;
}
function isFragment(object) {
  return typeOf(object) === REACT_FRAGMENT_TYPE;
}
function isLazy(object) {
  return typeOf(object) === REACT_LAZY_TYPE;
}
function isMemo(object) {
  return typeOf(object) === REACT_MEMO_TYPE;
}
function isPortal(object) {
  return typeOf(object) === REACT_PORTAL_TYPE;
}
function isProfiler(object) {
  return typeOf(object) === REACT_PROFILER_TYPE;
}
function isStrictMode(object) {
  return typeOf(object) === REACT_STRICT_MODE_TYPE;
}
function isSuspense(object) {
  return typeOf(object) === REACT_SUSPENSE_TYPE;
}

exports.typeOf = typeOf;
exports.AsyncMode = AsyncMode;
exports.ConcurrentMode = ConcurrentMode;
exports.ContextConsumer = ContextConsumer;
exports.ContextProvider = ContextProvider;
exports.Element = Element;
exports.ForwardRef = ForwardRef;
exports.Fragment = Fragment;
exports.Lazy = Lazy;
exports.Memo = Memo;
exports.Portal = Portal;
exports.Profiler = Profiler;
exports.StrictMode = StrictMode;
exports.Suspense = Suspense;
exports.isValidElementType = isValidElementType;
exports.isAsyncMode = isAsyncMode;
exports.isConcurrentMode = isConcurrentMode;
exports.isContextConsumer = isContextConsumer;
exports.isContextProvider = isContextProvider;
exports.isElement = isElement;
exports.isForwardRef = isForwardRef;
exports.isFragment = isFragment;
exports.isLazy = isLazy;
exports.isMemo = isMemo;
exports.isPortal = isPortal;
exports.isProfiler = isProfiler;
exports.isStrictMode = isStrictMode;
exports.isSuspense = isSuspense;
  })();
}

}).call(this,require('_process'))

},{"_process":46}],77:[function(require,module,exports){
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';Object.defineProperty(exports,"__esModule",{value:!0});
var b="function"===typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.memo"):
60115,r=b?Symbol.for("react.lazy"):60116;function t(a){if("object"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case h:return a;default:return u}}case r:case q:case d:return u}}}function v(a){return t(a)===m}exports.typeOf=t;exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;
exports.Fragment=e;exports.Lazy=r;exports.Memo=q;exports.Portal=d;exports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===e||a===m||a===g||a===f||a===p||"object"===typeof a&&null!==a&&(a.$$typeof===r||a.$$typeof===q||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n)};exports.isAsyncMode=function(a){return v(a)||t(a)===l};exports.isConcurrentMode=v;exports.isContextConsumer=function(a){return t(a)===k};
exports.isContextProvider=function(a){return t(a)===h};exports.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return t(a)===n};exports.isFragment=function(a){return t(a)===e};exports.isLazy=function(a){return t(a)===r};exports.isMemo=function(a){return t(a)===q};exports.isPortal=function(a){return t(a)===d};exports.isProfiler=function(a){return t(a)===g};exports.isStrictMode=function(a){return t(a)===f};
exports.isSuspense=function(a){return t(a)===p};

},{}],78:[function(require,module,exports){
(function (process){
'use strict';

if (process.env.NODE_ENV === 'production') {
  module.exports = require('./cjs/react-is.production.min.js');
} else {
  module.exports = require('./cjs/react-is.development.js');
}

}).call(this,require('_process'))

},{"./cjs/react-is.development.js":76,"./cjs/react-is.production.min.js":77,"_process":46}],79:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

function componentWillMount() {
  // Call this.constructor.gDSFP to support sub-classes.
  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);
  if (state !== null && state !== undefined) {
    this.setState(state);
  }
}

function componentWillReceiveProps(nextProps) {
  // Call this.constructor.gDSFP to support sub-classes.
  // Use the setState() updater to ensure state isn't stale in certain edge cases.
  function updater(prevState) {
    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);
    return state !== null && state !== undefined ? state : null;
  }
  // Binding "this" is important for shallow renderer support.
  this.setState(updater.bind(this));
}

function componentWillUpdate(nextProps, nextState) {
  try {
    var prevProps = this.props;
    var prevState = this.state;
    this.props = nextProps;
    this.state = nextState;
    this.__reactInternalSnapshotFlag = true;
    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(
      prevProps,
      prevState
    );
  } finally {
    this.props = prevProps;
    this.state = prevState;
  }
}

// React may warn about cWM/cWRP/cWU methods being deprecated.
// Add a flag to suppress these warnings for this special case.
componentWillMount.__suppressDeprecationWarning = true;
componentWillReceiveProps.__suppressDeprecationWarning = true;
componentWillUpdate.__suppressDeprecationWarning = true;

function polyfill(Component) {
  var prototype = Component.prototype;

  if (!prototype || !prototype.isReactComponent) {
    throw new Error('Can only polyfill class components');
  }

  if (
    typeof Component.getDerivedStateFromProps !== 'function' &&
    typeof prototype.getSnapshotBeforeUpdate !== 'function'
  ) {
    return Component;
  }

  // If new component APIs are defined, "unsafe" lifecycles won't be called.
  // Error if any of these lifecycles are present,
  // Because they would work differently between older and newer (16.3+) versions of React.
  var foundWillMountName = null;
  var foundWillReceivePropsName = null;
  var foundWillUpdateName = null;
  if (typeof prototype.componentWillMount === 'function') {
    foundWillMountName = 'componentWillMount';
  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {
    foundWillMountName = 'UNSAFE_componentWillMount';
  }
  if (typeof prototype.componentWillReceiveProps === 'function') {
    foundWillReceivePropsName = 'componentWillReceiveProps';
  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {
    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';
  }
  if (typeof prototype.componentWillUpdate === 'function') {
    foundWillUpdateName = 'componentWillUpdate';
  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {
    foundWillUpdateName = 'UNSAFE_componentWillUpdate';
  }
  if (
    foundWillMountName !== null ||
    foundWillReceivePropsName !== null ||
    foundWillUpdateName !== null
  ) {
    var componentName = Component.displayName || Component.name;
    var newApiName =
      typeof Component.getDerivedStateFromProps === 'function'
        ? 'getDerivedStateFromProps()'
        : 'getSnapshotBeforeUpdate()';

    throw Error(
      'Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n' +
        componentName +
        ' uses ' +
        newApiName +
        ' but also contains the following legacy lifecycles:' +
        (foundWillMountName !== null ? '\n  ' + foundWillMountName : '') +
        (foundWillReceivePropsName !== null
          ? '\n  ' + foundWillReceivePropsName
          : '') +
        (foundWillUpdateName !== null ? '\n  ' + foundWillUpdateName : '') +
        '\n\nThe above lifecycles should be removed. Learn more about this warning here:\n' +
        'https://fb.me/react-async-component-lifecycle-hooks'
    );
  }

  // React <= 16.2 does not support static getDerivedStateFromProps.
  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.
  // Newer versions of React will ignore these lifecycles if gDSFP exists.
  if (typeof Component.getDerivedStateFromProps === 'function') {
    prototype.componentWillMount = componentWillMount;
    prototype.componentWillReceiveProps = componentWillReceiveProps;
  }

  // React <= 16.2 does not support getSnapshotBeforeUpdate.
  // As a workaround, use cWU to invoke the new lifecycle.
  // Newer versions of React will ignore that lifecycle if gSBU exists.
  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {
    if (typeof prototype.componentDidUpdate !== 'function') {
      throw new Error(
        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'
      );
    }

    prototype.componentWillUpdate = componentWillUpdate;

    var componentDidUpdate = prototype.componentDidUpdate;

    prototype.componentDidUpdate = function componentDidUpdatePolyfill(
      prevProps,
      prevState,
      maybeSnapshot
    ) {
      // 16.3+ will not execute our will-update method;
      // It will pass a snapshot value to did-update though.
      // Older versions will require our polyfilled will-update value.
      // We need to handle both cases, but can't just check for the presence of "maybeSnapshot",
      // Because for <= 15.x versions this might be a "prevContext" object.
      // We also can't just check "__reactInternalSnapshot",
      // Because get-snapshot might return a falsy value.
      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.
      var snapshot = this.__reactInternalSnapshotFlag
        ? this.__reactInternalSnapshot
        : maybeSnapshot;

      componentDidUpdate.call(this, prevProps, prevState, snapshot);
    };
  }

  return Component;
}

exports.polyfill = polyfill;

},{}],80:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.bodyOpenClassName = exports.portalClassName = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = require("react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _ModalPortal = require("./ModalPortal");

var _ModalPortal2 = _interopRequireDefault(_ModalPortal);

var _ariaAppHider = require("../helpers/ariaAppHider");

var ariaAppHider = _interopRequireWildcard(_ariaAppHider);

var _safeHTMLElement = require("../helpers/safeHTMLElement");

var _safeHTMLElement2 = _interopRequireDefault(_safeHTMLElement);

var _reactLifecyclesCompat = require("react-lifecycles-compat");

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var portalClassName = exports.portalClassName = "ReactModalPortal";
var bodyOpenClassName = exports.bodyOpenClassName = "ReactModal__Body--open";

var isReact16 = _reactDom2.default.createPortal !== undefined;

var getCreatePortal = function getCreatePortal() {
  return isReact16 ? _reactDom2.default.createPortal : _reactDom2.default.unstable_renderSubtreeIntoContainer;
};

function getParentElement(parentSelector) {
  return parentSelector();
}

var Modal = function (_Component) {
  _inherits(Modal, _Component);

  function Modal() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Modal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Modal.__proto__ || Object.getPrototypeOf(Modal)).call.apply(_ref, [this].concat(args))), _this), _this.removePortal = function () {
      !isReact16 && _reactDom2.default.unmountComponentAtNode(_this.node);
      var parent = getParentElement(_this.props.parentSelector);
      parent.removeChild(_this.node);
    }, _this.portalRef = function (ref) {
      _this.portal = ref;
    }, _this.renderPortal = function (props) {
      var createPortal = getCreatePortal();
      var portal = createPortal(_this, _react2.default.createElement(_ModalPortal2.default, _extends({ defaultStyles: Modal.defaultStyles }, props)), _this.node);
      _this.portalRef(portal);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Modal, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (!_safeHTMLElement.canUseDOM) return;

      if (!isReact16) {
        this.node = document.createElement("div");
      }
      this.node.className = this.props.portalClassName;

      var parent = getParentElement(this.props.parentSelector);
      parent.appendChild(this.node);

      !isReact16 && this.renderPortal(this.props);
    }
  }, {
    key: "getSnapshotBeforeUpdate",
    value: function getSnapshotBeforeUpdate(prevProps) {
      var prevParent = getParentElement(prevProps.parentSelector);
      var nextParent = getParentElement(this.props.parentSelector);
      return { prevParent: prevParent, nextParent: nextParent };
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, _, snapshot) {
      if (!_safeHTMLElement.canUseDOM) return;
      var _props = this.props,
          isOpen = _props.isOpen,
          portalClassName = _props.portalClassName;


      if (prevProps.portalClassName !== portalClassName) {
        this.node.className = portalClassName;
      }

      var prevParent = snapshot.prevParent,
          nextParent = snapshot.nextParent;

      if (nextParent !== prevParent) {
        prevParent.removeChild(this.node);
        nextParent.appendChild(this.node);
      }

      // Stop unnecessary renders if modal is remaining closed
      if (!prevProps.isOpen && !isOpen) return;

      !isReact16 && this.renderPortal(this.props);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (!_safeHTMLElement.canUseDOM || !this.node || !this.portal) return;

      var state = this.portal.state;
      var now = Date.now();
      var closesAt = state.isOpen && this.props.closeTimeoutMS && (state.closesAt || now + this.props.closeTimeoutMS);

      if (closesAt) {
        if (!state.beforeClose) {
          this.portal.closeWithTimeout();
        }

        setTimeout(this.removePortal, closesAt - now);
      } else {
        this.removePortal();
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (!_safeHTMLElement.canUseDOM || !isReact16) {
        return null;
      }

      if (!this.node && isReact16) {
        this.node = document.createElement("div");
      }

      var createPortal = getCreatePortal();
      return createPortal(_react2.default.createElement(_ModalPortal2.default, _extends({
        ref: this.portalRef,
        defaultStyles: Modal.defaultStyles
      }, this.props)), this.node);
    }
  }], [{
    key: "setAppElement",
    value: function setAppElement(element) {
      ariaAppHider.setElement(element);
    }

    /* eslint-disable react/no-unused-prop-types */

    /* eslint-enable react/no-unused-prop-types */

  }]);

  return Modal;
}(_react.Component);

Modal.propTypes = {
  isOpen: _propTypes2.default.bool.isRequired,
  style: _propTypes2.default.shape({
    content: _propTypes2.default.object,
    overlay: _propTypes2.default.object
  }),
  portalClassName: _propTypes2.default.string,
  bodyOpenClassName: _propTypes2.default.string,
  htmlOpenClassName: _propTypes2.default.string,
  className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({
    base: _propTypes2.default.string.isRequired,
    afterOpen: _propTypes2.default.string.isRequired,
    beforeClose: _propTypes2.default.string.isRequired
  })]),
  overlayClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({
    base: _propTypes2.default.string.isRequired,
    afterOpen: _propTypes2.default.string.isRequired,
    beforeClose: _propTypes2.default.string.isRequired
  })]),
  appElement: _propTypes2.default.instanceOf(_safeHTMLElement2.default),
  onAfterOpen: _propTypes2.default.func,
  onRequestClose: _propTypes2.default.func,
  closeTimeoutMS: _propTypes2.default.number,
  ariaHideApp: _propTypes2.default.bool,
  shouldFocusAfterRender: _propTypes2.default.bool,
  shouldCloseOnOverlayClick: _propTypes2.default.bool,
  shouldReturnFocusAfterClose: _propTypes2.default.bool,
  parentSelector: _propTypes2.default.func,
  aria: _propTypes2.default.object,
  data: _propTypes2.default.object,
  role: _propTypes2.default.string,
  contentLabel: _propTypes2.default.string,
  shouldCloseOnEsc: _propTypes2.default.bool,
  overlayRef: _propTypes2.default.func,
  contentRef: _propTypes2.default.func
};
Modal.defaultProps = {
  isOpen: false,
  portalClassName: portalClassName,
  bodyOpenClassName: bodyOpenClassName,
  role: "dialog",
  ariaHideApp: true,
  closeTimeoutMS: 0,
  shouldFocusAfterRender: true,
  shouldCloseOnEsc: true,
  shouldCloseOnOverlayClick: true,
  shouldReturnFocusAfterClose: true,
  parentSelector: function parentSelector() {
    return document.body;
  }
};
Modal.defaultStyles = {
  overlay: {
    position: "fixed",
    top: 0,
    left: 0,
    right: 0,
    bottom: 0,
    backgroundColor: "rgba(255, 255, 255, 0.75)"
  },
  content: {
    position: "absolute",
    top: "40px",
    left: "40px",
    right: "40px",
    bottom: "40px",
    border: "1px solid #ccc",
    background: "#fff",
    overflow: "auto",
    WebkitOverflowScrolling: "touch",
    borderRadius: "4px",
    outline: "none",
    padding: "20px"
  }
};


(0, _reactLifecyclesCompat.polyfill)(Modal);

exports.default = Modal;
},{"../helpers/ariaAppHider":82,"../helpers/safeHTMLElement":85,"./ModalPortal":81,"prop-types":50,"react":undefined,"react-dom":undefined,"react-lifecycles-compat":79}],81:[function(require,module,exports){
(function (process){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _focusManager = require("../helpers/focusManager");

var focusManager = _interopRequireWildcard(_focusManager);

var _scopeTab = require("../helpers/scopeTab");

var _scopeTab2 = _interopRequireDefault(_scopeTab);

var _ariaAppHider = require("../helpers/ariaAppHider");

var ariaAppHider = _interopRequireWildcard(_ariaAppHider);

var _classList = require("../helpers/classList");

var classList = _interopRequireWildcard(_classList);

var _safeHTMLElement = require("../helpers/safeHTMLElement");

var _safeHTMLElement2 = _interopRequireDefault(_safeHTMLElement);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// so that our CSS is statically analyzable
var CLASS_NAMES = {
  overlay: "ReactModal__Overlay",
  content: "ReactModal__Content"
};

var TAB_KEY = 9;
var ESC_KEY = 27;

var ariaHiddenInstances = 0;

var ModalPortal = function (_Component) {
  _inherits(ModalPortal, _Component);

  function ModalPortal(props) {
    _classCallCheck(this, ModalPortal);

    var _this = _possibleConstructorReturn(this, (ModalPortal.__proto__ || Object.getPrototypeOf(ModalPortal)).call(this, props));

    _this.setOverlayRef = function (overlay) {
      _this.overlay = overlay;
      _this.props.overlayRef && _this.props.overlayRef(overlay);
    };

    _this.setContentRef = function (content) {
      _this.content = content;
      _this.props.contentRef && _this.props.contentRef(content);
    };

    _this.afterClose = function () {
      var _this$props = _this.props,
          appElement = _this$props.appElement,
          ariaHideApp = _this$props.ariaHideApp,
          htmlOpenClassName = _this$props.htmlOpenClassName,
          bodyOpenClassName = _this$props.bodyOpenClassName;

      // Remove classes.

      bodyOpenClassName && classList.remove(document.body, bodyOpenClassName);

      htmlOpenClassName && classList.remove(document.getElementsByTagName("html")[0], htmlOpenClassName);

      // Reset aria-hidden attribute if all modals have been removed
      if (ariaHideApp && ariaHiddenInstances > 0) {
        ariaHiddenInstances -= 1;

        if (ariaHiddenInstances === 0) {
          ariaAppHider.show(appElement);
        }
      }

      if (_this.props.shouldFocusAfterRender) {
        if (_this.props.shouldReturnFocusAfterClose) {
          focusManager.returnFocus();
          focusManager.teardownScopedFocus();
        } else {
          focusManager.popWithoutFocus();
        }
      }

      if (_this.props.onAfterClose) {
        _this.props.onAfterClose();
      }
    };

    _this.open = function () {
      _this.beforeOpen();
      if (_this.state.afterOpen && _this.state.beforeClose) {
        clearTimeout(_this.closeTimer);
        _this.setState({ beforeClose: false });
      } else {
        if (_this.props.shouldFocusAfterRender) {
          focusManager.setupScopedFocus(_this.node);
          focusManager.markForFocusLater();
        }

        _this.setState({ isOpen: true }, function () {
          _this.setState({ afterOpen: true });

          if (_this.props.isOpen && _this.props.onAfterOpen) {
            _this.props.onAfterOpen();
          }
        });
      }
    };

    _this.close = function () {
      if (_this.props.closeTimeoutMS > 0) {
        _this.closeWithTimeout();
      } else {
        _this.closeWithoutTimeout();
      }
    };

    _this.focusContent = function () {
      return _this.content && !_this.contentHasFocus() && _this.content.focus();
    };

    _this.closeWithTimeout = function () {
      var closesAt = Date.now() + _this.props.closeTimeoutMS;
      _this.setState({ beforeClose: true, closesAt: closesAt }, function () {
        _this.closeTimer = setTimeout(_this.closeWithoutTimeout, _this.state.closesAt - Date.now());
      });
    };

    _this.closeWithoutTimeout = function () {
      _this.setState({
        beforeClose: false,
        isOpen: false,
        afterOpen: false,
        closesAt: null
      }, _this.afterClose);
    };

    _this.handleKeyDown = function (event) {
      if (event.keyCode === TAB_KEY) {
        (0, _scopeTab2.default)(_this.content, event);
      }

      if (_this.props.shouldCloseOnEsc && event.keyCode === ESC_KEY) {
        event.stopPropagation();
        _this.requestClose(event);
      }
    };

    _this.handleOverlayOnClick = function (event) {
      if (_this.shouldClose === null) {
        _this.shouldClose = true;
      }

      if (_this.shouldClose && _this.props.shouldCloseOnOverlayClick) {
        if (_this.ownerHandlesClose()) {
          _this.requestClose(event);
        } else {
          _this.focusContent();
        }
      }
      _this.shouldClose = null;
    };

    _this.handleContentOnMouseUp = function () {
      _this.shouldClose = false;
    };

    _this.handleOverlayOnMouseDown = function (event) {
      if (!_this.props.shouldCloseOnOverlayClick && event.target == _this.overlay) {
        event.preventDefault();
      }
    };

    _this.handleContentOnClick = function () {
      _this.shouldClose = false;
    };

    _this.handleContentOnMouseDown = function () {
      _this.shouldClose = false;
    };

    _this.requestClose = function (event) {
      return _this.ownerHandlesClose() && _this.props.onRequestClose(event);
    };

    _this.ownerHandlesClose = function () {
      return _this.props.onRequestClose;
    };

    _this.shouldBeClosed = function () {
      return !_this.state.isOpen && !_this.state.beforeClose;
    };

    _this.contentHasFocus = function () {
      return document.activeElement === _this.content || _this.content.contains(document.activeElement);
    };

    _this.buildClassName = function (which, additional) {
      var classNames = (typeof additional === "undefined" ? "undefined" : _typeof(additional)) === "object" ? additional : {
        base: CLASS_NAMES[which],
        afterOpen: CLASS_NAMES[which] + "--after-open",
        beforeClose: CLASS_NAMES[which] + "--before-close"
      };
      var className = classNames.base;
      if (_this.state.afterOpen) {
        className = className + " " + classNames.afterOpen;
      }
      if (_this.state.beforeClose) {
        className = className + " " + classNames.beforeClose;
      }
      return typeof additional === "string" && additional ? className + " " + additional : className;
    };

    _this.attributesFromObject = function (prefix, items) {
      return Object.keys(items).reduce(function (acc, name) {
        acc[prefix + "-" + name] = items[name];
        return acc;
      }, {});
    };

    _this.state = {
      afterOpen: false,
      beforeClose: false
    };

    _this.shouldClose = null;
    _this.moveFromContentToOverlay = null;
    return _this;
  }

  _createClass(ModalPortal, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.props.isOpen) {
        this.open();
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      if (process.env.NODE_ENV !== "production") {
        if (prevProps.bodyOpenClassName !== this.props.bodyOpenClassName) {
          // eslint-disable-next-line no-console
          console.warn('React-Modal: "bodyOpenClassName" prop has been modified. ' + "This may cause unexpected behavior when multiple modals are open.");
        }
        if (prevProps.htmlOpenClassName !== this.props.htmlOpenClassName) {
          // eslint-disable-next-line no-console
          console.warn('React-Modal: "htmlOpenClassName" prop has been modified. ' + "This may cause unexpected behavior when multiple modals are open.");
        }
      }

      if (this.props.isOpen && !prevProps.isOpen) {
        this.open();
      } else if (!this.props.isOpen && prevProps.isOpen) {
        this.close();
      }

      // Focus only needs to be set once when the modal is being opened
      if (this.props.shouldFocusAfterRender && this.state.isOpen && !prevState.isOpen) {
        this.focusContent();
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.afterClose();
      clearTimeout(this.closeTimer);
    }
  }, {
    key: "beforeOpen",
    value: function beforeOpen() {
      var _props = this.props,
          appElement = _props.appElement,
          ariaHideApp = _props.ariaHideApp,
          htmlOpenClassName = _props.htmlOpenClassName,
          bodyOpenClassName = _props.bodyOpenClassName;

      // Add classes.

      bodyOpenClassName && classList.add(document.body, bodyOpenClassName);

      htmlOpenClassName && classList.add(document.getElementsByTagName("html")[0], htmlOpenClassName);

      if (ariaHideApp) {
        ariaHiddenInstances += 1;
        ariaAppHider.hide(appElement);
      }
    }

    // Don't steal focus from inner elements

  }, {
    key: "render",
    value: function render() {
      var _props2 = this.props,
          className = _props2.className,
          overlayClassName = _props2.overlayClassName,
          defaultStyles = _props2.defaultStyles;

      var contentStyles = className ? {} : defaultStyles.content;
      var overlayStyles = overlayClassName ? {} : defaultStyles.overlay;

      return this.shouldBeClosed() ? null : _react2.default.createElement(
        "div",
        {
          ref: this.setOverlayRef,
          className: this.buildClassName("overlay", overlayClassName),
          style: _extends({}, overlayStyles, this.props.style.overlay),
          onClick: this.handleOverlayOnClick,
          onMouseDown: this.handleOverlayOnMouseDown
        },
        _react2.default.createElement(
          "div",
          _extends({
            ref: this.setContentRef,
            style: _extends({}, contentStyles, this.props.style.content),
            className: this.buildClassName("content", className),
            tabIndex: "-1",
            onKeyDown: this.handleKeyDown,
            onMouseDown: this.handleContentOnMouseDown,
            onMouseUp: this.handleContentOnMouseUp,
            onClick: this.handleContentOnClick,
            role: this.props.role,
            "aria-label": this.props.contentLabel
          }, this.attributesFromObject("aria", this.props.aria || {}), this.attributesFromObject("data", this.props.data || {}), {
            "data-testid": this.props.testId
          }),
          this.props.children
        )
      );
    }
  }]);

  return ModalPortal;
}(_react.Component);

ModalPortal.defaultProps = {
  style: {
    overlay: {},
    content: {}
  },
  defaultStyles: {}
};
ModalPortal.propTypes = {
  isOpen: _propTypes2.default.bool.isRequired,
  defaultStyles: _propTypes2.default.shape({
    content: _propTypes2.default.object,
    overlay: _propTypes2.default.object
  }),
  style: _propTypes2.default.shape({
    content: _propTypes2.default.object,
    overlay: _propTypes2.default.object
  }),
  className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),
  overlayClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),
  bodyOpenClassName: _propTypes2.default.string,
  htmlOpenClassName: _propTypes2.default.string,
  ariaHideApp: _propTypes2.default.bool,
  appElement: _propTypes2.default.instanceOf(_safeHTMLElement2.default),
  onAfterOpen: _propTypes2.default.func,
  onAfterClose: _propTypes2.default.func,
  onRequestClose: _propTypes2.default.func,
  closeTimeoutMS: _propTypes2.default.number,
  shouldFocusAfterRender: _propTypes2.default.bool,
  shouldCloseOnOverlayClick: _propTypes2.default.bool,
  shouldReturnFocusAfterClose: _propTypes2.default.bool,
  role: _propTypes2.default.string,
  contentLabel: _propTypes2.default.string,
  aria: _propTypes2.default.object,
  data: _propTypes2.default.object,
  children: _propTypes2.default.node,
  shouldCloseOnEsc: _propTypes2.default.bool,
  overlayRef: _propTypes2.default.func,
  contentRef: _propTypes2.default.func,
  testId: _propTypes2.default.string
};
exports.default = ModalPortal;
module.exports = exports["default"];
}).call(this,require('_process'))

},{"../helpers/ariaAppHider":82,"../helpers/classList":83,"../helpers/focusManager":84,"../helpers/safeHTMLElement":85,"../helpers/scopeTab":86,"_process":46,"prop-types":50,"react":undefined}],82:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.assertNodeList = assertNodeList;
exports.setElement = setElement;
exports.validateElement = validateElement;
exports.hide = hide;
exports.show = show;
exports.documentNotReadyOrSSRTesting = documentNotReadyOrSSRTesting;
exports.resetForTesting = resetForTesting;

var _warning = require("warning");

var _warning2 = _interopRequireDefault(_warning);

var _safeHTMLElement = require("./safeHTMLElement");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var globalElement = null;

function assertNodeList(nodeList, selector) {
  if (!nodeList || !nodeList.length) {
    throw new Error("react-modal: No elements were found for selector " + selector + ".");
  }
}

function setElement(element) {
  var useElement = element;
  if (typeof useElement === "string" && _safeHTMLElement.canUseDOM) {
    var el = document.querySelectorAll(useElement);
    assertNodeList(el, useElement);
    useElement = "length" in el ? el[0] : el;
  }
  globalElement = useElement || globalElement;
  return globalElement;
}

function validateElement(appElement) {
  if (!appElement && !globalElement) {
    (0, _warning2.default)(false, ["react-modal: App element is not defined.", "Please use `Modal.setAppElement(el)` or set `appElement={el}`.", "This is needed so screen readers don't see main content", "when modal is opened. It is not recommended, but you can opt-out", "by setting `ariaHideApp={false}`."].join(" "));

    return false;
  }

  return true;
}

function hide(appElement) {
  if (validateElement(appElement)) {
    (appElement || globalElement).setAttribute("aria-hidden", "true");
  }
}

function show(appElement) {
  if (validateElement(appElement)) {
    (appElement || globalElement).removeAttribute("aria-hidden");
  }
}

function documentNotReadyOrSSRTesting() {
  globalElement = null;
}

function resetForTesting() {
  globalElement = null;
}
},{"./safeHTMLElement":85,"warning":127}],83:[function(require,module,exports){
(function (process){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.dumpClassLists = dumpClassLists;
var htmlClassList = {};
var docBodyClassList = {};

function dumpClassLists() {
  if (process.env.NODE_ENV !== "production") {
    var classes = document.getElementsByTagName("html")[0].className;
    var buffer = "Show tracked classes:\n\n";

    buffer += "<html /> (" + classes + "):\n";
    for (var x in htmlClassList) {
      buffer += "  " + x + " " + htmlClassList[x] + "\n";
    }

    classes = document.body.className;

    // eslint-disable-next-line max-len
    buffer += "\n\ndoc.body (" + classes + "):\n";
    for (var _x in docBodyClassList) {
      buffer += "  " + _x + " " + docBodyClassList[_x] + "\n";
    }

    buffer += "\n";

    // eslint-disable-next-line no-console
    console.log(buffer);
  }
}

/**
 * Track the number of reference of a class.
 * @param {object} poll The poll to receive the reference.
 * @param {string} className The class name.
 * @return {string}
 */
var incrementReference = function incrementReference(poll, className) {
  if (!poll[className]) {
    poll[className] = 0;
  }
  poll[className] += 1;
  return className;
};

/**
 * Drop the reference of a class.
 * @param {object} poll The poll to receive the reference.
 * @param {string} className The class name.
 * @return {string}
 */
var decrementReference = function decrementReference(poll, className) {
  if (poll[className]) {
    poll[className] -= 1;
  }
  return className;
};

/**
 * Track a class and add to the given class list.
 * @param {Object} classListRef A class list of an element.
 * @param {Object} poll         The poll to be used.
 * @param {Array}  classes      The list of classes to be tracked.
 */
var trackClass = function trackClass(classListRef, poll, classes) {
  classes.forEach(function (className) {
    incrementReference(poll, className);
    classListRef.add(className);
  });
};

/**
 * Untrack a class and remove from the given class list if the reference
 * reaches 0.
 * @param {Object} classListRef A class list of an element.
 * @param {Object} poll         The poll to be used.
 * @param {Array}  classes      The list of classes to be untracked.
 */
var untrackClass = function untrackClass(classListRef, poll, classes) {
  classes.forEach(function (className) {
    decrementReference(poll, className);
    poll[className] === 0 && classListRef.remove(className);
  });
};

/**
 * Public inferface to add classes to the document.body.
 * @param {string} bodyClass The class string to be added.
 *                           It may contain more then one class
 *                           with ' ' as separator.
 */
var add = exports.add = function add(element, classString) {
  return trackClass(element.classList, element.nodeName.toLowerCase() == "html" ? htmlClassList : docBodyClassList, classString.split(" "));
};

/**
 * Public inferface to remove classes from the document.body.
 * @param {string} bodyClass The class string to be added.
 *                           It may contain more then one class
 *                           with ' ' as separator.
 */
var remove = exports.remove = function remove(element, classString) {
  return untrackClass(element.classList, element.nodeName.toLowerCase() == "html" ? htmlClassList : docBodyClassList, classString.split(" "));
};
}).call(this,require('_process'))

},{"_process":46}],84:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.handleBlur = handleBlur;
exports.handleFocus = handleFocus;
exports.markForFocusLater = markForFocusLater;
exports.returnFocus = returnFocus;
exports.popWithoutFocus = popWithoutFocus;
exports.setupScopedFocus = setupScopedFocus;
exports.teardownScopedFocus = teardownScopedFocus;

var _tabbable = require("../helpers/tabbable");

var _tabbable2 = _interopRequireDefault(_tabbable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var focusLaterElements = [];
var modalElement = null;
var needToFocus = false;

function handleBlur() {
  needToFocus = true;
}

function handleFocus() {
  if (needToFocus) {
    needToFocus = false;
    if (!modalElement) {
      return;
    }
    // need to see how jQuery shims document.on('focusin') so we don't need the
    // setTimeout, firefox doesn't support focusin, if it did, we could focus
    // the element outside of a setTimeout. Side-effect of this implementation
    // is that the document.body gets focus, and then we focus our element right
    // after, seems fine.
    setTimeout(function () {
      if (modalElement.contains(document.activeElement)) {
        return;
      }
      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;
      el.focus();
    }, 0);
  }
}

function markForFocusLater() {
  focusLaterElements.push(document.activeElement);
}

/* eslint-disable no-console */
function returnFocus() {
  var toFocus = null;
  try {
    if (focusLaterElements.length !== 0) {
      toFocus = focusLaterElements.pop();
      toFocus.focus();
    }
    return;
  } catch (e) {
    console.warn(["You tried to return focus to", toFocus, "but it is not in the DOM anymore"].join(" "));
  }
}
/* eslint-enable no-console */

function popWithoutFocus() {
  focusLaterElements.length > 0 && focusLaterElements.pop();
}

function setupScopedFocus(element) {
  modalElement = element;

  if (window.addEventListener) {
    window.addEventListener("blur", handleBlur, false);
    document.addEventListener("focus", handleFocus, true);
  } else {
    window.attachEvent("onBlur", handleBlur);
    document.attachEvent("onFocus", handleFocus);
  }
}

function teardownScopedFocus() {
  modalElement = null;

  if (window.addEventListener) {
    window.removeEventListener("blur", handleBlur);
    document.removeEventListener("focus", handleFocus);
  } else {
    window.detachEvent("onBlur", handleBlur);
    document.detachEvent("onFocus", handleFocus);
  }
}
},{"../helpers/tabbable":87}],85:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.canUseDOM = undefined;

var _exenv = require("exenv");

var _exenv2 = _interopRequireDefault(_exenv);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EE = _exenv2.default;

var SafeHTMLElement = EE.canUseDOM ? window.HTMLElement : {};

var canUseDOM = exports.canUseDOM = EE.canUseDOM;

exports.default = SafeHTMLElement;
},{"exenv":36}],86:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = scopeTab;

var _tabbable = require("./tabbable");

var _tabbable2 = _interopRequireDefault(_tabbable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function scopeTab(node, event) {
  var tabbable = (0, _tabbable2.default)(node);

  if (!tabbable.length) {
    // Do nothing, since there are no elements that can receive focus.
    event.preventDefault();
    return;
  }

  var shiftKey = event.shiftKey;
  var head = tabbable[0];
  var tail = tabbable[tabbable.length - 1];

  // proceed with default browser behavior on tab.
  // Focus on last element on shift + tab.
  if (node === document.activeElement) {
    if (!shiftKey) return;
    target = tail;
  }

  var target;
  if (tail === document.activeElement && !shiftKey) {
    target = head;
  }

  if (head === document.activeElement && shiftKey) {
    target = tail;
  }

  if (target) {
    event.preventDefault();
    target.focus();
    return;
  }

  // Safari radio issue.
  //
  // Safari does not move the focus to the radio button,
  // so we need to force it to really walk through all elements.
  //
  // This is very error prone, since we are trying to guess
  // if it is a safari browser from the first occurence between
  // chrome or safari.
  //
  // The chrome user agent contains the first ocurrence
  // as the 'chrome/version' and later the 'safari/version'.
  var checkSafari = /(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);
  var isSafariDesktop = checkSafari != null && checkSafari[1] != "Chrome" && /\biPod\b|\biPad\b/g.exec(navigator.userAgent) == null;

  // If we are not in safari desktop, let the browser control
  // the focus
  if (!isSafariDesktop) return;

  var x = tabbable.indexOf(document.activeElement);

  if (x > -1) {
    x += shiftKey ? -1 : 1;
  }

  // If the tabbable element does not exist,
  // focus head/tail based on shiftKey
  if (typeof tabbable[x] === "undefined") {
    event.preventDefault();
    target = shiftKey ? tail : head;
    target.focus();
    return;
  }

  event.preventDefault();

  tabbable[x].focus();
}
module.exports = exports["default"];
},{"./tabbable":87}],87:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = findTabbableDescendants;
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */

var tabbableNode = /input|select|textarea|button|object/;

function hidesContents(element) {
  var zeroSize = element.offsetWidth <= 0 && element.offsetHeight <= 0;

  // If the node is empty, this is good enough
  if (zeroSize && !element.innerHTML) return true;

  // Otherwise we need to check some styles
  var style = window.getComputedStyle(element);
  return zeroSize ? style.getPropertyValue("overflow") !== "visible" : style.getPropertyValue("display") == "none";
}

function visible(element) {
  var parentElement = element;
  while (parentElement) {
    if (parentElement === document.body) break;
    if (hidesContents(parentElement)) return false;
    parentElement = parentElement.parentNode;
  }
  return true;
}

function focusable(element, isTabIndexNotNaN) {
  var nodeName = element.nodeName.toLowerCase();
  var res = tabbableNode.test(nodeName) && !element.disabled || (nodeName === "a" ? element.href || isTabIndexNotNaN : isTabIndexNotNaN);
  return res && visible(element);
}

function tabbable(element) {
  var tabIndex = element.getAttribute("tabindex");
  if (tabIndex === null) tabIndex = undefined;
  var isTabIndexNaN = isNaN(tabIndex);
  return (isTabIndexNaN || tabIndex >= 0) && focusable(element, !isTabIndexNaN);
}

function findTabbableDescendants(element) {
  return [].slice.call(element.querySelectorAll("*"), 0).filter(tabbable);
}
module.exports = exports["default"];
},{}],88:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Modal = require("./components/Modal");

var _Modal2 = _interopRequireDefault(_Modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Modal2.default;
module.exports = exports["default"];
},{"./components/Modal":80}],89:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _classnames = require('classnames');

var _classnames2 = _interopRequireDefault(_classnames);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _resizeObserverPolyfill = require('resize-observer-polyfill');

var _resizeObserverPolyfill2 = _interopRequireDefault(_resizeObserverPolyfill);

var _utils = require('./utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint no-debugger: "warn" */


/**
 * Predefined constants
 * @type {Object}
 */
var constants = {
  orientation: {
    horizontal: {
      dimension: 'width',
      direction: 'left',
      reverseDirection: 'right',
      coordinate: 'x'
    },
    vertical: {
      dimension: 'height',
      direction: 'top',
      reverseDirection: 'bottom',
      coordinate: 'y'
    }
  }
};

var Slider = function (_Component) {
  _inherits(Slider, _Component);

  function Slider(props, context) {
    _classCallCheck(this, Slider);

    var _this = _possibleConstructorReturn(this, (Slider.__proto__ || Object.getPrototypeOf(Slider)).call(this, props, context));

    _this.handleFormat = function (value) {
      var format = _this.props.format;

      return format ? format(value) : value;
    };

    _this.handleUpdate = function () {
      if (!_this.slider) {
        // for shallow rendering
        return;
      }
      var orientation = _this.props.orientation;

      var dimension = (0, _utils.capitalize)(constants.orientation[orientation].dimension);
      var sliderPos = _this.slider['offset' + dimension];
      var handlePos = _this.handle['offset' + dimension];

      _this.setState({
        limit: sliderPos - handlePos,
        grab: handlePos / 2
      });
    };

    _this.handleStart = function (e) {
      var onChangeStart = _this.props.onChangeStart;

      document.addEventListener('mousemove', _this.handleDrag);
      document.addEventListener('mouseup', _this.handleEnd);
      _this.setState({
        active: true
      }, function () {
        onChangeStart && onChangeStart(e);
      });
    };

    _this.handleDrag = function (e) {
      e.stopPropagation();
      var onChange = _this.props.onChange;
      var _e$target = e.target,
          className = _e$target.className,
          classList = _e$target.classList,
          dataset = _e$target.dataset;

      if (!onChange || className === 'rangeslider__labels') return;

      var value = _this.position(e);

      if (classList && classList.contains('rangeslider__label-item') && dataset.value) {
        value = parseFloat(dataset.value);
      }

      onChange && onChange(value, e);
    };

    _this.handleEnd = function (e) {
      var onChangeComplete = _this.props.onChangeComplete;

      _this.setState({
        active: false
      }, function () {
        onChangeComplete && onChangeComplete(e);
      });
      document.removeEventListener('mousemove', _this.handleDrag);
      document.removeEventListener('mouseup', _this.handleEnd);
    };

    _this.handleKeyDown = function (e) {
      e.preventDefault();
      var keyCode = e.keyCode;
      var _this$props = _this.props,
          value = _this$props.value,
          min = _this$props.min,
          max = _this$props.max,
          step = _this$props.step,
          onChange = _this$props.onChange;

      var sliderValue = void 0;

      switch (keyCode) {
        case 38:
        case 39:
          sliderValue = value + step > max ? max : value + step;
          onChange && onChange(sliderValue, e);
          break;
        case 37:
        case 40:
          sliderValue = value - step < min ? min : value - step;
          onChange && onChange(sliderValue, e);
          break;
      }
    };

    _this.getPositionFromValue = function (value) {
      var limit = _this.state.limit;
      var _this$props2 = _this.props,
          min = _this$props2.min,
          max = _this$props2.max;

      var diffMaxMin = max - min;
      var diffValMin = value - min;
      var percentage = diffValMin / diffMaxMin;
      var pos = Math.round(percentage * limit);

      return pos;
    };

    _this.getValueFromPosition = function (pos) {
      var limit = _this.state.limit;
      var _this$props3 = _this.props,
          orientation = _this$props3.orientation,
          min = _this$props3.min,
          max = _this$props3.max,
          step = _this$props3.step;

      var percentage = (0, _utils.clamp)(pos, 0, limit) / (limit || 1);
      var baseVal = step * Math.round(percentage * (max - min) / step);
      var value = orientation === 'horizontal' ? baseVal + min : max - baseVal;

      return (0, _utils.clamp)(value, min, max);
    };

    _this.position = function (e) {
      var grab = _this.state.grab;
      var _this$props4 = _this.props,
          orientation = _this$props4.orientation,
          reverse = _this$props4.reverse;


      var node = _this.slider;
      var coordinateStyle = constants.orientation[orientation].coordinate;
      var directionStyle = reverse ? constants.orientation[orientation].reverseDirection : constants.orientation[orientation].direction;
      var clientCoordinateStyle = 'client' + (0, _utils.capitalize)(coordinateStyle);
      var coordinate = !e.touches ? e[clientCoordinateStyle] : e.touches[0][clientCoordinateStyle];
      var direction = node.getBoundingClientRect()[directionStyle];
      var pos = reverse ? direction - coordinate - grab : coordinate - direction - grab;
      var value = _this.getValueFromPosition(pos);

      return value;
    };

    _this.coordinates = function (pos) {
      var _this$state = _this.state,
          limit = _this$state.limit,
          grab = _this$state.grab;
      var orientation = _this.props.orientation;

      var value = _this.getValueFromPosition(pos);
      var position = _this.getPositionFromValue(value);
      var handlePos = orientation === 'horizontal' ? position + grab : position;
      var fillPos = orientation === 'horizontal' ? handlePos : limit - handlePos;

      return {
        fill: fillPos,
        handle: handlePos,
        label: handlePos
      };
    };

    _this.renderLabels = function (labels) {
      return _react2.default.createElement(
        'ul',
        {
          ref: function ref(sl) {
            _this.labels = sl;
          },
          className: (0, _classnames2.default)('rangeslider__labels')
        },
        labels
      );
    };

    _this.state = {
      active: false,
      limit: 0,
      grab: 0
    };
    return _this;
  }

  _createClass(Slider, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.handleUpdate();
      var resizeObserver = new _resizeObserverPolyfill2.default(this.handleUpdate);
      resizeObserver.observe(this.slider);
    }

    /**
     * Format label/tooltip value
     * @param  {Number} - value
     * @return {Formatted Number}
     */


    /**
     * Update slider state on change
     * @return {void}
     */


    /**
     * Attach event listeners to mousemove/mouseup events
     * @return {void}
     */


    /**
     * Handle drag/mousemove event
     * @param  {Object} e - Event object
     * @return {void}
     */


    /**
     * Detach event listeners to mousemove/mouseup events
     * @return {void}
     */


    /**
     * Support for key events on the slider handle
     * @param  {Object} e - Event object
     * @return {void}
     */


    /**
     * Calculate position of slider based on its value
     * @param  {number} value - Current value of slider
     * @return {position} pos - Calculated position of slider based on value
     */


    /**
     * Translate position of slider to slider value
     * @param  {number} pos - Current position/coordinates of slider
     * @return {number} value - Slider value
     */


    /**
     * Calculate position of slider based on value
     * @param  {Object} e - Event object
     * @return {number} value - Slider value
     */


    /**
     * Grab coordinates of slider
     * @param  {Object} pos - Position object
     * @return {Object} - Slider fill/handle coordinates
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          value = _props.value,
          orientation = _props.orientation,
          className = _props.className,
          tooltip = _props.tooltip,
          reverse = _props.reverse,
          labels = _props.labels,
          min = _props.min,
          max = _props.max,
          handleLabel = _props.handleLabel;
      var active = this.state.active;

      var dimension = constants.orientation[orientation].dimension;
      var direction = reverse ? constants.orientation[orientation].reverseDirection : constants.orientation[orientation].direction;
      var position = this.getPositionFromValue(value);
      var coords = this.coordinates(position);
      var fillStyle = _defineProperty({}, dimension, coords.fill + 'px');
      var handleStyle = _defineProperty({}, direction, coords.handle + 'px');
      var showTooltip = tooltip && active;

      var labelItems = [];
      var labelKeys = Object.keys(labels);

      if (labelKeys.length > 0) {
        labelKeys = labelKeys.sort(function (a, b) {
          return reverse ? a - b : b - a;
        });

        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
          for (var _iterator = labelKeys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var key = _step.value;

            var labelPosition = this.getPositionFromValue(key);
            var labelCoords = this.coordinates(labelPosition);
            var labelStyle = _defineProperty({}, direction, labelCoords.label + 'px');

            labelItems.push(_react2.default.createElement(
              'li',
              {
                key: key,
                className: (0, _classnames2.default)('rangeslider__label-item'),
                'data-value': key,
                onMouseDown: this.handleDrag,
                onTouchStart: this.handleStart,
                onTouchEnd: this.handleEnd,
                style: labelStyle
              },
              this.props.labels[key]
            ));
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
      }

      return _react2.default.createElement(
        'div',
        {
          ref: function ref(s) {
            _this2.slider = s;
          },
          className: (0, _classnames2.default)('rangeslider', 'rangeslider-' + orientation, { 'rangeslider-reverse': reverse }, className),
          onMouseDown: this.handleDrag,
          onMouseUp: this.handleEnd,
          onTouchStart: this.handleStart,
          onTouchEnd: this.handleEnd,
          'aria-valuemin': min,
          'aria-valuemax': max,
          'aria-valuenow': value,
          'aria-orientation': orientation
        },
        _react2.default.createElement('div', { className: 'rangeslider__fill', style: fillStyle }),
        _react2.default.createElement(
          'div',
          {
            ref: function ref(sh) {
              _this2.handle = sh;
            },
            className: 'rangeslider__handle',
            onMouseDown: this.handleStart,
            onTouchMove: this.handleDrag,
            onTouchEnd: this.handleEnd,
            onKeyDown: this.handleKeyDown,
            style: handleStyle,
            tabIndex: 0
          },
          showTooltip ? _react2.default.createElement(
            'div',
            {
              ref: function ref(st) {
                _this2.tooltip = st;
              },
              className: 'rangeslider__handle-tooltip'
            },
            _react2.default.createElement(
              'span',
              null,
              this.handleFormat(value)
            )
          ) : null,
          _react2.default.createElement(
            'div',
            { className: 'rangeslider__handle-label' },
            handleLabel
          )
        ),
        labels ? this.renderLabels(labelItems) : null
      );
    }
  }]);

  return Slider;
}(_react.Component);

Slider.propTypes = {
  min: _propTypes2.default.number,
  max: _propTypes2.default.number,
  step: _propTypes2.default.number,
  value: _propTypes2.default.number,
  orientation: _propTypes2.default.string,
  tooltip: _propTypes2.default.bool,
  reverse: _propTypes2.default.bool,
  labels: _propTypes2.default.object,
  handleLabel: _propTypes2.default.string,
  format: _propTypes2.default.func,
  onChangeStart: _propTypes2.default.func,
  onChange: _propTypes2.default.func,
  onChangeComplete: _propTypes2.default.func
};
Slider.defaultProps = {
  min: 0,
  max: 100,
  step: 1,
  value: 0,
  orientation: 'horizontal',
  tooltip: true,
  reverse: false,
  labels: {},
  handleLabel: ''
};
exports.default = Slider;
},{"./utils":91,"classnames":undefined,"prop-types":50,"react":undefined,"resize-observer-polyfill":122}],90:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Rangeslider = require('./Rangeslider');

var _Rangeslider2 = _interopRequireDefault(_Rangeslider);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Rangeslider2.default;
},{"./Rangeslider":89}],91:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.capitalize = capitalize;
exports.clamp = clamp;
/**
 * Capitalize first letter of string
 * @private
 * @param  {string} - String
 * @return {string} - String with first letter capitalized
 */
function capitalize(str) {
  return str.charAt(0).toUpperCase() + str.substr(1);
}

/**
 * Clamp position between a range
 * @param  {number} - Value to be clamped
 * @param  {number} - Minimum value in range
 * @param  {number} - Maximum value in range
 * @return {number} - Clamped value
 */
function clamp(value, min, max) {
  return Math.min(Math.max(value, min), max);
}
},{}],92:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _warning = require("warning");

var _warning2 = _interopRequireDefault(_warning);

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _history = require("history");

var _Router = require("./Router");

var _Router2 = _interopRequireDefault(_Router);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The public API for a <Router> that uses HTML5 history.
 */
var BrowserRouter = function (_React$Component) {
  _inherits(BrowserRouter, _React$Component);

  function BrowserRouter() {
    var _temp, _this, _ret;

    _classCallCheck(this, BrowserRouter);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.history = (0, _history.createBrowserHistory)(_this.props), _temp), _possibleConstructorReturn(_this, _ret);
  }

  BrowserRouter.prototype.componentWillMount = function componentWillMount() {
    (0, _warning2.default)(!this.props.history, "<BrowserRouter> ignores the history prop. To use a custom history, " + "use `import { Router }` instead of `import { BrowserRouter as Router }`.");
  };

  BrowserRouter.prototype.render = function render() {
    return _react2.default.createElement(_Router2.default, { history: this.history, children: this.props.children });
  };

  return BrowserRouter;
}(_react2.default.Component);

BrowserRouter.propTypes = {
  basename: _propTypes2.default.string,
  forceRefresh: _propTypes2.default.bool,
  getUserConfirmation: _propTypes2.default.func,
  keyLength: _propTypes2.default.number,
  children: _propTypes2.default.node
};
exports.default = BrowserRouter;
},{"./Router":100,"history":39,"prop-types":50,"react":undefined,"warning":106}],93:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _warning = require("warning");

var _warning2 = _interopRequireDefault(_warning);

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _history = require("history");

var _Router = require("./Router");

var _Router2 = _interopRequireDefault(_Router);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The public API for a <Router> that uses window.location.hash.
 */
var HashRouter = function (_React$Component) {
  _inherits(HashRouter, _React$Component);

  function HashRouter() {
    var _temp, _this, _ret;

    _classCallCheck(this, HashRouter);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.history = (0, _history.createHashHistory)(_this.props), _temp), _possibleConstructorReturn(_this, _ret);
  }

  HashRouter.prototype.componentWillMount = function componentWillMount() {
    (0, _warning2.default)(!this.props.history, "<HashRouter> ignores the history prop. To use a custom history, " + "use `import { Router }` instead of `import { HashRouter as Router }`.");
  };

  HashRouter.prototype.render = function render() {
    return _react2.default.createElement(_Router2.default, { history: this.history, children: this.props.children });
  };

  return HashRouter;
}(_react2.default.Component);

HashRouter.propTypes = {
  basename: _propTypes2.default.string,
  getUserConfirmation: _propTypes2.default.func,
  hashType: _propTypes2.default.oneOf(["hashbang", "noslash", "slash"]),
  children: _propTypes2.default.node
};
exports.default = HashRouter;
},{"./Router":100,"history":39,"prop-types":50,"react":undefined,"warning":106}],94:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _invariant = require("invariant");

var _invariant2 = _interopRequireDefault(_invariant);

var _history = require("history");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var isModifiedEvent = function isModifiedEvent(event) {
  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);
};

/**
 * The public API for rendering a history-aware <a>.
 */

var Link = function (_React$Component) {
  _inherits(Link, _React$Component);

  function Link() {
    var _temp, _this, _ret;

    _classCallCheck(this, Link);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.handleClick = function (event) {
      if (_this.props.onClick) _this.props.onClick(event);

      if (!event.defaultPrevented && // onClick prevented default
      event.button === 0 && // ignore everything but left clicks
      !_this.props.target && // let browser handle "target=_blank" etc.
      !isModifiedEvent(event) // ignore clicks with modifier keys
      ) {
          event.preventDefault();

          var history = _this.context.router.history;
          var _this$props = _this.props,
              replace = _this$props.replace,
              to = _this$props.to;


          if (replace) {
            history.replace(to);
          } else {
            history.push(to);
          }
        }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  Link.prototype.render = function render() {
    var _props = this.props,
        replace = _props.replace,
        to = _props.to,
        innerRef = _props.innerRef,
        props = _objectWithoutProperties(_props, ["replace", "to", "innerRef"]); // eslint-disable-line no-unused-vars

    (0, _invariant2.default)(this.context.router, "You should not use <Link> outside a <Router>");

    (0, _invariant2.default)(to !== undefined, 'You must specify the "to" property');

    var history = this.context.router.history;

    var location = typeof to === "string" ? (0, _history.createLocation)(to, null, null, history.location) : to;

    var href = history.createHref(location);
    return _react2.default.createElement("a", _extends({}, props, { onClick: this.handleClick, href: href, ref: innerRef }));
  };

  return Link;
}(_react2.default.Component);

Link.propTypes = {
  onClick: _propTypes2.default.func,
  target: _propTypes2.default.string,
  replace: _propTypes2.default.bool,
  to: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]).isRequired,
  innerRef: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func])
};
Link.defaultProps = {
  replace: false
};
Link.contextTypes = {
  router: _propTypes2.default.shape({
    history: _propTypes2.default.shape({
      push: _propTypes2.default.func.isRequired,
      replace: _propTypes2.default.func.isRequired,
      createHref: _propTypes2.default.func.isRequired
    }).isRequired
  }).isRequired
};
exports.default = Link;
},{"history":39,"invariant":41,"prop-types":50,"react":undefined}],95:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _MemoryRouter = require("react-router/MemoryRouter");

var _MemoryRouter2 = _interopRequireDefault(_MemoryRouter);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _MemoryRouter2.default; // Written in this round about way for babel-transform-imports
},{"react-router/MemoryRouter":108}],96:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _Route = require("./Route");

var _Route2 = _interopRequireDefault(_Route);

var _Link = require("./Link");

var _Link2 = _interopRequireDefault(_Link);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

/**
 * A <Link> wrapper that knows if it's "active" or not.
 */
var NavLink = function NavLink(_ref) {
  var to = _ref.to,
      exact = _ref.exact,
      strict = _ref.strict,
      location = _ref.location,
      activeClassName = _ref.activeClassName,
      className = _ref.className,
      activeStyle = _ref.activeStyle,
      style = _ref.style,
      getIsActive = _ref.isActive,
      ariaCurrent = _ref["aria-current"],
      rest = _objectWithoutProperties(_ref, ["to", "exact", "strict", "location", "activeClassName", "className", "activeStyle", "style", "isActive", "aria-current"]);

  var path = (typeof to === "undefined" ? "undefined" : _typeof(to)) === "object" ? to.pathname : to;

  // Regex taken from: https://github.com/pillarjs/path-to-regexp/blob/master/index.js#L202
  var escapedPath = path && path.replace(/([.+*?=^!:${}()[\]|/\\])/g, "\\$1");

  return _react2.default.createElement(_Route2.default, {
    path: escapedPath,
    exact: exact,
    strict: strict,
    location: location,
    children: function children(_ref2) {
      var location = _ref2.location,
          match = _ref2.match;

      var isActive = !!(getIsActive ? getIsActive(match, location) : match);

      return _react2.default.createElement(_Link2.default, _extends({
        to: to,
        className: isActive ? [className, activeClassName].filter(function (i) {
          return i;
        }).join(" ") : className,
        style: isActive ? _extends({}, style, activeStyle) : style,
        "aria-current": isActive && ariaCurrent || null
      }, rest));
    }
  });
};

NavLink.propTypes = {
  to: _Link2.default.propTypes.to,
  exact: _propTypes2.default.bool,
  strict: _propTypes2.default.bool,
  location: _propTypes2.default.object,
  activeClassName: _propTypes2.default.string,
  className: _propTypes2.default.string,
  activeStyle: _propTypes2.default.object,
  style: _propTypes2.default.object,
  isActive: _propTypes2.default.func,
  "aria-current": _propTypes2.default.oneOf(["page", "step", "location", "date", "time", "true"])
};

NavLink.defaultProps = {
  activeClassName: "active",
  "aria-current": "page"
};

exports.default = NavLink;
},{"./Link":94,"./Route":99,"prop-types":50,"react":undefined}],97:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _Prompt = require("react-router/Prompt");

var _Prompt2 = _interopRequireDefault(_Prompt);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Prompt2.default; // Written in this round about way for babel-transform-imports
},{"react-router/Prompt":109}],98:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _Redirect = require("react-router/Redirect");

var _Redirect2 = _interopRequireDefault(_Redirect);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Redirect2.default; // Written in this round about way for babel-transform-imports
},{"react-router/Redirect":110}],99:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _Route = require("react-router/Route");

var _Route2 = _interopRequireDefault(_Route);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Route2.default; // Written in this round about way for babel-transform-imports
},{"react-router/Route":111}],100:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _Router = require("react-router/Router");

var _Router2 = _interopRequireDefault(_Router);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Router2.default; // Written in this round about way for babel-transform-imports
},{"react-router/Router":112}],101:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _StaticRouter = require("react-router/StaticRouter");

var _StaticRouter2 = _interopRequireDefault(_StaticRouter);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _StaticRouter2.default; // Written in this round about way for babel-transform-imports
},{"react-router/StaticRouter":113}],102:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _Switch = require("react-router/Switch");

var _Switch2 = _interopRequireDefault(_Switch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Switch2.default; // Written in this round about way for babel-transform-imports
},{"react-router/Switch":114}],103:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _generatePath = require("react-router/generatePath");

var _generatePath2 = _interopRequireDefault(_generatePath);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _generatePath2.default; // Written in this round about way for babel-transform-imports
},{"react-router/generatePath":115}],104:[function(require,module,exports){
"use strict";

exports.__esModule = true;
exports.withRouter = exports.matchPath = exports.generatePath = exports.Switch = exports.StaticRouter = exports.Router = exports.Route = exports.Redirect = exports.Prompt = exports.NavLink = exports.MemoryRouter = exports.Link = exports.HashRouter = exports.BrowserRouter = undefined;

var _BrowserRouter2 = require("./BrowserRouter");

var _BrowserRouter3 = _interopRequireDefault(_BrowserRouter2);

var _HashRouter2 = require("./HashRouter");

var _HashRouter3 = _interopRequireDefault(_HashRouter2);

var _Link2 = require("./Link");

var _Link3 = _interopRequireDefault(_Link2);

var _MemoryRouter2 = require("./MemoryRouter");

var _MemoryRouter3 = _interopRequireDefault(_MemoryRouter2);

var _NavLink2 = require("./NavLink");

var _NavLink3 = _interopRequireDefault(_NavLink2);

var _Prompt2 = require("./Prompt");

var _Prompt3 = _interopRequireDefault(_Prompt2);

var _Redirect2 = require("./Redirect");

var _Redirect3 = _interopRequireDefault(_Redirect2);

var _Route2 = require("./Route");

var _Route3 = _interopRequireDefault(_Route2);

var _Router2 = require("./Router");

var _Router3 = _interopRequireDefault(_Router2);

var _StaticRouter2 = require("./StaticRouter");

var _StaticRouter3 = _interopRequireDefault(_StaticRouter2);

var _Switch2 = require("./Switch");

var _Switch3 = _interopRequireDefault(_Switch2);

var _generatePath2 = require("./generatePath");

var _generatePath3 = _interopRequireDefault(_generatePath2);

var _matchPath2 = require("./matchPath");

var _matchPath3 = _interopRequireDefault(_matchPath2);

var _withRouter2 = require("./withRouter");

var _withRouter3 = _interopRequireDefault(_withRouter2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.BrowserRouter = _BrowserRouter3.default;
exports.HashRouter = _HashRouter3.default;
exports.Link = _Link3.default;
exports.MemoryRouter = _MemoryRouter3.default;
exports.NavLink = _NavLink3.default;
exports.Prompt = _Prompt3.default;
exports.Redirect = _Redirect3.default;
exports.Route = _Route3.default;
exports.Router = _Router3.default;
exports.StaticRouter = _StaticRouter3.default;
exports.Switch = _Switch3.default;
exports.generatePath = _generatePath3.default;
exports.matchPath = _matchPath3.default;
exports.withRouter = _withRouter3.default;
},{"./BrowserRouter":92,"./HashRouter":93,"./Link":94,"./MemoryRouter":95,"./NavLink":96,"./Prompt":97,"./Redirect":98,"./Route":99,"./Router":100,"./StaticRouter":101,"./Switch":102,"./generatePath":103,"./matchPath":105,"./withRouter":107}],105:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _matchPath = require("react-router/matchPath");

var _matchPath2 = _interopRequireDefault(_matchPath);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _matchPath2.default; // Written in this round about way for babel-transform-imports
},{"react-router/matchPath":116}],106:[function(require,module,exports){
(function (process){
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

/**
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical
 * paths. Removing the logging code for production environments will keep the
 * same logic and follow the same code paths.
 */

var __DEV__ = process.env.NODE_ENV !== 'production';

var warning = function() {};

if (__DEV__) {
  var printWarning = function printWarning(format, args) {
    var len = arguments.length;
    args = new Array(len > 1 ? len - 1 : 0);
    for (var key = 1; key < len; key++) {
      args[key - 1] = arguments[key];
    }
    var argIndex = 0;
    var message = 'Warning: ' +
      format.replace(/%s/g, function() {
        return args[argIndex++];
      });
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  }

  warning = function(condition, format, args) {
    var len = arguments.length;
    args = new Array(len > 2 ? len - 2 : 0);
    for (var key = 2; key < len; key++) {
      args[key - 2] = arguments[key];
    }
    if (format === undefined) {
      throw new Error(
          '`warning(condition, format, ...args)` requires a warning ' +
          'message argument'
      );
    }
    if (!condition) {
      printWarning.apply(null, [format].concat(args));
    }
  };
}

module.exports = warning;

}).call(this,require('_process'))

},{"_process":46}],107:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _withRouter = require("react-router/withRouter");

var _withRouter2 = _interopRequireDefault(_withRouter);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _withRouter2.default; // Written in this round about way for babel-transform-imports
},{"react-router/withRouter":118}],108:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _warning = require("warning");

var _warning2 = _interopRequireDefault(_warning);

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _history = require("history");

var _Router = require("./Router");

var _Router2 = _interopRequireDefault(_Router);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The public API for a <Router> that stores location in memory.
 */
var MemoryRouter = function (_React$Component) {
  _inherits(MemoryRouter, _React$Component);

  function MemoryRouter() {
    var _temp, _this, _ret;

    _classCallCheck(this, MemoryRouter);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.history = (0, _history.createMemoryHistory)(_this.props), _temp), _possibleConstructorReturn(_this, _ret);
  }

  MemoryRouter.prototype.componentWillMount = function componentWillMount() {
    (0, _warning2.default)(!this.props.history, "<MemoryRouter> ignores the history prop. To use a custom history, " + "use `import { Router }` instead of `import { MemoryRouter as Router }`.");
  };

  MemoryRouter.prototype.render = function render() {
    return _react2.default.createElement(_Router2.default, { history: this.history, children: this.props.children });
  };

  return MemoryRouter;
}(_react2.default.Component);

MemoryRouter.propTypes = {
  initialEntries: _propTypes2.default.array,
  initialIndex: _propTypes2.default.number,
  getUserConfirmation: _propTypes2.default.func,
  keyLength: _propTypes2.default.number,
  children: _propTypes2.default.node
};
exports.default = MemoryRouter;
},{"./Router":112,"history":39,"prop-types":50,"react":undefined,"warning":117}],109:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _invariant = require("invariant");

var _invariant2 = _interopRequireDefault(_invariant);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The public API for prompting the user before navigating away
 * from a screen with a component.
 */
var Prompt = function (_React$Component) {
  _inherits(Prompt, _React$Component);

  function Prompt() {
    _classCallCheck(this, Prompt);

    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));
  }

  Prompt.prototype.enable = function enable(message) {
    if (this.unblock) this.unblock();

    this.unblock = this.context.router.history.block(message);
  };

  Prompt.prototype.disable = function disable() {
    if (this.unblock) {
      this.unblock();
      this.unblock = null;
    }
  };

  Prompt.prototype.componentWillMount = function componentWillMount() {
    (0, _invariant2.default)(this.context.router, "You should not use <Prompt> outside a <Router>");

    if (this.props.when) this.enable(this.props.message);
  };

  Prompt.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
    if (nextProps.when) {
      if (!this.props.when || this.props.message !== nextProps.message) this.enable(nextProps.message);
    } else {
      this.disable();
    }
  };

  Prompt.prototype.componentWillUnmount = function componentWillUnmount() {
    this.disable();
  };

  Prompt.prototype.render = function render() {
    return null;
  };

  return Prompt;
}(_react2.default.Component);

Prompt.propTypes = {
  when: _propTypes2.default.bool,
  message: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]).isRequired
};
Prompt.defaultProps = {
  when: true
};
Prompt.contextTypes = {
  router: _propTypes2.default.shape({
    history: _propTypes2.default.shape({
      block: _propTypes2.default.func.isRequired
    }).isRequired
  }).isRequired
};
exports.default = Prompt;
},{"invariant":41,"prop-types":50,"react":undefined}],110:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _warning = require("warning");

var _warning2 = _interopRequireDefault(_warning);

var _invariant = require("invariant");

var _invariant2 = _interopRequireDefault(_invariant);

var _history = require("history");

var _generatePath = require("./generatePath");

var _generatePath2 = _interopRequireDefault(_generatePath);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The public API for updating the location programmatically
 * with a component.
 */
var Redirect = function (_React$Component) {
  _inherits(Redirect, _React$Component);

  function Redirect() {
    _classCallCheck(this, Redirect);

    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));
  }

  Redirect.prototype.isStatic = function isStatic() {
    return this.context.router && this.context.router.staticContext;
  };

  Redirect.prototype.componentWillMount = function componentWillMount() {
    (0, _invariant2.default)(this.context.router, "You should not use <Redirect> outside a <Router>");

    if (this.isStatic()) this.perform();
  };

  Redirect.prototype.componentDidMount = function componentDidMount() {
    if (!this.isStatic()) this.perform();
  };

  Redirect.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {
    var prevTo = (0, _history.createLocation)(prevProps.to);
    var nextTo = (0, _history.createLocation)(this.props.to);

    if ((0, _history.locationsAreEqual)(prevTo, nextTo)) {
      (0, _warning2.default)(false, "You tried to redirect to the same route you're currently on: " + ("\"" + nextTo.pathname + nextTo.search + "\""));
      return;
    }

    this.perform();
  };

  Redirect.prototype.computeTo = function computeTo(_ref) {
    var computedMatch = _ref.computedMatch,
        to = _ref.to;

    if (computedMatch) {
      if (typeof to === "string") {
        return (0, _generatePath2.default)(to, computedMatch.params);
      } else {
        return _extends({}, to, {
          pathname: (0, _generatePath2.default)(to.pathname, computedMatch.params)
        });
      }
    }

    return to;
  };

  Redirect.prototype.perform = function perform() {
    var history = this.context.router.history;
    var push = this.props.push;

    var to = this.computeTo(this.props);

    if (push) {
      history.push(to);
    } else {
      history.replace(to);
    }
  };

  Redirect.prototype.render = function render() {
    return null;
  };

  return Redirect;
}(_react2.default.Component);

Redirect.propTypes = {
  computedMatch: _propTypes2.default.object, // private, from <Switch>
  push: _propTypes2.default.bool,
  from: _propTypes2.default.string,
  to: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]).isRequired
};
Redirect.defaultProps = {
  push: false
};
Redirect.contextTypes = {
  router: _propTypes2.default.shape({
    history: _propTypes2.default.shape({
      push: _propTypes2.default.func.isRequired,
      replace: _propTypes2.default.func.isRequired
    }).isRequired,
    staticContext: _propTypes2.default.object
  }).isRequired
};
exports.default = Redirect;
},{"./generatePath":115,"history":39,"invariant":41,"prop-types":50,"react":undefined,"warning":117}],111:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _warning = require("warning");

var _warning2 = _interopRequireDefault(_warning);

var _invariant = require("invariant");

var _invariant2 = _interopRequireDefault(_invariant);

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _matchPath = require("./matchPath");

var _matchPath2 = _interopRequireDefault(_matchPath);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var isEmptyChildren = function isEmptyChildren(children) {
  return _react2.default.Children.count(children) === 0;
};

/**
 * The public API for matching a single path and rendering.
 */

var Route = function (_React$Component) {
  _inherits(Route, _React$Component);

  function Route() {
    var _temp, _this, _ret;

    _classCallCheck(this, Route);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {
      match: _this.computeMatch(_this.props, _this.context.router)
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  Route.prototype.getChildContext = function getChildContext() {
    return {
      router: _extends({}, this.context.router, {
        route: {
          location: this.props.location || this.context.router.route.location,
          match: this.state.match
        }
      })
    };
  };

  Route.prototype.computeMatch = function computeMatch(_ref, router) {
    var computedMatch = _ref.computedMatch,
        location = _ref.location,
        path = _ref.path,
        strict = _ref.strict,
        exact = _ref.exact,
        sensitive = _ref.sensitive;

    if (computedMatch) return computedMatch; // <Switch> already computed the match for us

    (0, _invariant2.default)(router, "You should not use <Route> or withRouter() outside a <Router>");

    var route = router.route;

    var pathname = (location || route.location).pathname;

    return (0, _matchPath2.default)(pathname, { path: path, strict: strict, exact: exact, sensitive: sensitive }, route.match);
  };

  Route.prototype.componentWillMount = function componentWillMount() {
    (0, _warning2.default)(!(this.props.component && this.props.render), "You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored");

    (0, _warning2.default)(!(this.props.component && this.props.children && !isEmptyChildren(this.props.children)), "You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored");

    (0, _warning2.default)(!(this.props.render && this.props.children && !isEmptyChildren(this.props.children)), "You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored");
  };

  Route.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps, nextContext) {
    (0, _warning2.default)(!(nextProps.location && !this.props.location), '<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.');

    (0, _warning2.default)(!(!nextProps.location && this.props.location), '<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.');

    this.setState({
      match: this.computeMatch(nextProps, nextContext.router)
    });
  };

  Route.prototype.render = function render() {
    var match = this.state.match;
    var _props = this.props,
        children = _props.children,
        component = _props.component,
        render = _props.render;
    var _context$router = this.context.router,
        history = _context$router.history,
        route = _context$router.route,
        staticContext = _context$router.staticContext;

    var location = this.props.location || route.location;
    var props = { match: match, location: location, history: history, staticContext: staticContext };

    if (component) return match ? _react2.default.createElement(component, props) : null;

    if (render) return match ? render(props) : null;

    if (typeof children === "function") return children(props);

    if (children && !isEmptyChildren(children)) return _react2.default.Children.only(children);

    return null;
  };

  return Route;
}(_react2.default.Component);

Route.propTypes = {
  computedMatch: _propTypes2.default.object, // private, from <Switch>
  path: _propTypes2.default.string,
  exact: _propTypes2.default.bool,
  strict: _propTypes2.default.bool,
  sensitive: _propTypes2.default.bool,
  component: _propTypes2.default.func,
  render: _propTypes2.default.func,
  children: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.node]),
  location: _propTypes2.default.object
};
Route.contextTypes = {
  router: _propTypes2.default.shape({
    history: _propTypes2.default.object.isRequired,
    route: _propTypes2.default.object.isRequired,
    staticContext: _propTypes2.default.object
  })
};
Route.childContextTypes = {
  router: _propTypes2.default.object.isRequired
};
exports.default = Route;
},{"./matchPath":116,"invariant":41,"prop-types":50,"react":undefined,"warning":117}],112:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _warning = require("warning");

var _warning2 = _interopRequireDefault(_warning);

var _invariant = require("invariant");

var _invariant2 = _interopRequireDefault(_invariant);

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The public API for putting history on context.
 */
var Router = function (_React$Component) {
  _inherits(Router, _React$Component);

  function Router() {
    var _temp, _this, _ret;

    _classCallCheck(this, Router);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {
      match: _this.computeMatch(_this.props.history.location.pathname)
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  Router.prototype.getChildContext = function getChildContext() {
    return {
      router: _extends({}, this.context.router, {
        history: this.props.history,
        route: {
          location: this.props.history.location,
          match: this.state.match
        }
      })
    };
  };

  Router.prototype.computeMatch = function computeMatch(pathname) {
    return {
      path: "/",
      url: "/",
      params: {},
      isExact: pathname === "/"
    };
  };

  Router.prototype.componentWillMount = function componentWillMount() {
    var _this2 = this;

    var _props = this.props,
        children = _props.children,
        history = _props.history;


    (0, _invariant2.default)(children == null || _react2.default.Children.count(children) === 1, "A <Router> may have only one child element");

    // Do this here so we can setState when a <Redirect> changes the
    // location in componentWillMount. This happens e.g. when doing
    // server rendering using a <StaticRouter>.
    this.unlisten = history.listen(function () {
      _this2.setState({
        match: _this2.computeMatch(history.location.pathname)
      });
    });
  };

  Router.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
    (0, _warning2.default)(this.props.history === nextProps.history, "You cannot change <Router history>");
  };

  Router.prototype.componentWillUnmount = function componentWillUnmount() {
    this.unlisten();
  };

  Router.prototype.render = function render() {
    var children = this.props.children;

    return children ? _react2.default.Children.only(children) : null;
  };

  return Router;
}(_react2.default.Component);

Router.propTypes = {
  history: _propTypes2.default.object.isRequired,
  children: _propTypes2.default.node
};
Router.contextTypes = {
  router: _propTypes2.default.object
};
Router.childContextTypes = {
  router: _propTypes2.default.object.isRequired
};
exports.default = Router;
},{"invariant":41,"prop-types":50,"react":undefined,"warning":117}],113:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _warning = require("warning");

var _warning2 = _interopRequireDefault(_warning);

var _invariant = require("invariant");

var _invariant2 = _interopRequireDefault(_invariant);

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _history = require("history");

var _Router = require("./Router");

var _Router2 = _interopRequireDefault(_Router);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var addLeadingSlash = function addLeadingSlash(path) {
  return path.charAt(0) === "/" ? path : "/" + path;
};

var addBasename = function addBasename(basename, location) {
  if (!basename) return location;

  return _extends({}, location, {
    pathname: addLeadingSlash(basename) + location.pathname
  });
};

var stripBasename = function stripBasename(basename, location) {
  if (!basename) return location;

  var base = addLeadingSlash(basename);

  if (location.pathname.indexOf(base) !== 0) return location;

  return _extends({}, location, {
    pathname: location.pathname.substr(base.length)
  });
};

var createURL = function createURL(location) {
  return typeof location === "string" ? location : (0, _history.createPath)(location);
};

var staticHandler = function staticHandler(methodName) {
  return function () {
    (0, _invariant2.default)(false, "You cannot %s with <StaticRouter>", methodName);
  };
};

var noop = function noop() {};

/**
 * The public top-level API for a "static" <Router>, so-called because it
 * can't actually change the current location. Instead, it just records
 * location changes in a context object. Useful mainly in testing and
 * server-rendering scenarios.
 */

var StaticRouter = function (_React$Component) {
  _inherits(StaticRouter, _React$Component);

  function StaticRouter() {
    var _temp, _this, _ret;

    _classCallCheck(this, StaticRouter);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.createHref = function (path) {
      return addLeadingSlash(_this.props.basename + createURL(path));
    }, _this.handlePush = function (location) {
      var _this$props = _this.props,
          basename = _this$props.basename,
          context = _this$props.context;

      context.action = "PUSH";
      context.location = addBasename(basename, (0, _history.createLocation)(location));
      context.url = createURL(context.location);
    }, _this.handleReplace = function (location) {
      var _this$props2 = _this.props,
          basename = _this$props2.basename,
          context = _this$props2.context;

      context.action = "REPLACE";
      context.location = addBasename(basename, (0, _history.createLocation)(location));
      context.url = createURL(context.location);
    }, _this.handleListen = function () {
      return noop;
    }, _this.handleBlock = function () {
      return noop;
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  StaticRouter.prototype.getChildContext = function getChildContext() {
    return {
      router: {
        staticContext: this.props.context
      }
    };
  };

  StaticRouter.prototype.componentWillMount = function componentWillMount() {
    (0, _warning2.default)(!this.props.history, "<StaticRouter> ignores the history prop. To use a custom history, " + "use `import { Router }` instead of `import { StaticRouter as Router }`.");
  };

  StaticRouter.prototype.render = function render() {
    var _props = this.props,
        basename = _props.basename,
        context = _props.context,
        location = _props.location,
        props = _objectWithoutProperties(_props, ["basename", "context", "location"]);

    var history = {
      createHref: this.createHref,
      action: "POP",
      location: stripBasename(basename, (0, _history.createLocation)(location)),
      push: this.handlePush,
      replace: this.handleReplace,
      go: staticHandler("go"),
      goBack: staticHandler("goBack"),
      goForward: staticHandler("goForward"),
      listen: this.handleListen,
      block: this.handleBlock
    };

    return _react2.default.createElement(_Router2.default, _extends({}, props, { history: history }));
  };

  return StaticRouter;
}(_react2.default.Component);

StaticRouter.propTypes = {
  basename: _propTypes2.default.string,
  context: _propTypes2.default.object.isRequired,
  location: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object])
};
StaticRouter.defaultProps = {
  basename: "",
  location: "/"
};
StaticRouter.childContextTypes = {
  router: _propTypes2.default.object.isRequired
};
exports.default = StaticRouter;
},{"./Router":112,"history":39,"invariant":41,"prop-types":50,"react":undefined,"warning":117}],114:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _warning = require("warning");

var _warning2 = _interopRequireDefault(_warning);

var _invariant = require("invariant");

var _invariant2 = _interopRequireDefault(_invariant);

var _matchPath = require("./matchPath");

var _matchPath2 = _interopRequireDefault(_matchPath);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The public API for rendering the first <Route> that matches.
 */
var Switch = function (_React$Component) {
  _inherits(Switch, _React$Component);

  function Switch() {
    _classCallCheck(this, Switch);

    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));
  }

  Switch.prototype.componentWillMount = function componentWillMount() {
    (0, _invariant2.default)(this.context.router, "You should not use <Switch> outside a <Router>");
  };

  Switch.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
    (0, _warning2.default)(!(nextProps.location && !this.props.location), '<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.');

    (0, _warning2.default)(!(!nextProps.location && this.props.location), '<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.');
  };

  Switch.prototype.render = function render() {
    var route = this.context.router.route;
    var children = this.props.children;

    var location = this.props.location || route.location;

    var match = void 0,
        child = void 0;
    _react2.default.Children.forEach(children, function (element) {
      if (match == null && _react2.default.isValidElement(element)) {
        var _element$props = element.props,
            pathProp = _element$props.path,
            exact = _element$props.exact,
            strict = _element$props.strict,
            sensitive = _element$props.sensitive,
            from = _element$props.from;

        var path = pathProp || from;

        child = element;
        match = (0, _matchPath2.default)(location.pathname, { path: path, exact: exact, strict: strict, sensitive: sensitive }, route.match);
      }
    });

    return match ? _react2.default.cloneElement(child, { location: location, computedMatch: match }) : null;
  };

  return Switch;
}(_react2.default.Component);

Switch.contextTypes = {
  router: _propTypes2.default.shape({
    route: _propTypes2.default.object.isRequired
  }).isRequired
};
Switch.propTypes = {
  children: _propTypes2.default.node,
  location: _propTypes2.default.object
};
exports.default = Switch;
},{"./matchPath":116,"invariant":41,"prop-types":50,"react":undefined,"warning":117}],115:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _pathToRegexp = require("path-to-regexp");

var _pathToRegexp2 = _interopRequireDefault(_pathToRegexp);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var patternCache = {};
var cacheLimit = 10000;
var cacheCount = 0;

var compileGenerator = function compileGenerator(pattern) {
  var cacheKey = pattern;
  var cache = patternCache[cacheKey] || (patternCache[cacheKey] = {});

  if (cache[pattern]) return cache[pattern];

  var compiledGenerator = _pathToRegexp2.default.compile(pattern);

  if (cacheCount < cacheLimit) {
    cache[pattern] = compiledGenerator;
    cacheCount++;
  }

  return compiledGenerator;
};

/**
 * Public API for generating a URL pathname from a pattern and parameters.
 */
var generatePath = function generatePath() {
  var pattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "/";
  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  if (pattern === "/") {
    return pattern;
  }
  var generator = compileGenerator(pattern);
  return generator(params, { pretty: true });
};

exports.default = generatePath;
},{"path-to-regexp":45}],116:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _pathToRegexp = require("path-to-regexp");

var _pathToRegexp2 = _interopRequireDefault(_pathToRegexp);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var patternCache = {};
var cacheLimit = 10000;
var cacheCount = 0;

var compilePath = function compilePath(pattern, options) {
  var cacheKey = "" + options.end + options.strict + options.sensitive;
  var cache = patternCache[cacheKey] || (patternCache[cacheKey] = {});

  if (cache[pattern]) return cache[pattern];

  var keys = [];
  var re = (0, _pathToRegexp2.default)(pattern, keys, options);
  var compiledPattern = { re: re, keys: keys };

  if (cacheCount < cacheLimit) {
    cache[pattern] = compiledPattern;
    cacheCount++;
  }

  return compiledPattern;
};

/**
 * Public API for matching a URL pathname to a path pattern.
 */
var matchPath = function matchPath(pathname) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var parent = arguments[2];

  if (typeof options === "string") options = { path: options };

  var _options = options,
      path = _options.path,
      _options$exact = _options.exact,
      exact = _options$exact === undefined ? false : _options$exact,
      _options$strict = _options.strict,
      strict = _options$strict === undefined ? false : _options$strict,
      _options$sensitive = _options.sensitive,
      sensitive = _options$sensitive === undefined ? false : _options$sensitive;


  if (path == null) return parent;

  var _compilePath = compilePath(path, { end: exact, strict: strict, sensitive: sensitive }),
      re = _compilePath.re,
      keys = _compilePath.keys;

  var match = re.exec(pathname);

  if (!match) return null;

  var url = match[0],
      values = match.slice(1);

  var isExact = pathname === url;

  if (exact && !isExact) return null;

  return {
    path: path, // the path pattern used to match
    url: path === "/" && url === "" ? "/" : url, // the matched portion of the URL
    isExact: isExact, // whether or not we matched exactly
    params: keys.reduce(function (memo, key, index) {
      memo[key.name] = values[index];
      return memo;
    }, {})
  };
};

exports.default = matchPath;
},{"path-to-regexp":45}],117:[function(require,module,exports){
(function (process){
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

/**
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical
 * paths. Removing the logging code for production environments will keep the
 * same logic and follow the same code paths.
 */

var __DEV__ = process.env.NODE_ENV !== 'production';

var warning = function() {};

if (__DEV__) {
  var printWarning = function printWarning(format, args) {
    var len = arguments.length;
    args = new Array(len > 1 ? len - 1 : 0);
    for (var key = 1; key < len; key++) {
      args[key - 1] = arguments[key];
    }
    var argIndex = 0;
    var message = 'Warning: ' +
      format.replace(/%s/g, function() {
        return args[argIndex++];
      });
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  }

  warning = function(condition, format, args) {
    var len = arguments.length;
    args = new Array(len > 2 ? len - 2 : 0);
    for (var key = 2; key < len; key++) {
      args[key - 2] = arguments[key];
    }
    if (format === undefined) {
      throw new Error(
          '`warning(condition, format, ...args)` requires a warning ' +
          'message argument'
      );
    }
    if (!condition) {
      printWarning.apply(null, [format].concat(args));
    }
  };
}

module.exports = warning;

}).call(this,require('_process'))

},{"_process":46}],118:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _propTypes = require("prop-types");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _hoistNonReactStatics = require("hoist-non-react-statics");

var _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);

var _Route = require("./Route");

var _Route2 = _interopRequireDefault(_Route);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

/**
 * A public higher-order component to access the imperative API
 */
var withRouter = function withRouter(Component) {
  var C = function C(props) {
    var wrappedComponentRef = props.wrappedComponentRef,
        remainingProps = _objectWithoutProperties(props, ["wrappedComponentRef"]);

    return _react2.default.createElement(_Route2.default, {
      children: function children(routeComponentProps) {
        return _react2.default.createElement(Component, _extends({}, remainingProps, routeComponentProps, {
          ref: wrappedComponentRef
        }));
      }
    });
  };

  C.displayName = "withRouter(" + (Component.displayName || Component.name) + ")";
  C.WrappedComponent = Component;
  C.propTypes = {
    wrappedComponentRef: _propTypes2.default.func
  };

  return (0, _hoistNonReactStatics2.default)(C, Component);
};

exports.default = withRouter;
},{"./Route":111,"hoist-non-react-statics":40,"prop-types":50,"react":undefined}],119:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Step = function (_Component) {
  _inherits(Step, _Component);

  function Step() {
    _classCallCheck(this, Step);

    var _this = _possibleConstructorReturn(this, (Step.__proto__ || Object.getPrototypeOf(Step)).call(this));

    _this.getStyles = _this.getStyles.bind(_this);
    return _this;
  }

  _createClass(Step, [{
    key: 'getStyles',
    value: function getStyles() {
      var _props = this.props,
          activeColor = _props.activeColor,
          completeColor = _props.completeColor,
          defaultColor = _props.defaultColor,
          circleFontColor = _props.circleFontColor,
          activeTitleColor = _props.activeTitleColor,
          completeTitleColor = _props.completeTitleColor,
          defaultTitleColor = _props.defaultTitleColor,
          size = _props.size,
          circleFontSize = _props.circleFontSize,
          titleFontSize = _props.titleFontSize,
          circleTop = _props.circleTop,
          titleTop = _props.titleTop,
          width = _props.width,
          completeOpacity = _props.completeOpacity,
          activeOpacity = _props.activeOpacity,
          defaultOpacity = _props.defaultOpacity,
          completeTitleOpacity = _props.completeTitleOpacity,
          activeTitleOpacity = _props.activeTitleOpacity,
          defaultTitleOpacity = _props.defaultTitleOpacity,
          barStyle = _props.barStyle,
          defaultBarColor = _props.defaultBarColor,
          completeBarColor = _props.completeBarColor,
          defaultBorderColor = _props.defaultBorderColor,
          completeBorderColor = _props.completeBorderColor,
          activeBorderColor = _props.activeBorderColor,
          defaultBorderStyle = _props.defaultBorderStyle,
          completeBorderStyle = _props.completeBorderStyle,
          activeBorderStyle = _props.activeBorderStyle,
          lineMarginOffset = _props.lineMarginOffset,
          defaultBorderWidth = _props.defaultBorderWidth;


      return {
        step: {
          width: width + '%',
          display: 'table-cell',
          position: 'relative',
          paddingTop: circleTop
        },
        circle: {
          width: size,
          height: size,
          margin: '0 auto',
          backgroundColor: defaultColor,
          borderRadius: '50%',
          textAlign: 'center',
          padding: 1,
          fontSize: circleFontSize,
          color: circleFontColor,
          display: 'block',
          opacity: defaultOpacity,
          borderWidth: defaultBorderColor ? defaultBorderWidth : 0,
          borderColor: defaultBorderColor,
          borderStyle: defaultBorderStyle
        },
        activeCircle: {
          backgroundColor: activeColor,
          opacity: activeOpacity,
          borderWidth: activeBorderColor ? defaultBorderWidth : 0,
          borderColor: activeBorderColor,
          borderStyle: activeBorderStyle
        },
        completedCircle: {
          backgroundColor: completeColor,
          opacity: completeOpacity,
          borderWidth: completeBorderColor ? defaultBorderWidth : 0,
          borderColor: completeBorderColor,
          borderStyle: completeBorderStyle
        },
        index: {
          lineHeight: size + circleFontSize / 4 + 'px',
          color: circleFontColor
        },
        title: {
          marginTop: titleTop,
          fontSize: titleFontSize,
          fontWeight: '300',
          textAlign: 'center',
          display: 'block',
          color: defaultTitleColor,
          opacity: defaultTitleOpacity
        },
        activeTitle: {
          color: activeTitleColor,
          opacity: activeTitleOpacity
        },
        completedTitle: {
          color: completeTitleColor,
          opacity: completeTitleOpacity
        },
        leftBar: {
          position: 'absolute',
          top: circleTop + size / 2,
          height: 1,
          borderTopStyle: barStyle,
          borderTopWidth: 1,
          borderTopColor: defaultBarColor,
          left: 0,
          right: '50%',
          marginRight: size / 2 + lineMarginOffset,
          opacity: defaultOpacity
        },
        rightBar: {
          position: 'absolute',
          top: circleTop + size / 2,
          height: 1,
          borderTopStyle: barStyle,
          borderTopWidth: 1,
          borderTopColor: defaultBarColor,
          right: 0,
          left: '50%',
          marginLeft: size / 2 + lineMarginOffset,
          opacity: defaultOpacity
        },
        completedBar: {
          borderTopStyle: barStyle,
          borderTopWidth: 1,
          borderTopColor: completeBarColor,
          opacity: completeOpacity
        }
      };
    }
  }, {
    key: 'render',
    value: function render() {
      var _props2 = this.props,
          title = _props2.title,
          icon = _props2.icon,
          index = _props2.index,
          active = _props2.active,
          completed = _props2.completed,
          first = _props2.first,
          isLast = _props2.isLast,
          href = _props2.href,
          onClick = _props2.onClick;


      var styles = this.getStyles();
      var circleStyle = Object.assign(styles.circle, completed ? styles.completedCircle : {}, active ? styles.activeCircle : {});
      var titleStyle = Object.assign(styles.title, completed ? styles.completedTitle : {}, active ? styles.activeTitle : {});
      var leftStyle = Object.assign(styles.leftBar, active || completed ? styles.completedBar : {});
      var rightStyle = Object.assign(styles.rightBar, completed ? styles.completedBar : {});

      var stepContent = icon ? _react2.default.createElement('img', { src: icon, alt: index + 1 }) : index + 1;

      return _react2.default.createElement(
        'div',
        { style: styles.step },
        _react2.default.createElement(
          'div',
          { style: circleStyle },
          active || completed ? _react2.default.createElement(
            'a',
            { href: href, onClick: onClick, style: styles.index },
            stepContent
          ) : _react2.default.createElement(
            'span',
            { style: styles.index },
            stepContent
          )
        ),
        active || completed ? _react2.default.createElement(
          'a',
          { href: href, onClick: onClick, style: titleStyle },
          title
        ) : _react2.default.createElement(
          'div',
          { style: titleStyle },
          title
        ),
        !first && _react2.default.createElement('div', { style: leftStyle }),
        !isLast && _react2.default.createElement('div', { style: rightStyle })
      );
    }
  }]);

  return Step;
}(_react.Component);

exports.default = Step;


Step.defaultProps = {
  activeColor: '#5096FF',
  completeColor: '#5096FF',
  defaultColor: '#E0E0E0',
  activeTitleColor: '#000',
  completeTitleColor: '#000',
  defaultTitleColor: '#757575',
  circleFontColor: '#FFF',
  size: 32,
  circleFontSize: 16,
  titleFontSize: 16,
  circleTop: 24,
  titleTop: 8,
  defaultBarColor: '#E0E0E0',
  barStyle: 'solid',
  borderStyle: 'solid',
  lineMarginOffset: 4,
  defaultBorderWidth: 3
};

Step.propTypes = {
  width: _propTypes.PropTypes.number.isRequired,
  activeColor: _propTypes.PropTypes.string,
  completeColor: _propTypes.PropTypes.string,
  defaultColor: _propTypes.PropTypes.string,
  activeTitleColor: _propTypes.PropTypes.string,
  completeTitleColor: _propTypes.PropTypes.string,
  defaultTitleColor: _propTypes.PropTypes.string,
  circleFontColor: _propTypes.PropTypes.string,
  size: _propTypes.PropTypes.number,
  circleFontSize: _propTypes.PropTypes.number,
  titleFontSize: _propTypes.PropTypes.number,
  circleTop: _propTypes.PropTypes.number,
  titleTop: _propTypes.PropTypes.number,
  title: _propTypes.PropTypes.string,
  index: _propTypes.PropTypes.number,
  active: _propTypes.PropTypes.bool,
  completed: _propTypes.PropTypes.bool,
  first: _propTypes.PropTypes.bool,
  isLast: _propTypes.PropTypes.bool,
  completeOpacity: _propTypes.PropTypes.string,
  activeOpacity: _propTypes.PropTypes.string,
  defaultOpacity: _propTypes.PropTypes.string,
  completeTitleOpacity: _propTypes.PropTypes.string,
  activeTitleOpacity: _propTypes.PropTypes.string,
  defaultTitleOpacity: _propTypes.PropTypes.string,
  barStyle: _propTypes.PropTypes.string,
  defaultBarColor: _propTypes.PropTypes.string,
  completeBarColor: _propTypes.PropTypes.string,
  defaultBorderColor: _propTypes.PropTypes.string,
  completeBorderColor: _propTypes.PropTypes.string,
  activeBorderColor: _propTypes.PropTypes.string,
  defaultBorderStyle: _propTypes.PropTypes.string,
  completeBorderStyle: _propTypes.PropTypes.string,
  activeBorderStyle: _propTypes.PropTypes.string,
  lineMarginOffset: _propTypes.PropTypes.number,
  defaultBorderWidth: _propTypes.PropTypes.number
};
},{"prop-types":50,"react":undefined}],120:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _Step = require('./Step');

var _Step2 = _interopRequireDefault(_Step);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var styles = {
  root: {
    width: '100%',
    minHeight: 0,
    padding: 0
  },
  stepper: {
    display: 'table',
    width: '100%',
    margin: '0 auto'
  }
};

function Stepper(_ref) {
  var activeStep = _ref.activeStep,
      steps = _ref.steps,
      disabledSteps = _ref.disabledSteps,
      activeColor = _ref.activeColor,
      completeColor = _ref.completeColor,
      defaultColor = _ref.defaultColor,
      circleFontColor = _ref.circleFontColor,
      activeTitleColor = _ref.activeTitleColor,
      completeTitleColor = _ref.completeTitleColor,
      defaultTitleColor = _ref.defaultTitleColor,
      size = _ref.size,
      circleFontSize = _ref.circleFontSize,
      titleFontSize = _ref.titleFontSize,
      circleTop = _ref.circleTop,
      titleTop = _ref.titleTop,
      completeOpacity = _ref.completeOpacity,
      activeOpacity = _ref.activeOpacity,
      defaultOpacity = _ref.defaultOpacity,
      completeTitleOpacity = _ref.completeTitleOpacity,
      activeTitleOpacity = _ref.activeTitleOpacity,
      defaultTitleOpacity = _ref.defaultTitleOpacity,
      barStyle = _ref.barStyle,
      defaultBorderColor = _ref.defaultBorderColor,
      completeBorderColor = _ref.completeBorderColor,
      activeBorderColor = _ref.activeBorderColor,
      defaultBorderStyle = _ref.defaultBorderStyle,
      completeBorderStyle = _ref.completeBorderStyle,
      activeBorderStyle = _ref.activeBorderStyle,
      defaultBarColor = _ref.defaultBarColor,
      completeBarColor = _ref.completeBarColor,
      lineMarginOffset = _ref.lineMarginOffset,
      defaultBorderWidth = _ref.defaultBorderWidth;

  return _react2.default.createElement(
    'div',
    { style: styles.root },
    _react2.default.createElement(
      'div',
      { style: styles.stepper },
      steps.map(function (step, index) {
        return _react2.default.createElement(_Step2.default, {
          key: index,
          width: 100 / steps.length,
          title: step.title,
          icon: step.icon,
          href: step.href,
          onClick: step.onClick,
          active: !(disabledSteps || []).includes(index) && index === activeStep,
          completed: !(disabledSteps || []).includes(index) && index < activeStep,
          first: index === 0,
          isLast: index === steps.length - 1,
          index: index,
          activeColor: activeColor,
          completeColor: completeColor,
          defaultColor: defaultColor,
          circleFontColor: circleFontColor,
          activeTitleColor: activeTitleColor,
          completeTitleColor: completeTitleColor,
          defaultTitleColor: defaultTitleColor,
          size: size,
          circleFontSize: circleFontSize,
          titleFontSize: titleFontSize,
          circleTop: circleTop,
          titleTop: titleTop,
          defaultOpacity: defaultOpacity,
          completeOpacity: completeOpacity,
          activeOpacity: activeOpacity,
          defaultTitleOpacity: defaultTitleOpacity,
          completeTitleOpacity: completeTitleOpacity,
          activeTitleOpacity: activeTitleOpacity,
          barStyle: barStyle,
          defaultBorderColor: defaultBorderColor,
          completeBorderColor: completeBorderColor,
          activeBorderColor: activeBorderColor,
          defaultBorderStyle: defaultBorderStyle,
          defaultBorderWidth: defaultBorderWidth,
          completeBorderStyle: completeBorderStyle,
          activeBorderStyle: activeBorderStyle,
          defaultBarColor: defaultBarColor,
          completeBarColor: completeBarColor,
          lineMarginOffset: lineMarginOffset
        });
      })
    )
  );
}

Stepper.defaultProps = {
  activeStep: 0
};

Stepper.propTypes = {
  activeStep: _propTypes.PropTypes.number,
  steps: _propTypes.PropTypes.array,
  activeColor: _propTypes.PropTypes.string,
  completeColor: _propTypes.PropTypes.string,
  defaultColor: _propTypes.PropTypes.string,
  activeTitleColor: _propTypes.PropTypes.string,
  completeTitleColor: _propTypes.PropTypes.string,
  defaultTitleColor: _propTypes.PropTypes.string,
  circleFontColor: _propTypes.PropTypes.string,
  size: _propTypes.PropTypes.number,
  circleFontSize: _propTypes.PropTypes.number,
  titleFontSize: _propTypes.PropTypes.number,
  circleTop: _propTypes.PropTypes.number,
  titleTop: _propTypes.PropTypes.number,
  defaultOpacity: _propTypes.PropTypes.string,
  completeOpacity: _propTypes.PropTypes.string,
  activeOpacity: _propTypes.PropTypes.string,
  defaultTitleOpacity: _propTypes.PropTypes.string,
  completeTitleOpacity: _propTypes.PropTypes.string,
  activeTitleOpacity: _propTypes.PropTypes.string,
  barStyle: _propTypes.PropTypes.string,
  defaultBarColor: _propTypes.PropTypes.string,
  completeBarColor: _propTypes.PropTypes.string,
  defaultBorderColor: _propTypes.PropTypes.string,
  completeBorderColor: _propTypes.PropTypes.string,
  activeBorderColor: _propTypes.PropTypes.string,
  defaultBorderStyle: _propTypes.PropTypes.string,
  completeBorderStyle: _propTypes.PropTypes.string,
  activeBorderStyle: _propTypes.PropTypes.string,
  lineMarginOffset: _propTypes.PropTypes.number,
  defaultBorderWidth: _propTypes.PropTypes.number
};

exports.default = Stepper;
},{"./Step":119,"prop-types":50,"react":undefined}],121:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Stepper = require('./Stepper');

var _Stepper2 = _interopRequireDefault(_Stepper);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Stepper2.default;
},{"./Stepper":120}],122:[function(require,module,exports){
(function (global){
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    (global.ResizeObserver = factory());
}(this, (function () { 'use strict';

    /**
     * A collection of shims that provide minimal functionality of the ES6 collections.
     *
     * These implementations are not meant to be used outside of the ResizeObserver
     * modules as they cover only a limited range of use cases.
     */
    /* eslint-disable require-jsdoc, valid-jsdoc */
    var MapShim = (function () {
        if (typeof Map !== 'undefined') {
            return Map;
        }
        /**
         * Returns index in provided array that matches the specified key.
         *
         * @param {Array<Array>} arr
         * @param {*} key
         * @returns {number}
         */
        function getIndex(arr, key) {
            var result = -1;
            arr.some(function (entry, index) {
                if (entry[0] === key) {
                    result = index;
                    return true;
                }
                return false;
            });
            return result;
        }
        return /** @class */ (function () {
            function class_1() {
                this.__entries__ = [];
            }
            Object.defineProperty(class_1.prototype, "size", {
                /**
                 * @returns {boolean}
                 */
                get: function () {
                    return this.__entries__.length;
                },
                enumerable: true,
                configurable: true
            });
            /**
             * @param {*} key
             * @returns {*}
             */
            class_1.prototype.get = function (key) {
                var index = getIndex(this.__entries__, key);
                var entry = this.__entries__[index];
                return entry && entry[1];
            };
            /**
             * @param {*} key
             * @param {*} value
             * @returns {void}
             */
            class_1.prototype.set = function (key, value) {
                var index = getIndex(this.__entries__, key);
                if (~index) {
                    this.__entries__[index][1] = value;
                }
                else {
                    this.__entries__.push([key, value]);
                }
            };
            /**
             * @param {*} key
             * @returns {void}
             */
            class_1.prototype.delete = function (key) {
                var entries = this.__entries__;
                var index = getIndex(entries, key);
                if (~index) {
                    entries.splice(index, 1);
                }
            };
            /**
             * @param {*} key
             * @returns {void}
             */
            class_1.prototype.has = function (key) {
                return !!~getIndex(this.__entries__, key);
            };
            /**
             * @returns {void}
             */
            class_1.prototype.clear = function () {
                this.__entries__.splice(0);
            };
            /**
             * @param {Function} callback
             * @param {*} [ctx=null]
             * @returns {void}
             */
            class_1.prototype.forEach = function (callback, ctx) {
                if (ctx === void 0) { ctx = null; }
                for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {
                    var entry = _a[_i];
                    callback.call(ctx, entry[1], entry[0]);
                }
            };
            return class_1;
        }());
    })();

    /**
     * Detects whether window and document objects are available in current environment.
     */
    var isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;

    // Returns global object of a current environment.
    var global$1 = (function () {
        if (typeof global !== 'undefined' && global.Math === Math) {
            return global;
        }
        if (typeof self !== 'undefined' && self.Math === Math) {
            return self;
        }
        if (typeof window !== 'undefined' && window.Math === Math) {
            return window;
        }
        // eslint-disable-next-line no-new-func
        return Function('return this')();
    })();

    /**
     * A shim for the requestAnimationFrame which falls back to the setTimeout if
     * first one is not supported.
     *
     * @returns {number} Requests' identifier.
     */
    var requestAnimationFrame$1 = (function () {
        if (typeof requestAnimationFrame === 'function') {
            // It's required to use a bounded function because IE sometimes throws
            // an "Invalid calling object" error if rAF is invoked without the global
            // object on the left hand side.
            return requestAnimationFrame.bind(global$1);
        }
        return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };
    })();

    // Defines minimum timeout before adding a trailing call.
    var trailingTimeout = 2;
    /**
     * Creates a wrapper function which ensures that provided callback will be
     * invoked only once during the specified delay period.
     *
     * @param {Function} callback - Function to be invoked after the delay period.
     * @param {number} delay - Delay after which to invoke callback.
     * @returns {Function}
     */
    function throttle (callback, delay) {
        var leadingCall = false, trailingCall = false, lastCallTime = 0;
        /**
         * Invokes the original callback function and schedules new invocation if
         * the "proxy" was called during current request.
         *
         * @returns {void}
         */
        function resolvePending() {
            if (leadingCall) {
                leadingCall = false;
                callback();
            }
            if (trailingCall) {
                proxy();
            }
        }
        /**
         * Callback invoked after the specified delay. It will further postpone
         * invocation of the original function delegating it to the
         * requestAnimationFrame.
         *
         * @returns {void}
         */
        function timeoutCallback() {
            requestAnimationFrame$1(resolvePending);
        }
        /**
         * Schedules invocation of the original function.
         *
         * @returns {void}
         */
        function proxy() {
            var timeStamp = Date.now();
            if (leadingCall) {
                // Reject immediately following calls.
                if (timeStamp - lastCallTime < trailingTimeout) {
                    return;
                }
                // Schedule new call to be in invoked when the pending one is resolved.
                // This is important for "transitions" which never actually start
                // immediately so there is a chance that we might miss one if change
                // happens amids the pending invocation.
                trailingCall = true;
            }
            else {
                leadingCall = true;
                trailingCall = false;
                setTimeout(timeoutCallback, delay);
            }
            lastCallTime = timeStamp;
        }
        return proxy;
    }

    // Minimum delay before invoking the update of observers.
    var REFRESH_DELAY = 20;
    // A list of substrings of CSS properties used to find transition events that
    // might affect dimensions of observed elements.
    var transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];
    // Check if MutationObserver is available.
    var mutationObserverSupported = typeof MutationObserver !== 'undefined';
    /**
     * Singleton controller class which handles updates of ResizeObserver instances.
     */
    var ResizeObserverController = /** @class */ (function () {
        /**
         * Creates a new instance of ResizeObserverController.
         *
         * @private
         */
        function ResizeObserverController() {
            /**
             * Indicates whether DOM listeners have been added.
             *
             * @private {boolean}
             */
            this.connected_ = false;
            /**
             * Tells that controller has subscribed for Mutation Events.
             *
             * @private {boolean}
             */
            this.mutationEventsAdded_ = false;
            /**
             * Keeps reference to the instance of MutationObserver.
             *
             * @private {MutationObserver}
             */
            this.mutationsObserver_ = null;
            /**
             * A list of connected observers.
             *
             * @private {Array<ResizeObserverSPI>}
             */
            this.observers_ = [];
            this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);
            this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);
        }
        /**
         * Adds observer to observers list.
         *
         * @param {ResizeObserverSPI} observer - Observer to be added.
         * @returns {void}
         */
        ResizeObserverController.prototype.addObserver = function (observer) {
            if (!~this.observers_.indexOf(observer)) {
                this.observers_.push(observer);
            }
            // Add listeners if they haven't been added yet.
            if (!this.connected_) {
                this.connect_();
            }
        };
        /**
         * Removes observer from observers list.
         *
         * @param {ResizeObserverSPI} observer - Observer to be removed.
         * @returns {void}
         */
        ResizeObserverController.prototype.removeObserver = function (observer) {
            var observers = this.observers_;
            var index = observers.indexOf(observer);
            // Remove observer if it's present in registry.
            if (~index) {
                observers.splice(index, 1);
            }
            // Remove listeners if controller has no connected observers.
            if (!observers.length && this.connected_) {
                this.disconnect_();
            }
        };
        /**
         * Invokes the update of observers. It will continue running updates insofar
         * it detects changes.
         *
         * @returns {void}
         */
        ResizeObserverController.prototype.refresh = function () {
            var changesDetected = this.updateObservers_();
            // Continue running updates if changes have been detected as there might
            // be future ones caused by CSS transitions.
            if (changesDetected) {
                this.refresh();
            }
        };
        /**
         * Updates every observer from observers list and notifies them of queued
         * entries.
         *
         * @private
         * @returns {boolean} Returns "true" if any observer has detected changes in
         *      dimensions of it's elements.
         */
        ResizeObserverController.prototype.updateObservers_ = function () {
            // Collect observers that have active observations.
            var activeObservers = this.observers_.filter(function (observer) {
                return observer.gatherActive(), observer.hasActive();
            });
            // Deliver notifications in a separate cycle in order to avoid any
            // collisions between observers, e.g. when multiple instances of
            // ResizeObserver are tracking the same element and the callback of one
            // of them changes content dimensions of the observed target. Sometimes
            // this may result in notifications being blocked for the rest of observers.
            activeObservers.forEach(function (observer) { return observer.broadcastActive(); });
            return activeObservers.length > 0;
        };
        /**
         * Initializes DOM listeners.
         *
         * @private
         * @returns {void}
         */
        ResizeObserverController.prototype.connect_ = function () {
            // Do nothing if running in a non-browser environment or if listeners
            // have been already added.
            if (!isBrowser || this.connected_) {
                return;
            }
            // Subscription to the "Transitionend" event is used as a workaround for
            // delayed transitions. This way it's possible to capture at least the
            // final state of an element.
            document.addEventListener('transitionend', this.onTransitionEnd_);
            window.addEventListener('resize', this.refresh);
            if (mutationObserverSupported) {
                this.mutationsObserver_ = new MutationObserver(this.refresh);
                this.mutationsObserver_.observe(document, {
                    attributes: true,
                    childList: true,
                    characterData: true,
                    subtree: true
                });
            }
            else {
                document.addEventListener('DOMSubtreeModified', this.refresh);
                this.mutationEventsAdded_ = true;
            }
            this.connected_ = true;
        };
        /**
         * Removes DOM listeners.
         *
         * @private
         * @returns {void}
         */
        ResizeObserverController.prototype.disconnect_ = function () {
            // Do nothing if running in a non-browser environment or if listeners
            // have been already removed.
            if (!isBrowser || !this.connected_) {
                return;
            }
            document.removeEventListener('transitionend', this.onTransitionEnd_);
            window.removeEventListener('resize', this.refresh);
            if (this.mutationsObserver_) {
                this.mutationsObserver_.disconnect();
            }
            if (this.mutationEventsAdded_) {
                document.removeEventListener('DOMSubtreeModified', this.refresh);
            }
            this.mutationsObserver_ = null;
            this.mutationEventsAdded_ = false;
            this.connected_ = false;
        };
        /**
         * "Transitionend" event handler.
         *
         * @private
         * @param {TransitionEvent} event
         * @returns {void}
         */
        ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {
            var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;
            // Detect whether transition may affect dimensions of an element.
            var isReflowProperty = transitionKeys.some(function (key) {
                return !!~propertyName.indexOf(key);
            });
            if (isReflowProperty) {
                this.refresh();
            }
        };
        /**
         * Returns instance of the ResizeObserverController.
         *
         * @returns {ResizeObserverController}
         */
        ResizeObserverController.getInstance = function () {
            if (!this.instance_) {
                this.instance_ = new ResizeObserverController();
            }
            return this.instance_;
        };
        /**
         * Holds reference to the controller's instance.
         *
         * @private {ResizeObserverController}
         */
        ResizeObserverController.instance_ = null;
        return ResizeObserverController;
    }());

    /**
     * Defines non-writable/enumerable properties of the provided target object.
     *
     * @param {Object} target - Object for which to define properties.
     * @param {Object} props - Properties to be defined.
     * @returns {Object} Target object.
     */
    var defineConfigurable = (function (target, props) {
        for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {
            var key = _a[_i];
            Object.defineProperty(target, key, {
                value: props[key],
                enumerable: false,
                writable: false,
                configurable: true
            });
        }
        return target;
    });

    /**
     * Returns the global object associated with provided element.
     *
     * @param {Object} target
     * @returns {Object}
     */
    var getWindowOf = (function (target) {
        // Assume that the element is an instance of Node, which means that it
        // has the "ownerDocument" property from which we can retrieve a
        // corresponding global object.
        var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;
        // Return the local global object if it's not possible extract one from
        // provided element.
        return ownerGlobal || global$1;
    });

    // Placeholder of an empty content rectangle.
    var emptyRect = createRectInit(0, 0, 0, 0);
    /**
     * Converts provided string to a number.
     *
     * @param {number|string} value
     * @returns {number}
     */
    function toFloat(value) {
        return parseFloat(value) || 0;
    }
    /**
     * Extracts borders size from provided styles.
     *
     * @param {CSSStyleDeclaration} styles
     * @param {...string} positions - Borders positions (top, right, ...)
     * @returns {number}
     */
    function getBordersSize(styles) {
        var positions = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            positions[_i - 1] = arguments[_i];
        }
        return positions.reduce(function (size, position) {
            var value = styles['border-' + position + '-width'];
            return size + toFloat(value);
        }, 0);
    }
    /**
     * Extracts paddings sizes from provided styles.
     *
     * @param {CSSStyleDeclaration} styles
     * @returns {Object} Paddings box.
     */
    function getPaddings(styles) {
        var positions = ['top', 'right', 'bottom', 'left'];
        var paddings = {};
        for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {
            var position = positions_1[_i];
            var value = styles['padding-' + position];
            paddings[position] = toFloat(value);
        }
        return paddings;
    }
    /**
     * Calculates content rectangle of provided SVG element.
     *
     * @param {SVGGraphicsElement} target - Element content rectangle of which needs
     *      to be calculated.
     * @returns {DOMRectInit}
     */
    function getSVGContentRect(target) {
        var bbox = target.getBBox();
        return createRectInit(0, 0, bbox.width, bbox.height);
    }
    /**
     * Calculates content rectangle of provided HTMLElement.
     *
     * @param {HTMLElement} target - Element for which to calculate the content rectangle.
     * @returns {DOMRectInit}
     */
    function getHTMLElementContentRect(target) {
        // Client width & height properties can't be
        // used exclusively as they provide rounded values.
        var clientWidth = target.clientWidth, clientHeight = target.clientHeight;
        // By this condition we can catch all non-replaced inline, hidden and
        // detached elements. Though elements with width & height properties less
        // than 0.5 will be discarded as well.
        //
        // Without it we would need to implement separate methods for each of
        // those cases and it's not possible to perform a precise and performance
        // effective test for hidden elements. E.g. even jQuery's ':visible' filter
        // gives wrong results for elements with width & height less than 0.5.
        if (!clientWidth && !clientHeight) {
            return emptyRect;
        }
        var styles = getWindowOf(target).getComputedStyle(target);
        var paddings = getPaddings(styles);
        var horizPad = paddings.left + paddings.right;
        var vertPad = paddings.top + paddings.bottom;
        // Computed styles of width & height are being used because they are the
        // only dimensions available to JS that contain non-rounded values. It could
        // be possible to utilize the getBoundingClientRect if only it's data wasn't
        // affected by CSS transformations let alone paddings, borders and scroll bars.
        var width = toFloat(styles.width), height = toFloat(styles.height);
        // Width & height include paddings and borders when the 'border-box' box
        // model is applied (except for IE).
        if (styles.boxSizing === 'border-box') {
            // Following conditions are required to handle Internet Explorer which
            // doesn't include paddings and borders to computed CSS dimensions.
            //
            // We can say that if CSS dimensions + paddings are equal to the "client"
            // properties then it's either IE, and thus we don't need to subtract
            // anything, or an element merely doesn't have paddings/borders styles.
            if (Math.round(width + horizPad) !== clientWidth) {
                width -= getBordersSize(styles, 'left', 'right') + horizPad;
            }
            if (Math.round(height + vertPad) !== clientHeight) {
                height -= getBordersSize(styles, 'top', 'bottom') + vertPad;
            }
        }
        // Following steps can't be applied to the document's root element as its
        // client[Width/Height] properties represent viewport area of the window.
        // Besides, it's as well not necessary as the <html> itself neither has
        // rendered scroll bars nor it can be clipped.
        if (!isDocumentElement(target)) {
            // In some browsers (only in Firefox, actually) CSS width & height
            // include scroll bars size which can be removed at this step as scroll
            // bars are the only difference between rounded dimensions + paddings
            // and "client" properties, though that is not always true in Chrome.
            var vertScrollbar = Math.round(width + horizPad) - clientWidth;
            var horizScrollbar = Math.round(height + vertPad) - clientHeight;
            // Chrome has a rather weird rounding of "client" properties.
            // E.g. for an element with content width of 314.2px it sometimes gives
            // the client width of 315px and for the width of 314.7px it may give
            // 314px. And it doesn't happen all the time. So just ignore this delta
            // as a non-relevant.
            if (Math.abs(vertScrollbar) !== 1) {
                width -= vertScrollbar;
            }
            if (Math.abs(horizScrollbar) !== 1) {
                height -= horizScrollbar;
            }
        }
        return createRectInit(paddings.left, paddings.top, width, height);
    }
    /**
     * Checks whether provided element is an instance of the SVGGraphicsElement.
     *
     * @param {Element} target - Element to be checked.
     * @returns {boolean}
     */
    var isSVGGraphicsElement = (function () {
        // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement
        // interface.
        if (typeof SVGGraphicsElement !== 'undefined') {
            return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };
        }
        // If it's so, then check that element is at least an instance of the
        // SVGElement and that it has the "getBBox" method.
        // eslint-disable-next-line no-extra-parens
        return function (target) { return (target instanceof getWindowOf(target).SVGElement &&
            typeof target.getBBox === 'function'); };
    })();
    /**
     * Checks whether provided element is a document element (<html>).
     *
     * @param {Element} target - Element to be checked.
     * @returns {boolean}
     */
    function isDocumentElement(target) {
        return target === getWindowOf(target).document.documentElement;
    }
    /**
     * Calculates an appropriate content rectangle for provided html or svg element.
     *
     * @param {Element} target - Element content rectangle of which needs to be calculated.
     * @returns {DOMRectInit}
     */
    function getContentRect(target) {
        if (!isBrowser) {
            return emptyRect;
        }
        if (isSVGGraphicsElement(target)) {
            return getSVGContentRect(target);
        }
        return getHTMLElementContentRect(target);
    }
    /**
     * Creates rectangle with an interface of the DOMRectReadOnly.
     * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly
     *
     * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.
     * @returns {DOMRectReadOnly}
     */
    function createReadOnlyRect(_a) {
        var x = _a.x, y = _a.y, width = _a.width, height = _a.height;
        // If DOMRectReadOnly is available use it as a prototype for the rectangle.
        var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;
        var rect = Object.create(Constr.prototype);
        // Rectangle's properties are not writable and non-enumerable.
        defineConfigurable(rect, {
            x: x, y: y, width: width, height: height,
            top: y,
            right: x + width,
            bottom: height + y,
            left: x
        });
        return rect;
    }
    /**
     * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.
     * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit
     *
     * @param {number} x - X coordinate.
     * @param {number} y - Y coordinate.
     * @param {number} width - Rectangle's width.
     * @param {number} height - Rectangle's height.
     * @returns {DOMRectInit}
     */
    function createRectInit(x, y, width, height) {
        return { x: x, y: y, width: width, height: height };
    }

    /**
     * Class that is responsible for computations of the content rectangle of
     * provided DOM element and for keeping track of it's changes.
     */
    var ResizeObservation = /** @class */ (function () {
        /**
         * Creates an instance of ResizeObservation.
         *
         * @param {Element} target - Element to be observed.
         */
        function ResizeObservation(target) {
            /**
             * Broadcasted width of content rectangle.
             *
             * @type {number}
             */
            this.broadcastWidth = 0;
            /**
             * Broadcasted height of content rectangle.
             *
             * @type {number}
             */
            this.broadcastHeight = 0;
            /**
             * Reference to the last observed content rectangle.
             *
             * @private {DOMRectInit}
             */
            this.contentRect_ = createRectInit(0, 0, 0, 0);
            this.target = target;
        }
        /**
         * Updates content rectangle and tells whether it's width or height properties
         * have changed since the last broadcast.
         *
         * @returns {boolean}
         */
        ResizeObservation.prototype.isActive = function () {
            var rect = getContentRect(this.target);
            this.contentRect_ = rect;
            return (rect.width !== this.broadcastWidth ||
                rect.height !== this.broadcastHeight);
        };
        /**
         * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data
         * from the corresponding properties of the last observed content rectangle.
         *
         * @returns {DOMRectInit} Last observed content rectangle.
         */
        ResizeObservation.prototype.broadcastRect = function () {
            var rect = this.contentRect_;
            this.broadcastWidth = rect.width;
            this.broadcastHeight = rect.height;
            return rect;
        };
        return ResizeObservation;
    }());

    var ResizeObserverEntry = /** @class */ (function () {
        /**
         * Creates an instance of ResizeObserverEntry.
         *
         * @param {Element} target - Element that is being observed.
         * @param {DOMRectInit} rectInit - Data of the element's content rectangle.
         */
        function ResizeObserverEntry(target, rectInit) {
            var contentRect = createReadOnlyRect(rectInit);
            // According to the specification following properties are not writable
            // and are also not enumerable in the native implementation.
            //
            // Property accessors are not being used as they'd require to define a
            // private WeakMap storage which may cause memory leaks in browsers that
            // don't support this type of collections.
            defineConfigurable(this, { target: target, contentRect: contentRect });
        }
        return ResizeObserverEntry;
    }());

    var ResizeObserverSPI = /** @class */ (function () {
        /**
         * Creates a new instance of ResizeObserver.
         *
         * @param {ResizeObserverCallback} callback - Callback function that is invoked
         *      when one of the observed elements changes it's content dimensions.
         * @param {ResizeObserverController} controller - Controller instance which
         *      is responsible for the updates of observer.
         * @param {ResizeObserver} callbackCtx - Reference to the public
         *      ResizeObserver instance which will be passed to callback function.
         */
        function ResizeObserverSPI(callback, controller, callbackCtx) {
            /**
             * Collection of resize observations that have detected changes in dimensions
             * of elements.
             *
             * @private {Array<ResizeObservation>}
             */
            this.activeObservations_ = [];
            /**
             * Registry of the ResizeObservation instances.
             *
             * @private {Map<Element, ResizeObservation>}
             */
            this.observations_ = new MapShim();
            if (typeof callback !== 'function') {
                throw new TypeError('The callback provided as parameter 1 is not a function.');
            }
            this.callback_ = callback;
            this.controller_ = controller;
            this.callbackCtx_ = callbackCtx;
        }
        /**
         * Starts observing provided element.
         *
         * @param {Element} target - Element to be observed.
         * @returns {void}
         */
        ResizeObserverSPI.prototype.observe = function (target) {
            if (!arguments.length) {
                throw new TypeError('1 argument required, but only 0 present.');
            }
            // Do nothing if current environment doesn't have the Element interface.
            if (typeof Element === 'undefined' || !(Element instanceof Object)) {
                return;
            }
            if (!(target instanceof getWindowOf(target).Element)) {
                throw new TypeError('parameter 1 is not of type "Element".');
            }
            var observations = this.observations_;
            // Do nothing if element is already being observed.
            if (observations.has(target)) {
                return;
            }
            observations.set(target, new ResizeObservation(target));
            this.controller_.addObserver(this);
            // Force the update of observations.
            this.controller_.refresh();
        };
        /**
         * Stops observing provided element.
         *
         * @param {Element} target - Element to stop observing.
         * @returns {void}
         */
        ResizeObserverSPI.prototype.unobserve = function (target) {
            if (!arguments.length) {
                throw new TypeError('1 argument required, but only 0 present.');
            }
            // Do nothing if current environment doesn't have the Element interface.
            if (typeof Element === 'undefined' || !(Element instanceof Object)) {
                return;
            }
            if (!(target instanceof getWindowOf(target).Element)) {
                throw new TypeError('parameter 1 is not of type "Element".');
            }
            var observations = this.observations_;
            // Do nothing if element is not being observed.
            if (!observations.has(target)) {
                return;
            }
            observations.delete(target);
            if (!observations.size) {
                this.controller_.removeObserver(this);
            }
        };
        /**
         * Stops observing all elements.
         *
         * @returns {void}
         */
        ResizeObserverSPI.prototype.disconnect = function () {
            this.clearActive();
            this.observations_.clear();
            this.controller_.removeObserver(this);
        };
        /**
         * Collects observation instances the associated element of which has changed
         * it's content rectangle.
         *
         * @returns {void}
         */
        ResizeObserverSPI.prototype.gatherActive = function () {
            var _this = this;
            this.clearActive();
            this.observations_.forEach(function (observation) {
                if (observation.isActive()) {
                    _this.activeObservations_.push(observation);
                }
            });
        };
        /**
         * Invokes initial callback function with a list of ResizeObserverEntry
         * instances collected from active resize observations.
         *
         * @returns {void}
         */
        ResizeObserverSPI.prototype.broadcastActive = function () {
            // Do nothing if observer doesn't have active observations.
            if (!this.hasActive()) {
                return;
            }
            var ctx = this.callbackCtx_;
            // Create ResizeObserverEntry instance for every active observation.
            var entries = this.activeObservations_.map(function (observation) {
                return new ResizeObserverEntry(observation.target, observation.broadcastRect());
            });
            this.callback_.call(ctx, entries, ctx);
            this.clearActive();
        };
        /**
         * Clears the collection of active observations.
         *
         * @returns {void}
         */
        ResizeObserverSPI.prototype.clearActive = function () {
            this.activeObservations_.splice(0);
        };
        /**
         * Tells whether observer has active observations.
         *
         * @returns {boolean}
         */
        ResizeObserverSPI.prototype.hasActive = function () {
            return this.activeObservations_.length > 0;
        };
        return ResizeObserverSPI;
    }());

    // Registry of internal observers. If WeakMap is not available use current shim
    // for the Map collection as it has all required methods and because WeakMap
    // can't be fully polyfilled anyway.
    var observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();
    /**
     * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation
     * exposing only those methods and properties that are defined in the spec.
     */
    var ResizeObserver = /** @class */ (function () {
        /**
         * Creates a new instance of ResizeObserver.
         *
         * @param {ResizeObserverCallback} callback - Callback that is invoked when
         *      dimensions of the observed elements change.
         */
        function ResizeObserver(callback) {
            if (!(this instanceof ResizeObserver)) {
                throw new TypeError('Cannot call a class as a function.');
            }
            if (!arguments.length) {
                throw new TypeError('1 argument required, but only 0 present.');
            }
            var controller = ResizeObserverController.getInstance();
            var observer = new ResizeObserverSPI(callback, controller, this);
            observers.set(this, observer);
        }
        return ResizeObserver;
    }());
    // Expose public methods of ResizeObserver.
    [
        'observe',
        'unobserve',
        'disconnect'
    ].forEach(function (method) {
        ResizeObserver.prototype[method] = function () {
            var _a;
            return (_a = observers.get(this))[method].apply(_a, arguments);
        };
    });

    var index = (function () {
        // Export existing implementation if available.
        if (typeof global$1.ResizeObserver !== 'undefined') {
            return global$1.ResizeObserver;
        }
        return ResizeObserver;
    })();

    return index;

})));

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],123:[function(require,module,exports){
'use strict';

exports.__esModule = true;
function isAbsolute(pathname) {
  return pathname.charAt(0) === '/';
}

// About 1.5x faster than the two-arg version of Array#splice()
function spliceOne(list, index) {
  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {
    list[i] = list[k];
  }

  list.pop();
}

// This implementation is based heavily on node's url.parse
function resolvePathname(to) {
  var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

  var toParts = to && to.split('/') || [];
  var fromParts = from && from.split('/') || [];

  var isToAbs = to && isAbsolute(to);
  var isFromAbs = from && isAbsolute(from);
  var mustEndAbs = isToAbs || isFromAbs;

  if (to && isAbsolute(to)) {
    // to is absolute
    fromParts = toParts;
  } else if (toParts.length) {
    // to is relative, drop the filename
    fromParts.pop();
    fromParts = fromParts.concat(toParts);
  }

  if (!fromParts.length) return '/';

  var hasTrailingSlash = void 0;
  if (fromParts.length) {
    var last = fromParts[fromParts.length - 1];
    hasTrailingSlash = last === '.' || last === '..' || last === '';
  } else {
    hasTrailingSlash = false;
  }

  var up = 0;
  for (var i = fromParts.length; i >= 0; i--) {
    var part = fromParts[i];

    if (part === '.') {
      spliceOne(fromParts, i);
    } else if (part === '..') {
      spliceOne(fromParts, i);
      up++;
    } else if (up) {
      spliceOne(fromParts, i);
      up--;
    }
  }

  if (!mustEndAbs) for (; up--; up) {
    fromParts.unshift('..');
  }if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) fromParts.unshift('');

  var result = fromParts.join('/');

  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';

  return result;
}

exports.default = resolvePathname;
module.exports = exports['default'];
},{}],124:[function(require,module,exports){
(function (process){
'use strict';

var isProduction = process.env.NODE_ENV === 'production';
var prefix = 'Invariant failed';
function invariant(condition, message) {
  if (condition) {
    return;
  }

  if (isProduction) {
    throw new Error(prefix);
  } else {
    throw new Error(prefix + ": " + (message || ''));
  }
}

module.exports = invariant;

}).call(this,require('_process'))

},{"_process":46}],125:[function(require,module,exports){
(function (process){
'use strict';

var isProduction = process.env.NODE_ENV === 'production';
function warning(condition, message) {
  if (!isProduction) {
    if (condition) {
      return;
    }

    var text = "Warning: " + message;

    if (typeof console !== 'undefined') {
      console.warn(text);
    }

    try {
      throw Error(text);
    } catch (x) {}
  }
}

module.exports = warning;

}).call(this,require('_process'))

},{"_process":46}],126:[function(require,module,exports){
'use strict';

exports.__esModule = true;

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function valueEqual(a, b) {
  if (a === b) return true;

  if (a == null || b == null) return false;

  if (Array.isArray(a)) {
    return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {
      return valueEqual(item, b[index]);
    });
  }

  var aType = typeof a === 'undefined' ? 'undefined' : _typeof(a);
  var bType = typeof b === 'undefined' ? 'undefined' : _typeof(b);

  if (aType !== bType) return false;

  if (aType === 'object') {
    var aValue = a.valueOf();
    var bValue = b.valueOf();

    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);

    var aKeys = Object.keys(a);
    var bKeys = Object.keys(b);

    if (aKeys.length !== bKeys.length) return false;

    return aKeys.every(function (key) {
      return valueEqual(a[key], b[key]);
    });
  }

  return false;
}

exports.default = valueEqual;
module.exports = exports['default'];
},{}],127:[function(require,module,exports){
(function (process){
/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 */

'use strict';

/**
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical
 * paths. Removing the logging code for production environments will keep the
 * same logic and follow the same code paths.
 */

var warning = function() {};

if (process.env.NODE_ENV !== 'production') {
  warning = function(condition, format, args) {
    var len = arguments.length;
    args = new Array(len > 2 ? len - 2 : 0);
    for (var key = 2; key < len; key++) {
      args[key - 2] = arguments[key];
    }
    if (format === undefined) {
      throw new Error(
        '`warning(condition, format, ...args)` requires a warning ' +
        'message argument'
      );
    }

    if (format.length < 10 || (/^[s\W]*$/).test(format)) {
      throw new Error(
        'The warning format should be able to uniquely identify this ' +
        'warning. Please, use a more descriptive format than: ' + format
      );
    }

    if (!condition) {
      var argIndex = 0;
      var message = 'Warning: ' +
        format.replace(/%s/g, function() {
          return args[argIndex++];
        });
      if (typeof console !== 'undefined') {
        console.error(message);
      }
      try {
        // This error was thrown as a convenience so that you can use this stack
        // to find the callsite that caused this warning to fire.
        throw new Error(message);
      } catch(x) {}
    }
  };
}

module.exports = warning;

}).call(this,require('_process'))

},{"_process":46}]},{},[19])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJFOi9Tb2xhci9MYXRlc3QvU29sYXIvZXhhbXBsZS9zcmMvYWJvdXR1cy5qcyIsIkU6L1NvbGFyL0xhdGVzdC9Tb2xhci9leGFtcGxlL3NyYy9hZG1pbl9jb250cmFjdG9ybGlzdC5qcyIsIkU6L1NvbGFyL0xhdGVzdC9Tb2xhci9leGFtcGxlL3NyYy9hZG1pbl9ob21lLmpzIiwiRTovU29sYXIvTGF0ZXN0L1NvbGFyL2V4YW1wbGUvc3JjL2FkbWluX2xvZ2luLmpzIiwiRTovU29sYXIvTGF0ZXN0L1NvbGFyL2V4YW1wbGUvc3JjL2FkbWluX3VzZXJsaXN0LmpzIiwiRTovU29sYXIvTGF0ZXN0L1NvbGFyL2V4YW1wbGUvc3JjL2FyZWFlc3RpbWF0ZS5qcyIsIkU6L1NvbGFyL0xhdGVzdC9Tb2xhci9leGFtcGxlL3NyYy9jb21wb25lbnRzL0NvbnRleHQuanMiLCJFOi9Tb2xhci9MYXRlc3QvU29sYXIvZXhhbXBsZS9zcmMvY29tcG9uZW50cy9Db250ZXh0UHJvdmlkZXIuanMiLCJFOi9Tb2xhci9MYXRlc3QvU29sYXIvZXhhbXBsZS9zcmMvY29tcG9uZW50cy9EYXRlUGlja2VyLmpzIiwiRTovU29sYXIvTGF0ZXN0L1NvbGFyL2V4YW1wbGUvc3JjL2NvbXBvbmVudHMvRHJhZ2FiYmxlQ29tcG9uZW50LmpzIiwiRTovU29sYXIvTGF0ZXN0L1NvbGFyL2V4YW1wbGUvc3JjL2NvbXBvbmVudHMvRVNhdmluZy5qcyIsIkU6L1NvbGFyL0xhdGVzdC9Tb2xhci9leGFtcGxlL3NyYy9jb21wb25lbnRzL0VsZWN0cmljaXR5TWF0ZXJpYWxEYXJnZ2FibGUuanMiLCJFOi9Tb2xhci9MYXRlc3QvU29sYXIvZXhhbXBsZS9zcmMvY29tcG9uZW50cy9QYW5lbEJhdHRlcnlUeXBlcy5qcyIsIkU6L1NvbGFyL0xhdGVzdC9Tb2xhci9leGFtcGxlL3NyYy9jb21wb25lbnRzL1N1cmZhY2VEaXJlY3Rpb25EcmFnLmpzIiwiZXhhbXBsZS9zcmMvY29uZmlnLmpzb24iLCJFOi9Tb2xhci9MYXRlc3QvU29sYXIvZXhhbXBsZS9zcmMvY29udGFjdHVzLmpzIiwiRTovU29sYXIvTGF0ZXN0L1NvbGFyL2V4YW1wbGUvc3JjL2NzdGVwcGVyLmpzIiwiRTovU29sYXIvTGF0ZXN0L1NvbGFyL2V4YW1wbGUvc3JjL2VzdGltYXRpb24uanMiLCJFOi9Tb2xhci9MYXRlc3QvU29sYXIvZXhhbXBsZS9zcmMvZXhhbXBsZS5qcyIsIkU6L1NvbGFyL0xhdGVzdC9Tb2xhci9leGFtcGxlL3NyYy9mYXEuanMiLCJFOi9Tb2xhci9MYXRlc3QvU29sYXIvZXhhbXBsZS9zcmMvZm9vdGVyLmpzIiwiRTovU29sYXIvTGF0ZXN0L1NvbGFyL2V4YW1wbGUvc3JjL2ZvcmdvdHBhc3N3b3JkLmpzIiwiRTovU29sYXIvTGF0ZXN0L1NvbGFyL2V4YW1wbGUvc3JjL2hlYWRlci5qcyIsIkU6L1NvbGFyL0xhdGVzdC9Tb2xhci9leGFtcGxlL3NyYy9sb2dlZGluL2NvbnRyYWN0b3JzaWdudXAuanMiLCJFOi9Tb2xhci9MYXRlc3QvU29sYXIvZXhhbXBsZS9zcmMvbG9nZWRpbi9sb2dpbi5qcyIsIkU6L1NvbGFyL0xhdGVzdC9Tb2xhci9leGFtcGxlL3NyYy9sb2dlZGluL3JlZ2lzdHJhdGlvbi5qcyIsIkU6L1NvbGFyL0xhdGVzdC9Tb2xhci9leGFtcGxlL3NyYy9sb2dpbkVzdGltYXRpb24uanMiLCJFOi9Tb2xhci9MYXRlc3QvU29sYXIvZXhhbXBsZS9zcmMvbWFwY29tcG9uZW50LmpzIiwiRTovU29sYXIvTGF0ZXN0L1NvbGFyL2V4YW1wbGUvc3JjL21hdGVyaWFsQ29tcG9uZW50LmpzIiwiRTovU29sYXIvTGF0ZXN0L1NvbGFyL2V4YW1wbGUvc3JjL21hdGVyaWFsX3F1ZXN0aW9ucy5qcyIsIkU6L1NvbGFyL0xhdGVzdC9Tb2xhci9leGFtcGxlL3NyYy9wYW5lbFR5cGVzLmpzIiwiRTovU29sYXIvTGF0ZXN0L1NvbGFyL2V4YW1wbGUvc3JjL3Byb2ZpbGUuanMiLCJFOi9Tb2xhci9MYXRlc3QvU29sYXIvZXhhbXBsZS9zcmMvcm9vZl9xdWVzdGlvbnMuanMiLCJFOi9Tb2xhci9MYXRlc3QvU29sYXIvZXhhbXBsZS9zcmMvdGV4dC5qcyIsIm5vZGVfbW9kdWxlcy9jb3VudHVwLmpzL2Rpc3QvY291bnRVcC5taW4uanMiLCJub2RlX21vZHVsZXMvZXhlbnYvaW5kZXguanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9janMvaGlzdG9yeS5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2Nqcy9oaXN0b3J5Lm1pbi5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzL2Rpc3QvaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MuY2pzLmpzIiwibm9kZV9tb2R1bGVzL2ludmFyaWFudC9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbW9tZW50L21vbWVudC5qcyIsIm5vZGVfbW9kdWxlcy9vcy1icm93c2VyaWZ5L2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvcGF0aC10by1yZWdleHAvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvY2hlY2tQcm9wVHlwZXMuanMiLCJub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanMiLCJub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwibm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJub2RlX21vZHVsZXMvcXMvbGliL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3FzL2xpYi9wYXJzZS5qcyIsIm5vZGVfbW9kdWxlcy9xcy9saWIvc3RyaW5naWZ5LmpzIiwibm9kZV9tb2R1bGVzL3FzL2xpYi91dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1jb3VudHVwL2J1aWxkL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LWNvdW50dXAvbm9kZV9tb2R1bGVzL3dhcm5pbmcvd2FybmluZy5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1jdXJyZW5jeS1mb3JtYXQvbGliL2N1cnJlbmN5LWZvcm1hdC5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1jdXJyZW5jeS1mb3JtYXQvbGliL3V0aWxzLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvRGF5UGlja2VyLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvbGliL3NyYy9DYXB0aW9uLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvbGliL3NyYy9EYXRlVXRpbHMuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9saWIvc3JjL0RheS5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL2xpYi9zcmMvRGF5UGlja2VyLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvbGliL3NyYy9IZWxwZXJzLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvbGliL3NyYy9Mb2NhbGVVdGlscy5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL2xpYi9zcmMvTW9kaWZpZXJzVXRpbHMuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9saWIvc3JjL01vbnRoLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LWRheS1waWNrZXIvbGliL3NyYy9OYXZiYXIuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9saWIvc3JjL1Byb3BUeXBlcy5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL2xpYi9zcmMvV2Vla2RheS5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1kYXktcGlja2VyL2xpYi9zcmMvV2Vla2RheXMuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9saWIvc3JjL2NsYXNzTmFtZXMuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtZGF5LXBpY2tlci9saWIvc3JjL2tleXMuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtaXMvY2pzL3JlYWN0LWlzLmRldmVsb3BtZW50LmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LWlzL2Nqcy9yZWFjdC1pcy5wcm9kdWN0aW9uLm1pbi5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1pcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1saWZlY3ljbGVzLWNvbXBhdC9yZWFjdC1saWZlY3ljbGVzLWNvbXBhdC5janMuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtbW9kYWwvbGliL2NvbXBvbmVudHMvTW9kYWwuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtbW9kYWwvbGliL2NvbXBvbmVudHMvTW9kYWxQb3J0YWwuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtbW9kYWwvbGliL2hlbHBlcnMvYXJpYUFwcEhpZGVyLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LW1vZGFsL2xpYi9oZWxwZXJzL2NsYXNzTGlzdC5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1tb2RhbC9saWIvaGVscGVycy9mb2N1c01hbmFnZXIuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtbW9kYWwvbGliL2hlbHBlcnMvc2FmZUhUTUxFbGVtZW50LmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LW1vZGFsL2xpYi9oZWxwZXJzL3Njb3BlVGFiLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LW1vZGFsL2xpYi9oZWxwZXJzL3RhYmJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LW1vZGFsL2xpYi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1yYW5nZXNsaWRlci9saWIvUmFuZ2VzbGlkZXIuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtcmFuZ2VzbGlkZXIvbGliL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LXJhbmdlc2xpZGVyL2xpYi91dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItZG9tL0Jyb3dzZXJSb3V0ZXIuanMiLCJub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyLWRvbS9IYXNoUm91dGVyLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci1kb20vTGluay5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItZG9tL01lbW9yeVJvdXRlci5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItZG9tL05hdkxpbmsuanMiLCJub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyLWRvbS9Qcm9tcHQuanMiLCJub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyLWRvbS9SZWRpcmVjdC5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItZG9tL1JvdXRlLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci1kb20vUm91dGVyLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci1kb20vU3RhdGljUm91dGVyLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci1kb20vU3dpdGNoLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci1kb20vZ2VuZXJhdGVQYXRoLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci1kb20vaW5kZXguanMiLCJub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyLWRvbS9tYXRjaFBhdGguanMiLCJub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyLWRvbS9ub2RlX21vZHVsZXMvd2FybmluZy93YXJuaW5nLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci1kb20vd2l0aFJvdXRlci5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvTWVtb3J5Um91dGVyLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci9Qcm9tcHQuanMiLCJub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL1JlZGlyZWN0LmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci9Sb3V0ZS5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvUm91dGVyLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci9TdGF0aWNSb3V0ZXIuanMiLCJub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL1N3aXRjaC5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvZ2VuZXJhdGVQYXRoLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci9tYXRjaFBhdGguanMiLCJub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL25vZGVfbW9kdWxlcy93YXJuaW5nL3dhcm5pbmcuanMiLCJub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL3dpdGhSb3V0ZXIuanMiLCJub2RlX21vZHVsZXMvcmVhY3Qtc3RlcHBlci1ob3Jpem9udGFsL2xpYi9TdGVwLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LXN0ZXBwZXItaG9yaXpvbnRhbC9saWIvU3RlcHBlci5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1zdGVwcGVyLWhvcml6b250YWwvbGliL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3Jlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbC9kaXN0L1Jlc2l6ZU9ic2VydmVyLmpzIiwibm9kZV9tb2R1bGVzL3Jlc29sdmUtcGF0aG5hbWUvY2pzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3RpbnktaW52YXJpYW50L2Rpc3QvdGlueS1pbnZhcmlhbnQuY2pzLmpzIiwibm9kZV9tb2R1bGVzL3Rpbnktd2FybmluZy9kaXN0L3Rpbnktd2FybmluZy5janMuanMiLCJub2RlX21vZHVsZXMvdmFsdWUtZXF1YWwvY2pzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3dhcm5pbmcvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyNkJBO0FBQ0E7OztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3BFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDakRBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzEvSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN4TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN0R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDaEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQy9rQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2hpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDOURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzE3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDOUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzNPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDL0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQzVwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzFQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUMxS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDbkdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNuT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDelFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3BaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3BFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDMUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQzlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDL0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQzlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN4NkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXHJcbmNsYXNzIEFib3V0dXMgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJhYm91dHVzLWltYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgYWJvdXRfdHh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMj5BYm91dCBVczwvaDI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPkxvcmVtIElwc3VtIGlzIHNpbXBseSBkdW1teSB0ZXh0IG9mIHRoZSBwcmludGluZyBhbmQgdHlwZXNldHRpbmcgaW5kdXN0cnkuPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBhYm91dF9kaWdpdGFrXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgzPlZpc2lvbjwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgPHA+TG9yZW0gSXBzdW0gaXMgc2ltcGx5IGR1bW15IHRleHQgb2YgdGhlIHByaW50aW5nIGFuZCB0eXBlc2V0dGluZyBpbmR1c3RyeS4gTG9yZW0gSXBzdW0gaGFzIGJlZW4gdGhlIGluZHVzdHJ5J3Mgc3RhbmRhcmQgZHVtbXkgdGV4dCBldmVyIHNpbmNlIHRoZSAxNTAwcywgd2hlbiBhbiB1bmtub3duIHByaW50ZXIgdG9vayBhIGdhbGxleSBvZiB0eXBlIGFuZCBzY3JhbWJsZWQgaXQgdG8gbWFrZSBhIHR5cGUgc3BlY2ltZW4gYm9vay4gSXQgaGFzIHN1cnZpdmVkIG5vdCBvbmx5IGZpdmUgY2VudHVyaWVzLCBidXQgYWxzbyB0aGUgbGVhcCBpbnRvIGVsZWN0cm9uaWMgdHlwZXNldHRpbmcsIHJlbWFpbmluZyBlc3NlbnRpYWxseSB1bmNoYW5nZWQuIEl0IHdhcyBwb3B1bGFyaXNlZCBpbiB0aGUgMTk2MHMgd2l0aCB0aGUgcmVsZWFzZSBvZiBMZXRyYXNldCBzaGVldHMgY29udGFpbmluZyBMb3JlbSBJcHN1bSBwYXNzYWdlcywgYW5kIG1vcmUgcmVjZW50bHkgd2l0aCBkZXNrdG9wIHB1Ymxpc2hpbmcgc29mdHdhcmUgbGlrZSBBbGR1cyBQYWdlTWFrZXIgaW5jbHVkaW5nIHZlcnNpb25zIG9mIExvcmVtIElwc3VtLlxyXG4gICAgICAgICAgICAgICAgICBMbzwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXItZmx1aWQgbWlzaW9uX2JnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJvdXRfZGlnaXRhazFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+TWlzaW9uPC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5MdGFuZGFyZCBkdW1teSB0ZHVtbXkgdGV4dCBldmVyIHNpbmNlIHRoZSAxNTAwcywgdHlwZXNldHRpbmcsIHJlbWFpbmluZyBlc3NlbnRpYWxseSB1bmNoYW5nZWQuIEl0IHdhcyBwb3B1bGFyaXNlZCBpbiB0aGUgMTk2MHMgd2l0aCB0aGUgcmVsZWFzZSBvZiBMZXRyYXNldCBzaGVldHMgY29udGFpbmluZyBMb3JlbSBJcHN1bSBwYXNzYWdlcywgYW5kIG1vcmUgcmVjZW50bHkgd2l0aCBkZXNrdG9wIHB1Ymxpc2hpbmcgc29mdHdhcmUgbGlrZSBBbGR1cyBQYWdlTWFrZXIgaW5jbHVkaW5nIHZlcnNpb25zIG9mIExvcmVtIElwc3VtLjwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgdGVhbS10b3BcIiA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgIGFib3V0X2RpZ2l0YWsyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+T3VyIFRlYW08L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTMgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGVhbV9tZW0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL2ltZy90ZWFtLnBuZ1wiIGFsdD1cInRlYW0xXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5OYW1lIDE8L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNT5EZXNpZ2luYXRpb248L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkVtYWlsIDxiciAvPiArOTEtMDAwLTAwMC0wMDAwPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0zIHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlYW1fbWVtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9pbWcvdGVhbS5wbmdcIiAgYWx0PVwidGVhbTJcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPk5hbWUgMTwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1PkRlc2lnaW5hdGlvbjwvaDU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+RW1haWwgPGJyIC8+ICs5MS0wMDAtMDAwLTAwMDA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTMgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGVhbV9tZW0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL2ltZy90ZWFtLnBuZ1wiICBhbHQ9XCJ0ZWFtM1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+TmFtZSAxPC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDU+RGVzaWdpbmF0aW9uPC9oNT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5FbWFpbCA8YnIgLz4gKzkxLTAwMC0wMDAtMDAwMDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMyB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZWFtX21lbTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vaW1nL3RlYW0ucG5nXCIgIGFsdD1cInRlYW00XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5OYW1lIDE8L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNT5EZXNpZ2luYXRpb248L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkVtYWlsIDxiciAvPiArOTEtMDAwLTAwMC0wMDAwPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+KVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IEFib3V0dXMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5cclxuY2xhc3MgQ29udHJhY3Rvcmxpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcylcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICB1c2VyZGF0YTogW11cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG1haW4gPSB0aGlzO1xyXG4gICAgICAgIGZldGNoKCdhZG1pbi9jb250cmFjdG9yJywge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiZ2V0XCIsIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1IZWFkZXJzXCI6IFwiKlwiLFxyXG4gICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LU1ldGhvZFwiOiBcIipcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgbWFpbi5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcmRhdGE6IGRhdGEuZGF0YVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgdmFyIHNpbmdsZSA9IHRoaXMuc3RhdGUudXNlcmRhdGFcclxuICAgICAgICByZXR1cm4gKDx0YWJsZSBjbGFzc05hbWU9XCJ0YWJsZVwiIGlkPVwiZXhhbXBsZVwiPjx0aGVhZD48dHI+XHJcbiAgICAgICAgICAgIDx0aD5TLk5vPC90aD5cclxuICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxyXG4gICAgICAgICAgICA8dGg+RW1haWw8L3RoPlxyXG4gICAgICAgICAgICA8dGg+UGhvbmUgTm88L3RoPlxyXG4gICAgICAgICAgICA8dGg+YnV0dG9uPC90aD5cclxuICAgICAgICA8L3RyPlxyXG4gICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzaW5nbGUubWFwKChkYXRhdGEsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDxDb250cmFjdG9yIGRhdGE9e2RhdGF0YX0ga2V5PXtrZXl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICA8L3RhYmxlPilcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ29udHJhY3RvciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKVxyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoPHRyPjx0ZD4xPC90ZD48dGQ+e3RoaXMucHJvcHMuZGF0YS5uYW1lfTwvdGQ+PHRkPnt0aGlzLnByb3BzLmRhdGEuZW1haWx9PC90ZD48dGQ+e3RoaXMucHJvcHMuZGF0YS5waG9uZX08L3RkPjx0ZD41PC90ZD48L3RyPilcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29udHJhY3Rvcmxpc3Q7IiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFVzZXJzbGlzdDEgZnJvbSAnLi9hZG1pbl91c2VybGlzdCc7XHJcbmltcG9ydCBDb250cmFjdG9ybGlzdCBmcm9tICcuL2FkbWluX2NvbnRyYWN0b3JsaXN0JztcclxuaW1wb3J0IEFkbWlubG9naW4gZnJvbSAnLi9hZG1pbl9sb2dpbic7XHJcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSAncXMnO1xyXG5sZXQgYWRtaW50b2tlbiwgYWRtaW5Mb2dpbjtcclxuXHJcbmNvbnN0IGNsb3Nlc3R5bGUgPSB7XHJcbiAgICB3aWR0aDogMCxcclxuICAgIG1haW46IHsgbWFyZ2luTGVmdDogMCB9XHJcbn1cclxuY29uc3Qgb3BlbnN0eWxlID0ge1xyXG4gICAgd2lkdGg6IDIwMCxcclxuICAgIG1haW46IHsgbWFyZ2luTGVmdDogMjAwIH1cclxufVxyXG5jb25zdCBib2R5c3R5bGUgPSB7XHJcbiAgICBwYWRkaW5nVG9wOiA1MFxyXG59XHJcblxyXG5jbGFzcyBBZG1pbkhvbWUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdmFyIGxvY2F0aW9ubmFtZSA9IHBhcnNlKGxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkpLnBhZ2U7XHJcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXVydGhlbnRpY2F0ZVwiKSA9PSB1bmRlZmluZWQgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhdXJ0aGVudGljYXRlXCIpID09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgYWRtaW50b2tlbiA9IFwiXCI7XHJcbiAgICAgICAgICAgIGFkbWluTG9naW4gPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgdXNlcmRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXVydGhlbnRpY2F0ZVwiKSlcclxuICAgICAgICAgICAgYWRtaW5Mb2dpbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGFkbWludG9rZW4gPSB1c2VyZGF0YS50b2tlbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHN0eWxlOiBvcGVuc3R5bGUsXHJcbiAgICAgICAgICAgIGhlYWRpbmRleDogMSxcclxuICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9ubmFtZSxcclxuICAgICAgICAgICAgYWRtaW5sb2dpbjogYWRtaW5Mb2dpbixcclxuICAgICAgICAgICAgdG9rZW46IGFkbWludG9rZW5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgLy8gJCgnI2V4YW1wbGUnKS5EYXRhVGFibGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuMSgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc3R5bGU6IG9wZW5zdHlsZVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UxKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBzdHlsZTogY2xvc2VzdHlsZVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlTmF2ZTEodmFsKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGhlYWRpbmRleDogdmFsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBsb2dvdXQoKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICgodGhpcy5zdGF0ZS5sb2NhdGlvbiA9PSBcIlVTRVJcIiB8fCB0aGlzLnN0YXRlLmxvY2F0aW9uID09IFwiQ09OVFJBQ1RPUlwiKSAmJiB0aGlzLnN0YXRlLnRva2VuICE9IFwiXCIgJiYgdGhpcy5zdGF0ZS5hZG1pbmxvZ2luID09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPE5hdmlnYXRpb24gc3R5bGU9e3RoaXMuc3RhdGUuc3R5bGV9IG9wZW49e3RoaXMub3BlbjEuYmluZCh0aGlzKX0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8U2lkZW5hdiBzdHlsZT17dGhpcy5zdGF0ZS5zdHlsZX0gc2RlYmFyaWRleD17dGhpcy5zdGF0ZS5oZWFkaW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlPXt0aGlzLmNsb3NlMS5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZT17dGhpcy5jbG9zZTEuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlTmF2ZT17dGhpcy5jaGFuZ2VOYXZlMS5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dvdXQ9e3RoaXMubG9nb3V0LmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwibWFpblwiIHN0eWxlPXt0aGlzLnN0YXRlLnN0eWxlLm1haW59PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiIHN0eWxlPXtib2R5c3R5bGV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlLmxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVVNFUlwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA8VXNlcnNsaXN0MSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNPTlRSQUNUT1JcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPENvbnRyYWN0b3JsaXN0IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTE9HSU5cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPENvbnRyYWN0b3JsaXN0IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPCBBZG1pbmxvZ2luIC8+KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgTmF2aWdhdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKDxuYXYgY2xhc3NOYW1lPVwibmF2YmFyIG5hdmJhci1kZWZhdWx0IG5hdmJhci1maXhlZC10b3BcIj5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17dGhpcy5wcm9wcy5zdHlsZS5tYWlufT5cclxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXYgbmF2YmFyLW5hdlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaT48YT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gb25DbGljaz17dGhpcy5wcm9wcy5vcGVuLmJpbmQodGhpcyl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtYmFycyBcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvbmF2PilcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgU2lkZW5hdiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKVxyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJteVNpZGVuYXZcIiBjbGFzc05hbWU9XCJzaWRlbmF2XCIgc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogJzIwMHB4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgY2xhc3NOYW1lPVwiY2xvc2VidG5cIiBvbkNsaWNrPXt0aGlzLnByb3BzLmNsb3NlLmJpbmQodGhpcyl9ID5YPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiL2FkbWluP3BhZ2U9Q09OVFJBQ1RPUlwiPkNPTlRSQUNUT1JTPC9hPlxyXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIi9hZG1pbj9wYWdlPVVTRVJcIj5VU0VSUzwvYT5cclxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBvbkNsaWNrPXt0aGlzLnByb3BzLmxvZ291dC5iaW5kKHRoaXMpfT5MT0dPVVQ8L2E+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBBZG1pbkhvbWU7IiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuXHJcbmNsYXNzIEFkbWlubG9naW4gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNoYW5nZShldmVudCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMudmFsaWRhdGVGaWVsZChldmVudC50YXJnZXQubmFtZSwgZXZlbnQudGFyZ2V0LnZhbHVlKVxyXG4gICAgfVxyXG5cclxuICAgIGxvZ2ludmFsaWRhdGlvbnZlcmlmeSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lbWFpbFZhbGlkICYmIHRoaXMuc3RhdGUucGFzc3dvcmRWYWxpZCkge1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMucHJvcHMubG9naW5zdWJtaXQuYmluZCh0aGlzKX0gaWQ9XCJsb2dpblwiPlxyXG4gICAgICAgICAgICAgICAgPGgzPkxvZ2luPC9oMz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCIgaGlkZGVuPXsodGhpcy5wcm9wcy5yZXNwb25zZWVycm9yID09IFwiXCIpfT5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5yZXNwb25zZWVycm9yfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImVtYWlsXCIgbmFtZT1cImVtYWlsXCIgcGxhY2Vob2xkZXI9XCJFbWFpbCpcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBvbkJsdXI9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyl9IHJlcXVpcmVkIC8+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cImVycm9yXCI+e3RoaXMucHJvcHMuRW1haWxFcnJvcnN9XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgcGxhY2Vob2xkZXI9XCJQYXNzd29yZCpcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwicGFzc3dvcmRcIiBvbkJsdXI9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyl9IHJlcXVpcmVkIC8+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cImVycm9yXCI+e3RoaXMucHJvcHMuUGFzc3dvcmRFcnJvcnN9XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PiA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT0nYnRuIGJ0bi1pbmZvJyBpZD1cImJ1dHRvbm5ld1wiIHZhbHVlPVwiTG9naW5cIiAvPjwvZGl2PlxyXG4gICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcbmNsYXNzIExvZ2luYWRtaW4gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgZW1haWw6ICcnLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXHJcbiAgICAgICAgICAgIG5hbWU6ICcnLFxyXG4gICAgICAgICAgICBwaG9uZTogJycsXHJcbiAgICAgICAgICAgIGVtYWlsVmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBwYXNzd29yZFZhbGlkOiBmYWxzZSxcclxuICAgICAgICAgICAgZm9ybUVycm9yczogeyBlbWFpbDogJycsIHBhc3N3b3JkOiAnJywgbmFtZTogJycsIHBob25lOiAnJyB9LFxyXG4gICAgICAgICAgICBwaG9uZXZhbGlkOiBmYWxzZSxcclxuICAgICAgICAgICAgbmFtZXZhbGlkOiBmYWxzZSxcclxuICAgICAgICAgICAgbG9naW5WYWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNpZ251cFZhbGlkOiBmYWxzZSxcclxuICAgICAgICAgICAgcmVzcG9uc2VlcnJvcjogXCJcIlxyXG4gICAgICAgIH07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGxvZ2luc3VibWl0KGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBtYWluID0gdGhpcztcclxuICAgICAgICB2YXIgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgZW1haWw6IHRoaXMuc3RhdGUuZW1haWwsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkLFxyXG4gICAgICAgICAgICB0eXBlOiAnQURNSU4nXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmZXRjaCgnYWRtaW4vYWRtaW5Mb2dpbicsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcInBvc3RcIiwgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxyXG4gICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LUhlYWRlcnNcIjogXCIqXCIsXHJcbiAgICAgICAgICAgICAgICBcIkFjY2Vzcy1Db250cm9sLVJlcXVlc3QtTWV0aG9kXCI6IFwiKlwiXHJcbiAgICAgICAgICAgIH0sIGJvZHk6ICdqc29uPScgKyBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDQwMCkge1xyXG4gICAgICAgICAgICAgICAgbWFpbi5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcmRhdGE6IGRhdGEubWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZWVycm9yOiBkYXRhLm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXNlcmRhdGE7XHJcbiAgICAgICAgICAgICAgICB1c2VyZGF0YSA9IHsgXCJlbWFpbFwiOiBkYXRhLmRhdGEuZW1haWwsIFwibmFtZVwiOiBkYXRhLmRhdGEubmFtZSwgXCJ0b2tlblwiOiBkYXRhLnRva2VuIH1cclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXJ0aGVudGljYXRlJywgSlNPTi5zdHJpbmdpZnkodXNlcmRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIGRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgbWFpbi5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcmRhdGE6IGRhdGEuZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZWVycm9yOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBcIi9hZG1pbj9wYWdlPVVTRVJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGVGaWVsZChmaWVsZE5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgbGV0IGZpZWxkVmFsaWRhdGlvbkVycm9ycyA9IHRoaXMuc3RhdGUuZm9ybUVycm9ycztcclxuICAgICAgICBsZXQgcGFzc3dvcmRWYWxpZCA9IHRoaXMuc3RhdGUucGFzc3dvcmRWYWxpZDtcclxuICAgICAgICBsZXQgZW1haWxWYWxpZCA9IHRoaXMuc3RhdGUuZW1haWxWYWxpZDtcclxuICAgICAgICBzd2l0Y2ggKGZpZWxkTmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlICdlbWFpbCc6XHJcbiAgICAgICAgICAgICAgICBlbWFpbFZhbGlkID0gdmFsdWUubGVuZ3RoID49IDY7XHJcbiAgICAgICAgICAgICAgICBmaWVsZFZhbGlkYXRpb25FcnJvcnMuZW1haWwgPSBlbWFpbFZhbGlkID8gJycgOiAnSW52YWxpZCBlbWFpbCAnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvcm1FcnJvcnM6IGZpZWxkVmFsaWRhdGlvbkVycm9ycywgZW1haWxWYWxpZDogZW1haWxWYWxpZCwgZW1haWw6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkVmFsaWQgPSB2YWx1ZS5sZW5ndGggPj0gNjtcclxuICAgICAgICAgICAgICAgIGZpZWxkVmFsaWRhdGlvbkVycm9ycy5wYXNzd29yZCA9IHBhc3N3b3JkVmFsaWQgPyAnJyA6ICdQYXNzd29yZCBoYXZlIG1pbmltdW0gNiBjaGFyZWN0ZXJzICc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZm9ybUVycm9yczogZmllbGRWYWxpZGF0aW9uRXJyb3JzLCBwYXNzd29yZFZhbGlkOiBwYXNzd29yZFZhbGlkLCBwYXNzd29yZDogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyXCI+ICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00XCI+IDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgYWRtaW5sb2dpblwiIGlkPVwiYm94XCIgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFkbWlubG9naW4gbG9naW5zdWJtaXQ9e3RoaXMubG9naW5zdWJtaXQuYmluZCh0aGlzKX0gdmFsaWRhdGVGaWVsZD17dGhpcy52YWxpZGF0ZUZpZWxkLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW1haWxFcnJvcnM9e3RoaXMuc3RhdGUuZm9ybUVycm9ycy5lbWFpbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXNzd29yZEVycm9ycz17dGhpcy5zdGF0ZS5mb3JtRXJyb3JzLnBhc3N3b3JkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlZXJyb3I9e3RoaXMuc3RhdGUucmVzcG9uc2VlcnJvcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+PC9kaXY+PC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBMb2dpbmFkbWluOyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcclxuY2xhc3MgVXNlcnNsaXN0MSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKVxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHVzZXJkYXRhOiBbXVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbWFpbiA9IHRoaXM7XHJcbiAgICAgICAgZmV0Y2goJ2FkbWluL3VzZXJzJywge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiZ2V0XCIsIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1IZWFkZXJzXCI6IFwiKlwiLFxyXG4gICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LU1ldGhvZFwiOiBcIipcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBtYWluLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHVzZXJkYXRhOiBkYXRhLmRhdGFcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICB2YXIgc2luZ2xlID0gdGhpcy5zdGF0ZS51c2VyZGF0YTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlwiPlxyXG4gICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlXCIgcmVmPVwibWFpblwiIGlkPVwiZXhhbXBsZVwiID48dGhlYWQ+PHRyPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aD5TLk5vPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGg+TmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoPkVtYWlsPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGg+UGhvbmUgTm88L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aD5WaWV3IHRyYWNlPC90aD5cclxuICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlLm1hcCgoZGF0YXRhLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDxVc2VydGFiIGRhdGE9e2RhdGF0YX0ga2V5PXtrZXl9IHNubz17a2V5fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcbmNsYXNzIFVzZXJ0YWIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcylcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgPHRkPnt0aGlzLnByb3BzLnNubyArIDF9PC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD57dGhpcy5wcm9wcy5kYXRhLm5hbWV9PC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD57dGhpcy5wcm9wcy5kYXRhLmVtYWlsfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+e3RoaXMucHJvcHMuZGF0YS5waG9uZX08L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4taW5mbyBcIiBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS10YXJnZXQ9e1wiI2VzaXRpbWF0aW9uc1wiICsgdGhpcy5wcm9wcy5zbm99ID5Vc2VyIHRyYWNlc3Moe3RoaXMucHJvcHMuZGF0YS5lc3RkZXQubGVuZ3RofSk8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsIGZhZGVcIiBpZD17XCJlc2l0aW1hdGlvbnNcIiArIHRoaXMucHJvcHMuc25vfSByb2xlPVwiZGlhbG9nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIiBzdHlsZT17eyB3aWR0aDogJzcwMHB4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+eDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj5Nb2RhbCBIZWFkZXI8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXN0aW1hdGVkRGV0IGRhdGE9e3RoaXMucHJvcHMuZGF0YS5lc3RkZXR9IGluZGV4PXt0aGlzLnByb3BzLnNub30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPkNsb3NlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8L3RyPilcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRXN0aW1hdGVkRGV0IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHZhciBzaW5nbGVkYXRhID0gdGhpcy5wcm9wcy5kYXRhXHJcbiAgICAgICAgcmV0dXJuICg8ZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWdyb3VwXCIgaWQ9XCJhY2NvcmRpb25cIj5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzaW5nbGVkYXRhLm1hcCgocmVzLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdFwiIGtleT17a2V5fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS1wYXJlbnQ9XCIjYWNjb3JkaW9uXCIgaHJlZj17XCIjY29sbGFwc2VcIiArIHRoaXMucHJvcHMuaW5kZXggKyBrZXl9ID57bW9tZW50KHJlcy5jcmVhdGVkX2RhdGUpLmZvcm1hdCgnREQtTU1NTS1ZWVlZIEhIOm1tOnNzJyl9PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9e1wiY29sbGFwc2VcIiArIHRoaXMucHJvcHMuaW5kZXggKyBrZXl9IGNsYXNzTmFtZT1cInBhbmVsLWNvbGxhcHNlIGNvbGxhcHNlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTJcIj48ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02XCI+QWRkcmVzczwvZGl2PiA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02XCI+e3Jlcy5hZGRyZXNzfSA8L2Rpdj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyXCI+PGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPkFyZWE8L2Rpdj4gPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPnsocGFyc2VGbG9hdChyZXMuYXJlYSkpLnRvRml4ZWQoMil9PC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiPjxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj5Db29yZGluYXRlczwvZGl2PiA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02XCIgc3R5bGU9e3sgd29yZEJyZWFrOiAnYnJlYWstd29yZCcgfX0+PHA+e3Jlcy5jb29yZGluYXRlc308L3A+PC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiPjxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj5Fc3RpbWF0ZWRhbW91bnQ8L2Rpdj4gPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPnsocGFyc2VGbG9hdChyZXMuZXN0aW1hdGVkYW1vdW50KSkudG9GaXhlZCgyKX08L2Rpdj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyXCI+PGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPk1hdGVyaWFsPC9kaXY+IDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj57cmVzLm1hdGVyaWFsfSA8L2Rpdj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyXCI+PGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPlByb3BlcnR5IHR5cGU8L2Rpdj4gPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPntyZXMucHJvcGVydHlfdHlwZX0gPC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiPjxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj5GbG9vcnM8L2Rpdj4gPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPntyZXMuZmxvb3JzfSA8L2Rpdj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyXCI+PGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPlJvb2YgcGl0Y2g8L2Rpdj4gPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPntyZXMucm9vZl9waXRjaH3CsCA8L2Rpdj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyXCI+PGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPlBvd2VyIGNvbnN1bXB0aW9uPC9kaXY+IDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj57cmVzLnBvd2VyfSA8L2Rpdj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyXCI+PGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPkVsZWN0cmljaXR5IGNvbnN1bXB0aW9uPC9kaXY+IDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj57cmVzLmVfY29uc3VtcHRpb259PC9kaXY+PC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJTdHlsZTogJ2luc2V0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6ICcxcHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTJcIj48ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02XCI+Q29zdCBvZiBzb2xhciBJbnN0YWxsYXRpb248L2Rpdj4gPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPntyZXMuc29sYXJfaW5zdGFsbGF0aW9uX2Nvc3R9IFNFSzwvZGl2PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTJcIj48ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02XCI+U3VwZXJ2aXNvciBDb21taXNzaW9uPC9kaXY+IDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj57cmVzLnN1cGVydmlzb3JfY29tbWlzc2lvbn0gU0VLPC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiPjxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj5EaWdpc29sYXIgQ29tbWlzc2lvbjwvZGl2PiA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02XCI+e3Jlcy5kaWdpc29sYXJfY29tbWlzc2lvbn0gU0VLPC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiPjxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj5Db3N0IG9mIHNvbGFyIGluc3RhbGxhdGlvbiB3aXRoIGNvbW1pc3Npb248L2Rpdj4gPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPntyZXMuc29sYXJfaW5zdGFsbGF0aW9uX1dpdGhfY29tbWlzc2lvbn0gU0VLPC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiPjxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj5Db3N0IG9mIHNvbGFyIGluc3RhbGxhdGlvbiBhZnRlciB0YXg8L2Rpdj4gPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPntyZXMuc29sYXJfaW5zdGFsbGF0aW9uX2FmdGVyX3RheH0gU0VLPC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiPjxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj5EaXNwbGF5IGNvc3Qgb2Ygc29sYXIgaW5zdGFsbGF0aW9uPC9kaXY+IDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj57cmVzLmRpc3BsYXlfY29zdH0gU0VLPC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiPjxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj5Tb2xhciBpbmNlbnRpdmVzPC9kaXY+IDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj57cmVzLnNvbGFyX2luY2VudGl2ZXN9IFNFSzwvZGl2PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTJcIj48ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02XCI+QmF0dGVyeSBjb3N0PC9kaXY+IDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj57cmVzLmJhdHRlcnlfY29zdH0gU0VLPC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiPjxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj5CYXR0ZXJ5IGNvc3QgYWZ0ZXIgdGF4PC9kaXY+IDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj57cmVzLmJhdHRlcnlfY29zdF9hZnRlcl90YXh9IFNFSzwvZGl2PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTJcIj48ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02XCI+QmF0dGVyeSBpbmNlbnRpdmVzPC9kaXY+IDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj57cmVzLmJhdHRlcnlfaW5jZW50aXZlc30gU0VLPC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiPjxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj5Db3N0IG9mIHNvbGFyIGluc3RhbGxhdGlvbiBhZnRlciBpbmNlbnRpdmVzPC9kaXY+IDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTZcIj57cmVzLnNvbGFyX2ludGFsbGF0aW9uX2FmdGVyX2NvbW1pc3Npb259IFNFSzwvZGl2PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTJcIj48ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02XCI+Q29zdCBvZiBiYXR0ZXJ5IGFmdGVyIGluY2VudGl2ZXM8L2Rpdj4gPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPntyZXMuYmF0dGVyeV9hZnRlcl9pbmNlbnRpdmVzfSBTRUs8L2Rpdj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyXCI+PGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPkZpbmFsIGNvc3Q8L2Rpdj4gPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiPntyZXMuZmluYWxfY29zdH0gU0VLPC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PilcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlcnNsaXN0MTsiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSAncmVhY3QtbW9kYWwnO1xyXG52YXIgQ3VycmVuY3lGb3JtYXQgPSByZXF1aXJlKCdyZWFjdC1jdXJyZW5jeS1mb3JtYXQnKTtcclxuLy92YXIgQmFyQ2hhcnRDb21wb25lbnQgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvQmFyQ2hhcnQnKTtcclxudmFyIEVTYXZpbmcgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvRVNhdmluZycpO1xyXG52YXIgUGFuZWxUeXBlcyA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy9QYW5lbEJhdHRlcnlUeXBlcycpO1xyXG52YXIgVGltZUJvb2tpbmcgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvRGF0ZVBpY2tlcicpO1xyXG5jb25zdCBjdXN0b21TdHlsZXMgPSB7XHJcbiAgICBjb250ZW50OiB7XHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgdG9wOiAnNTAlJyxcclxuICAgICAgICBsZWZ0OiAnNTAlJyxcclxuICAgICAgICByaWdodDogJ2F1dG8nLFxyXG4gICAgICAgIGJvdHRvbTogJ2F1dG8nLFxyXG4gICAgICAgIGJvcmRlcjogJzJweCBzb2xpZCAjOGVlMmFlJyxcclxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxyXG4gICAgICAgIHBhZGRpbmc6ICcxMHB4IDE1cHggMjNweCcsXHJcbiAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICBib3JkZXJSYWRpdXM6ICcyMHB4JyxcclxuICAgICAgICBiYWNrZ3JvdW5kOiAncmdiKDI1NSwgMjU1LCAyNTUpJyxcclxuICAgICAgICBvdmVyZmxvdzogJ2F1dG8nLFxyXG4gICAgICAgIG1pbkhlaWdodDogJzQwMHB4JyxcclxuICAgICAgICB3aWR0aDogJzQwJSdcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbWF0c3R5bGUgPSB7XHJcbiAgICBwYWRkaW5nOiAxMCxcclxuICAgIG1hcmdpbjogNSxcclxuICAgIGJvcmRlcjogXCIxcHggc29saWQgI2NjY1wiLFxyXG4gICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxyXG4gICAgZm9ybW1hcmdpbjogeyBtYXJnaW46IDEwLCBjb2xvcjogXCIjZmZmXCIgfSxcclxuICAgIHNpZ251cDoge1xyXG4gICAgICAgIGNvbG9yOiBcIiM1YmMwZGVcIixcclxuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXHJcbiAgICB9LFxyXG4gICAgaDI6IHtcclxuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBSb29mcHJpY2UgPSAwLCBjb3N0b2ZsYWJvdXIgPSAwO1xyXG5sZXQgZGF0YSA9IFtcclxuICAgIHsgbGV0dGVyOiAnSmFuJywgcHJvZHVjdGl2aXR5OiAxMDAgfSxcclxuICAgIHsgbGV0dGVyOiAnRmViJywgcHJvZHVjdGl2aXR5OiAyMDAgfSxcclxuICAgIHsgbGV0dGVyOiAnTWFyJywgcHJvZHVjdGl2aXR5OiAxMDAwIH0sXHJcbiAgICB7IGxldHRlcjogJ0FwcicsIHByb2R1Y3Rpdml0eTogMTUwMCB9LFxyXG4gICAgeyBsZXR0ZXI6ICdNYXknLCBwcm9kdWN0aXZpdHk6IDE4MDAgfSxcclxuICAgIHsgbGV0dGVyOiAnSnVuJywgcHJvZHVjdGl2aXR5OiAyMDAwIH0sXHJcbiAgICB7IGxldHRlcjogJ0p1bCcsIHByb2R1Y3Rpdml0eTogMjMwMCB9LFxyXG4gICAgeyBsZXR0ZXI6ICdBdWcnLCBwcm9kdWN0aXZpdHk6IDIwOTQgfSxcclxuICAgIHsgbGV0dGVyOiAnU2VwJywgcHJvZHVjdGl2aXR5OiAyOTY2IH0sXHJcbiAgICB7IGxldHRlcjogJ09jdCcsIHByb2R1Y3Rpdml0eTogMjE1MyB9LFxyXG4gICAgeyBsZXR0ZXI6ICdOb3YnLCBwcm9kdWN0aXZpdHk6IDI3NzIgfSxcclxuICAgIHsgbGV0dGVyOiAnRGVjJywgcHJvZHVjdGl2aXR5OiAyMDI1IH1dXHJcbnZhciBUYXhPbkluc3RhbGxhdGlvbixcclxuICAgIHNvYWxySW5jZW50aXZlcyxcclxuICAgIGJhdHRlcnlDb3N0LFxyXG4gICAgdGF4T25CYXR0ZXJ5LFxyXG4gICAgQmF0dGVyeUNvc3RBZnRlclRheCxcclxuICAgIGJhdHRlcnlJbmNlbnRpdmVzLFxyXG4gICAgY29taXNzaW9uT25CYXR0ZXJ5SW5jZW50aXZlcyxcclxuICAgIGRpZ2lzb2xhckNvbWlzc2lvbixcclxuICAgIGZpbmFsQ29zdCxcclxuICAgIGNhcGFjaXR5LCBwYW5lbFByaWNlLCBzb2xhclBhbmVsc0NvdW50LCBDb3N0T2ZTb2xhclBhbmVsLFxyXG4gICAgY29zdFBlck9wdGltaXplciA9IDQwOCwgY29zdE9mSW52ZXJ0ZXJQcmljZSwgdG90YWxJbnN0YWxsZWRQb3dlcklua3csXHJcbiAgICBDb3N0T2ZPcHRpbWl6ZXIsIHNreWxpZnQsIENvc3RPZktpdCA9IDgwMCwgQ29zdE9mTW91bnRpbmdTeXN0ZW0sXHJcbiAgICBDb3N0T2ZDYWJsZSA9IDU0MCwgdHJhbnNwb3J0Q29zdCxcclxuICAgIGxhYm9yQ29zdCwgZWxlY3RyaWNpYW5Db3N0ID0gNTAwMCwgZGlnaXNvbGFyQ29taXNzaW9uID0gMTAwMDAsIHN1cGVyVmlzb3JDb21taXNzaW9uID0gMTUwMDAsXHJcbiAgICBpbnN0YWxsYXRpb25CZWZvcmVUYXhOb0NvbW0sIGluc3RhbGxhdGlvbkJlZm9yZVRheCwgaW5zdGFsbGF0aW9uQWZ0ZXJJbmNlbnRpdmVzLCBkaXNwbGF5UHJpY2UsIGJhdHRlcnlBZnRlckluY2VudGl2ZTtcclxuY2xhc3MgQXJlYWVzdGltYXRlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBzdGVwSW5kZXg6IDEsXHJcbiAgICAgICAgICAgIGZpbmlzaGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgY2xlYXI6IHt9LFxyXG4gICAgICAgICAgICBwcmV2aW91czoge30sXHJcbiAgICAgICAgICAgIG5leHQ6IHt9LFxyXG4gICAgICAgICAgICBoYXZlYWNjb3VudDogZmFsc2UsXHJcbiAgICAgICAgICAgIGVtYWlsOiAnJyxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLFxyXG4gICAgICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICAgICAgcGhvbmU6ICcnLFxyXG4gICAgICAgICAgICBlbWFpbFZhbGlkOiBmYWxzZSxcclxuICAgICAgICAgICAgcGFzc3dvcmRWYWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGZvcm1FcnJvcnM6IHsgZW1haWw6ICcnLCBwYXNzd29yZDogJycsIG5hbWU6ICcnLCBwaG9uZTogJycgfSxcclxuICAgICAgICAgICAgcGhvbmV2YWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIG5hbWV2YWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGxvZ2luVmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBzaWdudXBWYWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHJvb2ZlcnJvcm1lc3NhZ2U6IFwiXCIsXHJcbiAgICAgICAgICAgIHJlc3BvbmNlZXJyb3I6IFwiXCIsXHJcbiAgICAgICAgICAgIHJlc3BvbmNlZXJyb3Jsb2dpbjogXCJcIixcclxuICAgICAgICAgICAgcmVzcG9uY2VlcnJvcnNpZ251cDogXCJcIixcclxuICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgbG9hZGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgdGV4dDogJ0VzdGltZXJhciBwcmlzLi4uJyxcclxuICAgICAgICAgICAgY29sb3I6ICdyZ2IoNDYsIDEwOSwgMTY0KScsXHJcbiAgICAgICAgICAgIGVtYWlsdGV4dDogJ09mZmVydCBwZXIgbWFpbCcsXHJcbiAgICAgICAgICAgIHBvcHVwOiBmYWxzZSxcclxuICAgICAgICAgICAgcGFuZWxwb3B1cDogZmFsc2UsXHJcbiAgICAgICAgICAgIG1vZGFsSXNPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgUGFuZWxNb2RhbElzT3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIGNsb3NlVXBkYXRlUGFuZWxtb2RhbDogZmFsc2UsXHJcbiAgICAgICAgICAgIGRhdGVwaWNrZXI6IHRydWUsXHJcbiAgICAgICAgICAgIGNhbGVuZGVySW5kZXg6IDEsXHJcbiAgICAgICAgICAgIHBhbmVsc0NvdW50OiBwYXJzZUludCh0aGlzLnByb3BzLnBhbmVsc0NvdW50KSxcclxuICAgICAgICAgICAgYmF0dGVyeTogdGhpcy5wcm9wcy5iYXR0ZXJ5LFxyXG4gICAgICAgICAgICBwYW5lbDogdGhpcy5wcm9wcy5wYW5lbCxcclxuICAgICAgICAgICAgZV9jb25zdW1wdGlvbjogdGhpcy5wcm9wcy5lX2NvbnN1bXB0aW9uLFxyXG4gICAgICAgICAgICBwYWNrZXROYW1lOiB0aGlzLnByb3BzLnBhY2tldE5hbWUsXHJcbiAgICAgICAgICAgIGVscHJpczogMC45LFxyXG4gICAgICAgICAgICBlbHByaXPDtmtuaW5nOiAyLFxyXG4gICAgICAgICAgICB1cGRhdGlvbjogZmFsc2UsXHJcbiAgICAgICAgICAgIGFubnVhbFByb2R1Y3Rpb246IHRoaXMucHJvcHMuYW5udWFsb3V0cHV0LFxyXG4gICAgICAgICAgICBhdmFpbGFibGVzbG90czogWyc5OjAwJywgJzk6MzAnLCAnMTA6MDAnLCAnMTA6MzAnLCAnMTE6MDAnLCAnMTE6MzAnLCAnMTI6MDAnLCAnMTI6MzAnLCAnMTM6MDAnLCAnMTM6MzAnLCAnMTQ6MDAnLCAnMTQ6MzAnLCAnMTU6MDAnLCAnMTU6MzAnLCAnMTY6MDAnLCAnMTc6MDAnXSxcclxuICAgICAgICAgICAgcGFubmVsX2NhcGFjaXR5OnRoaXMucHJvcHMucGFubmVsX2NhcGFjaXR5LFxyXG4gICAgICAgICAgICBiYXR0ZXJ5MTp0aGlzLnByb3BzLmJhdHRlcnkxLFxyXG4gICAgICAgICAgICBzb2xhckluY2VudGl2ZXM6dGhpcy5wcm9wcy5zb2xhckluY2VudGl2ZXMsXHJcbiAgICAgICAgICAgIGJhdHRlcnlJbmNlbnR2aWVzOnRoaXMucHJvcHMuYmF0dGVyeUluY2VudHZpZXMsXHJcbiAgICAgICAgICAgIGZpbmFsQ29zdDp0aGlzLnByb3BzLmZpbmFsQ29zdFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5sb2dlZGluKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0xldGFyIGxldmVyYW50w7ZyZXIgaSBkaXR0IG9tcsOlZGUnXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBsb2FkZWQ6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1vZGFscG9wdXAgPSB0aGlzLm1vZGFscG9wdXAuYmluZCh0aGlzKVxyXG4gICAgICAgIE1vZGFsLnNldEFwcEVsZW1lbnQoJ2JvZHknKTtcclxuICAgICAgICB0aGlzLm9wZW5Nb2RhbCA9IHRoaXMub3Blbk1vZGFsLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5hZnRlck9wZW5Nb2RhbCA9IHRoaXMuYWZ0ZXJPcGVuTW9kYWwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNsb3NlTW9kYWwgPSB0aGlzLmNsb3NlTW9kYWwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm5leHRQYWdlID0gdGhpcy5uZXh0UGFnZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucHJldmlvdXMgPSB0aGlzLnByZXZpb3VzLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5tb2RhbFBhbmVscG9wdXAgPSB0aGlzLm1vZGFsUGFuZWxwb3B1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub3BlblBhbmVsTW9kYWwgPSB0aGlzLm9wZW5QYW5lbE1vZGFsLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5hZnRlck9wZW5QYW5lbE1vZGFsID0gdGhpcy5hZnRlck9wZW5QYW5lbE1vZGFsLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZVBhbmVsTW9kYWwgPSB0aGlzLmNsb3NlTW9kYWwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmluaXRpYWxWYWx1ZXMgPSB0aGlzLmluaXRpYWxWYWx1ZXMuYmluZCh0aGlzKTtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5sb2dlZGluID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmFyZWEgPT09IFwiXCIgfHwgdGhpcy5wcm9wcy5tYXRlcmlhbCA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJTb21ldGhpbmcgV2VudCB3cm9uZyBwbGVhc2UgdHJ5IGFnYWluXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsVmFsdWVzKHRoaXMuc3RhdGUucGFuZWwsIHRoaXMuc3RhdGUuYmF0dGVyeSwgdGhpcy5zdGF0ZS5wYW5lbHNDb3VudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbmluaXRpYWxWYWx1ZXMocCwgYmF0LCBjb3VudCkge1xyXG4gICAgdmFyIFRvdGFsX3Jvb2ZfYXJlYT0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncm9vZmFyZWEnKTtcclxuICAgIHZhciBzb2xhcl9yb29mX2FyZWEgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZBcmVhUGt0JykpLm5vcm1hbFJvb2ZBcmVhO1xyXG4gICAgdmFyIG5vcm1hbF9yb29mX2FyZWE9VG90YWxfcm9vZl9hcmVhLSBzb2xhcl9yb29mX2FyZWE7XHJcbiAgICB2YXIgY29zdF9vZl9zb2xhcl9yb29mX3RpbGVzID0gc29sYXJfcm9vZl9hcmVhICogcGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncGFuZWxfY29zdCcpKTtcclxuICAgIHZhciBjb3N0X29mX25vcm1hbF9yb29mX3RpbGVzID0gbm9ybWFsX3Jvb2ZfYXJlYSpwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdwYW5lbF9jb3N0JykpO1xyXG4gICAgdmFyIENvc3Rfb2ZfbWF0ZXJpYWwgPSBjb3N0X29mX3NvbGFyX3Jvb2ZfdGlsZXMgKyBjb3N0X29mX25vcm1hbF9yb29mX3RpbGVzO1xyXG4gICAgdmFyIGxhYm9yX2Nvc3QgPSBUb3RhbF9yb29mX2FyZWEgKiAyNTAgO1xyXG4gICAgdmFyIGZsb29yUGxhbiA9ICgodGhpcy5wcm9wcy5mbG9vcnMpLnNwbGl0KFwicGxhblwiKVswXSkudHJpbSgpO1xyXG4gICAgdmFyIGZsb29yID0gcGFyc2VJbnQoZmxvb3JQbGFuKTtcclxuICAgIHZhciBza3lsaWZ0PTA7XHJcbiAgICBpZihmbG9vciA8PTIpIHtcclxuICAgICAgICBza3lsaWZ0PTA7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGZsb29yID49IDMpe1xyXG4gICAgICAgIHNreWxpZnQgPSA1MjAwO1xyXG4gICAgfVxyXG4gICAgdmFyIENvc3Rfb2ZfZWxlY3RyaWNpYW4gPSA2MDAwO1xyXG4gICAgdmFyIENvc3Rfb2ZfY2FibGUgPSA1NDA7XHJcbiAgICB2YXIgQ29zdF9vZl90cmFuc3BvcnQgPSAxMDAwMDtcclxuICAgIHZhciBDb3N0X29mX2NvbnRhaW5lciA9IDEwMDAwO1xyXG4gICAgdmFyIGNhcGNpdHlfcHJpY2UgPSAwXHJcbiAgICB2YXIgY29zdF9vZl9pbnZlcnRvciA9MDtcclxuICAgIGlmKCB0aGlzLnByb3BzLnBhbm5lbF9uYW1lID09PSAnTWlkc29tbWFyIHNvbHRhaycpIHtcclxuICAgICAgICBcclxuICAgICBjb3N0X29mX2ludmVydG9yID0gVG90YWxfcm9vZl9hcmVhICogdGhpcy5wcm9wcy5wYW5uZWxfY2FwYWNpdHk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKHRoaXMucHJvcHMucGFubmVsX25hbWUgPT0gJ0JlbmRhcnMgc3Vud2F2ZSBwYWxlbWEnKSB7XHJcbiAgICAgICAgY29zdF9vZl9pbnZlcnRvciA9IFRvdGFsX3Jvb2ZfYXJlYSAqIHRoaXMucHJvcHMucGFubmVsX2NhcGFjaXR5O1xyXG4gICAgfVxyXG4gICAgICAgIGlmKGNvc3Rfb2ZfaW52ZXJ0b3IgPCA0MDAwICkge1xyXG4gICAgICAgICAgICBjYXBjaXR5X3ByaWNlID0gOTU2MFxyXG4gICAgICAgIH1cclxuICAgICBpZihjb3N0X29mX2ludmVydG9yPjQwMDEgJiYgY29zdF9vZl9pbnZlcnRvcjw1MDAwKXtcclxuICAgICAgICAgICAgY2FwY2l0eV9wcmljZSA9IDk2NjBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoY29zdF9vZl9pbnZlcnRvcj41MDAxICYmIGNvc3Rfb2ZfaW52ZXJ0b3I8NzAwMCkge1xyXG4gICAgICAgICAgICBjYXBjaXR5X3ByaWNlID0gMTE1MDBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoY29zdF9vZl9pbnZlcnRvcj43MDAxICYmIGNvc3Rfb2ZfaW52ZXJ0b3I8ODAwMCkge1xyXG4gICAgICAgICAgICBjYXBjaXR5X3ByaWNlID0gMTE4MzBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoY29zdF9vZl9pbnZlcnRvcj44MDAxICYmIGNvc3Rfb2ZfaW52ZXJ0b3I8MTAwMDApIHtcclxuICAgICAgICAgICAgY2FwY2l0eV9wcmljZSA9IDEyNzYwXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGNvc3Rfb2ZfaW52ZXJ0b3I+MTAwMDEgJiYgY29zdF9vZl9pbnZlcnRvcjwxNTAwMCkge1xyXG4gICAgICAgICAgICBjYXBjaXR5X3ByaWNlID0gMTEzNTBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoY29zdF9vZl9pbnZlcnRvcj4xNTAwMSAmJiBjb3N0X29mX2ludmVydG9yPDE3MDAwKSB7XHJcbiAgICAgICAgICAgIGNhcGNpdHlfcHJpY2UgPSAxMTYyMFxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgaWYoY29zdF9vZl9pbnZlcnRvcj4xNzAwMSAmJiBjb3N0X29mX2ludmVydG9yPDI1MDAwKSB7XHJcbiAgICAgICAgICAgIGNhcGNpdHlfcHJpY2UgPSAxNjEwMFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihjb3N0X29mX2ludmVydG9yPjI1MDAxICYmIGNvc3Rfb2ZfaW52ZXJ0b3I8Mjc2MDApIHtcclxuICAgICAgICAgICAgY2FwY2l0eV9wcmljZSA9IDE2MTAwXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGNvc3Rfb2ZfaW52ZXJ0b3I+Mjc2MDApIHtcclxuICAgICAgICAgICAgY2FwY2l0eV9wcmljZSA9IDIwMDAwXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIHZhciBDb3N0X29mX3NvbGFyX3Jvb2ZfaW5zdGFsbGF0aW9uX2JlZm9yZV90YXggPSBDb3N0X29mX21hdGVyaWFsICsgY29zdF9vZl9pbnZlcnRvciArIENvc3Rfb2ZfY2FibGUgKyBDb3N0X29mX2NvbnRhaW5lciArIENvc3Rfb2ZfdHJhbnNwb3J0ICsgQ29zdF9vZl9lbGVjdHJpY2lhbiArIHNreWxpZnQ7XHJcbiAgICB2YXIgRGlnaXNvbGFyX2NvbW1pc3Npb24gPSAoQ29zdF9vZl9zb2xhcl9yb29mX2luc3RhbGxhdGlvbl9iZWZvcmVfdGF4ICogMTUpIC8gMTAwO1xyXG4gICAgaWYoRGlnaXNvbGFyX2NvbW1pc3Npb24gPiAxNTAwMCkge1xyXG4gICAgICAgIERpZ2lzb2xhcl9jb21taXNzaW9uID0gMTUwMDA7XHJcbiAgICB9XHJcbiAgICB2YXIgQ29zdF9vZl9zb2xhcl9yb29mX2luc3RhbGxhdGlvX3dpdGhfY29tbWlzc2lvbiA9IENvc3Rfb2Zfc29sYXJfcm9vZl9pbnN0YWxsYXRpb25fYmVmb3JlX3RheCArIERpZ2lzb2xhcl9jb21taXNzaW9uO1xyXG4gICAgdmFyIFRheF9vbl9zb2xhcl9yb29mX2luc3RhbGxhdGlvbiA9IChDb3N0X29mX3NvbGFyX3Jvb2ZfaW5zdGFsbGF0aW9fd2l0aF9jb21taXNzaW9uICogMjUpIC8gMTAwO1xyXG4gICAgdmFyIENvc3Rfb2Zfc29sYXJfcm9vZl9pbnN0YWxsYXRpb25fYWZ0ZXJfdGF4ID0gQ29zdF9vZl9zb2xhcl9yb29mX2luc3RhbGxhdGlvX3dpdGhfY29tbWlzc2lvbiArIFRheF9vbl9zb2xhcl9yb29mX2luc3RhbGxhdGlvbjtcclxuICAgIHZhciBEaXNwbGF5X2Nvc3Rfb2Zfc29sYXJfcm9vZl9pbnN0YWxsYXRpb24gPSAoQ29zdF9vZl9zb2xhcl9yb29mX2luc3RhbGxhdGlvbl9hZnRlcl90YXggKiA5MykgLyAxMDA7XHJcbiAgICB2YXIgU29sYXJfaW5jZW50aXZlcyA9IChEaXNwbGF5X2Nvc3Rfb2Zfc29sYXJfcm9vZl9pbnN0YWxsYXRpb24gKiAyMCkgLyAxMDA7XHJcbiAgICB2YXIgQmF0dGVyeV9jb3N0ID0gODQ0ODU7XHJcblxyXG4gICAgdmFyIFRheF9vbl9iYXR0ZXJ5ID0gKDg0NDg1ICogMjUpIC8gMTAwXHJcbiAgICBcclxuICAgIHZhciBCYXR0ZXJ5X2Nvc3RfYWZ0ZXJfdGF4ID0gQmF0dGVyeV9jb3N0ICsgVGF4X29uX2JhdHRlcnk7XHJcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdiYXR0ZXJ5JyxCYXR0ZXJ5X2Nvc3RfYWZ0ZXJfdGF4KVxyXG4gICAgdmFyIEJhdHRlcnlfaW5jZW50aXZlcyA9IDUwMDAwO1xyXG4gICAgdmFyIENvc3Rfb2Zfc29sYXJfcm9vZl9pbnN0YWxsYXRpb25fYWZ0ZXJfaW5jZW50aXZlcyA9RGlzcGxheV9jb3N0X29mX3NvbGFyX3Jvb2ZfaW5zdGFsbGF0aW9uIC0gU29sYXJfaW5jZW50aXZlcztcclxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3NvbGFySW5jZW50aXZlcycsQ29zdF9vZl9zb2xhcl9yb29mX2luc3RhbGxhdGlvbl9hZnRlcl9pbmNlbnRpdmVzKVxyXG4gICAgdmFyIENvc3Rfb2ZfYmF0dGVyeV9hZnRlcl9pbmNlbnRpdmVzID0gQmF0dGVyeV9jb3N0X2FmdGVyX3RheCAtIEJhdHRlcnlfaW5jZW50aXZlcztcclxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2JhdHRlcnlJbmNlbnRpdmVzJyxDb3N0X29mX2JhdHRlcnlfYWZ0ZXJfaW5jZW50aXZlcylcclxuICAgIHZhciBGaW5hbF9jb3N0ID0gQ29zdF9vZl9zb2xhcl9yb29mX2luc3RhbGxhdGlvbl9hZnRlcl9pbmNlbnRpdmVzICsgQ29zdF9vZl9iYXR0ZXJ5X2FmdGVyX2luY2VudGl2ZXM7XHJcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdmaW5hbF9jb3N0JyxGaW5hbF9jb3N0KVxyXG4gICAgICAgIGxldCBfc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHAgPT09ICdTdGFuZGFyZCcgfHwgX3NlbGYuc3RhdGUucGFuZWwgPT09ICdTdGFuZGFyZCcpIHtcclxuICAgICAgICAgICAgY2FwYWNpdHkgPSAyNzA7XHJcbiAgICAgICAgICAgIHBhbmVsUHJpY2UgPSAxMTgwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocCA9PT0gJ1ByZW1pdW0nIHx8IF9zZWxmLnN0YXRlLnBhbmVsID09PSAnUHJlbWl1bScpIHtcclxuICAgICAgICAgICAgY2FwYWNpdHkgPSAzMjA7XHJcbiAgICAgICAgICAgIHBhbmVsUHJpY2UgPSAxNDAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvdW50KSB7XHJcbiAgICAgICAgICAgIHNvbGFyUGFuZWxzQ291bnQgPSBwYXJzZUludChjb3VudCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChfc2VsZi5zdGF0ZS5wYW5lbHNDb3VudCkge1xyXG4gICAgICAgICAgICBzb2xhclBhbmVsc0NvdW50ID0gcGFyc2VJbnQoX3NlbGYuc3RhdGUucGFuZWxzQ291bnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNvbGFyUGFuZWxzQ291bnQgPSAocGFyc2VJbnQoX3NlbGYuc3RhdGUuZV9jb25zdW1wdGlvbikpLnJlcGxhY2UoJyBrV2gnLCAnJykgLyBjYXBhY2l0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgQ29zdE9mU29sYXJQYW5lbCA9IHNvbGFyUGFuZWxzQ291bnQgKiBwYW5lbFByaWNlO1xyXG4gICAgICAgIGNvc3RPZkludmVydGVyUHJpY2UgPSBpbnZlcnRlclByaWNlKCk7XHJcbiAgICAgICAgdG90YWxJbnN0YWxsZWRQb3dlcklua3cgPSAoc29sYXJQYW5lbHNDb3VudCAqIGNhcGFjaXR5KSAvIDEwMDA7XHJcbiAgICAgICAgZnVuY3Rpb24gaW52ZXJ0ZXJQcmljZSgpIHtcclxuICAgICAgICAgICAgdmFyIGNvc3RPZkludmVydGVyID0gc29sYXJQYW5lbHNDb3VudCAqIGNhcGFjaXR5O1xyXG4gICAgICAgICAgICBpZiAoY29zdE9mSW52ZXJ0ZXIgPD0gNDAwMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDk1NjA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29zdE9mSW52ZXJ0ZXIgPj0gNDAwMSAmJiBjb3N0T2ZJbnZlcnRlciA8PSA1MDAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gOTY2MDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjb3N0T2ZJbnZlcnRlciA+PSA1MDAxICYmIGNvc3RPZkludmVydGVyIDw9IDcwMDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxMTUwMDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjb3N0T2ZJbnZlcnRlciA+PSA3MDAxICYmIGNvc3RPZkludmVydGVyIDw9IDgwMDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxMTgzMDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjb3N0T2ZJbnZlcnRlciA+PSA4MDAxICYmIGNvc3RPZkludmVydGVyIDw9IDEwMDAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTI3NjA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29zdE9mSW52ZXJ0ZXIgPj0gMTAwMDEgJiYgY29zdE9mSW52ZXJ0ZXIgPD0gMTUwMDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxMTM1MDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjb3N0T2ZJbnZlcnRlciA+PSAxNTAwMSAmJiBjb3N0T2ZJbnZlcnRlciA8PSAxNzAwMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDExNjIwO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvc3RPZkludmVydGVyID49IDE3MDAxICYmIGNvc3RPZkludmVydGVyIDw9IDI1MDAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTYxMDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29zdE9mSW52ZXJ0ZXIgPj0gMjUwMDEgJiYgY29zdE9mSW52ZXJ0ZXIgPD0gMjc2MDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxNjQwMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAyMDAwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQ29zdE9mT3B0aW1pemVyID0gc29sYXJQYW5lbHNDb3VudCAqIGNvc3RQZXJPcHRpbWl6ZXI7XHJcbiAgICAgICAgQ29zdE9mTW91bnRpbmdTeXN0ZW0gPSBzb2xhclBhbmVsc0NvdW50ICogbW91bnRpbmcoKTtcclxuICAgICAgICBmdW5jdGlvbiBtb3VudGluZygpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfc2VsZi5wcm9wcy5tYXRlcmlhbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTGVydGVnZWx0YWsnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAyNjA7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdQbMOldCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDIwMDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0JldG9uZ3RlZ2VsdGFrJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjYwO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRmFsc2FkIHBsw6V0IC8gQmFuZGFkIFBsw6V0JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjAwO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnUGFwcHRhayc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDMwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdHJhbnNwb3J0aW5nQ29zdCgpIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICgxMCA8PSBzb2xhclBhbmVsc0NvdW50ICYmIHNvbGFyUGFuZWxzQ291bnQgPD0gMjQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAzMDAwO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAoMjUgPD0gc29sYXJQYW5lbHNDb3VudCAmJiBzb2xhclBhbmVsc0NvdW50IDw9IDQ0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMzcwMDtcclxuICAgICAgICAgICAgICAgIGNhc2UgKDQ1IDw9IHNvbGFyUGFuZWxzQ291bnQgJiYgc29sYXJQYW5lbHNDb3VudCA8PSA2NCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDQ1MDA7XHJcbiAgICAgICAgICAgICAgICBjYXNlICg2NSA8PSBzb2xhclBhbmVsc0NvdW50ICYmIHNvbGFyUGFuZWxzQ291bnQgPD0gODQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA1NzAwO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAoODUgPD0gc29sYXJQYW5lbHNDb3VudCAmJiBzb2xhclBhbmVsc0NvdW50IDw9IDEwNCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcwMDA7XHJcbiAgICAgICAgICAgICAgICBjYXNlICgxMDUgPD0gc29sYXJQYW5lbHNDb3VudCAmJiBzb2xhclBhbmVsc0NvdW50IDw9IDEyNCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDgwMDA7XHJcbiAgICAgICAgICAgICAgICBjYXNlICgxMjUgPD0gc29sYXJQYW5lbHNDb3VudCAmJiBzb2xhclBhbmVsc0NvdW50IDw9IDE0NCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDk3MDA7XHJcbiAgICAgICAgICAgICAgICBjYXNlICgxNDUgPD0gc29sYXJQYW5lbHNDb3VudCAmJiBzb2xhclBhbmVsc0NvdW50IDw9IDE2NCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDExMDAwO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAoMTY1IDw9IHNvbGFyUGFuZWxzQ291bnQgJiYgc29sYXJQYW5lbHNDb3VudCA8PSAxODQpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxMTAwMDtcclxuICAgICAgICAgICAgICAgIGNhc2UgKDE4NSA8PSBzb2xhclBhbmVsc0NvdW50ICYmIHNvbGFyUGFuZWxzQ291bnQgPD0gMjA0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTIwMDA7XHJcbiAgICAgICAgICAgICAgICBjYXNlICgxODUgPCBzb2xhclBhbmVsc0NvdW50KTpcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2FsY3VsYXRlZFByaWNlID0gMjUgKiAoc29sYXJQYW5lbHNDb3VudCAtIDIwNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEyMDAwICsgY2FsY3VsYXRlZFByaWNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBsYWJvdXJDb3N0KCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgKHNvbGFyUGFuZWxzQ291bnQgPD0gMTIpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxMjAwMDtcclxuICAgICAgICAgICAgICAgIGNhc2UgKDEzIDw9IHNvbGFyUGFuZWxzQ291bnQgJiYgc29sYXJQYW5lbHNDb3VudCA8PSAyMCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEzMDAwO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAoMjEgPD0gc29sYXJQYW5lbHNDb3VudCAmJiBzb2xhclBhbmVsc0NvdW50IDw9IDI0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTQwMDA7XHJcbiAgICAgICAgICAgICAgICBjYXNlICgyNSA8PSBzb2xhclBhbmVsc0NvdW50ICYmIHNvbGFyUGFuZWxzQ291bnQgPD0gMjgpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxNTAwO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAoMjkgPD0gc29sYXJQYW5lbHNDb3VudCAmJiBzb2xhclBhbmVsc0NvdW50IDw9IDMyKTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTYwMDA7XHJcbiAgICAgICAgICAgICAgICBjYXNlICgzMyA8PSBzb2xhclBhbmVsc0NvdW50ICYmIHNvbGFyUGFuZWxzQ291bnQgPD0gMzYpOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxNzAwMDtcclxuICAgICAgICAgICAgICAgIGNhc2UgKDM3IDw9IHNvbGFyUGFuZWxzQ291bnQgJiYgc29sYXJQYW5lbHNDb3VudCA8PSA0MCk6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE4MDAwO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAoNDEgPD0gc29sYXJQYW5lbHNDb3VudCAmJiBzb2xhclBhbmVsc0NvdW50IDw9IDQ4KTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTkwMDA7XHJcbiAgICAgICAgICAgICAgICBjYXNlICg0OSA8PSBzb2xhclBhbmVsc0NvdW50ICYmIHNvbGFyUGFuZWxzQ291bnQgPD0gNjApOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAyMDAwMDtcclxuICAgICAgICAgICAgICAgIGNhc2UgKDYxIDw9IHNvbGFyUGFuZWxzQ291bnQgJiYgc29sYXJQYW5lbHNDb3VudCA8PSA3Mik6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDIyMDAwO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAoNzMgPD0gc29sYXJQYW5lbHNDb3VudCAmJiBzb2xhclBhbmVsc0NvdW50IDw9IDg0KTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjQwMDA7XHJcbiAgICAgICAgICAgICAgICBjYXNlICg4NCA8IHNvbGFyUGFuZWxzQ291bnQpOlxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjYWxjdWxhdGVkUHJpY2UgPSAyNzAgKiAoc29sYXJQYW5lbHNDb3VudCAtIDg0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjQwMDAgKyBjYWxjdWxhdGVkUHJpY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuZmxvb3JzID09PSAnMiBwbGFuJyB8fCB0aGlzLnByb3BzLmZsb29ycyA9PT0gJzEgcGxhbicpIHtcclxuICAgICAgICAgICAgc2t5bGlmdCA9IDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2t5bGlmdCA9IDUyMDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyYW5zcG9ydENvc3QgPSB0cmFuc3BvcnRpbmdDb3N0KCk7XHJcbiAgICAgICAgbGFib3JDb3N0ID0gbGFib3VyQ29zdCgpO1xyXG4gICAgICAgIGluc3RhbGxhdGlvbkJlZm9yZVRheE5vQ29tbSA9IENvc3RPZlNvbGFyUGFuZWwgKyBDb3N0T2ZPcHRpbWl6ZXIgKyBjb3N0T2ZJbnZlcnRlclByaWNlICsgQ29zdE9mTW91bnRpbmdTeXN0ZW0gK1xyXG4gICAgICAgICAgICBDb3N0T2ZLaXQgKyBDb3N0T2ZDYWJsZSArIHRyYW5zcG9ydENvc3QgKyBsYWJvckNvc3QgKyBza3lsaWZ0ICsgZWxlY3RyaWNpYW5Db3N0O1xyXG4gICAgICAgIHN1cGVyVmlzb3JDb21taXNzaW9uID0gaW5zdGFsbGF0aW9uQmVmb3JlVGF4Tm9Db21tICogMTEgLyAxMDBcclxuICAgICAgICBkaWdpc29sYXJDb21pc3Npb24gPSBpbnN0YWxsYXRpb25CZWZvcmVUYXhOb0NvbW0gKiAxMSAvIDEwMDtcclxuICAgICAgICBpZiAoc3VwZXJWaXNvckNvbW1pc3Npb24gPiAxMjUwMCkge1xyXG4gICAgICAgICAgICBzdXBlclZpc29yQ29tbWlzc2lvbiA9IDEyNTAwXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkaWdpc29sYXJDb21pc3Npb24gPiAxMjUwMCkge1xyXG4gICAgICAgICAgICBkaWdpc29sYXJDb21pc3Npb24gPSAxMjUwMFxyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YWxsYXRpb25CZWZvcmVUYXggPSBpbnN0YWxsYXRpb25CZWZvcmVUYXhOb0NvbW0gKyBzdXBlclZpc29yQ29tbWlzc2lvbiArIGRpZ2lzb2xhckNvbWlzc2lvbjtcclxuICAgICAgICBUYXhPbkluc3RhbGxhdGlvbiA9IChpbnN0YWxsYXRpb25CZWZvcmVUYXggKiAyNSkgLyAxMDA7XHJcbiAgICAgICAgUm9vZnByaWNlID0gaW5zdGFsbGF0aW9uQmVmb3JlVGF4ICsgVGF4T25JbnN0YWxsYXRpb247XHJcbiAgICAgICAgZGlzcGxheVByaWNlID0gUm9vZnByaWNlICogOTMgLyAxMDA7XHJcbiAgICAgICAgc29hbHJJbmNlbnRpdmVzID0gZGlzcGxheVByaWNlICogMC4yO1xyXG4gICAgICAgIGlmIChiYXQgPT09ICdQcmVtaXVtJykge1xyXG4gICAgICAgICAgICBiYXR0ZXJ5Q29zdCA9IDg0NDg1O1xyXG4gICAgICAgICAgICBiYXR0ZXJ5SW5jZW50aXZlcyA9IDUwMDAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmF0ID09PSAnSW5nYScpIHtcclxuICAgICAgICAgICAgYmF0dGVyeUNvc3QgPSAwO1xyXG4gICAgICAgICAgICBiYXR0ZXJ5SW5jZW50aXZlcyA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRheE9uQmF0dGVyeSA9IChiYXR0ZXJ5Q29zdCAqIDI1KSAvIDEwMDtcclxuICAgICAgICBCYXR0ZXJ5Q29zdEFmdGVyVGF4ID0gYmF0dGVyeUNvc3QgKyB0YXhPbkJhdHRlcnk7XHJcbiAgICAgICAgY29taXNzaW9uT25CYXR0ZXJ5SW5jZW50aXZlcyA9IDE1MDAwO1xyXG4gICAgICAgIGluc3RhbGxhdGlvbkFmdGVySW5jZW50aXZlcyA9IGRpc3BsYXlQcmljZSAtIHNvYWxySW5jZW50aXZlcztcclxuICAgICAgICBiYXR0ZXJ5QWZ0ZXJJbmNlbnRpdmUgPSBCYXR0ZXJ5Q29zdEFmdGVyVGF4IC0gYmF0dGVyeUluY2VudGl2ZXM7XHJcbiAgICAgICAgZmluYWxDb3N0ID0gaW5zdGFsbGF0aW9uQWZ0ZXJJbmNlbnRpdmVzICsgYmF0dGVyeUFmdGVySW5jZW50aXZlXHJcbiAgICAgICAgdGhpcy5TZW5kRXN0aW1hdGlvbih0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZVBhbmVsTW9kYWwoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IFBhbmVsTW9kYWxJc09wZW46IGZhbHNlLCBwYW5lbHBvcHVwOiBmYWxzZSwgY2xvc2VVcGRhdGVQYW5lbG1vZGFsOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBtb2RhbFBhbmVscG9wdXAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBhbmVscG9wdXA6IHRydWUsIFBhbmVsTW9kYWxJc09wZW46IHRydWUgfSlcclxuICAgIH1cclxuXHJcbiAgICBvcGVuUGFuZWxNb2RhbCgpIHtcclxuICAgIH1cclxuXHJcbiAgICBhZnRlck9wZW5QYW5lbE1vZGFsKCkge1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5Nb2RhbCgpIHtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUocGFuZWwsIGJhdHRlcnksIENvdW50LCBwYWNrZXROYW1lLCBhbm51YWxPcHQpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY2xvc2VVcGRhdGVQYW5lbG1vZGFsOiB0cnVlLFxyXG4gICAgICAgICAgICBwYWNrZXROYW1lOiBwYWNrZXROYW1lLFxyXG4gICAgICAgICAgICBiYXR0ZXJ5OiBiYXR0ZXJ5LFxyXG4gICAgICAgICAgICBwYW5lbDogcGFuZWwsXHJcbiAgICAgICAgICAgIHBhbmVsc0NvdW50OiBwYXJzZUludChDb3VudCksXHJcbiAgICAgICAgICAgIGFubnVhbFByb2R1Y3Rpb246IHBhcnNlSW50KGFubnVhbE9wdCkudG9GaXhlZCgwKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2JhdHRlcnknLCBiYXR0ZXJ5KTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYW5lbCcsIHBhbmVsKTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYW5lbHNDb3VudCcsIENvdW50KTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYWNrZXROYW1lJywgcGFja2V0TmFtZSk7XHJcbiAgICAgICAgaWYgKHBhbmVsLmxlbmd0aCAmJiBiYXR0ZXJ5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRva2VuXCIpO1xyXG4gICAgICAgICAgICB2YXIgZW1haWwgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlcmRhdGFcIikpLmVtYWlsO1xyXG4gICAgICAgICAgICB2YXIgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgICAgIGFyZWE6IHRoaXMucHJvcHMuYXJlYSxcclxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBKU09OLnN0cmluZ2lmeSh0aGlzLnByb3BzLmNvb3JkaW5hdGVzKSxcclxuICAgICAgICAgICAgICAgIHNsb3BlOiB0aGlzLnByb3BzLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgZXN0aW1hdGVkYW1vdW50OiBSb29mcHJpY2UsXHJcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogdGhpcy5wcm9wcy5tYXRlcmlhbCxcclxuICAgICAgICAgICAgICAgIHNsb3BlY29zdDogdGhpcy5wcm9wcy5yb29mc3R5bGVjb3N0LFxyXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWxjb3N0OiB0aGlzLnByb3BzLm1hdGVyaWFsY29zdCxcclxuICAgICAgICAgICAgICAgIGxhYm91cjogY29zdG9mbGFib3VyLFxyXG4gICAgICAgICAgICAgICAgYWRkcmVzczogdGhpcy5wcm9wcy5hZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgcG93ZXI6IHRoaXMucHJvcHMucG93ZXIsXHJcbiAgICAgICAgICAgICAgICBlX2NvbnN1bXB0aW9uOiB0aGlzLnN0YXRlLmVfY29uc3VtcHRpb24sXHJcbiAgICAgICAgICAgICAgICBmbG9vcnM6IHRoaXMucHJvcHMuZmxvb3JzLFxyXG4gICAgICAgICAgICAgICAgcm9vZl9waXRjaDogdGhpcy5wcm9wcy5yb29mX3BpdGNoLFxyXG4gICAgICAgICAgICAgICAgcHJvcGVydHlfdHlwZTogdGhpcy5wcm9wcy5wcm9wZXJ0eV90eXBlLFxyXG4gICAgICAgICAgICAgICAgYmF0dGVyeTogYmF0dGVyeSxcclxuICAgICAgICAgICAgICAgIHBhbmVsOiBwYW5lbCxcclxuICAgICAgICAgICAgICAgIHBhbmVsc0NvdW50OiBDb3VudCxcclxuICAgICAgICAgICAgICAgIHNvbGFyX2luc3RhbGxhdGlvbl9jb3N0OiBpbnN0YWxsYXRpb25CZWZvcmVUYXhOb0NvbW0sXHJcbiAgICAgICAgICAgICAgICBzdXBlcnZpc29yX2NvbW1pc3Npb246IHN1cGVyVmlzb3JDb21taXNzaW9uLFxyXG4gICAgICAgICAgICAgICAgZGlnaXNvbGFyX2NvbW1pc3Npb246IGRpZ2lzb2xhckNvbWlzc2lvbixcclxuICAgICAgICAgICAgICAgIHNvbGFyX2luc3RhbGxhdGlvbl9XaXRoX2NvbW1pc3Npb246IGluc3RhbGxhdGlvbkJlZm9yZVRheCxcclxuICAgICAgICAgICAgICAgIHNvbGFyX2luc3RhbGxhdGlvbl9hZnRlcl90YXg6IFJvb2ZwcmljZSxcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlfY29zdDogZGlzcGxheVByaWNlLFxyXG4gICAgICAgICAgICAgICAgc29sYXJfaW5jZW50aXZlczogc29hbHJJbmNlbnRpdmVzLFxyXG4gICAgICAgICAgICAgICAgYmF0dGVyeV9jb3N0OiBiYXR0ZXJ5Q29zdCxcclxuICAgICAgICAgICAgICAgIGJhdHRlcnlfY29zdF9hZnRlcl90YXg6IEJhdHRlcnlDb3N0QWZ0ZXJUYXgsXHJcbiAgICAgICAgICAgICAgICBiYXR0ZXJ5X2luY2VudGl2ZXM6IGNvbWlzc2lvbk9uQmF0dGVyeUluY2VudGl2ZXMsXHJcbiAgICAgICAgICAgICAgICBzb2xhcl9pbnRhbGxhdGlvbl9hZnRlcl9jb21taXNzaW9uOiBpbnN0YWxsYXRpb25BZnRlckluY2VudGl2ZXMsXHJcbiAgICAgICAgICAgICAgICBiYXR0ZXJ5X2FmdGVyX2luY2VudGl2ZXM6IGJhdHRlcnlBZnRlckluY2VudGl2ZSxcclxuICAgICAgICAgICAgICAgIGZpbmFsX2Nvc3Q6IGZpbmFsQ29zdFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmZXRjaCgndXNlcnMvZXN0aW1hdGlvbicsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJwb3N0XCIsXHJcbiAgICAgICAgICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LUhlYWRlcnNcIjogXCIqXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LU1ldGhvZFwiOiBcIipcIixcclxuICAgICAgICAgICAgICAgIH0sIGJvZHk6ICdqc29uPScgKyBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSArICcmdG9rZW49JyArIHRva2VuXHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcmRhdGEnLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5pdGlhbFZhbHVlcyhwYW5lbCwgYmF0dGVyeSwgQ291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFmdGVyT3Blbk1vZGFsKCkge1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlTW9kYWwoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsSXNPcGVuOiBmYWxzZSwgUGFuZWxNb2RhbElzT3BlbjogZmFsc2UsIGNsb3NlVXBkYXRlUGFuZWxtb2RhbDogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbW9kYWxwb3B1cCgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcG9wdXA6IHRydWUsIG1vZGFsSXNPcGVuOiB0cnVlLCBjYWxlbmRlckluZGV4OiAxIH0pXHJcbiAgICB9XHJcblxyXG4gICAgbmV4dFBhZ2UoZGF0ZSwgdGltZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNhbGVuZGVySW5kZXggPiAzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VNb2RhbC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXRlLmNhbGVuZGVySW5kZXggPT09IDIpIHtcclxuICAgICAgICAgICAgbGV0IF9zZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIHVzZXJkYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmRhdGEnKSk7XHJcbiAgICAgICAgICAgIGlmICh1c2VyZGF0YSAmJiB1c2VyZGF0YS5faWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBib29rUGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBcImNvbnRyYWN0b3JfaWRcIjogXCI1ZDEzNTAxOTk4ODBmZjk0MTE1ZGVkZGVcIixcclxuICAgICAgICAgICAgICAgICAgICBcInVzZXJfaWRcIjogdXNlcmRhdGEuX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYm9va2luZ19zbG90X2RhdGVcIjogZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBcImJvb2tpbmdfc2xvdF90aW1lXCI6IHRpbWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZldGNoKCcvY29udHJhY3Rvci9ib29rLWFwcG9pbnRtZW50Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJwb3N0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NEb21haW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkFjY2Vzcy1Db250cm9sLVJlcXVlc3QtSGVhZGVyc1wiOiBcIipcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LU1ldGhvZFwiOiBcIipcIixcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib29rUGF5bG9hZClcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVzbG90czogZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXBpY2tlcjogZmFsc2UsIGNhbGVuZGVySW5kZXg6IHBhcnNlSW50KF9zZWxmLnN0YXRlLmNhbGVuZGVySW5kZXgpICsgMVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZGF0ZXBpY2tlcjogZmFsc2UsIGNhbGVuZGVySW5kZXg6IHBhcnNlSW50KHRoaXMuc3RhdGUuY2FsZW5kZXJJbmRleCkgKyAxIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByZXZpb3VzKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjYWxlbmRlckluZGV4OiB0aGlzLnN0YXRlLmNhbGVuZGVySW5kZXggLSAxIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29sb3JDaGFuZ2UoaWQpIHtcclxuICAgICAgICBpZiAoaWQgPT09ICdvZmZlcnQnIHx8IGlkID09PSAndGVsZWZvbicpIHtcclxuICAgICAgICAgICAgdmFyIGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgICAgICAgICAgYnRuLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImJhY2tncm91bmQtY29sb3I6ICMwRkFGMzJcIik7XHJcbiAgICAgICAgICAgIGJ0bi5pbm5lckhUTUwgPSBcIkludsOkbnRhciBvZmZlcnQuLi5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2lnbnVwc3VibWl0KGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5mb3JtRXJyb3JzLmVtYWlsID09PSBcIlwiICYmIHRoaXMuc3RhdGUuZm9ybUVycm9ycy5uYW1lID09PSBcIlwiICYmIHRoaXMuc3RhdGUuZm9ybUVycm9ycy5waG9uZSA9PT0gXCJcIiAmJiB0aGlzLnN0YXRlLmZvcm1FcnJvcnMucGFzc3dvcmQgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgY29uc3QgbWFpbiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBlc3QgPSB7XHJcbiAgICAgICAgICAgICAgICBhcmVhOiB0aGlzLnByb3BzLmFyZWEsXHJcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlczogdGhpcy5wcm9wcy5jb29yZGluYXRlcyxcclxuICAgICAgICAgICAgICAgIHNsb3BlOiB0aGlzLnByb3BzLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgZXN0aW1hdGVkYW1vdW50OiBSb29mcHJpY2UsXHJcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogdGhpcy5wcm9wcy5tYXRlcmlhbCxcclxuICAgICAgICAgICAgICAgIHNsb3BlY29zdDogdGhpcy5wcm9wcy5yb29mc3R5bGVjb3N0LFxyXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWxjb3N0OiB0aGlzLnByb3BzLm1hdGVyaWFsY29zdCxcclxuICAgICAgICAgICAgICAgIGxhYm91cjogY29zdG9mbGFib3VyLFxyXG4gICAgICAgICAgICAgICAgYWRkcmVzczogdGhpcy5wcm9wcy5hZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgcG93ZXI6IHRoaXMucHJvcHMucG93ZXIsXHJcbiAgICAgICAgICAgICAgICBlX2NvbnN1bXB0aW9uOiB0aGlzLnN0YXRlLmVfY29uc3VtcHRpb24sXHJcbiAgICAgICAgICAgICAgICBiYXR0ZXJ5OiB0aGlzLnN0YXRlLmJhdHRlcnksXHJcbiAgICAgICAgICAgICAgICBwYW5lbDogdGhpcy5zdGF0ZS5wYW5lbCxcclxuICAgICAgICAgICAgICAgIHBhbmVsc0NvdW50OiB0aGlzLnN0YXRlLnBhbmVsc0NvdW50LFxyXG4gICAgICAgICAgICAgICAgc29sYXJfaW5zdGFsbGF0aW9uX2Nvc3Q6IGluc3RhbGxhdGlvbkJlZm9yZVRheE5vQ29tbSxcclxuICAgICAgICAgICAgICAgIHN1cGVydmlzb3JfY29tbWlzc2lvbjogc3VwZXJWaXNvckNvbW1pc3Npb24sXHJcbiAgICAgICAgICAgICAgICBkaWdpc29sYXJfY29tbWlzc2lvbjogZGlnaXNvbGFyQ29taXNzaW9uLFxyXG4gICAgICAgICAgICAgICAgc29sYXJfaW5zdGFsbGF0aW9uX1dpdGhfY29tbWlzc2lvbjogaW5zdGFsbGF0aW9uQmVmb3JlVGF4LFxyXG4gICAgICAgICAgICAgICAgc29sYXJfaW5zdGFsbGF0aW9uX2FmdGVyX3RheDogUm9vZnByaWNlLFxyXG4gICAgICAgICAgICAgICAgZGlzcGxheV9jb3N0OiBkaXNwbGF5UHJpY2UsXHJcbiAgICAgICAgICAgICAgICBzb2xhcl9pbmNlbnRpdmVzOiBzb2FsckluY2VudGl2ZXMsXHJcbiAgICAgICAgICAgICAgICBiYXR0ZXJ5X2Nvc3Q6IGJhdHRlcnlDb3N0LFxyXG4gICAgICAgICAgICAgICAgYmF0dGVyeV9jb3N0X2FmdGVyX3RheDogQmF0dGVyeUNvc3RBZnRlclRheCxcclxuICAgICAgICAgICAgICAgIGJhdHRlcnlfaW5jZW50aXZlczogY29taXNzaW9uT25CYXR0ZXJ5SW5jZW50aXZlcyxcclxuICAgICAgICAgICAgICAgIHNvbGFyX2ludGFsbGF0aW9uX2FmdGVyX2NvbW1pc3Npb246IGluc3RhbGxhdGlvbkFmdGVySW5jZW50aXZlcyxcclxuICAgICAgICAgICAgICAgIGJhdHRlcnlfYWZ0ZXJfaW5jZW50aXZlczogYmF0dGVyeUFmdGVySW5jZW50aXZlLFxyXG4gICAgICAgICAgICAgICAgZmluYWxfY29zdDogZmluYWxDb3N0XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5zdGF0ZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuc3RhdGUuZW1haWwsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZCxcclxuICAgICAgICAgICAgICAgIHBob25lOiB0aGlzLnN0YXRlLnBob25lLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ1VTRVInLFxyXG4gICAgICAgICAgICAgICAgZXN0ZGV0OiBlc3RcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZmV0Y2goYHVzZXJzL3JlZ2lzdGVydXNlcmAsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJwb3N0XCIsIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LUhlYWRlcnNcIjogXCIqXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LU1ldGhvZFwiOiBcIipcIlxyXG4gICAgICAgICAgICAgICAgfSwgYm9keTogJ2pzb249JyArIEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09IDQwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1haW4uc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25jZWVycm9yc2lnbnVwOiBkYXRhLm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJkYXRhJywgSlNPTi5zdHJpbmdpZnkoZGF0YS5kYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgZGF0YS50b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFpbi5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJkYXRhOiBkYXRhLmRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbmNlZXJyb3JzaWdudXA6IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIG1haW4ucHJvcHMubG9naW5tb2RlZnVuKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIEZpbGwgQWxsIE1hbmRhdG9yeSBGaWVsZHMgXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsb2dpbnN1Ym1pdChldmVudCkge1xyXG4gICAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgbWFpbiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgIGVtYWlsOiB0aGlzLnN0YXRlLmVtYWlsLFxyXG4gICAgICAgICAgICBwaG9uZTogdGhpcy5zdGF0ZS5waG9uZSxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6ICcxMjM0NTYnLFxyXG4gICAgICAgICAgICB0eXBlOiAnVVNFUidcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZldGNoKCd1c2Vycy91c2VyTG9naW4nLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJwb3N0XCIsIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcclxuICAgICAgICAgICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1IZWFkZXJzXCI6IFwiKlwiLFxyXG4gICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LU1ldGhvZFwiOiBcIipcIlxyXG4gICAgICAgICAgICB9LCBib2R5OiAnanNvbj0nICsgSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gNDAwKSB7XHJcbiAgICAgICAgICAgICAgICBtYWluLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25jZWVycm9ybG9naW46IGRhdGEubWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXNlcmRhdGE7XHJcbiAgICAgICAgICAgICAgICBtYWluLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25jZWVycm9ybG9naW46IFwiXCJcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnR5cGUgPT09IFwiVVNFUlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcmRhdGEgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogZGF0YS5kYXRhLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImVzdGRldFwiOiBkYXRhLmRhdGEuZXN0ZGV0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cGRhdGVvblwiOiBkYXRhLmRhdGEudXBkYXRlb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNyYXRlZG9uXCI6IGRhdGEuZGF0YS5jcmF0ZWRvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZW1haWxcIjogZGF0YS5kYXRhLmVtYWlsLCBcInBob25lXCI6IGRhdGEuZGF0YS5waG9uZSwgXCJuYW1lXCI6IGRhdGEuZGF0YS5uYW1lLCBcInRva2VuXCI6IGRhdGEudG9rZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmVhOiBtYWluLnByb3BzLmFyZWEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBtYWluLnByb3BzLmNvb3JkaW5hdGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbG9wZTogbWFpbi5wcm9wcy5zdHlsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXN0aW1hdGVkYW1vdW50OiBSb29mcHJpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBtYWluLnByb3BzLm1hdGVyaWFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbG9wZWNvc3Q6IG1haW4ucHJvcHMucm9vZnN0eWxlY29zdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxjb3N0OiBtYWluLnByb3BzLm1hdGVyaWFsY29zdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFib3VyOiBjb3N0b2ZsYWJvdXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IG1haW4ucHJvcHMuYWRkcmVzcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGRhdGEuZGF0YS5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlfdHlwZTogbWFpbi5wcm9wcy5wcm9wZXJ0eV90eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9vcnM6IG1haW4ucHJvcHMuZmxvb3JzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb29mX3BpdGNoOiBtYWluLnByb3BzLnJvb2ZfcGl0Y2gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvd2VyOiBtYWluLnByb3BzLnBvd2VyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlX2NvbnN1bXB0aW9uOiBtYWluLnN0YXRlLmVfY29uc3VtcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhdHRlcnk6IG1haW4ucHJvcHMuYmF0dGVyeSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFuZWw6IG1haW4ucHJvcHMucGFuZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsc0NvdW50OiBtYWluLnByb3BzLnBhbmVsc0NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb2xhcl9pbnN0YWxsYXRpb25fY29zdDogaW5zdGFsbGF0aW9uQmVmb3JlVGF4Tm9Db21tLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdXBlcnZpc29yX2NvbW1pc3Npb246IHN1cGVyVmlzb3JDb21taXNzaW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWdpc29sYXJfY29tbWlzc2lvbjogZGlnaXNvbGFyQ29taXNzaW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb2xhcl9pbnN0YWxsYXRpb25fV2l0aF9jb21taXNzaW9uOiBpbnN0YWxsYXRpb25CZWZvcmVUYXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvbGFyX2luc3RhbGxhdGlvbl9hZnRlcl90YXg6IFJvb2ZwcmljZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheV9jb3N0OiBkaXNwbGF5UHJpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvbGFyX2luY2VudGl2ZXM6IHNvYWxySW5jZW50aXZlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmF0dGVyeV9jb3N0OiBiYXR0ZXJ5Q29zdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmF0dGVyeV9jb3N0X2FmdGVyX3RheDogQmF0dGVyeUNvc3RBZnRlclRheCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmF0dGVyeV9pbmNlbnRpdmVzOiBjb21pc3Npb25PbkJhdHRlcnlJbmNlbnRpdmVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb2xhcl9pbnRhbGxhdGlvbl9hZnRlcl9jb21taXNzaW9uOiBpbnN0YWxsYXRpb25BZnRlckluY2VudGl2ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhdHRlcnlfYWZ0ZXJfaW5jZW50aXZlczogYmF0dGVyeUFmdGVySW5jZW50aXZlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbF9jb3N0OiBmaW5hbENvc3RcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2goJ3VzZXJzL2VzdGltYXRpb24nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJwb3N0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkFjY2Vzcy1Db250cm9sLVJlcXVlc3QtSGVhZGVyc1wiOiBcIipcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1NZXRob2RcIjogXCIqXCIsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBib2R5OiAnanNvbj0nICsgSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkgKyAnJnRva2VuPScgKyBkYXRhLnRva2VuXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSA0MDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWluLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uY2VlcnJvcjogZGF0YS5tZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW4uc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25jZWVycm9yOiBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5kYXRhLnR5cGUgPT09IFwiQ09OVFJBQ1RPUlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcmRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBkYXRhLmRhdGEudHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmdhbml6YXRpb25fbnVtYmVyXCI6IGRhdGEuZGF0YSwgb3JnYW5pemF0aW9uX251bWJlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRyZXNzXCI6IGRhdGEuZGF0YS5hZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIndlYnNpdGVcIjogZGF0YS5kYXRhLndlYnNpdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYnVzaW5lc3NuYW1lXCI6IGRhdGEuZGF0YS5idXNpbmVzc25hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidXBkYXRlb25cIjogZGF0YS5kYXRhLnVwZGF0ZW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNyYXRlZG9uXCI6IGRhdGEuZGF0YS5jcmF0ZWRvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlbWFpbFwiOiBkYXRhLmRhdGEuZW1haWwsIFwicGhvbmVcIjogZGF0YS5kYXRhLnBob25lLCBcIm5hbWVcIjogZGF0YS5kYXRhLm5hbWUsIFwidG9rZW5cIjogZGF0YS50b2tlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJkYXRhJywgSlNPTi5zdHJpbmdpZnkodXNlcmRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIGRhdGEudG9rZSk7XHJcbiAgICAgICAgICAgICAgICBtYWluLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyZGF0YTogZGF0YS5kYXRhXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgbWFpbi5wcm9wcy5sb2dpbm1vZGVmdW4odHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHZhbGlkYXRlRmllbGQoZmllbGROYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIGxldCBmaWVsZFZhbGlkYXRpb25FcnJvcnMgPSB0aGlzLnN0YXRlLmZvcm1FcnJvcnM7XHJcbiAgICAgICAgbGV0IHBhc3N3b3JkVmFsaWQgPSB0aGlzLnN0YXRlLnBhc3N3b3JkVmFsaWQ7XHJcbiAgICAgICAgbGV0IHBob25ldmFsaWQgPSB0aGlzLnN0YXRlLnBob25ldmFsaWQ7XHJcbiAgICAgICAgbGV0IG5hbWV2YWxpZCA9IHRoaXMuc3RhdGUubmFtZXZhbGlkO1xyXG4gICAgICAgIGxldCBlbWFpbFZhbGlkID0gdGhpcy5zdGF0ZS5lbWFpbFZhbGlkO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGZpZWxkTmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlICdlbWFpbCc6XHJcbiAgICAgICAgICAgICAgICBlbWFpbFZhbGlkID0gdmFsdWUubGVuZ3RoID49IDY7XHJcbiAgICAgICAgICAgICAgICBmaWVsZFZhbGlkYXRpb25FcnJvcnMuZW1haWwgPSBlbWFpbFZhbGlkID8gJycgOiAnIGlzIGludmFsaWQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvcm1FcnJvcnM6IGZpZWxkVmFsaWRhdGlvbkVycm9ycywgZW1haWxWYWxpZDogZW1haWxWYWxpZCwgZW1haWw6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkVmFsaWQgPSB2YWx1ZS5sZW5ndGggPj0gNjtcclxuICAgICAgICAgICAgICAgIGZpZWxkVmFsaWRhdGlvbkVycm9ycy5wYXNzd29yZCA9IHBhc3N3b3JkVmFsaWQgPyAnJyA6ICcgaXMgdG9vIHNob3J0JztcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmb3JtRXJyb3JzOiBmaWVsZFZhbGlkYXRpb25FcnJvcnMsIHBhc3N3b3JkVmFsaWQ6IHBhc3N3b3JkVmFsaWQsIHBhc3N3b3JkOiB2YWx1ZSB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwaG9uZSc6XHJcbiAgICAgICAgICAgICAgICBwaG9uZXZhbGlkID0gdmFsdWUubGVuZ3RoID09PSAxMDtcclxuICAgICAgICAgICAgICAgIGZpZWxkVmFsaWRhdGlvbkVycm9ycy5waG9uZSA9IHBob25ldmFsaWQgPyAnJyA6ICdwaG9uZSBudW1iZXIgIGlzIHRvbyBzaG9ydCc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZm9ybUVycm9yczogZmllbGRWYWxpZGF0aW9uRXJyb3JzLCBwaG9uZXZhbGlkOiBwaG9uZXZhbGlkLCBwaG9uZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbmFtZSc6XHJcbiAgICAgICAgICAgICAgICBuYW1ldmFsaWQgPSB2YWx1ZS5sZW5ndGggPj0gNjtcclxuICAgICAgICAgICAgICAgIGZpZWxkVmFsaWRhdGlvbkVycm9ycy5uYW1lID0gbmFtZXZhbGlkID8gJycgOiAnIGlzIHRvbyBzaG9ydCc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZm9ybUVycm9yczogZmllbGRWYWxpZGF0aW9uRXJyb3JzLCBuYW1ldmFsaWQ6IG5hbWV2YWxpZCwgbmFtZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYXZlYWNjb3VudGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBoYXZlYWNjb3VudDogIXRoaXMuc3RhdGUuaGF2ZWFjY291bnRcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIFNlbmRFc3RpbWF0aW9uKCkge1xyXG4gICAgICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9rZW5cIik7XHJcbiAgICAgICAgdmFyIGVtYWlsID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJkYXRhXCIpKS5lbWFpbDtcclxuICAgICAgICB2YXIgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgYXJlYTogdGhpcy5wcm9wcy5hcmVhLFxyXG4gICAgICAgICAgICBjb29yZGluYXRlczogSlNPTi5zdHJpbmdpZnkodGhpcy5wcm9wcy5jb29yZGluYXRlcyksXHJcbiAgICAgICAgICAgIHNsb3BlOiB0aGlzLnByb3BzLnN0eWxlLFxyXG4gICAgICAgICAgICBlc3RpbWF0ZWRhbW91bnQ6IFJvb2ZwcmljZSxcclxuICAgICAgICAgICAgbWF0ZXJpYWw6IHRoaXMucHJvcHMubWF0ZXJpYWwsXHJcbiAgICAgICAgICAgIHNsb3BlY29zdDogdGhpcy5wcm9wcy5yb29mc3R5bGVjb3N0LFxyXG4gICAgICAgICAgICBtYXRlcmlhbGNvc3Q6IHRoaXMucHJvcHMubWF0ZXJpYWxjb3N0LFxyXG4gICAgICAgICAgICBsYWJvdXI6IGNvc3RvZmxhYm91cixcclxuICAgICAgICAgICAgYWRkcmVzczogdGhpcy5wcm9wcy5hZGRyZXNzLFxyXG4gICAgICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgICAgIHBvd2VyOiB0aGlzLnByb3BzLnBvd2VyLFxyXG4gICAgICAgICAgICBlX2NvbnN1bXB0aW9uOiB0aGlzLnN0YXRlLmVfY29uc3VtcHRpb24sXHJcbiAgICAgICAgICAgIGZsb29yczogdGhpcy5wcm9wcy5mbG9vcnMsXHJcbiAgICAgICAgICAgIHJvb2ZfcGl0Y2g6IHRoaXMucHJvcHMucm9vZl9waXRjaCxcclxuICAgICAgICAgICAgcHJvcGVydHlfdHlwZTogdGhpcy5wcm9wcy5wcm9wZXJ0eV90eXBlLFxyXG4gICAgICAgICAgICBiYXR0ZXJ5OiB0aGlzLnN0YXRlLmJhdHRlcnksXHJcbiAgICAgICAgICAgIHBhbmVsOiB0aGlzLnN0YXRlLnBhbmVsLFxyXG4gICAgICAgICAgICBwYW5lbHNDb3VudDogdGhpcy5zdGF0ZS5wYW5lbHNDb3VudCxcclxuICAgICAgICAgICAgc29sYXJfaW5zdGFsbGF0aW9uX2Nvc3Q6IGluc3RhbGxhdGlvbkJlZm9yZVRheE5vQ29tbSxcclxuICAgICAgICAgICAgc3VwZXJ2aXNvcl9jb21taXNzaW9uOiBzdXBlclZpc29yQ29tbWlzc2lvbixcclxuICAgICAgICAgICAgZGlnaXNvbGFyX2NvbW1pc3Npb246IGRpZ2lzb2xhckNvbWlzc2lvbixcclxuICAgICAgICAgICAgc29sYXJfaW5zdGFsbGF0aW9uX1dpdGhfY29tbWlzc2lvbjogaW5zdGFsbGF0aW9uQmVmb3JlVGF4LFxyXG4gICAgICAgICAgICBzb2xhcl9pbnN0YWxsYXRpb25fYWZ0ZXJfdGF4OiBSb29mcHJpY2UsXHJcbiAgICAgICAgICAgIGRpc3BsYXlfY29zdDogZGlzcGxheVByaWNlLFxyXG4gICAgICAgICAgICBzb2xhcl9pbmNlbnRpdmVzOiBzb2FsckluY2VudGl2ZXMsXHJcbiAgICAgICAgICAgIGJhdHRlcnlfY29zdDogYmF0dGVyeUNvc3QsXHJcbiAgICAgICAgICAgIGJhdHRlcnlfY29zdF9hZnRlcl90YXg6IEJhdHRlcnlDb3N0QWZ0ZXJUYXgsXHJcbiAgICAgICAgICAgIGJhdHRlcnlfaW5jZW50aXZlczogY29taXNzaW9uT25CYXR0ZXJ5SW5jZW50aXZlcyxcclxuICAgICAgICAgICAgc29sYXJfaW50YWxsYXRpb25fYWZ0ZXJfY29tbWlzc2lvbjogaW5zdGFsbGF0aW9uQWZ0ZXJJbmNlbnRpdmVzLFxyXG4gICAgICAgICAgICBiYXR0ZXJ5X2FmdGVyX2luY2VudGl2ZXM6IGJhdHRlcnlBZnRlckluY2VudGl2ZSxcclxuICAgICAgICAgICAgZmluYWxfY29zdDogZmluYWxDb3N0XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmZXRjaCgndXNlcnMvZXN0aW1hdGlvbicsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcInBvc3RcIixcclxuICAgICAgICAgICAgY3Jvc3NEb21haW46IHRydWUsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcclxuICAgICAgICAgICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1IZWFkZXJzXCI6IFwiKlwiLFxyXG4gICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LU1ldGhvZFwiOiBcIipcIixcclxuXHJcbiAgICAgICAgICAgIH0sIGJvZHk6ICdqc29uPScgKyBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSArICcmdG9rZW49JyArIHRva2VuXHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcmRhdGEnLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XHJcbiAgICAgICAgaWYgKG5leHRTdGF0ZS5jbG9zZVVwZGF0ZVBhbmVsbW9kYWwgJiYgIW5leHRTdGF0ZS5tb2RhbElzT3Blbikge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuaW5pdGlhbFZhbHVlcyhuZXh0U3RhdGUucGFuZWwsIG5leHRTdGF0ZS5iYXR0ZXJ5LCBuZXh0U3RhdGUucGFuZWxzQ291bnQpLCAyMDAwKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5sb2dlZGluID09PSB0cnVlICYmIHRoaXMucHJvcHMuY29tcG9uZW50aW5kZXggPT09IFwiN1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHshdGhpcy5zdGF0ZS5sb2FkZWQgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyLWZsdWlkIHAtYi01XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmlkZW8gY2xhc3NOYW1lPVwibG9hZGVyXCIgaWQ9XCJiYWNrZ3JvdW5kLXZpZGVvXCIgbG9vcCBhdXRvUGxheSBtdXRlZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c291cmNlIHNyYz1cIi4vaW1nL2FuaW1hdGlvbjIubXA0XCIgdHlwZT1cInZpZGVvL21wNFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ZpZGVvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkZXJUZXh0XCI+PHA+e3RoaXMuc3RhdGUudGV4dH08L3A+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICkgOiB0aGlzLnN0YXRlLlBhbmVsTW9kYWxJc09wZW4gP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBhbmVsVHlwZXMgYmF0dGVyeT17dGhpcy5zdGF0ZS5iYXR0ZXJ5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsPXt0aGlzLnN0YXRlLnBhbmVsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhY2tldHNDb3VudD17dGhpcy5zdGF0ZS5wYW5lbHNDb3VudH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWNrZXROYW1lPXt0aGlzLnN0YXRlLnBhY2tldE5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlPXt0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uPXt0aGlzLnByb3BzLnJvb2ZhZGRyZXNzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVfY29uc3VtcHRpb249e3RoaXMuc3RhdGUuZV9jb25zdW1wdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZU1vZGFsPXt0aGlzLmNsb3NlTW9kYWwuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZVVwZGF0ZVBhbmVsbW9kYWw9e3RoaXMuc3RhdGUuY2xvc2VVcGRhdGVQYW5lbG1vZGFsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhbmVsTW9kYWxJc09wZW49e3RoaXMuc3RhdGUuUGFuZWxNb2RhbElzT3Blbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb29mX3BpdGNoPXt0aGlzLnByb3BzLnJvb2ZfcGl0Y2h9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VyZmFjZURpcmVjdGlvbj17dGhpcy5wcm9wcy5zdXJmYWNlRGlyZWN0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFubnVhbFByb2R1Y3Rpb249e3RoaXMuc3RhdGUuYW5udWFsUHJvZHVjdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhPXt0aGlzLnByb3BzLmFyZWF9IC8+IDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiXCIgaWQ9XCJlc3RpbWF0ZXJpZ2h0XCIgc3R5bGU9e3sgbWFyZ2luVG9wOiAyMCB9fSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiBjb2wtbWQtMTIgcGFuZGluZ19ub1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhcmVhLWVzdGltYXRpb24tY2FyZC1oZWFkaW5nIGZvbnQtcXVpY2tzYW5kIFwiPkRpdHQgdGFrPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGNvbC1zbS0xMiBhcmVhLWVzdGltYXRpb24tY2FyZHNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBpZD1cImNhcC1hZGRyZXNzXCI+e3RoaXMucHJvcHMuYWRkcmVzc308L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgcGFuZGluZ19ub1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIGNvbC1tZC02IHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGlkPVwiZXN0c3RlcDJcIj48c3Ryb25nIGNsYXNzTmFtZT1cInVwcGVyY2FzZSBmMTVcIj5GYXN0aWdoZXRzdHlwOiA8L3N0cm9uZz48YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiIGNsYXNzTmFtZT1cImYxNVwiPnt0aGlzLnByb3BzLnByb3BlcnR5X3R5cGV9PC9iPjwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgY29sLW1kLTYgcGFuZGluZ19ub1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgaWQ9XCJlc3RzdGVwMlwiPjxzdHJvbmcgY2xhc3NOYW1lPVwidXBwZXJjYXNlIGYxNVwiPsOFcmxpZyBlbGbDtnJicnVrbmluZyA6IDwvc3Ryb25nPjxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGIgY2xhc3NOYW1lPVwiZjE1XCI+e3RoaXMuc3RhdGUuZV9jb25zdW1wdGlvbn08L2I+PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgY29sLW1kLTEyIHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiBjb2wtbWQtNiAgcGFuZGluZ19ub1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgaWQ9XCJlc3RzdGVwMlwiPjxzdHJvbmcgY2xhc3NOYW1lPVwidXBwZXJjYXNlIGYxNVwiPlRha2x1dG5pbmcgOiA8L3N0cm9uZz48YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiIGNsYXNzTmFtZT1cImYxNVwiPnt0aGlzLnByb3BzLnJvb2ZfcGl0Y2h9IMKwIDwvYj48L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIGNvbC1tZC02IHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGlkPVwiZXN0c3RlcDJcIj48c3Ryb25nIGNsYXNzTmFtZT1cInVwcGVyY2FzZSBmMTVcIj5IdXZ1ZHPDpGtyaW5nIDogPC9zdHJvbmc+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YiBjbGFzc05hbWU9XCJmMTVcIj57dGhpcy5wcm9wcy5wb3dlcn08L2I+PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgIGNvbC1tZC0xMiBwYW5kaW5nX25vXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgY29sLW1kLTYgcGFuZGluZ19ub1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgaWQ9XCJlc3RzdGVwMlwiPjxzdHJvbmcgY2xhc3NOYW1lPVwidXBwZXJjYXNlIGYxNVwiPlRha21hdGVyaWFsIDogPC9zdHJvbmc+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YiBjbGFzc05hbWU9XCJmMTVcIj57dGhpcy5wcm9wcy5tYXRlcmlhbH08L2I+PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTZcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhcmVhLWVzdGltYXRpb24tY2FyZC1oZWFkaW5nIGZvbnQtcXVpY2tzYW5kIFwiPkRpbiBQcm9kdWt0PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGNvbC1zbS0xMiBlc3RpbWF0aW9uLXBhbmVsLWNhcmRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0ZWRfcGFuZWwnKT09J3NvbHBhbmVsJyApID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiBjb2wtbWQtNiBjYXJkLWNvbnRlbnQtYm90dG9tXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGlkPVwiZXN0c3RlcDJcIj48c3Ryb25nIGNsYXNzTmFtZT1cInVwcGVyY2FzZSBmMTVcIj5TT0xQQU5FTDogPC9zdHJvbmc+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YiBjbGFzc05hbWU9XCJmMTVcIj57dGhpcy5zdGF0ZS5wYW5lbH08L2I+PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiBjb2wtbWQtMTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGlkPVwiZXN0c3RlcDJcIj48c3Ryb25nIGNsYXNzTmFtZT1cInVwcGVyY2FzZSBmMTVcIj5BTlRhbCBQQU5FTDo8L3N0cm9uZz48YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiIGNsYXNzTmFtZT1cImYxNVwiPnt0aGlzLnN0YXRlLnBhbmVsc0NvdW50fTwvYj48L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyICBjb2wtbWQtMTIgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBpZD1cImVzdHN0ZXAyXCI+PHN0cm9uZyBjbGFzc05hbWU9XCJ1cHBlcmNhc2UgZjE1XCI+QkFUVEVSSSA8L3N0cm9uZz48YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiIGNsYXNzTmFtZT1cImYxNVwiPnt0aGlzLnN0YXRlLmJhdHRlcnl9PC9iPjwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gOiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgY29sLW1kLTYgY2FyZC1jb250ZW50LWJvdHRvbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBpZD1cImVzdHN0ZXAyXCI+PHN0cm9uZyBjbGFzc05hbWU9XCJ1cHBlcmNhc2UgZjE1XCI+QmF0dGVyaTogPC9zdHJvbmc+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YiBjbGFzc05hbWU9XCJmMTVcIj57dGhpcy5zdGF0ZS5iYXR0ZXJ5MX08L2I+PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiBjb2wtbWQtMTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGlkPVwiZXN0c3RlcDJcIj48c3Ryb25nIGNsYXNzTmFtZT1cInVwcGVyY2FzZSBmMTVcIj5Tb2xjZWxsc3N0w7ZkOjwvc3Ryb25nPjxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGIgY2xhc3NOYW1lPVwiZjE1XCI+e3RoaXMuc3RhdGUuc29sYXJJbmNlbnRpdmVzfTwvYj48L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyICBjb2wtbWQtMTIgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBpZD1cImVzdHN0ZXAyXCI+PHN0cm9uZyBjbGFzc05hbWU9XCJ1cHBlcmNhc2UgZjE1XCI+QmF0dGVyaXN0w7ZkIDwvc3Ryb25nPjxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGIgY2xhc3NOYW1lPVwiZjE1XCI+e3RoaXMuc3RhdGUuYmF0dGVyeUluY2VudHZpZXN9PC9iPjwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgIGNvbC1tZC0xMiBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGlkPVwiZXN0c3RlcDJcIj48c3Ryb25nIGNsYXNzTmFtZT1cInVwcGVyY2FzZSBmMTVcIj5Ub3RhbHQgaW5rbCwgbW9tcyA8L3N0cm9uZz48YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiIGNsYXNzTmFtZT1cImYxNVwiPnt0aGlzLnN0YXRlLmZpbmFsQ29zdH08L2I+PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBjb2wtc20tMTIgYWxpZ24tdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInBhbmVsLWNhcmQtYnV0dG9uXCIgb25DbGljaz17dGhpcy5tb2RhbFBhbmVscG9wdXB9PkJ5dCBQcm9kdWt0PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIGNvbC1tZC0xMiBwYW5kaW5nX25vXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNiBjb2wtbWQtNlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFyZWEtZXN0aW1hdGlvbi1jYXJkLWhlYWRpbmcgZm9udC1xdWlja3NhbmQgXCI+RWxwcm9kdWt0aW9uPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGNvbC1zbS0xMiBlc3RpbWF0aW9uLXBhbmVsLWNhcmQgZWxwcm9kdWN0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiBwYW5kaW5nX25vIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIGNvbC1tZC02IHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGlkPVwiZXN0c3RlcDJcIiBjbGFzc05hbWU9XCJhbGlnbi10ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGIgY2xhc3NOYW1lPVwiZjE1XCI+aW5zdGFsbGVyYWRlIGVmZmVrdCA8L2I+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBlci1wYW5lbFwiPnt0b3RhbEluc3RhbGxlZFBvd2VySW5rd30ga1doPC9kaXY+PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiBjb2wtbWQtNiBwYW5kaW5nX25vXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBpZD1cImVzdHN0ZXAyXCIgY2xhc3NOYW1lPVwiYWxpZ24tdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiIGNsYXNzTmFtZT1cImYxNVwiPsOFcnNwcm9kdWt0aW9uIDwvYj48YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGVyLXBhbmVsXCI+e3RoaXMuc3RhdGUuYW5udWFsUHJvZHVjdGlvbn0ga1doPC9kaXY+PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02IGNvbC1tZC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXJlYS1lc3RpbWF0aW9uLWNhcmQtaGVhZGluZyBmb250LXF1aWNrc2FuZFwiPlByaXMgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFibGUtYmcgIHByaXNfaGVpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlIGFtb3VudC10b3RhbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3NOYW1lPVwiZm9udC13ZWlnbnQtNzAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInRhYmxlLWNhdCBwYWRkaW5nLWxlZnQtbm9uZSBwYWRkaW5nLXJpZ2h0LW5vbmUgdzQ4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNvbHBhbmVsc2FubMOkZ2dpbmcgIG9jaCBpbnN0YWxsYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInRhYmxlLXByaWNlLXdpZHRoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDdXJyZW5jeUZvcm1hdCBzdHlsZT17eyBmb250U2l6ZTogMjUgfX0gdmFsdWU9e3BhcnNlRmxvYXQoZGlzcGxheVByaWNlLnRvRml4ZWQoMCkpfSBkaXNwbGF5VHlwZT17J3RleHQnfSB0aG91c2FuZFNlcGFyYXRvcj17JyAnfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmMjFcIj4gU0VLPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT1cImZvbnQtd2VpZ250LTcwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ0YWJsZS1jYXQgcGFkZGluZy1sZWZ0LW5vbmUgdzQ4XCI+QmF0dGVyaTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInRhYmxlLXByaWNlLXdpZHRoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDdXJyZW5jeUZvcm1hdCBzdHlsZT17eyBmb250U2l6ZTogMjUgfX0gdmFsdWU9e3BhcnNlRmxvYXQoQmF0dGVyeUNvc3RBZnRlclRheC50b0ZpeGVkKDApKX0gZGlzcGxheVR5cGU9eyd0ZXh0J30gdGhvdXNhbmRTZXBhcmF0b3I9eycgJ30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZjIxXCI+IFNFSzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCIgZm9udC13ZWlnbnQtNzAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInRhYmxlLWNhdCBwYWRkaW5nLWxlZnQtbm9uZSB3NDhcIj5Tb2xjZWxsc3N0w7ZkPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidGFibGUtcHJpY2Utd2lkdGhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEN1cnJlbmN5Rm9ybWF0IHN0eWxlPXt7IGZvbnRTaXplOiAyNSB9fSB2YWx1ZT17LXBhcnNlRmxvYXQoc29hbHJJbmNlbnRpdmVzLnRvRml4ZWQoMCkpfSBkaXNwbGF5VHlwZT17J3RleHQnfSB0aG91c2FuZFNlcGFyYXRvcj17JyAnfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmMjFcIj4gU0VLPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT1cInRvdGFsLWJvcmRlciBmb250LXdlaWdudC03MDBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidGFibGUtY2F0IHBhZGRpbmctbGVmdC1ub25lIHc0OFwiPkJhdHRlcmlzdMO2ZDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInRhYmxlLXByaWNlLXdpZHRoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDdXJyZW5jeUZvcm1hdCBzdHlsZT17eyBmb250U2l6ZTogMjUgfX0gdmFsdWU9e2JhdHRlcnlJbmNlbnRpdmVzID4gMCA/IC1wYXJzZUZsb2F0KGJhdHRlcnlJbmNlbnRpdmVzLnRvRml4ZWQoMCkpIDogYmF0dGVyeUluY2VudGl2ZXN9IGRpc3BsYXlUeXBlPXsndGV4dCd9IHRob3VzYW5kU2VwYXJhdG9yPXsnICd9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImYyMVwiPiBTRUs8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3NOYW1lPVwiZm9udC13ZWlnbnQtNzAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInRhYmxlLWNhdCBwYWRkaW5nLWxlZnQtbm9uZSB3NDhcIj5Ub3RhbChpbmtsIG1vbXMpPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidGFibGUtcHJpY2Utd2lkdGhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEN1cnJlbmN5Rm9ybWF0IHN0eWxlPXt7IGZvbnRTaXplOiAyNSB9fSB2YWx1ZT17cGFyc2VGbG9hdChmaW5hbENvc3QudG9GaXhlZCgwKSl9IGRpc3BsYXlUeXBlPXsndGV4dCd9IHRob3VzYW5kU2VwYXJhdG9yPXsnICd9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImYyMVwiPiBTRUs8L3NwYW4+PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgY29sLXNtLTEyIGFsaWduLXRleHQtY2VudGVyIGFsaWduLWFwcG9pbnRtZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImFwcG9pbnRtZW50LWJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4taW5mb1wiIG9uQ2xpY2s9e3RoaXMubW9kYWxwb3B1cH0+Qm9rYSBCZXNpa3RuaW5nPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnBvcHVwID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXt0aGlzLnN0YXRlLm1vZGFsSXNPcGVufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25BZnRlck9wZW49e3RoaXMuYWZ0ZXJPcGVuTW9kYWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJlcXVlc3RDbG9zZT17dGhpcy5jbG9zZU1vZGFsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e2N1c3RvbVN0eWxlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRMYWJlbD1cIkV4YW1wbGUgTW9kYWxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJva2EtaGVhZGluZ1wiPkJva2EgQmVzaWt0bmluZzwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZi1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNsb3NlLWJ1dHRvbiBcIiBvbkNsaWNrPXt0aGlzLmNsb3NlTW9kYWx9Plg8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRpbWVCb29raW5nIHByZXZpb3VzPXt0aGlzLnByZXZpb3VzLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VNb2RhbD17dGhpcy5jbG9zZU1vZGFsLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsZW5kZXJJbmRleD17dGhpcy5zdGF0ZS5jYWxlbmRlckluZGV4fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQYWdlPXt0aGlzLm5leHRQYWdlLmJpbmQodGhpcyl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKG51bGwpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgY29sLW1kLTEyIHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFyZWEtZXN0aW1hdGlvbi1jYXJkLWhlYWRpbmcgZm9udC1xdWlja3NhbmRcIj5Tb2xla29ub21pPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEVTYXZpbmcgcm9vZl9waXRjaD17dGhpcy5wcm9wcy5yb29mX3BpdGNofSBwYWNrZXROYW1lPXt0aGlzLnByb3BzLnBhY2tldE5hbWV9IHJvb2ZhcmVhPXt0aGlzLnByb3BzLmFyZWF9IGxvY2F0aW9uPXt0aGlzLnByb3BzLnJvb2ZhZGRyZXNzfSBkaXJlY3Rpb249e3RoaXMucHJvcHMuc3VyZmFjZURpcmVjdGlvbn0gbm9PZlBhbmVscz17dGhpcy5zdGF0ZS5wYW5lbHNDb3VudH0gY2FwYWNpdHk9e2NhcGFjaXR5fSBlc3RpbWF0ZWRBbW91bnQ9e2Rpc3BsYXlQcmljZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgY29sLW1kLTEyIHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiBwYW5kaW5nX25vIGFsaWduLXRleHQtY2VudGVyICBtLTUwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBzdHlsZT17eyBjb2xvcjogJyMwNjRmNzAnLCBmb250V2VpZ2h0OiAnYm9sZCcsIGZvbnRGYW1pbHk6ICdxdWlja3NhbmQnIH19PlbDpXJhIGluc3RhbGxhdGlvbmVyIGlubmVow6VsbGVyIGFsbHRpZDwvaDI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLXNtLTYgc2VwYXJldF93aWR0aFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0PjxpbWcgc3JjPVwiLi9pbWcvQ2hlY2stTWFyay0yLnBuZ1wiIGFsdD0nQ2hlY2stTWFyay0yJyAvPjxiPkFsbHQgbWF0ZXJpYWwgaW5rIHNvbHBhbmVsZXIgPC9iPiA8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0PjxpbWcgc3JjPVwiLi9pbWcvQ2hlY2stTWFyay0yLnBuZ1wiIGFsdD0nQ2hlY2stTWFyaycgLz48Yj5Lb21wbGV0dCBpbnN0YWxsYXRpb24gaW5rbCBlbGVrdHJpa2VyPC9iPjwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQ+PGltZyBzcmM9XCIuL2ltZy9DaGVjay1NYXJrLTIucG5nXCIgYWx0PSdDaGVja01hcmsnIC8+PGI+VHJhbnNwb3J0IHRpbGwgbW90dGFnYXJhZHJlc3MgPC9iPiA8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0PjxpbWcgc3JjPVwiLi9pbWcvQ2hlY2stTWFyay0yLnBuZ1wiIGFsdD0nQ2hlY2tlZE1hcmsnIC8+PGI+U3TDpGxsbmluZ3Ntb250YWdlICZhbXA7IHRha3PDpGtlcmhldCA8L2I+IDwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQ+PGltZyBzcmM9XCIuL2ltZy9DaGVjay1NYXJrLTIucG5nXCIgYWx0PSdDaGVja2VyTWFyaycgLz48Yj5Qcm9qZWt0bGVkbmluZyBvY2ggZGltZW5zaW9uZXJpbmcgPC9iPiA8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0PjxpbWcgc3JjPVwiLi9pbWcvQ2hlY2stTWFyay0yLnBuZ1wiIGFsdD0nQ2hlY2snIC8+PGI+RsO2ciBvY2ggZsOkcmRpZ2FubcOkbGFuIHRpbGwgbsOkdMOkZ2FyZSA8L2I+IDwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQ+PGltZyBzcmM9XCIuL2ltZy9DaGVjay1NYXJrLTIucG5nXCIgYWx0PSdDaGVja00nIC8+PGI+VXBwa29wcGxpbmcgYXYgdsOkeGVscmlrdGFyZSBmw7ZyIMO2dmVydmFrbmluZyBhdiBwcm9kdWt0aW9uPC9iPiA8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNlwiIHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIGFsaWduSXRlbXM6ICdjZW50ZXInIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJpbWctcmVzcG9uc2l2ZVwiIGFsdD0naW1hZ2UnIHNyYz1cIi4vaW1nL3NvbGFyX2VzdGltYXRpb24ucG5nXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXY+IFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyLWZsdWlkIGJnLXdoaXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hkb3dfd3RcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIHRleHQtY2VudGVyIGxvZ2luX3R4dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vaW1nL2Rpc29sYXJfbG9nb19ibGFjay5wbmdcIiBhbHQ9J2Rpc29sYXJfbG9nb19ibGFjaycgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkRpbiBwcmlzdXBwc2thdHRuaW5nIMOkciBmw6RyZGlnITwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoND5WaSBoYXIgbnUgZ2VuZXJlcmF0IGRpbiBwcmlzdXBwc2thdHRuaW5nIGJhc2VyYXQgcMOlIGbDtmxqYW5kZSB1cHBnaWZ0ZXI6PC9oND5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiB0ZXh0LWNlbnRlciByZWdpc3Rybl9hZGQgIGxvZ2luX3R4dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJhZGRyZXNfdHh0XCI+QWRyZXNzIDo8L3NwYW4+IHt0aGlzLnByb3BzLmFkZHJlc3N9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJhZGRyZXNfdHh0XCI+RmFzdGlnaGV0c3R5cCA6PC9zcGFuPiB7dGhpcy5wcm9wcy5wcm9wZXJ0eV90eXBlfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PHNwYW4gY2xhc3NOYW1lPVwiYWRkcmVzX3R4dFwiPlRha2x1dG5pbmcgOjwvc3Bhbj4ge3RoaXMucHJvcHMucm9vZl9waXRjaH0gwrA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxzcGFuIGNsYXNzTmFtZT1cImFkZHJlc190eHRcIj5UYWttYXRlcmlhbCA6PC9zcGFuPiAge3RoaXMucHJvcHMubWF0ZXJpYWx9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJhZGRyZXNfdHh0XCI+w4VybGlnIGVsZsO2cmJydWtuaW5nIDo8L3NwYW4+IHt0aGlzLnN0YXRlLmVfY29uc3VtcHRpb259PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJhZGRyZXNfdHh0XCI+SHV2dWRzw6RrcmluZyA6PC9zcGFuPiB7dGhpcy5wcm9wcy5wb3dlcn08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoND5Ww6RubGlnZW4gc2tyaXYgaW4gZGluIGUtcG9zdGFkcmVzcyBmw7ZyIGF0dCBmw6UgdGlsbGfDpW5nIHRpbGwgZGluIHByaXN1cHBza2F0dG5pbmc8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBmb3JtX2JvdHRvbTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm1fdG9wMlwiPjxkaXYgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdldERldGFpbHMgaGF2ZWFjY291bnRmdW5jdGlvbj17dGhpcy5oYXZlYWNjb3VudGZ1bmN0aW9uLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGF2ZWFjY291bnQ9e3RoaXMuc3RhdGUuaGF2ZWFjY291bnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9naW5zdWJtaXQ9e3RoaXMubG9naW5zdWJtaXQuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWdudXBuc3VibWl0PXt0aGlzLnNpZ251cHN1Ym1pdC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbmNlZXJyb3I9e3RoaXMuc3RhdGUucmVzcG9uY2VlcnJvcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25jZWVycm9ybG9naW49e3RoaXMuc3RhdGUucmVzcG9uY2VlcnJvcmxvZ2lufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbmNlZXJyb3JzaWdudXA9e3RoaXMuc3RhdGUucmVzcG9uY2VlcnJvcnNpZ251cH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZUZpZWxkPXt0aGlzLnZhbGlkYXRlRmllbGQuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+PC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXItZmx1aWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRtaW1nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL2ltZy9ib290bS1pbS5qcGdcIiBjbGFzc05hbWU9XCJpbWctcmVzcG9uc2l2ZVwiIGFsdD0nYm9vdG0taW0uanBnJyAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEdldERldGFpbHMgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy52YWxpZGF0ZUZpZWxkKGV2ZW50LnRhcmdldC5uYW1lLCBldmVudC50YXJnZXQudmFsdWUpXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoPGZvcm0gb25TdWJtaXQ9e3RoaXMucHJvcHMubG9naW5zdWJtaXQuYmluZCh0aGlzKX0gaWQ9XCJsb2dpblwiIHN0eWxlPXttYXRzdHlsZS5mb3JtbWFyZ2lufT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC1kYW5nZXJcIiBoaWRkZW49eyh0aGlzLnByb3BzLnJlc3BvbmNlZXJyb3Jsb2dpbiA9PT0gXCJcIil9ID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnJlc3BvbmNlZXJyb3Jsb2dpbn1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiBuYW1lPVwiZW1haWxcIiBwbGFjZWhvbGRlcj1cIkUtcG9zdGFkcmVzcypcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtYmdcIiBvbkJsdXI9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyl9IHJlcXVpcmVkIC8+XHJcbiAgICAgICAgICAgIDxzcGFuIGlkPVwiZXJyb3JcIj57dGhpcy5wcm9wcy5FbWFpbEVycm9yc31cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwicGhvbmVcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtcGhvbmViZ1wiIHBsYWNlaG9sZGVyPVwiVGVsZWZvbm51bW1lcipcIiBvbkJsdXI9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyl9IHJlcXVpcmVkIC8+XHJcbiAgICAgICAgICAgIDxzcGFuIGlkPVwiZXJyb3JcIj57dGhpcy5wcm9wcy5QaG9uZUVycm9yc31cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgPGRpdj4gPGlucHV0IHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9J2Zvcm0tY29udHJvbCBidG4tcHJpbWFyeScgdmFsdWU9XCJWaWRhcmVcIiAvPjwvZGl2PlxyXG4gICAgICAgIDwvZm9ybT4pXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFyZWFlc3RpbWF0ZTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5jb25zdCBBcHBDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCgpO1xyXG5leHBvcnQgZGVmYXVsdCBBcHBDb250ZXh0OyIsIlxyXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQ29udGV4dCBmcm9tICcuL0NvbnRleHQnO1xyXG5cclxuY2xhc3MgQ29udGV4dFByb3ZpZGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudGluZGV4OiAxLFxyXG4gICAgICAgICAgICBmaW5pc2hlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHJvb2ZhcmVhOiAwLFxyXG4gICAgICAgICAgICByb29mc3R5bGU6IFwiXCIsXHJcbiAgICAgICAgICAgIG1hdGVyaWFsOiBcIlwiLFxyXG4gICAgICAgICAgICBtYXRlcmlhbENvc3Q6IDAsXHJcbiAgICAgICAgICAgIHJvb2ZzdHlsZWNvc3Q6IDAsXHJcbiAgICAgICAgICAgIFJvb2ZhZGRyZXNzOiBcIlwiLFxyXG4gICAgICAgICAgICByb29mYWRyZXNzOiBcIlwiLFxyXG4gICAgICAgICAgICBjb29yZGluYXRlczogXCJcIixcclxuICAgICAgICAgICAgZV9jb25zdW1wdGlvbjogJycsXHJcbiAgICAgICAgICAgIHBvd2VyOiAnJyxcclxuICAgICAgICAgICAgbG9jYXRpb246ICcnLFxyXG4gICAgICAgICAgICBwYW5lbDogJycsXHJcbiAgICAgICAgICAgIGJhdHRlcnk6ICcnLFxyXG4gICAgICAgICAgICBwYW5lbHNDb3VudDogJydcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbE1vdW50KCkge1xyXG4gICAgICAgIHZhciBpbmRleCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2NvbXBvbmVudGluZGV4Jyk7XHJcbiAgICAgICAgaWYgKGluZGV4ICYmIGluZGV4ICE9PSAnJyAmJiBpbmRleCAhPT0gJ3VuZGVmaW5lZCcgJiYgaW5kZXggIT09ICdudWxsJykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAnJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjb21wb25lbnRpbmRleCcsIDEpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudGluZGV4OiAxLFxyXG4gICAgICAgICAgICAgICAgbG9jYXRpb246ICcnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhcmVhMSh2LCBhZGRyZXNzLCBjb29yZGluYXRlcykge1xyXG4gICAgICAgIHZhciBqc29uID0gY29vcmRpbmF0ZXM7XHJcbiAgICAgICAgdmFyIG9iaiA9IEpTT04ucGFyc2UoanNvbik7XHJcbiAgICAgICAgdmFyIGNvb3JkaW5hdGUgPSBvYmoubWFwKGZ1bmN0aW9uIChvLCB2KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQobykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2Nvb3JkaW5hdGVzJywgY29vcmRpbmF0ZS50b1N0cmluZygpKTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdSb29mYWRkcmVzcycsIGFkZHJlc3MpO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Jvb2ZhcmVhJywgdik7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY29tcG9uZW50aW5kZXgnLCAyKTtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiLyNzdGVnMlwiO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBsb2NhdGlvbjogJy8jc3RlZzInLFxyXG4gICAgICAgICAgICBjb21wb25lbnRpbmRleDogMixcclxuICAgICAgICAgICAgcm9vZmFyZWE6IHYsXHJcbiAgICAgICAgICAgIFJvb2ZhZGRyZXNzOiBhZGRyZXNzLFxyXG4gICAgICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXNcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHF1c2V0aW9uc3ZhbCh0eXBlLCBmbG9vciwgYW5nbGUpIHtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwcm9wZXJ0eV90eXBlJywgdHlwZSk7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnZmxvb3JzJywgZmxvb3IpO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Jvb2ZfcGl0Y2gnLCBhbmdsZSk7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY29tcG9uZW50aW5kZXgnLCAzKTtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiLyNzdGVnM1wiXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudGluZGV4OiAzLFxyXG4gICAgICAgICAgICBwcm9wZXJ0eV90eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICBmbG9vcnM6IGZsb29yLFxyXG4gICAgICAgICAgICByb29mX3BpdGNoOiBhbmdsZSxcclxuICAgICAgICAgICAgbG9jYXRpb246IFwiLyNzdGVnM1wiXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBtYXRlcmlhbHZhbCh2YWx1ZSwgY29zdCkge1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ21hdGVyaWFsQ29zdCcsIGNvc3QpO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Jvb2ZtYXRlcmlhbCcsIHZhbHVlKTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjb21wb25lbnRpbmRleCcsIDQpO1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvI3N0ZWc0XCJcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY29tcG9uZW50aW5kZXg6IDQsXHJcbiAgICAgICAgICAgIHJvb2ZtYXRlcmlhbDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncm9vZm1hdGVyaWFsJyksXHJcbiAgICAgICAgICAgIG1hdGVyaWFsQ29zdDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbWF0ZXJpYWxDb3N0JyksXHJcbiAgICAgICAgICAgIGxvY2F0aW9uOiBcIi8jc3RlZzRcIlxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgbWF0cXVlc3Rpb252YWwodHlwZSwgZmxvb3IpIHtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdlX2NvbnN1bXB0aW9uJywgdHlwZSk7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncG93ZXInLCBmbG9vcik7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY29tcG9uZW50aW5kZXgnLCA1KTtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiLyNzdGVnNVwiO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBjb21wb25lbnRpbmRleDogNSxcclxuICAgICAgICAgICAgZV9jb25zdW1wdGlvbjogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZV9jb25zdW1wdGlvbicpLFxyXG4gICAgICAgICAgICBwb3dlcjogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncG93ZXInKSxcclxuICAgICAgICAgICAgbG9jYXRpb246IFwiLyNzdGVnNVwiXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwYW5lbFR5cGVzKHBhbmVsLCBiYXR0ZXJ5LCBjb3VudCwgcGFja2V0TmFtZSkge1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3BhbmVsJywgcGFuZWwpO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2JhdHRlcnknLCBiYXR0ZXJ5KTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYW5lbHNDb3VudCcsIGNvdW50KTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYWNrZXROYW1lJywgcGFja2V0TmFtZSk7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubG9naW5tb2RlKSB7XHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2NvbXBvbmVudGluZGV4JywgNyk7XHJcbiAgICAgICAgICAgIHRoaXMuYXJlYUVzdCA9IHRoaXMuYXJlYUVzdGltZXRhY2suYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5hcmVhRXN0KHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudGluZGV4OiA3LFxyXG4gICAgICAgICAgICAgICAgZV9jb25zdW1wdGlvbjogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZV9jb25zdW1wdGlvbicpLFxyXG4gICAgICAgICAgICAgICAgcG93ZXI6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Bvd2VyJyksXHJcbiAgICAgICAgICAgICAgICByb29mbWF0ZXJpYWw6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZtYXRlcmlhbCcpLFxyXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWxDb3N0OiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdtYXRlcmlhbENvc3QnKSxcclxuICAgICAgICAgICAgICAgIFJvb2ZhZGRyZXNzOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdSb29mYWRkcmVzcycpLFxyXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2Nvb3JkaW5hdGVzJyksXHJcbiAgICAgICAgICAgICAgICByb29mYXJlYTogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncm9vZmFyZWEnKSxcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5X3R5cGU6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Byb3BlcnR5X3R5cGUnKSxcclxuICAgICAgICAgICAgICAgIGZsb29yczogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZmxvb3JzJyksXHJcbiAgICAgICAgICAgICAgICByb29mX3BpdGNoOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdyb29mX3BpdGNoJyksXHJcbiAgICAgICAgICAgICAgICBwYW5lbDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncGFuZWwnKSxcclxuICAgICAgICAgICAgICAgIGJhdHRlcnk6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2JhdHRlcnknKSxcclxuICAgICAgICAgICAgICAgIHBhbmVsc0NvdW50OiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdwYW5lbHNDb3VudCcpXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2NvbXBvbmVudGluZGV4JywgNik7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvI3N0ZWc2XCIsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRpbmRleDogNixcclxuICAgICAgICAgICAgICAgICAgICBlX2NvbnN1bXB0aW9uOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdlX2NvbnN1bXB0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcG93ZXI6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Bvd2VyJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcm9vZm1hdGVyaWFsOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdyb29mbWF0ZXJpYWwnKSxcclxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbENvc3Q6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ21hdGVyaWFsQ29zdCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIFJvb2ZhZGRyZXNzOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdSb29mYWRkcmVzcycpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjb29yZGluYXRlcycpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvb2ZhcmVhOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdyb29mYXJlYScpLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5X3R5cGU6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Byb3BlcnR5X3R5cGUnKSxcclxuICAgICAgICAgICAgICAgICAgICBmbG9vcnM6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2Zsb29ycycpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvb2ZfcGl0Y2g6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZfcGl0Y2gnKSxcclxuICAgICAgICAgICAgICAgICAgICBwYW5lbDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncGFuZWwnKSxcclxuICAgICAgICAgICAgICAgICAgICBiYXR0ZXJ5OiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdiYXR0ZXJ5JyksXHJcbiAgICAgICAgICAgICAgICAgICAgcGFuZWxzQ291bnQ6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3BhbmVsc0NvdW50JyksXHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IFwiLyNzdGVnNlwiXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhcmVhRXN0aW1ldGFjaygpIHtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiLyN0YWNrXCI7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY29tcG9uZW50aW5kZXgnLCA3KTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY29tcG9uZW50aW5kZXg6IDYsXHJcbiAgICAgICAgICAgIGxvY2F0aW9uOiBcIi8jdGFja1wiLFxyXG4gICAgICAgICAgICByb29mbWF0ZXJpYWw6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZtYXRlcmlhbCcpLFxyXG4gICAgICAgICAgICBtYXRlcmlhbENvc3Q6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ21hdGVyaWFsQ29zdCcpLFxyXG4gICAgICAgICAgICBSb29mYWRkcmVzczogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnUm9vZmFkZHJlc3MnKSxcclxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2Nvb3JkaW5hdGVzJyksXHJcbiAgICAgICAgICAgIHJvb2ZzdHlsZTogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncm9vZnN0eWxlJyksXHJcbiAgICAgICAgICAgIHJvb2ZzdHlsZWNvc3Q6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZzdHlsZWNvc3QnKSxcclxuICAgICAgICAgICAgcm9vZmFyZWE6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZhcmVhJyksXHJcbiAgICAgICAgICAgIHByb3BlcnR5X3R5cGU6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Byb3BlcnR5X3R5cGUnKSxcclxuICAgICAgICAgICAgZmxvb3JzOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdmbG9vcnMnKSxcclxuICAgICAgICAgICAgcm9vZl9waXRjaDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncm9vZl9waXRjaCcpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlUHJlKHZhbCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNvbXBvbmVudGluZGV4ID4gMSlcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbXBvbmVudGluZGV4OiB0aGlzLnN0YXRlLmNvbXBvbmVudGluZGV4IC0gMSB9KVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZU5leHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZmluaXNoZWQgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRpbmRleDogdGhpcy5zdGF0ZS5jb21wb25lbnRpbmRleCArIDEsXHJcbiAgICAgICAgICAgICAgICBmaW5pc2hlZDogdGhpcy5zdGF0ZS5jb21wb25lbnRpbmRleCA+PSA3XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0ZXB2YWwodmFsKSB7XHJcbiAgICAgICAgaWYgKHZhbCA9PT0gMSkge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL1wiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvI3N0ZWdcIiArIHZhbDtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvY2F0aW9uOiBcIi8jc3RlZ1wiICsgdmFsLCBjb21wb25lbnRpbmRleDogdmFsIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2NvbXBvbmVudGluZGV4JywgdmFsKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3tcclxuICAgICAgICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1c2V0aW9uc3ZhbDogdGhpcy5xdXNldGlvbnN2YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RlcHZhbDogdGhpcy5zdGVwdmFsLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsdmFsOiB0aGlzLm1hdGVyaWFsdmFsLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhbmVsVHlwZXM6IHRoaXMucGFuZWxUeXBlcyxcclxuICAgICAgICAgICAgICAgICAgICBhcmVhRXN0aW1ldGFjazogdGhpcy5hcmVhRXN0aW1ldGFjayxcclxuICAgICAgICAgICAgICAgICAgICBtYXRxdWVzdGlvbnZhbDogdGhpcy5tYXRxdWVzdGlvbnZhbFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICAgICAgICA8L0NvbnRleHQuUHJvdmlkZXI+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb250ZXh0UHJvdmlkZXI7IiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IERheVBpY2tlciBmcm9tICdyZWFjdC1kYXktcGlja2VyJztcclxuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xyXG5cclxuY2xhc3MgRGF0ZVBpY2tlciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBzZWxlY3RlZERheTogbnVsbCxcclxuICAgICAgICAgICAgc2VsZWN0ZWRTbG90OiBudWxsLFxyXG4gICAgICAgICAgICB2YWxpZERheTogZmFsc2UsXHJcbiAgICAgICAgICAgIHZhbGlkU2xvdDogZmFsc2UsXHJcbiAgICAgICAgICAgIGF2YWlsYWJsZXNsb3RzOiBbJzk6MDAnLCAnOTozMCcsICcxMDowMCcsICcxMDozMCcsICcxMTowMCcsICcxMTozMCcsICcxMjowMCcsICcxMjozMCcsICcxMzowMCcsICcxMzozMCcsICcxNDowMCcsICcxNDozMCcsICcxNTowMCcsICcxNTozMCcsICcxNjowMCcsICcxNzowMCddLFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5leHRQYWdlID0gdGhpcy5wcm9wcy5uZXh0UGFnZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY2xvc2VNb2RhbCA9IHRoaXMucHJvcHMuY2xvc2VNb2RhbC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucHJldmlvdXMgPSB0aGlzLnByb3BzLnByZXZpb3VzLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVEYXlDbGljayA9IHRoaXMuaGFuZGxlRGF5Q2xpY2suYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmhhbmRsZVNsb3RDbGljayA9IHRoaXMuaGFuZGxlU2xvdENsaWNrLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jb250cmFjdG9yQXZhaWxhYmlsaXR5U2xvdHMgPSB0aGlzLmNvbnRyYWN0b3JBdmFpbGFiaWxpdHlTbG90cy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudmFsaWRhdGUgPSB0aGlzLnZhbGlkYXRlLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVEYXlDbGljayhkYXksIHsgc2VsZWN0ZWQgfSkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBzZWxlY3RlZERheTogc2VsZWN0ZWQgPyB1bmRlZmluZWQgOiBkYXksXHJcbiAgICAgICAgICAgIHZhbGlkRGF5OiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlU2xvdENsaWNrKHNsb3QpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRTbG90OiBzbG90LFxyXG4gICAgICAgICAgICB2YWxpZFNsb3Q6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5jb250cmFjdG9yQXZhaWxhYmlsaXR5U2xvdHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb250cmFjdG9yQXZhaWxhYmlsaXR5U2xvdHMoKSB7XHJcbiAgICAgICAgbGV0IF9zZWxmID0gdGhpcywgZGF0YSA9IFtdO1xyXG4gICAgICAgIGZldGNoKCcvY29udHJhY3Rvci9hdmFpbGFiaWxpdHkvNWQxMzUwMTk5ODgwZmY5NDExNWRlZGRlJywge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiZ2V0XCJcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQucmVzcG9uc2UgJiYgcmVzdWx0LnJlc3BvbnNlLnRpbWVfc2xvdHMpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEgPSByZXN1bHQucmVzcG9uc2UudGltZV9zbG90cy5tYXAoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zbG90XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF9zZWxmLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGF2YWlsYWJsZXNsb3RzOiBkYXRhXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHZhbGlkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5zZWxlY3RlZERheSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWREYXk6IHRydWUgfSlcclxuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnN0YXRlLnNlbGVjdGVkU2xvdCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWRTbG90OiB0cnVlIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcHMuY2FsZW5kZXJJbmRleCkge1xyXG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiA8Q2FsZW5kZXJwaWNrZXIgdmFsaWRhdGU9e3RoaXMudmFsaWRhdGV9IHZhbGlkRGF5PXt0aGlzLnN0YXRlLnZhbGlkRGF5fVxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWREYXk9e3RoaXMuc3RhdGUuc2VsZWN0ZWREYXl9IGhhbmRsZURheUNsaWNrPXt0aGlzLmhhbmRsZURheUNsaWNrfVxyXG4gICAgICAgICAgICAgICAgbmV4dFBhZ2U9e3RoaXMubmV4dFBhZ2V9IGNsb3NlTW9kYWw9e3RoaXMuY2xvc2VNb2RhbH0gLz5cclxuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gPFRpbWVTbG90IHByZXZpb3VzPXt0aGlzLnByZXZpb3VzfSB2YWxpZGF0ZT17dGhpcy52YWxpZGF0ZX1cclxuICAgICAgICAgICAgICAgIHZhbGlkU2xvdD17dGhpcy5zdGF0ZS52YWxpZFNsb3R9IHNlbGVjdGVkU2xvdD17dGhpcy5zdGF0ZS5zZWxlY3RlZFNsb3R9XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZERheT17dGhpcy5zdGF0ZS5zZWxlY3RlZERheX1cclxuICAgICAgICAgICAgICAgIG5leHRQYWdlPXt0aGlzLm5leHRQYWdlLmJpbmQodGhpcywgdGhpcy5zdGF0ZS5zZWxlY3RlZERheSwgdGhpcy5zdGF0ZS5zZWxlY3RlZFNsb3QpfVxyXG4gICAgICAgICAgICAgICAgc2xvdHM9e3RoaXMuc3RhdGUuYXZhaWxhYmxlc2xvdHN9IGhhbmRsZVNsb3RDbGljaz17dGhpcy5oYW5kbGVTbG90Q2xpY2t9XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFNsb3Q9e3RoaXMuc3RhdGUuc2VsZWN0ZWRTbG90fSAvPlxyXG4gICAgICAgICAgICBjYXNlIDM6IHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGltZS1ib29raW5nLWZpbmFsXCI+VGhhbmsgeW91LiB5b3VyIHNsb3QgaXMgYm9va2VkPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib29raW5nLWJ1dHRvbnMgYWxpZ24tdGV4dC1jZW50ZXIgYWxpZ24tYnV0dG9uLWJvdHRvbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInN1Ym1pdFwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VNb2RhbH0+c3TDpG5nPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gQ2FsZW5kZXJwaWNrZXIocHJvcHMpIHtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIFN0YXJ0RGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpIC0gMSwgMCkuZ2V0RGF0ZSgpO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgYWxpZ24tdGV4dC1jZW50ZXIgcGFkZGluZzFcIj5Ww6RsaiBkYXR1bTwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMiBkYXRlcGlja2VyLWJva2luZ1wiPlxyXG4gICAgICAgICAgICAgICAgPERheVBpY2tlclxyXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoPXtuZXcgRGF0ZSgpfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGF5cz17cHJvcHMuc2VsZWN0ZWREYXl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25EYXlDbGljaz17cHJvcHMuaGFuZGxlRGF5Q2xpY2t9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWREYXlzPXtbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyOiBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSAtIDEsIFN0YXJ0RGF0ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgXX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtwcm9wcy52YWxpZERheSA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2YWxpZGF0aW9uIGJvcmRlci1ub25lXCI+UGxlYXNlIHNlbGVjdCBhdmFpbGFibGUgRGF0ZTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICkgOiAobnVsbCl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGJvb2tpbmctYnV0dG9ucyBwYW5kaW5nX25vXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInN1Ym1pdCBmLWxlZnRcIiBvbkNsaWNrPXtwcm9wcy5jbG9zZU1vZGFsfT5BdmJyeXQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIHsocHJvcHMuc2VsZWN0ZWREYXkpID8gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic3VibWl0XCIgb25DbGljaz17cHJvcHMubmV4dFBhZ2V9Pk7DpHN0YTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzdWJtaXRcIiBvbkNsaWNrPXtwcm9wcy52YWxpZGF0ZX0+TsOkc3RhPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIClcclxufVxyXG5cclxuZnVuY3Rpb24gVGltZVNsb3QocHJvcHMpIHtcclxuICAgIGxldCBkYXRhID0gbW9tZW50KHByb3BzLnNlbGVjdGVkRGF5KS5mb3JtYXQoXCJNTU1NIERvIFlZWVlcIik7ICAgIFxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlwiID5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgYWxpZ24tdGV4dC1jZW50ZXIgcGFkZGluZzFcIiA+VsOkbGogdGlkPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGFsaWduLXRleHQtY2VudGVyXCI+e2RhdGF9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGFsaWduLXRleHQtY2VudGVyIHNsb3RzLWNlbnRlcmluZyBwYWRkaW5nLWJvdHRvbS1ub25lXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiIHN0eWxlPXt7IG1heEhlaWdodDogJzMwMHB4JywgbWluSGVpZ2h0OiAnMjQwcHgnLCBvdmVyZmxvd1k6ICdhdXRvJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICB7cHJvcHMuc2xvdHMubWFwKGZ1bmN0aW9uICh0aW1lLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJjb2wtbWQtNFwiIG9uQ2xpY2s9e3Byb3BzLmhhbmRsZVNsb3RDbGljay5iaW5kKHRoaXMsIHRpbWUpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJvcHMuc2VsZWN0ZWRTbG90ID09PSB0aW1lID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJzZWxlY3RjYXJkLWJnIGF2YWlsYWJsZS1zbG90c1wiPnt0aW1lfTwvcD4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiYXZhaWxhYmxlLXNsb3RzXCI+e3RpbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxyXG4gICAgICAgICAgICAgICAge3Byb3BzLnZhbGlkU2xvdCA/IChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInZhbGlkYXRpb24gYm9yZGVyLW5vbmVcIj5QbGVhc2Ugc2VsZWN0IGF2YWlsYWJsZSB0aW1lIHNsb3Q8L2Rpdj5cclxuICAgICAgICAgICAgICAgICkgOiAobnVsbCl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvb2tpbmctYnV0dG9ucyBjb2wtbWQtMTIgcGFuZGluZ19ub1wiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzdWJtaXQgZi1sZWZ0XCIgb25DbGljaz17cHJvcHMucHJldmlvdXN9PkbDtnJlZ8OlZW5kZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgeyhwcm9wcy5zZWxlY3RlZFNsb3QpID8gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic3VibWl0XCIgb25DbGljaz17cHJvcHMubmV4dFBhZ2V9Pk7DpHN0YTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzdWJtaXRcIiBvbkNsaWNrPXtwcm9wcy52YWxpZGF0ZX0+TsOkc3RhPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGF0ZVBpY2tlciIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBTbGlkZXIgZnJvbSAncmVhY3QtcmFuZ2VzbGlkZXInXHJcbnZhciBzdHlsZXM7XHJcbmNsYXNzIEhvcml6b250YWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICBzdXBlcihwcm9wcywgY29udGV4dClcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHZhbHVlOiAwXHJcbiAgICB9XHJcbiAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZUNoYW5nZVN0YXJ0ID0gdGhpcy5oYW5kbGVDaGFuZ2VTdGFydC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2VDb21wbGV0ZSA9IHRoaXMuaGFuZGxlQ2hhbmdlQ29tcGxldGUuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNoYW5nZVN0YXJ0KCkge1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZUNoYW5nZSh2KSB7XHJcbiAgICB2YXIgX3NlbGYgPSB0aGlzO1xyXG4gICAgX3NlbGYuc2V0U3RhdGUoe1xyXG4gICAgICB2YWx1ZTogdlxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlQ2hhbmdlQ29tcGxldGUoKSB7XHJcbiAgICB0aGlzLnByb3BzLmhhbmRsZUNsaWNrKHRoaXMuc3RhdGUudmFsdWUpO1xyXG4gIH07XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLWxnLTggY29sLW1kLTEyIGNvbC1sZy1vZmZzZXQtMlwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzbGlkZXIgcGFkZC10b3AtYm90Jz5cclxuICAgICAgICAgIDxTbGlkZXJcclxuICAgICAgICAgICAgbWluPXswfVxyXG4gICAgICAgICAgICBtYXg9ezkwfVxyXG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS52YWx1ZX1cclxuICAgICAgICAgICAgb25DaGFuZ2VTdGFydD17dGhpcy5oYW5kbGVDaGFuZ2VTdGFydH1cclxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICBvbkNoYW5nZUNvbXBsZXRlPXt0aGlzLmhhbmRsZUNoYW5nZUNvbXBsZXRlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBEcm9wQXJlYSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGxpc3Q6IFtcclxuICAgICAgICB7IGlkOiAxLCBpc0RyYWdnaW5nOiBmYWxzZSwgbGVmdDogMCwgYW5nbGU6IDAgfSxcclxuICAgICAgXVxyXG4gICAgfTtcclxuICAgIHRoaXMuc2Nyb2xsYWJsZSA9IHRoaXMuc2Nyb2xsYWJsZS5iaW5kKHRoaXMpXHJcbiAgfVxyXG5cclxuICBvbkRyYWdPdmVyKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIG9uRHJvcChlKSB7XHJcbiAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdhcHBsaWNhdGlvbi9qc29uJykpO1xyXG4gICAgbGV0IGxpc3QgPSB0aGlzLnN0YXRlLmxpc3Q7XHJcbiAgICBsZXQgaW5kZXggPSB0aGlzLnN0YXRlLmxpc3QuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLmlkID09PSBvYmouaWQpO1xyXG4gICAgbGlzdFtpbmRleF0uaXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgbGlzdFtpbmRleF0ubGVmdCA9IChlLmNsaWVudFggLSBvYmoueCk7XHJcbiAgICBsZXQgdmFsID0gTWF0aC5mbG9vcigoZS5jbGllbnRYIC0gb2JqLngpIC8gMyk7XHJcbiAgICBsaXN0W2luZGV4XS5hbmdsZSA9IChNYXRoLmNlaWwodmFsIC8gNSkgKiA1KTtcclxuICAgIGlmIChsaXN0W2luZGV4XS5hbmdsZSA+IDkwKSB7XHJcbiAgICAgIGxpc3RbaW5kZXhdLmFuZ2xlID0gOTBcclxuICAgIH0gZWxzZSBpZiAobGlzdFtpbmRleF0uYW5nbGUgPCAwKSB7XHJcbiAgICAgIGxpc3RbaW5kZXhdLmFuZ2xlID0gMFxyXG4gICAgfVxyXG4gICAgbGV0IG5ld1N0YXRlID0gT2JqZWN0LmFzc2lnbihcclxuICAgICAgdGhpcy5zdGF0ZSwge1xyXG4gICAgICAgIGxpc3Q6IGxpc3RcclxuICAgICAgfSk7XHJcbiAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcbiAgc2Nyb2xsYWJsZShlKSB7XHJcbiAgICBsZXQgbGlzdHMgPSB0aGlzLnN0YXRlLmxpc3Q7XHJcbiAgICBsZXQgaW5kZXhPbmUgPSB0aGlzLnN0YXRlLmxpc3QuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLmlkID09PSBsaXN0c1swXS5pZCk7XHJcbiAgICBsaXN0c1tpbmRleE9uZV0uYW5nbGUgPSAoZSk7XHJcbiAgICBsZXQgY2xpY2tlZFN0YXRlID0gT2JqZWN0LmFzc2lnbihcclxuICAgICAgdGhpcy5zdGF0ZSwge1xyXG4gICAgICAgIGxpc3Q6IGxpc3RzXHJcbiAgICAgIH0pO1xyXG4gICAgdGhpcy5zZXRTdGF0ZShjbGlja2VkU3RhdGUpO1xyXG4gICAgdGhpcy5wcm9wcy5yb29mQW5nbGUobGlzdHNbaW5kZXhPbmVdLmFuZ2xlKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVN0YXRlRHJhZ2dpbmcoaWQsIGlzRHJhZ2dpbmcpIHtcclxuICAgIGxldCBsaXN0ID0gdGhpcy5zdGF0ZS5saXN0O1xyXG4gICAgbGV0IGluZGV4ID0gdGhpcy5zdGF0ZS5saXN0LmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaWQpO1xyXG4gICAgbGlzdFtpbmRleF0uaXNEcmFnZ2luZyA9IGlzRHJhZ2dpbmc7XHJcbiAgICBsZXQgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKFxyXG4gICAgICB0aGlzLnN0YXRlLCB7XHJcbiAgICAgICAgbGlzdDogbGlzdFxyXG4gICAgICB9KTtcclxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgbGV0IGl0ZW1zID0gW107XHJcbiAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuc3RhdGUubGlzdCkge1xyXG4gICAgICBpdGVtcy5wdXNoKFxyXG4gICAgICAgIDxEcmFnZ2FibGVcclxuICAgICAgICAgIHJlZj17XCJub2RlX1wiICsgaXRlbS5pZH1cclxuICAgICAgICAgIGtleT17aXRlbS5pZH1cclxuICAgICAgICAgIGlkPXtpdGVtLmlkfVxyXG4gICAgICAgICAgbGVmdD17aXRlbS5sZWZ0fVxyXG4gICAgICAgICAgd2lkdGg9e2l0ZW0ud2lkdGh9XHJcbiAgICAgICAgICBhbmdsZT17aXRlbS5hbmdsZX1cclxuICAgICAgICAgIGlzRHJhZ2dpbmc9e2l0ZW0uaXNEcmFnZ2luZ31cclxuICAgICAgICAgIHVwZGF0ZVN0YXRlRHJhZ2dpbmc9e3RoaXMudXBkYXRlU3RhdGVEcmFnZ2luZy5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgc2Nyb2xsYWJsZT17dGhpcy5zY3JvbGxhYmxlLmJpbmQodGhpcyl9XHJcbiAgICAgICAgLz5cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXZcclxuICAgICAgICBjbGFzc05hbWU9XCJjb2wtc20tMTIgYWxpZ24tdGV4dC1jZW50ZXIgZHJvcC1hcmVhXCJcclxuICAgICAgICBvbkRyYWdPdmVyPXt0aGlzLm9uRHJhZ092ZXIuYmluZCh0aGlzKX1cclxuICAgICAgICBvbkRyb3A9e3RoaXMub25Ecm9wLmJpbmQodGhpcyl9ID5cclxuICAgICAgICB7aXRlbXN9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn07XHJcblxyXG5jbGFzcyBEcmFnZ2FibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIG9uTW91c2VEb3duKGUpIHtcclxuICAgIHZhciBlbG0gPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGUuY2xpZW50WCwgZS5jbGllbnRZKTtcclxuICAgIGlmIChlbG0uY2xhc3NOYW1lICE9PSAncmVzaXplcicpIHtcclxuICAgICAgdGhpcy5wcm9wcy51cGRhdGVTdGF0ZURyYWdnaW5nKHRoaXMucHJvcHMuaWQsIHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxuICBvbk1vdXNlVXAoZSkge1xyXG4gICAgdGhpcy5wcm9wcy51cGRhdGVTdGF0ZURyYWdnaW5nKHRoaXMucHJvcHMuaWQsIGZhbHNlKTtcclxuICB9XHJcbiAgb25EcmFnU3RhcnQoZSkge1xyXG4gICAgY29uc3Qgbm9kZVN0eWxlID0gdGhpcy5yZWZzLm5vZGUuc3R5bGU7XHJcbiAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCdhcHBsaWNhdGlvbi9qc29uJywgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgeDogZS5jbGllbnRYIC0gcGFyc2VJbnQobm9kZVN0eWxlLmxlZnQpLFxyXG4gICAgfSkpO1xyXG4gIH1cclxuICBvbkRyYWdFbmQoZSkge1xyXG4gICAgdGhpcy5wcm9wcy51cGRhdGVTdGF0ZURyYWdnaW5nKHRoaXMucHJvcHMuaWQsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLmxlZnQgPiAyNjkpIHtcclxuICAgICAgc3R5bGVzID0ge1xyXG4gICAgICAgIGxlZnQ6ICcyNjlweCcsXHJcbiAgICAgICAgd2lkdGg6IHRoaXMucHJvcHMud2lkdGgsXHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubGVmdCA8IDApIHtcclxuICAgICAgc3R5bGVzID0ge1xyXG4gICAgICAgIGxlZnQ6ICcwcHgnLFxyXG4gICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoLFxyXG4gICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3R5bGVzID0ge1xyXG4gICAgICAgIGxlZnQ6IHRoaXMucHJvcHMubGVmdCxcclxuICAgICAgICB3aWR0aDogdGhpcy5wcm9wcy53aWR0aCxcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTJcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiAgc2Nyb2xsXCIgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJzIwcHgnIH19PlxyXG4gICAgICAgICAgPGRpdiBpZD1cInJhdGlvXCIgPlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwicmF0aW8tY2VudGVyXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJyYXRpby1sZWZ0XCIgY2xhc3NOYW1lPXtgcm90YXRlLWxlZnQtJHt0aGlzLnByb3BzLmFuZ2xlfWB9IHN0eWxlPXt7IHRyYW5zZm9ybTogYHJvdGF0ZSgke3RoaXMucHJvcHMuYW5nbGV9ZGVnKWAgfX0+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJyYXRpby1yaWdodFwiIGNsYXNzTmFtZT17YHJvdGF0ZS1yaWdodC0ke3RoaXMucHJvcHMuYW5nbGV9YH0gc3R5bGU9e3sgdHJhbnNmb3JtOiBgcm90YXRlKC0ke3RoaXMucHJvcHMuYW5nbGV9ZGVnKWAgfX0+PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgaWQ9XCJyYXRpby12YWx1ZVwiPnt0aGlzLnByb3BzLmFuZ2xlfcKwIDwvZGl2PlxyXG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwicmF0aW9WYWx1ZVwiIGlkPVwicmF0aW9WYWx1ZVwiIHJlZj0nbXlJbnB1dCcgdmFsdWU9e3RoaXMucHJvcHMuYW5nbGV9IC8+XHJcbiAgICAgICAgICA8SG9yaXpvbnRhbCBoYW5kbGVDbGljaz17dGhpcy5wcm9wcy5zY3JvbGxhYmxlfSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTNcIj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBEcm9wQXJlYVxyXG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQ291bnRVcCBmcm9tICdyZWFjdC1jb3VudHVwJztcclxubGV0IGFubnVhbE91dHB1dCwgc29sYXJSYWRpYXRpb24gPSAwLjksIHBvd2VyTG9zcyA9IDAuOSxcclxuICAgIHJlZHVjZWRQb3dlciA9IDAuOSwgeWVhcmx5U2F2aW5nc2RhdGEgPSBbXSwgYnJlYWtwb2ludCA9IHRydWU7XHJcblxyXG5jbGFzcyBFU2F2aW5nIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGxpZmVUaW1lU2F2aW5nOiAwLFxyXG4gICAgICAgICAgICBicmVha0V2ZW5ZcjogOCxcclxuICAgICAgICAgICAgZWxlY3RyaWNpdHlSYXRlSW5jcmVhc2U6IDIgKyAnJScsXHJcbiAgICAgICAgICAgIGVsZWN0cmljaXR5UGVya3c6IDEuNTQsXHJcbiAgICAgICAgICAgIGZpcnN0WXJTYXZpbmc6IDAuMCxcclxuICAgICAgICAgICAgbWluaW11bVBhY2tldHM6IDAsXHJcbiAgICAgICAgICAgIG1heGltdW1QYWNrZXRzOiAwLFxyXG4gICAgICAgICAgICBjdXN0b21QYWNrZXQ6IFwiU3BlY2lmeSBOdW1iZXIgb2YgcGFuZWxzXCIsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkUGFja2V0OiAnQ3VzdG9tIHBha2V0JyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnBhbmVsc0FycmF5ID0gW107XHJcbiAgICAgICAgdGhpcy5zb2x0YWtQYW5lbHNBcnJheT1bXVxyXG4gICAgICAgIHRoaXMuaW5pdGFsU3VtVXAgPSB0aGlzLmluaXRhbFN1bVVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5kZWNyZW1lbnQgPSB0aGlzLmRlY3JlbWVudC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaW5jcmVtZW50ID0gdGhpcy5pbmNyZW1lbnQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmVscHJpc8O2a25pbmdDaGFuZ2UgPSB0aGlzLmVscHJpc8O2a25pbmdDaGFuZ2UuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmVscHJpc0NoYW5nZSA9IHRoaXMuZWxwcmlzQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5wYWNrZXRzV2l0aENvdW50ID0gdGhpcy5wYWNrZXRzV2l0aENvdW50LmJpbmQodGhpcylcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnU3RvY2tob2xtJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSAxMDAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnVsOkc3RlcmJvdHRlbicpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gODI1O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnTm9ycmJvdHRlbicpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gNzc1O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnVXBwc2FsYScpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCdTw7ZkZXJtYW5sYW5kJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSA4NTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ8OWc3RlcmfDtnRsYW5kJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSA5NzU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCdKw7Zua8O2cGluZycpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTI1O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnS3Jvbm9iZXJnJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSA5MjU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCdLYWxtYXInKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDk1MDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ0dvdGxhbmQnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDEwMjU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCdCbGVraW5nZScpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTc1O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnU2vDpW5lJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSAxMDAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnSGFsbGFuZCcpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gMTAwMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ1bDpHN0cmEgR8O2dGFsYW5kJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSA5NTA7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCdWw6RybWxhbmQnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDk1MDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ8OWcmVicm8nKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDk1MDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ1bDpHN0bWFubGFuZCcpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTc1O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnRGFsYXJuYScpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTUwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnR8OkdmxlYm9yZ2QnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDk1MDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ1bDpHN0ZXJub3JybGFuZCcpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnSsOkbXRsYW5kJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSA5MDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSA5MDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHRoaXMucGFja2V0c1dpdGhDb3VudCgpO1xyXG4gICAgICAgIHRoaXMuaW5pdGFsU3VtVXAoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcGFja2V0c1dpdGhDb3VudCgpIHtcclxuICAgICAgICB2YXIgbWF4UGFja2V0LCBtaW5QYWNrZXQsIFN0YW5kYXJkcGFja2V0O1xyXG4gICAgICAgIGZ1bmN0aW9uIGRlZ3JlZXNfdG9fcmFkaWFucyhkZWdyZWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBwaSA9IE1hdGguUEk7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWdyZWVzICogKHBpIC8gMTgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zb2x0YWtQYW5lbHNBcnJheSA9IFtcclxuICAgICAgICAgICAge3BhY2tldDogJ1NtYWxsIHBha2V0JywgY291bnQ6IDI1fSxcclxuICAgICAgICAgICAge3BhY2tldDogJ1N0YW5kYXJkIHBha2V0JywgY291bnQ6IDUwfSxcclxuICAgICAgICAgICAge3BhY2tldDogJ01heCBwYWtldCcsIGNvdW50OiA5OX0sXHJcbiAgICAgICAgICAgIHtwYWNrZXQ6J0N1c3RvbSBwYWtldCcsIGNvdW50IDogJ1NwZWNpZnkgdGhlIGFyZWEgb2Ygc29sYXIgcm9vZid9XHJcbiAgICAgICAgXVxyXG4gICAgICAgIHZhciByb29mQXJlYSA9IHBhcnNlSW50KHRoaXMucHJvcHMucm9vZmFyZWEpIC8gTWF0aC5jb3MoZGVncmVlc190b19yYWRpYW5zKHBhcnNlSW50KHRoaXMucHJvcHMucm9vZl9waXRjaCkpKTtcclxuICAgICAgICBpZiAocm9vZkFyZWEgPiA0MDApIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbHNBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICBTdGFuZGFyZHBhY2tldCA9IDEwMDtcclxuICAgICAgICAgICAgbWluUGFja2V0ID0gMTI7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWxzQXJyYXkgPSBbXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1NtYWxsIHBha2V0JywgY291bnQ6IHBhcnNlSW50KG1pblBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU3RhbmRhcmQgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQoU3RhbmRhcmRwYWNrZXQpIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogdGhpcy5zdGF0ZS5zZWxlY3RlZFBhY2tldCwgY291bnQ6IHRoaXMuc3RhdGUuY3VzdG9tUGFja2V0IH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1heGltdW1QYWNrZXRzID0gcGFyc2VJbnQoU3RhbmRhcmRwYWNrZXQpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1pbmltdW1QYWNrZXRzID0gcGFyc2VJbnQobWluUGFja2V0KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHJvb2ZBcmVhIDwgNDAwICYmIHJvb2ZBcmVhID4gMjAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWxzQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgbWF4UGFja2V0ID0gMTAwXHJcbiAgICAgICAgICAgIFN0YW5kYXJkcGFja2V0ID0gcGFyc2VJbnQocm9vZkFyZWEgLyA0KTtcclxuICAgICAgICAgICAgbWluUGFja2V0ID0gMTI7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWxzQXJyYXkgPSBbXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1NtYWxsIHBha2V0JywgY291bnQ6IHBhcnNlSW50KG1pblBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU3RhbmRhcmQgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQoU3RhbmRhcmRwYWNrZXQpIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogJ01heCBwYWtldCcsIGNvdW50OiBwYXJzZUludChtYXhQYWNrZXQpIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogdGhpcy5zdGF0ZS5zZWxlY3RlZFBhY2tldCwgY291bnQ6IHRoaXMuc3RhdGUuY3VzdG9tUGFja2V0IH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1heGltdW1QYWNrZXRzID0gcGFyc2VJbnQobWF4UGFja2V0KTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5taW5pbXVtUGFja2V0cyA9IHBhcnNlSW50KG1pblBhY2tldCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChyb29mQXJlYSA8IDIwMCAmJiByb29mQXJlYSA+IDM2KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWxzQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgbWF4UGFja2V0ID0gcGFyc2VJbnQocm9vZkFyZWEgLyAyKTtcclxuICAgICAgICAgICAgU3RhbmRhcmRwYWNrZXQgPSAoMSAvIDIpICogbWF4UGFja2V0O1xyXG4gICAgICAgICAgICBtaW5QYWNrZXQgPSAxMjtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbHNBcnJheSA9IFtcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU21hbGwgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQobWluUGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdTdGFuZGFyZCBwYWtldCcsIGNvdW50OiBwYXJzZUludChTdGFuZGFyZHBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnTWF4IHBha2V0JywgY291bnQ6IHBhcnNlSW50KG1heFBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiB0aGlzLnN0YXRlLnNlbGVjdGVkUGFja2V0LCBjb3VudDogdGhpcy5zdGF0ZS5jdXN0b21QYWNrZXQgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWF4aW11bVBhY2tldHMgPSBwYXJzZUludChtYXhQYWNrZXQpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1pbmltdW1QYWNrZXRzID0gcGFyc2VJbnQobWluUGFja2V0KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHJvb2ZBcmVhIDwgMzYgJiYgcm9vZkFyZWEgPiAyNikge1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVsc0FycmF5ID0gW107XHJcbiAgICAgICAgICAgIFN0YW5kYXJkcGFja2V0ID0gcGFyc2VJbnQocm9vZkFyZWEgLyAyKTtcclxuICAgICAgICAgICAgbWluUGFja2V0ID0gMTI7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWxzQXJyYXkgPSBbXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1NtYWxsIHBha2V0JywgY291bnQ6IHBhcnNlSW50KG1pblBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU3RhbmRhcmQgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQoU3RhbmRhcmRwYWNrZXQpIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogdGhpcy5zdGF0ZS5zZWxlY3RlZFBhY2tldCwgY291bnQ6IHRoaXMuc3RhdGUuY3VzdG9tUGFja2V0IH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1heGltdW1QYWNrZXRzID0gcGFyc2VJbnQoU3RhbmRhcmRwYWNrZXQpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1pbmltdW1QYWNrZXRzID0gcGFyc2VJbnQobWluUGFja2V0KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHJvb2ZBcmVhIDwgMjYpIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbHNBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICBTdGFuZGFyZHBhY2tldCA9IDEyO1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVsc0FycmF5ID0gW1xyXG4gICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdTdGFuZGFyZCBwYWtldCcsIGNvdW50OiBwYXJzZUludChTdGFuZGFyZHBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiB0aGlzLnN0YXRlLnNlbGVjdGVkUGFja2V0LCBjb3VudDogdGhpcy5zdGF0ZS5jdXN0b21QYWNrZXQgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWF4aW11bVBhY2tldHMgPSBwYXJzZUludChTdGFuZGFyZHBhY2tldCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWluaW11bVBhY2tldHMgPSBwYXJzZUludChTdGFuZGFyZHBhY2tldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGluaXRhbFN1bVVwKCkge1xyXG4gICAgICAgIHZhciBwcmltYXJ5U2lkZUFudWFsT3V0cHV0LCBzZWNvbmRhcnlTaWRlQW5udWFsT3V0cHV0LFxyXG4gICAgICAgICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiwgc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiwgcHJpbWFyeVNpZGVQYW5lbHMsIHNlY29uZGFyeVNpZGVQYW5lbHMgPSAwLFxyXG4gICAgICAgICAgICBpbnN0YWxsZWRQb3dlck9uUHJpbWFyeVNpZGUsIGluc3RhbGxlZFBvd2VyT25TZWNvbmRhcnlTaWRlLFxyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPXRoaXMucHJvcHMuZGlyZWN0aW9uLnJlcGxhY2UoL1swLTkgXS9nLCAnJyk7XHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAnVsOEU1QnIHx8IGRpcmVjdGlvbiA9PSAnT1NUJykgey8vd2VzdCBlYXN0XHJcbiAgICAgICAgICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gMC44NTtcclxuICAgICAgICAgICAgc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiA9IDAuNjU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gJ1NZRFbDhFNUJykgey8vc291dGh3ZXN0XHJcbiAgICAgICAgICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gMC45NTtcclxuICAgICAgICAgICAgc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiA9IDAuNjU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gJ1NZRCcpIHsvL3NvdXRoXHJcbiAgICAgICAgICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gMTtcclxuICAgICAgICAgICAgc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiA9IDAuNjA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gJ1NZRE9TVCcpIHsvL3NvdXRoZWFzdFxyXG4gICAgICAgICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDAuOTU7XHJcbiAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSAwLjY1O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wYW5lbHNBcnJheS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcclxuICAgICAgICAgICAgbGV0IHBhbm5lbE5hbWUgPXNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Bhbm5lbE5hbWUnKTtcclxuICAgICAgICAgICAgdmFyIHBhY2tldFZhbHVlc09iamVjdDtcclxuICAgICAgICAgICAgaWYocGFubmVsTmFtZT09J3NvbHBhbmVsJyl7XHJcbiAgICAgICAgICAgICAgICAgcGFja2V0VmFsdWVzT2JqZWN0ID0gX3NlbGYucGFuZWxzQXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChwYWNrZXRPYmopIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFja2V0T2JqLnBhY2tldCA9PT0gX3NlbGYucHJvcHMucGFja2V0TmFtZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgIHBhY2tldFZhbHVlc09iamVjdCA9IF9zZWxmLnNvbHRha1BhbmVsc0FycmF5LmZpbHRlcihmdW5jdGlvbiAocGFja2V0T2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhY2tldE9iai5wYWNrZXQgPT09IF9zZWxmLnByb3BzLnBhY2tldE5hbWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChwYWNrZXRWYWx1ZXNPYmplY3RbMF0ucGFja2V0ID09ICdTbWFsbCBwYWtldCcgfHwgcGFja2V0VmFsdWVzT2JqZWN0WzBdLnBhY2tldCA9PSAnU3RhbmRhcmQgcGFrZXQnKSB7XHJcbiAgICAgICAgICAgICAgICBwcmltYXJ5U2lkZVBhbmVscyA9IHRoaXMucHJvcHMubm9PZlBhbmVscztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYWNrZXRWYWx1ZXNPYmplY3RbMF0ucGFja2V0ID09ICdNYXggcGFrZXQnKSB7XHJcbiAgICAgICAgICAgICAgICBwcmltYXJ5U2lkZVBhbmVscyA9IHRoaXMucHJvcHMubm9PZlBhbmVscyAvIDI7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmRhcnlTaWRlUGFuZWxzID0gdGhpcy5wcm9wcy5ub09mUGFuZWxzIC8gMjtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYWNrZXRWYWx1ZXNPYmplY3RbMF0ucGFja2V0ID09ICdDdXN0b20gcGFrZXQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5ub09mUGFuZWxzID4gdGhpcy5wYW5lbHNBcnJheVsxXS5jb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnlTaWRlUGFuZWxzID0gdGhpcy5wYW5lbHNBcnJheVsxXS5jb3VudDtcclxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlTaWRlUGFuZWxzID0gdGhpcy5wcm9wcy5ub09mUGFuZWxzIC0gdGhpcy5wYW5lbHNBcnJheVsxXS5jb3VudFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLm5vT2ZQYW5lbHMgPT0gdGhpcy5wYW5lbHNBcnJheVsxXS5jb3VudCB8fCB0aGlzLnByb3BzLm5vT2ZQYW5lbHMgPCB0aGlzLnBhbmVsc0FycmF5WzFdLmNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeVNpZGVQYW5lbHMgPSB0aGlzLnByb3BzLm5vT2ZQYW5lbHNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnJlYWtwb2ludCA9IHRydWU7XHJcbiAgICAgICAgeWVhcmx5U2F2aW5nc2RhdGEgPSBbXTtcclxuICAgICAgICBpbnN0YWxsZWRQb3dlck9uUHJpbWFyeVNpZGUgPSBwcmltYXJ5U2lkZVBhbmVscyAqIHRoaXMucHJvcHMuY2FwYWNpdHk7XHJcbiAgICAgICAgaW5zdGFsbGVkUG93ZXJPblNlY29uZGFyeVNpZGUgPSBzZWNvbmRhcnlTaWRlUGFuZWxzICogdGhpcy5wcm9wcy5jYXBhY2l0eTtcclxuICAgICAgICBwcmltYXJ5U2lkZUFudWFsT3V0cHV0ID0gaW5zdGFsbGVkUG93ZXJPblByaW1hcnlTaWRlICogcHJpbWFyeVNpZGVSYWRpYXRpb24gKiBzb2xhclJhZGlhdGlvbiAqIHBvd2VyTG9zcyAqIHJlZHVjZWRQb3dlcjtcclxuICAgICAgICBzZWNvbmRhcnlTaWRlQW5udWFsT3V0cHV0ID0gaW5zdGFsbGVkUG93ZXJPblNlY29uZGFyeVNpZGUgKiBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uICogc29sYXJSYWRpYXRpb24gKiBwb3dlckxvc3MgKiByZWR1Y2VkUG93ZXI7XHJcbiAgICAgICAgYW5udWFsT3V0cHV0ID0gKHByaW1hcnlTaWRlQW51YWxPdXRwdXQgKyBzZWNvbmRhcnlTaWRlQW5udWFsT3V0cHV0KSAvIDEwMDA7XHJcbiAgICAgICAgdmFyIGZpcnN0WXJTYXZpbmcgPSBhbm51YWxPdXRwdXQgKiB0aGlzLnN0YXRlLmVsZWN0cmljaXR5UGVya3c7XHJcbiAgICAgICAgdmFyIHRvdGFsc2F2aW5ncztcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZmlyc3RZclNhdmluZzogZmlyc3RZclNhdmluZyB9KTtcclxuICAgICAgICB5ZWFybHlTYXZpbmdzZGF0YS5wdXNoKGZpcnN0WXJTYXZpbmcpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDw9IDMwOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHggPSBwYXJzZUludCh0aGlzLnN0YXRlLmVsZWN0cmljaXR5UmF0ZUluY3JlYXNlLnNsaWNlKDAsIC0xKSk7XHJcbiAgICAgICAgICAgIHZhciBwb3dlciA9IE1hdGgucG93KCgxICsgKHggLyAxMDApKSwgaSk7XHJcbiAgICAgICAgICAgIHZhciB5clNhdmluZyA9IGZpcnN0WXJTYXZpbmcgKiAocG93ZXIpO1xyXG4gICAgICAgICAgICB5ZWFybHlTYXZpbmdzZGF0YS5wdXNoKHlyU2F2aW5nKTtcclxuICAgICAgICAgICAgdG90YWxzYXZpbmdzID0geWVhcmx5U2F2aW5nc2RhdGEucmVkdWNlKChwYXJ0aWFsX3N1bSwgYSkgPT4gcGFydGlhbF9zdW0gKyBhLCAwKTtcclxuICAgICAgICAgICAgaWYgKHRvdGFsc2F2aW5ncyA+PSB0aGlzLnByb3BzLmVzdGltYXRlZEFtb3VudCAmJiBicmVha3BvaW50KSB7XHJcbiAgICAgICAgICAgICAgICBicmVha3BvaW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgYnJlYWtFdmVuWXI6IGkgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGxpZmVUaW1lU2F2aW5nOiB0b3RhbHNhdmluZ3NcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGluY3JlbWVudCh0eXBlKSB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gJ2VscHJpc8O2a25pbmcnKSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHBhcnNlRmxvYXQodGhpcy5zdGF0ZS5lbGVjdHJpY2l0eVJhdGVJbmNyZWFzZS5zbGljZSgwLCAtMSkpLFxyXG4gICAgICAgICAgICAgICAgaW5jcmVhc2VkVmFsdWUgPSB2YWx1ZSArIDE7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZWxlY3RyaWNpdHlSYXRlSW5jcmVhc2U6IGluY3JlYXNlZFZhbHVlLnRvRml4ZWQoMCkgKyAnJSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdlbHByaXMnKSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHBhcnNlRmxvYXQodGhpcy5zdGF0ZS5lbGVjdHJpY2l0eVBlcmt3KSxcclxuICAgICAgICAgICAgICAgIGluY3JlYXNlZFZhbHVlID0gdmFsdWUgKyAwLjE7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZWxlY3RyaWNpdHlQZXJrdzogaW5jcmVhc2VkVmFsdWUudG9GaXhlZCgxKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGFsU3VtVXAoKTtcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY3JlbWVudCh0eXBlKSB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gJ2VscHJpc8O2a25pbmcnKSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHBhcnNlRmxvYXQodGhpcy5zdGF0ZS5lbGVjdHJpY2l0eVJhdGVJbmNyZWFzZS5zbGljZSgwLCAtMSkpLFxyXG4gICAgICAgICAgICAgICAgZGVjcmVhc2VkVmFsdWUgPSB2YWx1ZSAtIDE7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZWxlY3RyaWNpdHlSYXRlSW5jcmVhc2U6IGRlY3JlYXNlZFZhbHVlLnRvRml4ZWQoMCkgKyAnJSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdlbHByaXMnKSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHBhcnNlRmxvYXQodGhpcy5zdGF0ZS5lbGVjdHJpY2l0eVBlcmt3KSxcclxuICAgICAgICAgICAgICAgIGRlY3JlYXNlZFZhbHVlID0gdmFsdWUgLSAwLjE7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZWxlY3RyaWNpdHlQZXJrdzogZGVjcmVhc2VkVmFsdWUudG9GaXhlZCgxKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGFsU3VtVXAoKTtcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGVscHJpc0NoYW5nZShlKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVsZWN0cmljaXR5UGVya3c6IGUudGFyZ2V0LnZhbHVlIH0pO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRhbFN1bVVwKCk7XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgIH1cclxuXHJcbiAgICBlbHByaXPDtmtuaW5nQ2hhbmdlKGUpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZWxlY3RyaWNpdHlSYXRlSW5jcmVhc2U6IGUudGFyZ2V0LnZhbHVlICsgJyUnIH0pO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRhbFN1bVVwKCk7XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgdGV4dC1ibHVlIGVzYXZpbmctYmFja2dyb3VuZCBwYWRkaW5nMjBcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTFcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgc2xvdHMtY2VudGVyaW5nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTcgY29sLXNtLTEyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTYgY29sLXNtLTYgc2VjdGlvbi1uYW1lXCI+T20gdmkgcsOka25hciBtZWQ8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1zbS02IGVscHJpcyBwYW5kaW5nX25vXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWxwcmlzLW5hbWUgY29sLXNtLTRcIj5lbCBwcmlzIDo8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgY29sLW1kLTggY29sLXNtLTYgcGFuZGluZ19ub1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm1haW4tbGlzdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJtaW5pLWxpc3RcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXt0aGlzLnN0YXRlLmVsZWN0cmljaXR5UGVya3d9IG9uQ2hhbmdlPXt0aGlzLmVscHJpc0NoYW5nZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImluY3JlbWVudC1pY29uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwiaW5jcmVtZW50LWxpc3RcIiBvbkNsaWNrPXt0aGlzLmluY3JlbWVudC5iaW5kKHRoaXMsICdlbHByaXMnKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL2ltZy9jYXJldC1zeW1ib2wucG5nXCIgYWx0PVwiaW1hZ2VcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJkZWNyZW1lbnQtbGlzdFwiIG9uQ2xpY2s9e3RoaXMuZGVjcmVtZW50LmJpbmQodGhpcywgJ2VscHJpcycpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vaW1nL2Rvd24tYXJyb3cucG5nXCIgYWx0PVwiaW1hZ2VcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTUgY29sLXNtLTEyIG5vdGUtYWxpZ25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgY29sLXNtLTEyIHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvY2gtc3R5bGUgY29sLW1kLTYgY29sLXNtLTZcIj5lbHByaXPDtmtuaW5nIHBlciDDpXIgOjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiBjb2wtbWQtNiBjb2wtc20tNlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm1haW4tbGlzdCBub3RlLWFsaWduXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm1pbmktbGlzdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVscHJpcy12YWx1ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXt0aGlzLnN0YXRlLmVsZWN0cmljaXR5UmF0ZUluY3JlYXNlfSBvbkNoYW5nZT17dGhpcy5lbHByaXPDtmtuaW5nQ2hhbmdlfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImluY3JlbWVudC1pY29uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwiaW5jcmVtZW50LWxpc3RcIiBvbkNsaWNrPXt0aGlzLmluY3JlbWVudC5iaW5kKHRoaXMsICdlbHByaXPDtmtuaW5nJyl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9pbWcvY2FyZXQtc3ltYm9sLnBuZ1wiIGFsdD1cImltYWdlXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZGVjcmVtZW50LWxpc3RcIiBvbkNsaWNrPXt0aGlzLmRlY3JlbWVudC5iaW5kKHRoaXMsICdlbHByaXPDtmtuaW5nJyl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9pbWcvZG93bi1hcnJvdy5wbmdcIiBhbHQ9XCJpbWFnZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgY29sLXNtLTEyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNCBjb2wtc20tNCAgYWxpZ24tdGV4dC1jZW50ZXIgYm9yZGVyLXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5udWFsLXNhdmluZ3NcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb3VudFVwIGNsYXNzTmFtZT1cImNvdW50LXVwXCIgc3RhcnQ9ezB9IGVuZD17cGFyc2VJbnQodGhpcy5zdGF0ZS5maXJzdFlyU2F2aW5nKX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImYyMVwiPlNFSzwvc3Bhbj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInNhdmluZy1uYW1lXCI+w4VSTElHIEVMUFJJU8OWS05JTkc8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwicHJpY2luZy1ub3RlXCI+ZsO2cnN0YSDDpXJldDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNCBjb2wtc20tNCAgYWxpZ24tdGV4dC1jZW50ZXIgYm9yZGVyLXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5udWFsLXNhdmluZ3NcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb3VudFVwIGNsYXNzTmFtZT1cImNvdW50LXVwXCIgc3RhcnQ9ezB9IGVuZD17cGFyc2VJbnQodGhpcy5zdGF0ZS5icmVha0V2ZW5Zcil9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmMjFcIj7DhVI8L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJzYXZpbmctbmFtZVwiPkJSRUFLRVZFTjwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJwcmljaW5nLW5vdGVcIj5iZXLDpGtuYWQgw6V0ZXJiZXRhbG5pbmdzdGlkPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC00IGNvbC1zbS00ICBhbGlnbi10ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFubnVhbC1zYXZpbmdzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q291bnRVcCBjbGFzc05hbWU9XCJjb3VudC11cFwiIHN0YXJ0PXswfSBlbmQ9e3BhcnNlSW50KHRoaXMuc3RhdGUubGlmZVRpbWVTYXZpbmcpfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZjIxXCI+U0VLPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInNhdmluZy1uYW1lXCI+VE9UQUwgQkVTUEFSSU5HPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInByaWNpbmctbm90ZVwiPnVuZGVyIDMwIMOlcjwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRVNhdmluZyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBTbGlkZXIgZnJvbSAncmVhY3QtcmFuZ2VzbGlkZXInXHJcbnZhciBzdHlsZXM7XHJcbmNsYXNzIEhvcml6b250YWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICBzdXBlcihwcm9wcywgY29udGV4dClcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICB2YWx1ZTogMTAwMFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2VTdGFydCA9IHRoaXMuaGFuZGxlQ2hhbmdlU3RhcnQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZUNvbXBsZXRlID0gdGhpcy5oYW5kbGVDaGFuZ2VDb21wbGV0ZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNoYW5nZVN0YXJ0KCkge1xyXG4gICAgfTtcclxuXHJcbiAgICBoYW5kbGVDaGFuZ2Uodikge1xyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgX3NlbGYuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICB2YWx1ZTogdlxyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG5cclxuICAgIGhhbmRsZUNoYW5nZUNvbXBsZXRlKCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlQ2xpY2sodGhpcy5zdGF0ZS52YWx1ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2xpZGVyIHBhZGQtdG9wLWJvdCc+XHJcbiAgICAgICAgICAgICAgICA8U2xpZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgbWluPXswfVxyXG4gICAgICAgICAgICAgICAgICAgIG1heD17NTAwMDB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3RlcD17MTAwfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlU3RhcnQ9e3RoaXMuaGFuZGxlQ2hhbmdlU3RhcnR9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlQ29tcGxldGU9e3RoaXMuaGFuZGxlQ2hhbmdlQ29tcGxldGV9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEVEcm9wQXJlYSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgbGlzdDogW1xyXG4gICAgICAgICAgICAgICAgeyBpZDogMSwgaXNEcmFnZ2luZzogZmFsc2UsIGxlZnQ6IDAsIGFuZ2xlOiAxMDAwIH0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNjcm9sbGFibGUgPSB0aGlzLnNjcm9sbGFibGUuYmluZCh0aGlzKTtcclxuXHJcbiAgICB9XHJcbiAgICBvbkRyYWdPdmVyKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRHJvcChlKSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IEpTT04ucGFyc2UoZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgnYXBwbGljYXRpb24vanNvbicpKTtcclxuICAgICAgICBsZXQgbGlzdCA9IHRoaXMuc3RhdGUubGlzdDtcclxuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnN0YXRlLmxpc3QuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLmlkID09PSBvYmouaWQpO1xyXG4gICAgICAgIGxpc3RbaW5kZXhdLmlzRHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgICAgICBsaXN0W2luZGV4XS5sZWZ0ID0gKGUuY2xpZW50WCAtIG9iai54KTtcclxuICAgICAgICBsZXQgdmFsdWUgPSBNYXRoLmZsb29yKChlLm5hdGl2ZUV2ZW50Lm9mZnNldFgpIC8gMyk7XHJcbiAgICAgICAgbGlzdFtpbmRleF0uYW5nbGUgPSAoTWF0aC5jZWlsKHZhbHVlIC8gNSkgKiAxMDAwKTtcclxuICAgICAgICBsZXQgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKFxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLCB7XHJcbiAgICAgICAgICAgICAgICBsaXN0OiBsaXN0XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLnByb3BzLmVsZWN0cmljeShsaXN0W2luZGV4XS5hbmdsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2Nyb2xsYWJsZShlKSB7XHJcblxyXG4gICAgICAgIGxldCBsaXN0cyA9IHRoaXMuc3RhdGUubGlzdDtcclxuICAgICAgICBsZXQgaW5kZXhPbmUgPSB0aGlzLnN0YXRlLmxpc3QuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLmlkID09PSBsaXN0c1swXS5pZCk7XHJcbiAgICAgICAgbGlzdHNbaW5kZXhPbmVdLmFuZ2xlID0gKGUpO1xyXG5cclxuICAgICAgICBsZXQgY2xpY2tlZFN0YXRlID0gT2JqZWN0LmFzc2lnbihcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSwge1xyXG4gICAgICAgICAgICAgICAgbGlzdDogbGlzdHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5lbGVjdHJpY3kobGlzdHNbaW5kZXhPbmVdLmFuZ2xlKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTdGF0ZURyYWdnaW5nKGlkLCBpc0RyYWdnaW5nKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLnN0YXRlLmxpc3Q7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5zdGF0ZS5saXN0LmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaWQpO1xyXG4gICAgICAgIGxpc3RbaW5kZXhdLmlzRHJhZ2dpbmcgPSBpc0RyYWdnaW5nO1xyXG4gICAgICAgIGxldCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUsIHtcclxuICAgICAgICAgICAgICAgIGxpc3Q6IGxpc3RcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBpdGVtcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5zdGF0ZS5saXN0KSB7XHJcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goXHJcbiAgICAgICAgICAgICAgICA8RURyYWdnYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIHJlZj17XCJub2RlX1wiICsgaXRlbS5pZH1cclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW0uaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9e2l0ZW0uaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdD17aXRlbS5sZWZ0fVxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPXtpdGVtLndpZHRofVxyXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlPXtpdGVtLmFuZ2xlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzRHJhZ2dpbmc9e2l0ZW0uaXNEcmFnZ2luZ31cclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdGF0ZURyYWdnaW5nPXt0aGlzLnVwZGF0ZVN0YXRlRHJhZ2dpbmcuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxhYmxlPXt0aGlzLnNjcm9sbGFibGUuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNvbC1tZC0xMiAgZHJvcC1hcmVhXCIgc3R5bGU9e3sgcGFkZGluZzogJzBweCcgfX1cclxuICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9e3RoaXMub25EcmFnT3Zlci5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgb25Ecm9wPXt0aGlzLm9uRHJvcC5iaW5kKHRoaXMpfSA+XHJcbiAgICAgICAgICAgICAgICB7aXRlbXN9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jbGFzcyBFRHJhZ2dhYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuXHJcbiAgICBvbk1vdXNlRG93bihlKSB7XHJcbiAgICAgICAgdmFyIGVsbSA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZS5jbGllbnRYLCBlLmNsaWVudFkpO1xyXG4gICAgICAgIGlmIChlbG0uY2xhc3NOYW1lICE9PSAncmVzaXplcicpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVTdGF0ZURyYWdnaW5nKHRoaXMucHJvcHMuaWQsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uTW91c2VVcChlKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVTdGF0ZURyYWdnaW5nKHRoaXMucHJvcHMuaWQsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIG9uRHJhZ1N0YXJ0KGUpIHtcclxuICAgICAgICBjb25zdCBub2RlU3R5bGUgPSB0aGlzLnJlZnMubm9kZS5zdHlsZTtcclxuICAgICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCdhcHBsaWNhdGlvbi9qc29uJywgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgICAgICAgeDogZS5jbGllbnRYIC0gcGFyc2VJbnQobm9kZVN0eWxlLmxlZnQpLFxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuICAgIG9uRHJhZ0VuZChlKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVTdGF0ZURyYWdnaW5nKHRoaXMucHJvcHMuaWQsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubGVmdCA+IDU5NSkge1xyXG4gICAgICAgICAgICBzdHlsZXMgPSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAnNTk1cHgnLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMucHJvcHMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sZWZ0IDwgMCkge1xyXG4gICAgICAgICAgICBzdHlsZXMgPSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAnMHB4JyxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdHlsZXMgPSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiB0aGlzLnByb3BzLmxlZnQsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5wcm9wcy53aWR0aCxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPEhvcml6b250YWwgaGFuZGxlQ2xpY2s9e3RoaXMucHJvcHMuc2Nyb2xsYWJsZX0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFRHJvcEFyZWEiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSAncmVhY3QtbW9kYWwnO1xyXG5jb25zdCBtYXRzdHlsZSA9IHtcclxuICAgIHBhZGRpbmc6IFwiMjBweFwiLFxyXG4gICAgbWFyZ2luOiBcIjVweCA1cHggNTBweCA1cHhcIixcclxuICAgIGJvcmRlcjogXCI0cHggc29saWQgI2Y5ZjlmOVwiLFxyXG4gICAgdGV4dEFsaWduOiBcIi13ZWJraXQtY2VudGVyXCIsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICBib3hTaGFkb3c6IFwiMCAxNXB4IDM1cHggcmdiYSg1MCw1MCw5MywuMSksIDAgNXB4IDE1cHggcmdiYSgwLDAsMCwuMDcpXCIsXHJcbiAgICB0cmFuc2l0aW9uOiBcImFsbCAwLjNzIGVhc2Utb3V0XCIsXHJcbiAgICBXZWJraXRUcmFuc2Zvcm06IFwiYWxsIDAuM3MgZWFzZS1vdXRcIixcclxuICAgIHRleHRUcmFuc2Zvcm06IFwidXBwZXJjYXNlXCIsXHJcbiAgICBjb2xvcjogJyMwNjRmNzAnLFxyXG4gICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgIG1pbkhlaWdodDogJzI0MHB4J1xyXG59XHJcblxyXG5jb25zdCBzZWxlY3RlZFN0eWxlID0ge1xyXG4gICAgcGFkZGluZzogXCIyMHB4XCIsXHJcbiAgICBtYXJnaW46IFwiNXB4IDVweCA1MHB4IDVweFwiLFxyXG4gICAgdGV4dEFsaWduOiBcIi13ZWJraXQtY2VudGVyXCIsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICBib3hTaGFkb3c6IFwiMCAxNXB4IDM1cHggcmdiYSg1MCw1MCw5MywuMSksIDAgNXB4IDE1cHggcmdiYSgwLDAsMCwuMDcpXCIsXHJcbiAgICB0cmFuc2l0aW9uOiBcImFsbCAwLjNzIGVhc2Utb3V0XCIsXHJcbiAgICBXZWJraXRUcmFuc2Zvcm06IFwiYWxsIDAuM3MgZWFzZS1vdXRcIixcclxuICAgIGJvcmRlcjogXCI0cHggc29saWQgcmdiKDE0MiwgMjI2LCAxNzQpXCIsXHJcbiAgICB0ZXh0VHJhbnNmb3JtOiBcInVwcGVyY2FzZVwiLFxyXG4gICAgY29sb3I6ICcjMDY0ZjcwJyxcclxuICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICBtaW5IZWlnaHQ6ICcyNDBweCdcclxufVxyXG5cclxuY29uc3QgY3VzdG9tU3R5bGVzID0ge1xyXG4gICAgY29udGVudDoge1xyXG4gICAgICAgIHRvcDogJzUwJScsXHJcbiAgICAgICAgbGVmdDogJzUwJScsXHJcbiAgICAgICAgcmlnaHQ6ICdhdXRvJyxcclxuICAgICAgICBib3R0b206ICdhdXRvJyxcclxuICAgICAgICBtYXJnaW5SaWdodDogJy01MCUnLFxyXG4gICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXHJcbiAgICAgICAgcGFkZGluZzogJzEwcHggMTVweCAyM3B4JyxcclxuICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgIHdpZHRoOiAnNTAlJyxcclxuICAgICAgICBib3JkZXI6IFwiNHB4IHNvbGlkIHJnYigxNDIsIDIyNiwgMTc0KVwiLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogJzIwcHgnXHJcbiAgICB9XHJcbn07XHJcblxyXG5sZXQgYW5udWFsT3V0cHV0LFxyXG4gICAgc29sYXJSYWRpYXRpb24gPSAwLjksIHBvd2VyTG9zcyA9IDAuOSxcclxuICAgIHJlZHVjZWRQb3dlciA9IDAuOSwgU3RhbmRhcmRwYWNrZXQsIG1heFBhY2tldCwgbWluUGFja2V0LCBjYXBhY2l0eSwgdG90YWxJbnN0YWxsZWRQb3dlcklua3c7XHJcbmNsYXNzIFBhbmVsQmF0dGVyeVR5cGVzIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25PbmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwYW5lbF9jb3N0OiAnJyxcclxuICAgICAgICAgICAgYmF0dGVyeV9jb3N0OiAnJyxcclxuICAgICAgICAgICAgbWVzc2FnZTogbnVsbCxcclxuICAgICAgICAgICAgcGFuZWxDb3VudDogW10sXHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25UaHJlZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvcHVwOiBmYWxzZSxcclxuICAgICAgICAgICAgbW9kYWxJc09wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBjdXN0b21QYWNrZXQ6IFwiQW5nZSBhbnRhbCBwYW5lbGVyXCIsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkUGFja2V0OiAnQ3VzdG9tIHBha2V0JyxcclxuICAgICAgICAgICAgcGFuZWxhcnJheVVwZGF0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIG1vZGFsRm9yUGFuZWxJc09wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBwYW5lbFBvcHVwOiBmYWxzZSxcclxuICAgICAgICAgICAgYmF0dGVyeVBvcHVwOiBmYWxzZSxcclxuICAgICAgICAgICAgYmF0dGVyeTogdGhpcy5wcm9wcy5iYXR0ZXJ5LFxyXG4gICAgICAgICAgICBwYW5lbDogdGhpcy5wcm9wcy5wYW5lbCxcclxuICAgICAgICAgICAgcGFja2V0c0NvdW50OiBwYXJzZUludCh0aGlzLnByb3BzLnBhY2tldHNDb3VudCksXHJcbiAgICAgICAgICAgIHBhY2tldE5hbWU6IHRoaXMucHJvcHMucGFja2V0TmFtZSxcclxuICAgICAgICAgICAgYW5udWFsT3V0cHV0OiBwYXJzZUludCh0aGlzLnByb3BzLmFubnVhbFByb2R1Y3Rpb24pLFxyXG4gICAgICAgICAgICBtYXhpbXVtUGFja2V0czogMCxcclxuICAgICAgICAgICAgcGFuZWxDb3VudFZhbGlkYXRpb246IGZhbHNlLFxyXG4gICAgICAgICAgICBtaW5pbXVtUGFja2V0czogMCxcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tb2RhbHBvcHVwID0gdGhpcy5tb2RhbHBvcHVwLmJpbmQodGhpcylcclxuICAgICAgICBNb2RhbC5zZXRBcHBFbGVtZW50KCdib2R5Jyk7XHJcbiAgICAgICAgdGhpcy5vcGVuTW9kYWwgPSB0aGlzLm9wZW5Nb2RhbC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYWZ0ZXJPcGVuTW9kYWwgPSB0aGlzLmFmdGVyT3Blbk1vZGFsLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZU1vZGFsID0gdGhpcy5jbG9zZU1vZGFsLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy52YWxpZGF0ZSA9IHRoaXMudmFsaWRhdGUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkQ291bnQgPSB0aGlzLnNlbGVjdGVkQ291bnQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnBhbmVsVHlwZXNDaGFuZ2UgPSB0aGlzLnBhbmVsVHlwZXNDaGFuZ2UuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNvdW50T2ZwYW5lbHMgPSB0aGlzLmNvdW50T2ZwYW5lbHMuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmluY3JlbWVudCA9IHRoaXMuaW5jcmVtZW50LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5kZWNyZW1lbnQgPSB0aGlzLmRlY3JlbWVudC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY2xvc2VQYW5lbE1vZGFsID0gdGhpcy5jbG9zZVBhbmVsTW9kYWwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9wZW5QYW5lbFBvcHVwID0gdGhpcy5vcGVuUGFuZWxQb3B1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY2xvc2VCYXR0ZXJ5TW9kYWwgPSB0aGlzLmNsb3NlQmF0dGVyeU1vZGFsLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vcGVuQmF0dGVyeVBvcHVwID0gdGhpcy5vcGVuQmF0dGVyeVBvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZVBhY2tldE1vZGFsID0gdGhpcy5jbG9zZVBhY2tldE1vZGFsLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vcGVuUGFja2V0UG9wdXAgPSB0aGlzLm9wZW5QYWNrZXRQb3B1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYW5udWFsT3V0cHV0ID0gdGhpcy5hbm51YWxPdXRwdXQuYmluZCh0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5wYW5lbHMgPSBbe1xyXG4gICAgICAgICAgICBpbWFnZTogXCIuL2ltZy9wcmVtaXVtX3BhbmVsMi5qcGdcIixcclxuICAgICAgICAgICAgbmFtZTogXCJQcmVtaXVtXCIsXHJcbiAgICAgICAgICAgIGNvc3Q6IDExODBcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaW1hZ2U6IFwiLi9pbWcvU3RhbmRhcmRfUGFuZWwyLmpwZ1wiLFxyXG4gICAgICAgICAgICBuYW1lOiBcIlN0YW5kYXJkXCIsXHJcbiAgICAgICAgICAgIGNvc3Q6IDE0MDBcclxuICAgICAgICB9XTtcclxuICAgICAgICB0aGlzLmJhdHRlcmllcyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaW1hZ2U6IFwiLi9pbWcvcHJlbWl1bS1iYXR0ZXJ5LnBuZ1wiLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJQcmVtaXVtXCIsXHJcbiAgICAgICAgICAgICAgICBjb3N0OiAzMDBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaW1hZ2U6IFwiLi9pbWcvbm9fYmF0dGVyeS5wbmdcIixcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiSW5nYVwiLFxyXG4gICAgICAgICAgICAgICAgY29zdDogMjIwXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgZnVuY3Rpb24gZGVncmVlc190b19yYWRpYW5zKGRlZ3JlZXMpIHtcclxuICAgICAgICAgICAgdmFyIHBpID0gTWF0aC5QSTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZ3JlZXMgKiAocGkgLyAxODApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcm9vZkFyZWEgPSBwYXJzZUludCh0aGlzLnByb3BzLmFyZWEpIC8gTWF0aC5jb3MoZGVncmVlc190b19yYWRpYW5zKHBhcnNlSW50KHRoaXMucHJvcHMucm9vZl9waXRjaCkpKTtcclxuICAgICAgICBpZiAocm9vZkFyZWEgPiA0MDApIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbHNBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICBTdGFuZGFyZHBhY2tldCA9IDEwMDtcclxuICAgICAgICAgICAgbWluUGFja2V0ID0gMTI7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWxzQXJyYXkgPSBbXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1NtYWxsIHBha2V0JywgY291bnQ6IHBhcnNlSW50KG1pblBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU3RhbmRhcmQgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQoU3RhbmRhcmRwYWNrZXQpIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogdGhpcy5zdGF0ZS5zZWxlY3RlZFBhY2tldCwgY291bnQ6IHRoaXMucHJvcHMucGFja2V0TmFtZSA9PSAnQ3VzdG9tIHBha2V0JyA/IHBhcnNlSW50KHRoaXMucHJvcHMucGFja2V0c0NvdW50KSA6IHRoaXMuc3RhdGUuY3VzdG9tUGFja2V0IH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1heGltdW1QYWNrZXRzID0gcGFyc2VJbnQoU3RhbmRhcmRwYWNrZXQpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1pbmltdW1QYWNrZXRzID0gcGFyc2VJbnQobWluUGFja2V0KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHJvb2ZBcmVhIDwgNDAwICYmIHJvb2ZBcmVhID4gMjAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWxzQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgbWF4UGFja2V0ID0gMTAwXHJcbiAgICAgICAgICAgIFN0YW5kYXJkcGFja2V0ID0gcm9vZkFyZWEgLyA0O1xyXG4gICAgICAgICAgICBtaW5QYWNrZXQgPSAxMjtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbHNBcnJheSA9IFtcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU21hbGwgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQobWluUGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdTdGFuZGFyZCBwYWtldCcsIGNvdW50OiBwYXJzZUludChTdGFuZGFyZHBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnTWF4IHBha2V0JywgY291bnQ6IHBhcnNlSW50KG1heFBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiB0aGlzLnN0YXRlLnNlbGVjdGVkUGFja2V0LCBjb3VudDogdGhpcy5wcm9wcy5wYWNrZXROYW1lID09ICdDdXN0b20gcGFrZXQnID8gcGFyc2VJbnQodGhpcy5wcm9wcy5wYWNrZXRzQ291bnQpIDogdGhpcy5zdGF0ZS5jdXN0b21QYWNrZXQgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWF4aW11bVBhY2tldHMgPSBwYXJzZUludChtYXhQYWNrZXQpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1pbmltdW1QYWNrZXRzID0gcGFyc2VJbnQobWluUGFja2V0KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHJvb2ZBcmVhIDwgMjAwICYmIHJvb2ZBcmVhID4gMzYpIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbHNBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICBtYXhQYWNrZXQgPSByb29mQXJlYSAvIDI7XHJcbiAgICAgICAgICAgIFN0YW5kYXJkcGFja2V0ID0gKDEgLyAyKSAqIG1heFBhY2tldDtcclxuICAgICAgICAgICAgbWluUGFja2V0ID0gMTI7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWxzQXJyYXkgPSBbXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1NtYWxsIHBha2V0JywgY291bnQ6IHBhcnNlSW50KG1pblBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU3RhbmRhcmQgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQoU3RhbmRhcmRwYWNrZXQpIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogJ01heCBwYWtldCcsIGNvdW50OiBwYXJzZUludChtYXhQYWNrZXQpIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogdGhpcy5zdGF0ZS5zZWxlY3RlZFBhY2tldCwgY291bnQ6IHRoaXMucHJvcHMucGFja2V0TmFtZSA9PSAnQ3VzdG9tIHBha2V0JyA/IHBhcnNlSW50KHRoaXMucHJvcHMucGFja2V0c0NvdW50KSA6IHRoaXMuc3RhdGUuY3VzdG9tUGFja2V0IH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1heGltdW1QYWNrZXRzID0gcGFyc2VJbnQobWF4UGFja2V0KTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5taW5pbXVtUGFja2V0cyA9IHBhcnNlSW50KG1pblBhY2tldCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChyb29mQXJlYSA8IDM2ICYmIHJvb2ZBcmVhID4gMjYpIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbHNBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICBTdGFuZGFyZHBhY2tldCA9IHJvb2ZBcmVhIC8gMjtcclxuICAgICAgICAgICAgbWluUGFja2V0ID0gMTI7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWxzQXJyYXkgPSBbXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1NtYWxsIHBha2V0JywgY291bnQ6IHBhcnNlSW50KG1pblBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU3RhbmRhcmQgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQoU3RhbmRhcmRwYWNrZXQpIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogdGhpcy5zdGF0ZS5zZWxlY3RlZFBhY2tldCwgY291bnQ6IHRoaXMucHJvcHMucGFja2V0TmFtZSA9PSAnQ3VzdG9tIHBha2V0JyA/IHBhcnNlSW50KHRoaXMucHJvcHMucGFja2V0c0NvdW50KSA6IHRoaXMuc3RhdGUuY3VzdG9tUGFja2V0IH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1heGltdW1QYWNrZXRzID0gcGFyc2VJbnQoU3RhbmRhcmRwYWNrZXQpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1pbmltdW1QYWNrZXRzID0gcGFyc2VJbnQobWluUGFja2V0KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHJvb2ZBcmVhIDwgMjYpIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbHNBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICBTdGFuZGFyZHBhY2tldCA9IDEyO1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVsc0FycmF5ID0gW1xyXG4gICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdTdGFuZGFyZCBwYWtldCcsIGNvdW50OiBwYXJzZUludChTdGFuZGFyZHBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiB0aGlzLnN0YXRlLnNlbGVjdGVkUGFja2V0LCBjb3VudDogdGhpcy5wcm9wcy5wYWNrZXROYW1lID09ICdDdXN0b20gcGFrZXQnID8gcGFyc2VJbnQodGhpcy5wcm9wcy5wYWNrZXRzQ291bnQpIDogdGhpcy5zdGF0ZS5jdXN0b21QYWNrZXQgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWF4aW11bVBhY2tldHMgPSBwYXJzZUludChTdGFuZGFyZHBhY2tldCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWluaW11bVBhY2tldHMgPSBwYXJzZUludChTdGFuZGFyZHBhY2tldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnBhbmVsID09PSAnU3RhbmRhcmQnKSB7XHJcbiAgICAgICAgICAgIGNhcGFjaXR5ID0gMjcwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wYW5lbCA9PT0gJ1ByZW1pdW0nKSB7XHJcbiAgICAgICAgICAgIGNhcGFjaXR5ID0gMzIwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgYmF0dGVyeTogdGhpcy5wcm9wcy5iYXR0ZXJ5LFxyXG4gICAgICAgICAgICBwYW5lbDogdGhpcy5wcm9wcy5wYW5lbCxcclxuICAgICAgICAgICAgcGFja2V0c0NvdW50OiBwYXJzZUludCh0aGlzLnByb3BzLnBhY2tldHNDb3VudCksXHJcbiAgICAgICAgICAgIHBhY2tldE5hbWU6IHRoaXMucHJvcHMucGFja2V0TmFtZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5Nb2RhbCgpIHtcclxuICAgIH1cclxuXHJcbiAgICBhZnRlck9wZW5Nb2RhbCgpIHtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZU1vZGFsKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtb2RhbElzT3BlbjogZmFsc2UgfSk7XHJcbiAgICB9XHJcbiAgICBtb2RhbHBvcHVwKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3B1cDogdHJ1ZSwgbW9kYWxJc09wZW46IHRydWUgfSlcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RlZFBhbmVsKHBhbmVsLCBjb3N0KSB7XHJcbiAgICAgICAgaWYgKHBhbmVsID09PSAnU3RhbmRhcmQnKSB7XHJcbiAgICAgICAgICAgIGNhcGFjaXR5ID0gMjcwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocGFuZWwgPT09ICdQcmVtaXVtJykge1xyXG4gICAgICAgICAgICBjYXBhY2l0eSA9IDMyMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHBhbmVsOiBwYW5lbCxcclxuICAgICAgICAgICAgcGFuZWxfY29zdDogY29zdCxcclxuICAgICAgICAgICAgdmFsaWRhdGlvbk9uZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFubnVhbE91dHB1dChjYXBhY2l0eSwgdGhpcy5zdGF0ZS5wYWNrZXROYW1lLCB0aGlzLnN0YXRlLnBhY2tldHNDb3VudClcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RlZEJhdHRlcnkoYmF0dGVyeSwgY29zdCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBiYXR0ZXJ5OiBiYXR0ZXJ5LFxyXG4gICAgICAgICAgICBiYXR0ZXJ5X2Nvc3Q6IGNvc3QsXHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25Ud286IGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBhbm51YWxPdXRwdXQod2F0dHMsIHBhY2tldCwgY291bnRPZlBhbmVscykge1xyXG4gICAgICAgIHZhciBwcmltYXJ5U2lkZUFudWFsT3V0cHV0LCBzZWNvbmRhcnlTaWRlQW5udWFsT3V0cHV0LCBpbnN0YWxsZWRQb3dlck9uUHJpbWFyeVNpZGUsIGluc3RhbGxlZFBvd2VyT25TZWNvbmRhcnlTaWRlLFxyXG4gICAgICAgICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiwgc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiwgcHJpbWFyeVNpZGVQYW5lbHMgPSAwLCBzZWNvbmRhcnlTaWRlUGFuZWxzID0gMDtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcHMuc3VyZmFjZURpcmVjdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlICdWw4RTVCAxJzpcclxuICAgICAgICAgICAgICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gMC44NDtcclxuICAgICAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSAwLjc2O1xyXG4gICAgICAgICAgICBjYXNlICdPU1QgMic6XHJcbiAgICAgICAgICAgICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDAuODQ7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID0gMC43NjtcclxuICAgICAgICAgICAgY2FzZSAnVsOEU1QgMic6XHJcbiAgICAgICAgICAgICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDAuODg7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID0gMC43MjtcclxuICAgICAgICAgICAgY2FzZSAnT1NUIDEnOlxyXG4gICAgICAgICAgICAgICAgcHJpbWFyeVNpZGVSYWRpYXRpb24gPSAwLjg4O1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiA9IDAuNzI7XHJcbiAgICAgICAgICAgIGNhc2UgJ1NZRFbDhFNUIDEnOlxyXG4gICAgICAgICAgICAgICAgcHJpbWFyeVNpZGVSYWRpYXRpb24gPSAwLjkyO1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiA9IDAuNjg7XHJcbiAgICAgICAgICAgIGNhc2UgJ1NZRFbDhFNUJzpcclxuICAgICAgICAgICAgICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gMC45NjtcclxuICAgICAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSAwLjY0O1xyXG4gICAgICAgICAgICBjYXNlICdWw4RTVCAyJzpcclxuICAgICAgICAgICAgICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gMC44ODtcclxuICAgICAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSAwLjcyO1xyXG4gICAgICAgICAgICBjYXNlICdTWUQgMSc6XHJcbiAgICAgICAgICAgICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDE7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID0gMC42MDtcclxuICAgICAgICAgICAgY2FzZSAnU1lEIDInOlxyXG4gICAgICAgICAgICAgICAgcHJpbWFyeVNpZGVSYWRpYXRpb24gPSAxO1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiA9IDAuNjA7XHJcbiAgICAgICAgICAgIGNhc2UgJ1NZRE9TVCAxJzpcclxuICAgICAgICAgICAgICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gMC45MjtcclxuICAgICAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSAwLjY0O1xyXG4gICAgICAgICAgICBjYXNlICdTWURPU1QgMic6XHJcbiAgICAgICAgICAgICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDAuOTI7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID0gMC42ODtcclxuICAgICAgICAgICAgY2FzZSAnT1NUIDEnOlxyXG4gICAgICAgICAgICAgICAgcHJpbWFyeVNpZGVSYWRpYXRpb24gPSAwLjg0O1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiA9IDAuNzI7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDAuODQ7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID0gMC43MjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgKHRoaXMucHJvcHMuc3VyZmFjZURpcmVjdGlvbiA9PSAnVsOEU1QgMScgfHwgdGhpcy5wcm9wcy5zdXJmYWNlRGlyZWN0aW9uID09ICdPU1QgMicpIHsvL3dlc3QgZWFzdFxyXG4gICAgICAgIC8vICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDAuODQ7XHJcbiAgICAgICAgLy8gICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSAwLjc2O1xyXG4gICAgICAgIC8vIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdXJmYWNlRGlyZWN0aW9uID09ICdWw4RTVCAyJyB8fCB0aGlzLnByb3BzLnN1cmZhY2VEaXJlY3Rpb24gPT0gJ09TVCAxJykgey8vd2VzdCBlYXN0XHJcbiAgICAgICAgLy8gICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gMC44ODtcclxuICAgICAgICAvLyAgICAgc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiA9IDAuNzI7XHJcbiAgICAgICAgLy8gfSBlbHNlIGlmICh0aGlzLnByb3BzLnN1cmZhY2VEaXJlY3Rpb24gPT0gJ1NZRFbDhFNUIDEnKSB7Ly9zb3V0aHdlc3RcclxuICAgICAgICAvLyAgICAgcHJpbWFyeVNpZGVSYWRpYXRpb24gPSAwLjkyO1xyXG4gICAgICAgIC8vICAgICBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID0gMC42ODtcclxuICAgICAgICAvLyB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3VyZmFjZURpcmVjdGlvbiA9PSAnU1lEVsOEU1QnKSB7Ly9zb3V0aHdlc3RcclxuICAgICAgICAvLyAgICAgcHJpbWFyeVNpZGVSYWRpYXRpb24gPSAwLjk2O1xyXG4gICAgICAgIC8vICAgICBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID0gMC42NDtcclxuICAgICAgICAvLyB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3VyZmFjZURpcmVjdGlvbiA9PSAnU1lEIDEnIHx8IHRoaXMucHJvcHMuc3VyZmFjZURpcmVjdGlvbiA9PSAnU1lEIDInKSB7Ly9zb3V0aFxyXG4gICAgICAgIC8vICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDE7XHJcbiAgICAgICAgLy8gICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSAwLjYwO1xyXG4gICAgICAgIC8vIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdXJmYWNlRGlyZWN0aW9uID09ICdTWURPU1QgMScpIHsvL3NvdXRoZWFzdFxyXG4gICAgICAgIC8vICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDAuOTI7XHJcbiAgICAgICAgLy8gICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSAwLjY0O1xyXG4gICAgICAgIC8vIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdXJmYWNlRGlyZWN0aW9uID09ICdTWURPU1QgMicpIHsvL3NvdXRoZWFzdFxyXG4gICAgICAgIC8vICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDAuOTI7XHJcbiAgICAgICAgLy8gICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSAwLjY4O1xyXG4gICAgICAgIC8vIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdXJmYWNlRGlyZWN0aW9uID09ICdPU1QgMScpIHsvL2Vhc3RcclxuICAgICAgICAvLyAgICAgcHJpbWFyeVNpZGVSYWRpYXRpb24gPSAwLjg0O1xyXG4gICAgICAgIC8vICAgICBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID0gMC43MjtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ1N0b2NraG9sbScpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gMTAwMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ1bDpHN0ZXJib3R0ZW4nKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDgyNTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ05vcnJib3R0ZW4nKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDc3NTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ1VwcHNhbGEnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDk1O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnU8O2ZGVybWFubGFuZCcpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gODU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCfDlnN0ZXJnw7Z0bGFuZCcpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTc1O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnSsO2bmvDtnBpbmcnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDkyNTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ0tyb25vYmVyZycpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTI1O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnS2FsbWFyJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSA5NTA7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCdHb3RsYW5kJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSAxMDI1O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnQmxla2luZ2UnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDk3NTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ1Nrw6VuZScpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gMTAwMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ0hhbGxhbmQnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDEwMDA7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCdWw6RzdHJhIEfDtnRhbGFuZCcpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTUwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnVsOkcm1sYW5kJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSA5NTA7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCfDlnJlYnJvJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSA5NTA7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCdWw6RzdG1hbmxhbmQnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDk3NTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ0RhbGFybmEnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDk1MDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ0fDpHZsZWJvcmdkJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSA5NTA7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCdWw6RzdGVybm9ycmxhbmQnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDkwMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ0rDpG10bGFuZCcpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBhY2tldCkge1xyXG4gICAgICAgICAgICB2YXIgcGFja2V0VmFsdWVzT2JqZWN0ID0gdGhpcy5wYW5lbHNBcnJheS5maWx0ZXIoZnVuY3Rpb24gKHBhY2tldE9iaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhY2tldE9iai5wYWNrZXQgPT09IHBhY2tldFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB0b3RhbEluc3RhbGxlZFBvd2VySW5rdyA9IChjb3VudE9mUGFuZWxzICogd2F0dHMpIC8gMTAwMDtcclxuICAgICAgICAgICAgaWYgKHBhY2tldFZhbHVlc09iamVjdFswXS5wYWNrZXQgPT0gJ1NtYWxsIHBha2V0JyB8fCBwYWNrZXRWYWx1ZXNPYmplY3RbMF0ucGFja2V0ID09ICdTdGFuZGFyZCBwYWtldCcpIHtcclxuICAgICAgICAgICAgICAgIHByaW1hcnlTaWRlUGFuZWxzID0gY291bnRPZlBhbmVscztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYWNrZXRWYWx1ZXNPYmplY3RbMF0ucGFja2V0ID09ICdNYXggcGFrZXQnKSB7XHJcbiAgICAgICAgICAgICAgICBwcmltYXJ5U2lkZVBhbmVscyA9IGNvdW50T2ZQYW5lbHMgLyAyO1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kYXJ5U2lkZVBhbmVscyA9IGNvdW50T2ZQYW5lbHMgLyAyO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhY2tldFZhbHVlc09iamVjdFswXS5wYWNrZXQgPT0gJ0N1c3RvbSBwYWtldCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudE9mUGFuZWxzID4gdGhpcy5wYW5lbHNBcnJheVsxXS5jb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnlTaWRlUGFuZWxzID0gdGhpcy5wYW5lbHNBcnJheVsxXS5jb3VudDtcclxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlTaWRlUGFuZWxzID0gY291bnRPZlBhbmVscyAtIHRoaXMucGFuZWxzQXJyYXlbMV0uY291bnRcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnRPZlBhbmVscyA9PSB0aGlzLnBhbmVsc0FycmF5WzFdLmNvdW50IHx8IGNvdW50T2ZQYW5lbHMgPCB0aGlzLnBhbmVsc0FycmF5WzFdLmNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeVNpZGVQYW5lbHMgPSBjb3VudE9mUGFuZWxzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5zdGFsbGVkUG93ZXJPblByaW1hcnlTaWRlID0gcHJpbWFyeVNpZGVQYW5lbHMgKiB3YXR0cztcclxuICAgICAgICAgICAgaW5zdGFsbGVkUG93ZXJPblNlY29uZGFyeVNpZGUgPSBzZWNvbmRhcnlTaWRlUGFuZWxzICogd2F0dHM7XHJcbiAgICAgICAgICAgIHByaW1hcnlTaWRlQW51YWxPdXRwdXQgPSBpbnN0YWxsZWRQb3dlck9uUHJpbWFyeVNpZGUgKiBwcmltYXJ5U2lkZVJhZGlhdGlvbiAqIHNvbGFyUmFkaWF0aW9uICogcG93ZXJMb3NzICogcmVkdWNlZFBvd2VyO1xyXG4gICAgICAgICAgICBzZWNvbmRhcnlTaWRlQW5udWFsT3V0cHV0ID0gaW5zdGFsbGVkUG93ZXJPblNlY29uZGFyeVNpZGUgKiBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uICogc29sYXJSYWRpYXRpb24gKiBwb3dlckxvc3MgKiByZWR1Y2VkUG93ZXI7XHJcbiAgICAgICAgICAgIGFubnVhbE91dHB1dCA9IChwcmltYXJ5U2lkZUFudWFsT3V0cHV0ICsgc2Vjb25kYXJ5U2lkZUFubnVhbE91dHB1dCkgLyAxMDAwO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGFubnVhbE91dHB1dDogYW5udWFsT3V0cHV0XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdGVkQ291bnQobmFtZSwgY291bnQpIHtcclxuICAgICAgICBpZiAobmFtZSA9PSAnQ3VzdG9tIHBha2V0JyB8fCBuYW1lID09ICdTZWxlY3RlZCBQYWtldCcpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBvcHVwOiB0cnVlLCBtb2RhbElzT3BlbjogdHJ1ZSB9KVxyXG4gICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYWNrZXROYW1lOiAnQ3VzdG9tIHBha2V0JyxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUGFja2V0OiAnQ3VzdG9tIHBha2V0JyxcclxuICAgICAgICAgICAgICAgIHBhY2tldHNDb3VudDogY291bnQsXHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uVGhyZWU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGNvdW50LFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tUGFja2V0OiBwYXJzZUludCh0aGlzLnN0YXRlLnBhY2tldHNDb3VudCksXHJcbiAgICAgICAgICAgICAgICBwYW5lbGFycmF5VXBkYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbW9kYWxJc09wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcGFja2V0UG9wdXA6IHRydWVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGhpcy5hbm51YWxPdXRwdXQoY2FwYWNpdHksICdDdXN0b20gcGFrZXQnLCBjb3VudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYWNrZXROYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgcGFja2V0c0NvdW50OiBjb3VudCxcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25UaHJlZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAvLyB2YWx1ZTogY291bnQsXHJcbiAgICAgICAgICAgICAgICBwYW5lbGFycmF5VXBkYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tUGFja2V0OiBcIkFuZ2UgYW50YWwgcGFuZWxlclwiLFxyXG4gICAgICAgICAgICAgICAgcGFja2V0UG9wdXA6IHRydWVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hbm51YWxPdXRwdXQoY2FwYWNpdHksIG5hbWUsIGNvdW50KTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsVXBkYXRlKHN0YXRlLCBwcm9wKSB7XHJcbiAgICAgICAgbGV0IF9zZWxmID0gdGhpcztcclxuICAgICAgICBzZXRUaW1lb3V0KHVwZGF0ZShwcm9wKSwgMjAwMCk7XHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlKHByb3BzKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wcy5wYW5lbGFycmF5VXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBfc2VsZi5zZXRTdGF0ZSh7IHBhbmVsYXJyYXlVcGRhdGU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZGVncmVlc190b19yYWRpYW5zKGRlZ3JlZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGkgPSBNYXRoLlBJO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWdyZWVzICogKHBpIC8gMTgwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciByb29mQXJlYSA9IHBhcnNlSW50KF9zZWxmLnByb3BzLmFyZWEpIC8gTWF0aC5jb3MoZGVncmVlc190b19yYWRpYW5zKHBhcnNlSW50KF9zZWxmLnByb3BzLnJvb2ZfcGl0Y2gpKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocm9vZkFyZWEgPiA0MDApIHtcclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5wYW5lbHNBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIFN0YW5kYXJkcGFja2V0ID0gMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIG1pblBhY2tldCA9IDEyO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLnBhbmVsc0FycmF5ID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1NtYWxsIHBha2V0JywgY291bnQ6IHBhcnNlSW50KG1pblBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdTdGFuZGFyZCBwYWtldCcsIGNvdW50OiBwYXJzZUludChTdGFuZGFyZHBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwYWNrZXQ6IHByb3BzLnNlbGVjdGVkUGFja2V0LCBjb3VudDogcHJvcHMuY3VzdG9tUGFja2V0IH1cclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuc2V0U3RhdGUoeyBtYXhpbXVtUGFja2V0czogcGFyc2VJbnQoU3RhbmRhcmRwYWNrZXQpLCBtaW5pbXVtUGFja2V0czogbWluUGFja2V0IH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb29mQXJlYSA8IDQwMCAmJiByb29mQXJlYSA+IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLnBhbmVsc0FycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgU3RhbmRhcmRwYWNrZXQgPSByb29mQXJlYSAvIDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluUGFja2V0ID0gMTI7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4UGFja2V0ID0gMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLnBhbmVsc0FycmF5ID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1NtYWxsIHBha2V0JywgY291bnQ6IHBhcnNlSW50KG1pblBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdTdGFuZGFyZCBwYWtldCcsIGNvdW50OiBwYXJzZUludChTdGFuZGFyZHBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdNYXggcGFrZXQnLCBjb3VudDogcGFyc2VJbnQobWF4UGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHBhY2tldDogcHJvcHMuc2VsZWN0ZWRQYWNrZXQsIGNvdW50OiBwcm9wcy5jdXN0b21QYWNrZXQgfVxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5zZXRTdGF0ZSh7IG1heGltdW1QYWNrZXRzOiBwYXJzZUludChtYXhQYWNrZXQpLCBtaW5pbXVtUGFja2V0czogbWluUGFja2V0IH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJvb2ZBcmVhIDwgMjAwICYmIHJvb2ZBcmVhID4gMzYpIHtcclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5wYW5lbHNBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIG1heFBhY2tldCA9IHBhcnNlSW50KHJvb2ZBcmVhIC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgU3RhbmRhcmRwYWNrZXQgPSAoMSAvIDIpICogbWF4UGFja2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIG1pblBhY2tldCA9IDEyO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLnBhbmVsc0FycmF5ID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1NtYWxsIHBha2V0JywgY291bnQ6IHBhcnNlSW50KG1pblBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdTdGFuZGFyZCBwYWtldCcsIGNvdW50OiBwYXJzZUludChTdGFuZGFyZHBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdNYXggcGFrZXQnLCBjb3VudDogcGFyc2VJbnQobWF4UGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHBhY2tldDogcHJvcHMuc2VsZWN0ZWRQYWNrZXQsIGNvdW50OiBwcm9wcy5jdXN0b21QYWNrZXQgfVxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5zZXRTdGF0ZSh7IG1heGltdW1QYWNrZXRzOiBwYXJzZUludChtYXhQYWNrZXQpLCBtaW5pbXVtUGFja2V0czogbWluUGFja2V0IH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJvb2ZBcmVhIDwgMzYgJiYgcm9vZkFyZWEgPiAyNikge1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLnBhbmVsc0FycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgU3RhbmRhcmRwYWNrZXQgPSByb29mQXJlYSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluUGFja2V0ID0gMTI7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYucGFuZWxzQXJyYXkgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU21hbGwgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQobWluUGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1N0YW5kYXJkIHBha2V0JywgY291bnQ6IHBhcnNlSW50KFN0YW5kYXJkcGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHBhY2tldDogcHJvcHMuc2VsZWN0ZWRQYWNrZXQsIGNvdW50OiBwcm9wcy5jdXN0b21QYWNrZXQgfVxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5zZXRTdGF0ZSh7IG1heGltdW1QYWNrZXRzOiBwYXJzZUludChTdGFuZGFyZHBhY2tldCksIG1pbmltdW1QYWNrZXRzOiBwYXJzZUludChtaW5QYWNrZXQpIH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJvb2ZBcmVhIDwgMjYpIHtcclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5wYW5lbHNBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIFN0YW5kYXJkcGFja2V0ID0gMTI7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYucGFuZWxzQXJyYXkgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU3RhbmRhcmQgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQoU3RhbmRhcmRwYWNrZXQpIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcGFja2V0OiBwcm9wcy5zZWxlY3RlZFBhY2tldCwgY291bnQ6IHByb3BzLmN1c3RvbVBhY2tldCB9XHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLnNldFN0YXRlKHsgbWF4aW11bVBhY2tldHM6IHBhcnNlSW50KFN0YW5kYXJkcGFja2V0KSwgbWluaW11bVBhY2tldHM6IDEyIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUucGFuZWwgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0aW9uT25lOiB0cnVlIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5iYXR0ZXJ5ID09PSAnJykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWRhdGlvblR3bzogdHJ1ZSB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUucGFja2V0c0NvdW50ID09PSAnJykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWRhdGlvblRocmVlOiB0cnVlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHBhbmVsVHlwZXNDaGFuZ2UocGFuZWwsIGJhdHRlcnksIHZhbHVlKSB7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgncGFuZWwnKTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdiYXR0ZXJ5Jyk7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgncGFuZWxzQ291bnQnKTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYW5lbCcsIHBhbmVsKTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdiYXR0ZXJ5JywgYmF0dGVyeSk7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncGFuZWxzQ291bnQnLCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY291bnRPZnBhbmVscyhlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUubWluaW11bVBhY2tldHMgPD0gZS50YXJnZXQudmFsdWUgJiYgZS50YXJnZXQudmFsdWUgPD0gdGhpcy5zdGF0ZS5tYXhpbXVtUGFja2V0cykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHBhY2tldHNDb3VudDogZS50YXJnZXQudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAvL2N1c3RvbVBhY2tldDogZS50YXJnZXQudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFBhY2tldDogJ0N1c3RvbSBwYWtldCcsXHJcbiAgICAgICAgICAgICAgICBwYWNrZXROYW1lOiAnQ3VzdG9tIHBha2V0JyxcclxuICAgICAgICAgICAgICAgIC8vICBwYWNrZXRzQ291bnQ6IGUudGFyZ2V0LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgcGFuZWxDb3VudFZhbGlkYXRpb246IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgcGFja2V0c0NvdW50OiBlLnRhcmdldC52YWx1ZSxcclxuICAgICAgICAgICAgICAgIHBhbmVsQ291bnRWYWxpZGF0aW9uOiB0cnVlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGluY3JlbWVudCgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5wYWNrZXRzQ291bnQgPD0gdGhpcy5zdGF0ZS5tYXhpbXVtUGFja2V0cyAtIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYWNrZXRzQ291bnQ6IHBhcnNlSW50KHRoaXMuc3RhdGUucGFja2V0c0NvdW50KSArIDEsXHJcbiAgICAgICAgICAgICAgICBwYW5lbENvdW50VmFsaWRhdGlvbjogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBhbmVsQ291bnRWYWxpZGF0aW9uOiB0cnVlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZWNyZW1lbnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUucGFja2V0c0NvdW50ID49IHRoaXMuc3RhdGUubWluaW11bVBhY2tldHMgKyAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgcGFja2V0c0NvdW50OiBwYXJzZUludCh0aGlzLnN0YXRlLnBhY2tldHNDb3VudCkgLSAxLFxyXG4gICAgICAgICAgICAgICAgcGFuZWxDb3VudFZhbGlkYXRpb246IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwYW5lbENvdW50VmFsaWRhdGlvbjogdHJ1ZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb3BlblBhbmVsUG9wdXAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsRm9yUGFuZWxJc09wZW46IHRydWUsIHBhbmVsUG9wdXA6IHRydWUgfSlcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZVBhbmVsTW9kYWwoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsRm9yUGFuZWxJc09wZW46IGZhbHNlLCBwYW5lbFBvcHVwOiBmYWxzZSB9KVxyXG4gICAgfVxyXG5cclxuICAgIG9wZW5CYXR0ZXJ5UG9wdXAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsRm9yQmF0dGVyeUlzT3BlbjogdHJ1ZSwgYmF0dGVyeVBvcHVwOiB0cnVlIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VCYXR0ZXJ5TW9kYWwoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsRm9yQmF0dGVyeUlzT3BlbjogZmFsc2UsIGJhdHRlcnlQb3B1cDogZmFsc2UgfSlcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZVBhY2tldE1vZGFsKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtb2RhbEZvclBhY2tldElzT3BlbjogZmFsc2UsIHBhY2tldFBvcHVwOiBmYWxzZSB9KVxyXG4gICAgfVxyXG5cclxuICAgIG9wZW5QYWNrZXRQb3B1cCgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgbW9kYWxGb3JQYWNrZXRJc09wZW46IHRydWUsIHBhY2tldFBvcHVwOiB0cnVlIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoPGRpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJcIj5cclxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJyb29mX3N1YmhlYWRcIj5CeXQgcHJvZHVrdDwvaDM+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZXBlcmF0aW9uLWxpbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMiBoZWFkaW5nX3RleHQgZm9udC1xdWlja3NhbmQgYm9sZFwiID52w6RsaiBTb2xwYW5lbGVyPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIGNvbC1zbS1vZmZzZXQtMyBtYXRlcmlhbFwiIHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICczMHB4JywgbWFyZ2luOiAnMHB4IGF1dG8nIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUudmFsaWRhdGlvbk9uZSA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndmFsaWRhdGlvbicgc3R5bGU9e3sgbWFyZ2luOiAnMHB4IGF1dG8nIH19PjxzcGFuPlBsZWFzZSBzZWxlY3QgdGhlIFBhbmVsIHR5cGU8L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKG51bGwpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiBjb2wtbWQtMTBcIiBpZD1cInBhbmVsLXR5cGVzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYW5lbHMubWFwKChkYXRhLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNiBjb2wtbWQtNFwiIGtleT17aW5kZXh9IG9uQ2xpY2s9e3RoaXMuc2VsZWN0ZWRQYW5lbC5iaW5kKHRoaXMsIGRhdGEubmFtZSwgZGF0YS5jb3N0KX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib25mb2NzX2JyZHIgYi13aGl0ZVwiIHN0eWxlPXsoZGF0YS5uYW1lID09IHRoaXMuc3RhdGUucGFuZWwpID8gc2VsZWN0ZWRTdHlsZSA6IG1hdHN0eWxlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e2RhdGEuaW1hZ2V9IGFsdD17ZGF0YS5uYW1lfSBjbGFzc05hbWU9XCJpbWctcmVzcG9uc2l2ZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtLXRvcDlcIj57ZGF0YS5uYW1lfSBwYW5lbDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGNvbC1zbS0xMiBhbGlnbi10ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwiaGlwZXJMaW5rXCIgb25DbGljaz17dGhpcy5vcGVuUGFuZWxQb3B1cC5iaW5kKHRoaXMpfT5Mw6RzIG1lciBvbSBzb2xwYW5lbDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnBhbmVsUG9wdXAgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e3RoaXMuc3RhdGUubW9kYWxGb3JQYW5lbElzT3Blbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQWZ0ZXJPcGVuPXt0aGlzLmFmdGVyT3Blbk1vZGFsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZXF1ZXN0Q2xvc2U9e3RoaXMuY2xvc2VQYW5lbE1vZGFsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e2N1c3RvbVN0eWxlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRMYWJlbD1cIkV4YW1wbGUgTW9kYWxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJva2EtaGVhZGluZ1wiPlNvbHBhbmVsZXI8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImYtcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJjbG9zZS1idXR0b24gXCIgb25DbGljaz17dGhpcy5jbG9zZVBhbmVsTW9kYWx9Plg8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgcXVlc3Rpb25zUGFnZSBwYWRkaW5nLWJvdHRvbS1ub25lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkaW5nIGxpc3QtaGVhZFwiPlNUQU5EQVJEIFNPTFBBTkVMPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTEwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJwYW5lbHMtbGlzdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPiAtIDI3NSBrV2ggPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4gLSBQYW5lbCBpcG9seWtyaXN0YWxsaW48L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPiAtIFBhc3NhcmLDpHN0ZsO2cnN0b3JhaW5zdGFsbGF0aW9uZXJww6VleGVtcGVsdmlzZsO2cmV0YWcsIHNvbGNlbGxzcGFya2Vyb2NobWFya2FubMOkZ2duaW5nYXI8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMiBxdWVzdGlvbnNQYWdlIHBhZGRpbmctdG9wLW5vbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRpbmcgbGlzdC1oZWFkXCI+UFJFTUlVTSBTT0xQQU5FTDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0xMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwicGFuZWxzLWxpc3RcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4gLSAzMjAga1doIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+IC0gUGFuZWwgaW1vbm9rcmlzdGFsbGluPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4gLSBQYXNzYXJiw6RzdGbDtnJ2aWxsb3Jkw6UgZGVuIHN2YXJ0c2tpbXJhbmRlZsOkcmdlbm9mdGFzdMOkcm1lcnVwcHNrYXR0YWTDpG5zdGFuZGFyZHBhbmVsZW48L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPiAtIEjDtmdyZWVmZmVrdCBwZXIgcGFuZWwgZ8O2cnBhbmVsZW5sw6RtcGxpZ2bDtnJtaW5kcmV0YWs8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVzdGltYXRlIGNvbC1tZC0xMiBhbGlnbi10ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic3VibWl0IGZsb2F0LW5vbmVcIiBvbkNsaWNrPXt0aGlzLmNsb3NlUGFuZWxNb2RhbH0+c3TDpG5nPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAobnVsbCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgY2VudGVyLWxpbmUtc2VwZXJhdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGhlYWRpbmdfdGV4dCBmb250LXF1aWNrc2FuZCBib2xkXCIgPnbDpGxqIEJhdHRlcmk8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgbWF0ZXJpYWxcIiBzdHlsZT17eyB0ZXh0QWxpZ246ICdjZW50ZXInLCBwYWRkaW5nOiAnMzBweCcsIG1hcmdpbjogJzBweCBhdXRvJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnZhbGlkYXRpb25Ud28gPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ZhbGlkYXRpb24nIHN0eWxlPXt7IG1hcmdpbjogJzBweCBhdXRvJyB9fT48c3Bhbj5QbGVhc2Ugc2VsZWN0IHRoZSBCYXR0ZXJ5IHR5cGU8L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKG51bGwpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiBjb2wtbWQtMTBcIiBpZD1cImJhdHRlcnktdHlwZXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhdHRlcmllcy5tYXAoKGRhdGEsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02IGNvbC1tZC00XCIga2V5PXtpbmRleH0gb25DbGljaz17dGhpcy5zZWxlY3RlZEJhdHRlcnkuYmluZCh0aGlzLCBkYXRhLm5hbWUsIGRhdGEuY29zdCl9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9uZm9jc19icmRyIGItd2hpdGVcIiBzdHlsZT17KGRhdGEubmFtZSA9PSB0aGlzLnN0YXRlLmJhdHRlcnkpID8gc2VsZWN0ZWRTdHlsZSA6IG1hdHN0eWxlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e2RhdGEuaW1hZ2V9IGFsdD17ZGF0YS5uYW1lfSBjbGFzc05hbWU9XCJpbWctcmVzcG9uc2l2ZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtLXRvcDlcIj57ZGF0YS5uYW1lfSBiYXR0ZXJpPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgY29sLXNtLTEyIGFsaWduLXRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJoaXBlckxpbmtcIiBvbkNsaWNrPXt0aGlzLm9wZW5CYXR0ZXJ5UG9wdXAuYmluZCh0aGlzKX0+TMOkcyBtZXIgb20gYmF0dGVyaTwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmJhdHRlcnlQb3B1cCA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17dGhpcy5zdGF0ZS5tb2RhbEZvckJhdHRlcnlJc09wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkFmdGVyT3Blbj17dGhpcy5hZnRlck9wZW5Nb2RhbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlPXt0aGlzLmNsb3NlQmF0dGVyeU1vZGFsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e2N1c3RvbVN0eWxlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRMYWJlbD1cIkV4YW1wbGUgTW9kYWxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJva2EtaGVhZGluZ1wiPkJBVFRFUkk8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImYtcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJjbG9zZS1idXR0b24gXCIgb25DbGljaz17dGhpcy5jbG9zZUJhdHRlcnlNb2RhbH0+WDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInF1ZXN0aW9uc1BhZ2UgcGFkZGluZy1ib3R0b20tbm9uZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGluZyBsaXN0LWhlYWRcIj5QUkVNSVVNIEJBVFRFUkk8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMTBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInBhbmVscy1saXN0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+IC0gMTEsNCBrV2ggZWZmZWt0IDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+IC0gU3Ryw7Ztw6R2ZW4gdmlkIHN0csO2bWF2YnJvdHQ8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPiAtIFbDpHhlbHJpa3RhcmVvY2hiYXR0ZXJpZ2Vub21CYXR0ZXJYLjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+IC0gTcO2amxpZ2hldCB0aWxsIHN0csO2bWxhZ3JpbmdmcsOlbnNvbHBhbmVsZXI8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInF1ZXN0aW9uc1BhZ2UgcGFkZGluZy10b3Atbm9uZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGluZyBsaXN0LWhlYWRcIj5VVEFOIEJBVFRFUkk8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMTBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInBhbmVscy1saXN0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+IC0gU8OkbGogZGluIMO2dmVyc2tvdHRzZWxkaXJla3QgdGlsbCBlbGJvbGFnZXQ8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPiAtIFBhbmVsIGltb25va3Jpc3RhbGxpbjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+IC0gUGFzc2FyYsOkc3Rmw7ZydmlsbG9yZMOlIGRlbiBzdmFydHNraW1yYW5kZWbDpHJnZW5vZnRhc3TDpHJtZXJ1cHBza2F0dGFkw6Ruc3RhbmRhcmRwYW5lbGVuPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4gLSBIw7ZncmVlZmZla3QgcGVyIHBhbmVsIGfDtnJwYW5lbGVubMOkbXBsaWdmw7ZybWluZHJldGFrPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlc3RpbWF0ZSBhbGlnbi10ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic3VibWl0IGZsb2F0LW5vbmVcIiBvbkNsaWNrPXt0aGlzLmNsb3NlQmF0dGVyeU1vZGFsfT5zdMOkbmc8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L01vZGFsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChudWxsKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGhlYWRpbmdfdGV4dCBmb250LXF1aWNrc2FuZCBib2xkXCIgPnbDpGxqIGFudGFsIHNvbHBhbmVsZXI8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIG1hdGVyaWFsXCIgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJzMwcHgnLCBtYXJnaW46ICcwcHggYXV0bycgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUudmFsaWRhdGlvblRocmVlID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndmFsaWRhdGlvbicgc3R5bGU9e3sgbWFyZ2luOiAnMHB4IGF1dG8nIH19PjxzcGFuPlBsZWFzZSBzZWxlY3QgdGhlIHBhY2tldCB0eXBlPC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAobnVsbCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTFcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIGNvbC1tZC0xMFwiIGlkPVwicGFuZWxzLWNvdW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUucG9wdXAgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e3RoaXMuc3RhdGUubW9kYWxJc09wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25BZnRlck9wZW49e3RoaXMuYWZ0ZXJPcGVuTW9kYWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZXF1ZXN0Q2xvc2U9e3RoaXMuY2xvc2VNb2RhbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17Y3VzdG9tU3R5bGVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRMYWJlbD1cIlNwZWNpZnkgcGFja2V0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgcGFuZGluZ19ub1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJva2EtaGVhZGluZ1wiPkFuZ2UgYW50YWwgcGFuZWxlcjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImYtcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiY2xvc2UtYnV0dG9uIFwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VNb2RhbH0+WDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5wYW5lbENvdW50VmFsaWRhdGlvbiA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMiBwYW5lbHMtdmFsaWQtaGVhZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbHMtY291bnQtdmFsaWRhdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhbmVscyByYW5nZSBpcyB7dGhpcy5zdGF0ZS5tYXhpbXVtUGFja2V0c30gLSB7dGhpcy5zdGF0ZS5taW5pbXVtUGFja2V0c308L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+KSA6IChudWxsKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgYWxpZ24tdGV4dC1jZW50ZXIgc2xvdHMtY2VudGVyaW5nIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb3ZlLWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9e3RoaXMuaW5jcmVtZW50LmJpbmQodGhpcyl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vaW1nL2NhcmV0LXN5bWJvbC5wbmdcIiBhbHQ9XCJpbmNyZW1lbnRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0nY291bnRlcicgdmFsdWU9e3RoaXMuc3RhdGUucGFja2V0c0NvdW50fSBvbkNoYW5nZT17dGhpcy5jb3VudE9mcGFuZWxzfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vdmUtbGVmdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgb25DbGljaz17dGhpcy5kZWNyZW1lbnQuYmluZCh0aGlzKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9pbWcvZG93bi1hcnJvdy5wbmdcIiBhbHQ9XCJkZWNyZW1lbnRcIiAvPiA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgYm9va2luZy1idXR0b25zIGFsaWduLXRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInN1Ym1pdFwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VNb2RhbH0+QXZicnl0PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInN1Ym1pdFwiIGRpc2FibGVkPXt0aGlzLnN0YXRlLnBhbmVsQ291bnRWYWxpZGF0aW9ufSBvbkNsaWNrPXt0aGlzLnNlbGVjdGVkQ291bnQuYmluZCh0aGlzLCAnJywgdGhpcy5zdGF0ZS5wYWNrZXRzQ291bnQpfT5PazwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L01vZGFsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKG51bGwpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnBhbmVsc0FycmF5Lm1hcCgoZGF0YSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTMgcGFuZGluZ19ub1wiIGtleT17aW5kZXh9IG9uQ2xpY2s9e3RoaXMuc2VsZWN0ZWRDb3VudC5iaW5kKHRoaXMsIGRhdGEucGFja2V0LCBkYXRhLmNvdW50KX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib25mb2NzX2JyZHIxIGItd2hpdGVcIiBzdHlsZT17KGRhdGEucGFja2V0ID09IHRoaXMuc3RhdGUucGFja2V0TmFtZSkgPyBzZWxlY3RlZFN0eWxlIDogbWF0c3R5bGV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KGRhdGEucGFja2V0ID09PSBcIkN1c3RvbSBwYWtldFwiICYmIGRhdGEuY291bnQgPT0gXCJBbmdlIGFudGFsIHBhbmVsZXJcIikgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZjIxIHRleHQtY2FwaXRhbCBzcGVjaWZ5LWNhcmQnPntkYXRhLmNvdW50fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYWNrZXRzLWZvbnQnPntkYXRhLmNvdW50fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtLXRvcDlcIj57ZGF0YS5wYWNrZXR9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgY29sLXNtLTEyIGFsaWduLXRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUucGFja2V0UG9wdXAgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMCBjb2wtc20tMTIgcGFuZGluZ19ubyBwYW5lbC1jb3VudC1pbmZvLWJvcmRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTQgcGFuZGluZ19ub1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtaGVhZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwicGFuZWwtY291bnQtaW5mb1wiPk1BWCBBTlRBTCBTT0xBUlBBTkVMRVI8YnIgLz4oVGFreXRhIGhhciBwbGF0cyBmb3IpPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BhbmVsLXZhbHVlcy1pbmZvJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5tYXhpbXVtUGFja2V0c308L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNiBjb2wtbWQtNCBwYW5kaW5nX25vXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1oZWFkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJwYW5lbC1jb3VudC1pbmZvXCI+VkFMVCBBTlRBTCBTT0xBUlBBTkVMRVI8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYW5lbC12YWx1ZXMtaW5mbyc+e3RoaXMuc3RhdGUucGFja2V0c0NvdW50fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02IGNvbC1tZC00IHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LWhlYWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInBhbmVsLWNvdW50LWluZm9cIj5FRkZFS1Q8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYW5lbC12YWx1ZXMtaW5mbyBuby1ib3JkZXInPnt0b3RhbEluc3RhbGxlZFBvd2VySW5rd31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4ga1doPC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNiBjb2wtbWQtMyBwYW5kaW5nX25vXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1oZWFkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJwYW5lbC1jb3VudC1pbmZvXCI+w4VSU1BST0RVS1RJT048L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYW5lbC12YWx1ZXMtaW5mbyc+e3BhcnNlSW50KHRoaXMuc3RhdGUuYW5udWFsT3V0cHV0KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4gS1doPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiBlc3RpbWF0ZVwiIHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICczMHB4JyB9fSA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeUNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFkZGluZzFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzdWJtaXRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy51cGRhdGUuYmluZCh0aGlzLCB0aGlzLnN0YXRlLnBhbmVsLCB0aGlzLnN0YXRlLmJhdHRlcnksIHRoaXMuc3RhdGUucGFja2V0c0NvdW50LCB0aGlzLnN0YXRlLnBhY2tldE5hbWUsIHBhcnNlSW50KHRoaXMuc3RhdGUuYW5udWFsT3V0cHV0KSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQnl0IHByb2R1a3Q8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZGRpbmcxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5wcm9wcy5jbG9zZU1vZGFsfSBjbGFzc05hbWU9XCJzdWJtaXRcIj5BdmJyeXQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgUGFuZWxCYXR0ZXJ5VHlwZXM7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFNsaWRlciBmcm9tICdyZWFjdC1yYW5nZXNsaWRlcidcclxudmFyIHN0eWxlcztcclxuY2xhc3MgSG9yaXpvbnRhbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KVxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgICAgICByb29mX2RpcmVjdGlvbjogJ1NZRCAxJ1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2VTdGFydCA9IHRoaXMuaGFuZGxlQ2hhbmdlU3RhcnQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZUNvbXBsZXRlID0gdGhpcy5oYW5kbGVDaGFuZ2VDb21wbGV0ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucm9vZkRpcmVjdGlvbiA9IHRoaXMucm9vZkRpcmVjdGlvbi5iaW5kKHRoaXMpXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2hhbmdlU3RhcnQoKSB7XHJcbiAgICB9O1xyXG5cclxuICAgIGhhbmRsZUNoYW5nZSh2KSB7XHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcclxuICAgICAgICBfc2VsZi5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHZhbHVlOiB2LFxyXG4gICAgICAgICAgICByb29mX2RpcmVjdGlvbjogdGhpcy5yb29mRGlyZWN0aW9uKHYpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJvb2ZEaXJlY3Rpb24odikge1xyXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xyXG4gICAgICAgICAgICAvLyBjYXNlICgtOTAgPD0gdiAmJiB2IDw9IC01OSk6IHJldHVybiBcIlbDhFNUXCI7XHJcbiAgICAgICAgICAgIC8vIGNhc2UgKC02MCA8PSB2ICYmIHYgPD0gLTE5KTogcmV0dXJuIFwiU1lEVsOEU1RcIjtcclxuICAgICAgICAgICAgLy8gY2FzZSAoLTIwIDw9IHYgJiYgdiA8PSAyOSk6IHJldHVybiBcIlNZRFwiO1xyXG4gICAgICAgICAgICAvLyBjYXNlICgzMCA8PSB2ICYmIHYgPD0gNjkpOiByZXR1cm4gXCJTWURPU1RcIjtcclxuICAgICAgICAgICAgLy8gY2FzZSAoNzAgPD0gdiAmJiB2IDw9IDkwKTogcmV0dXJuIFwiT1NUXCJcclxuICAgICAgICAgICAgLy8gZGVmYXVsdDogcmV0dXJuIFwid29yc3RcIlxyXG4gICAgICAgICAgICBjYXNlICgtOTAgPD0gdiAmJiB2IDw9IC03Mik6IHJldHVybiBcIlbDhFNUIDFcIjtcclxuICAgICAgICAgICAgY2FzZSAoLTcyIDw9IHYgJiYgdiA8PSAtNTQpOiByZXR1cm4gXCJWw4RTVCAyXCI7XHJcbiAgICAgICAgICAgIGNhc2UgKC01NSA8PSB2ICYmIHYgPD0gLTM2KTogcmV0dXJuIFwiU1lEVsOEU1QgMVwiO1xyXG4gICAgICAgICAgICBjYXNlICgtMzcgPD0gdiAmJiB2IDw9IC0xOCk6IHJldHVybiBcIlNZRFbDhFNUIDJcIjtcclxuICAgICAgICAgICAgY2FzZSAoLTE4IDw9IHYgJiYgdiA8PSAtMSk6IHJldHVybiBcIlNZRCAxXCI7XHJcbiAgICAgICAgICAgIGNhc2UgKDAgPD0gdiAmJiB2IDw9IDE4KTogcmV0dXJuIFwiU1lEIDJcIjtcclxuICAgICAgICAgICAgY2FzZSAoMTkgPD0gdiAmJiB2IDw9IDM1KTogcmV0dXJuIFwiU1lET1NUIDFcIjtcclxuICAgICAgICAgICAgY2FzZSAoMzYgPD0gdiAmJiB2IDw9IDU0KTogcmV0dXJuIFwiU1lET1NUIDJcIjtcclxuICAgICAgICAgICAgY2FzZSAoNTUgPD0gdiAmJiB2IDw9IDcyKTogcmV0dXJuIFwiT1NUIDFcIjtcclxuICAgICAgICAgICAgY2FzZSAoNzIgPD0gdiAmJiB2IDw9IDkwKTogcmV0dXJuIFwiT1NUIDJcIlxyXG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gXCJ3b3JzdFwiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaGFuZGxlQ2hhbmdlQ29tcGxldGUoKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVDbGljayh0aGlzLnN0YXRlLnZhbHVlKTtcclxuICAgIH07XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2xpZGVyIHN1cmZhY2Utc2xpZGVyIHBhZGQtdG9wLWJvdCBtLXRvcC0yNyc+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGlnbi10ZXh0LWNlbnRlciBib2xkXCI+e3RoaXMuc3RhdGUucm9vZl9kaXJlY3Rpb24ubWF0Y2goL1thLXpBLVpdKy9nKX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8U2xpZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbj17LTkwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg9ezkwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS52YWx1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2VTdGFydD17dGhpcy5oYW5kbGVDaGFuZ2VTdGFydH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZUNvbXBsZXRlPXt0aGlzLmhhbmRsZUNoYW5nZUNvbXBsZXRlfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBEcm9wQXJlYSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBsaXN0OiBbXHJcbiAgICAgICAgICAgICAgICB7IGlkOiAxLCBpc0RyYWdnaW5nOiBmYWxzZSwgbGVmdDogMCwgZGlyZWN0aW9uOiAwLCByb29mX2RpcmVjdGlvbjogJ1NZRCAxJyB9LFxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNjcm9sbGFibGUgPSB0aGlzLnNjcm9sbGFibGUuYmluZCh0aGlzKVxyXG4gICAgfVxyXG5cclxuICAgIG9uRHJhZ092ZXIoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgb25Ecm9wKGUpIHtcclxuICAgICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdhcHBsaWNhdGlvbi9qc29uJykpO1xyXG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5zdGF0ZS5saXN0O1xyXG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuc3RhdGUubGlzdC5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IG9iai5pZCk7XHJcbiAgICAgICAgbGlzdFtpbmRleF0uaXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgIGxpc3RbaW5kZXhdLmxlZnQgPSAoZS5jbGllbnRYIC0gb2JqLngpO1xyXG4gICAgICAgIGxldCB2YWwgPSBNYXRoLmZsb29yKChlLmNsaWVudFggLSBvYmoueCkgLyAzKTtcclxuICAgICAgICBsaXN0W2luZGV4XS5kaXJlY3Rpb24gPSAoTWF0aC5jZWlsKHZhbCAvIDUpICogNSk7XHJcbiAgICAgICAgaWYgKGxpc3RbaW5kZXhdLmRpcmVjdGlvbiA+IDkwKSB7XHJcbiAgICAgICAgICAgIGxpc3RbaW5kZXhdLmRpcmVjdGlvbiA9IDkwXHJcbiAgICAgICAgfSBlbHNlIGlmIChsaXN0W2luZGV4XS5kaXJlY3Rpb24gPCAwKSB7XHJcbiAgICAgICAgICAgIGxpc3RbaW5kZXhdLmRpcmVjdGlvbiA9IDBcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG5ld1N0YXRlID0gT2JqZWN0LmFzc2lnbihcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSwge1xyXG4gICAgICAgICAgICAgICAgbGlzdDogbGlzdFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcbiAgICBzY3JvbGxhYmxlKGUpIHtcclxuICAgICAgICBsZXQgbGlzdHMgPSB0aGlzLnN0YXRlLmxpc3Q7XHJcbiAgICAgICAgbGV0IGluZGV4T25lID0gdGhpcy5zdGF0ZS5saXN0LmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gbGlzdHNbMF0uaWQpO1xyXG4gICAgICAgIGxpc3RzW2luZGV4T25lXS5kaXJlY3Rpb24gPSAoZSk7XHJcbiAgICAgICAgbGV0IGRpciA9IGxpc3RzW2luZGV4T25lXS5kaXJlY3Rpb247XHJcbiAgICAgICAgbGlzdHNbaW5kZXhPbmVdLnJvb2ZfZGlyZWN0aW9uID0gcm9vZkRpcmVjdGlvbihkaXIpXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJvb2ZEaXJlY3Rpb24oZGlyKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY2FzZSAoLTkwIDw9IGRpciAmJiBkaXIgPD0gLTU5KTogcmV0dXJuIFwiVsOEU1RcIjtcclxuICAgICAgICAgICAgICAgIC8vIGNhc2UgKC02MCA8PSBkaXIgJiYgZGlyIDw9IC0xOSk6IHJldHVybiBcIlNZRFbDhFNUXCI7XHJcbiAgICAgICAgICAgICAgICAvLyBjYXNlICgtMjAgPD0gZGlyICYmIGRpciA8PSAyOSk6IHJldHVybiBcIlNZRFwiO1xyXG4gICAgICAgICAgICAgICAgLy8gY2FzZSAoMzAgPD0gZGlyICYmIGRpciA8PSA2OSk6IHJldHVybiBcIlNZRE9TVFwiO1xyXG4gICAgICAgICAgICAgICAgLy8gY2FzZSAoNzAgPD0gZGlyICYmIGRpciA8PSA5MCk6IHJldHVybiBcIk9TVFwiXHJcbiAgICAgICAgICAgICAgICAvLyBkZWZhdWx0OiByZXR1cm4gXCJ3b3JzdFwiXHJcbiAgICAgICAgICAgICAgICBjYXNlICgtOTAgPD0gZGlyICYmIGRpciA8PSAtNzIpOiByZXR1cm4gXCJWw4RTVCAxXCI7XHJcbiAgICAgICAgICAgICAgICBjYXNlICgtNzIgPD0gZGlyICYmIGRpciA8PSAtNTQpOiByZXR1cm4gXCJWw4RTVCAyXCI7XHJcbiAgICAgICAgICAgICAgICBjYXNlICgtNTUgPD0gZGlyICYmIGRpciA8PSAtMzYpOiByZXR1cm4gXCJTWURWw4RTVCAxXCI7XHJcbiAgICAgICAgICAgICAgICBjYXNlICgtMzcgPD0gZGlyICYmIGRpciA8PSAtMTgpOiByZXR1cm4gXCJTWURWw4RTVCAyXCI7XHJcbiAgICAgICAgICAgICAgICBjYXNlICgtMTggPD0gZGlyICYmIGRpciA8PSAtMSk6IHJldHVybiBcIlNZRCAxXCI7XHJcbiAgICAgICAgICAgICAgICBjYXNlICgwIDw9IGRpciAmJiBkaXIgPD0gMTgpOiByZXR1cm4gXCJTWUQgMlwiO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAoMTkgPD0gZGlyICYmIGRpciA8PSAzNSk6IHJldHVybiBcIlNZRE9TVCAxXCI7XHJcbiAgICAgICAgICAgICAgICBjYXNlICgzNiA8PSBkaXIgJiYgZGlyIDw9IDU0KTogcmV0dXJuIFwiU1lET1NUIDJcIjtcclxuICAgICAgICAgICAgICAgIGNhc2UgKDU1IDw9IGRpciAmJiBkaXIgPD0gNzIpOiByZXR1cm4gXCJPU1QgMVwiO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAoNzIgPD0gZGlyICYmIGRpciA8PSA5MCk6IHJldHVybiBcIk9TVCAyXCJcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBcIndvcnN0XCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY2xpY2tlZFN0YXRlID0gT2JqZWN0LmFzc2lnbihcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSwge1xyXG4gICAgICAgICAgICAgICAgbGlzdDogbGlzdHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShjbGlja2VkU3RhdGUpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmRpcmVjdGlvbihyb29mRGlyZWN0aW9uKGRpcikpO1xyXG4gICAgICAgIH0sIDEwMDApXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICB1cGRhdGVTdGF0ZURyYWdnaW5nKGlkLCBpc0RyYWdnaW5nKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLnN0YXRlLmxpc3Q7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5zdGF0ZS5saXN0LmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaWQpO1xyXG4gICAgICAgIGxpc3RbaW5kZXhdLmlzRHJhZ2dpbmcgPSBpc0RyYWdnaW5nO1xyXG4gICAgICAgIGxldCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUsIHtcclxuICAgICAgICAgICAgICAgIGxpc3Q6IGxpc3RcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBpdGVtcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5zdGF0ZS5saXN0KSB7XHJcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goXHJcbiAgICAgICAgICAgICAgICA8RHJhZ2dhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtcIm5vZGVfXCIgKyBpdGVtLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17aXRlbS5pZH1cclxuICAgICAgICAgICAgICAgICAgICBpZD17aXRlbS5pZH1cclxuICAgICAgICAgICAgICAgICAgICBsZWZ0PXtpdGVtLmxlZnR9XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg9e2l0ZW0ud2lkdGh9XHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uPXtpdGVtLmRpcmVjdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICByb29mX2RpcmVjdGlvbj17aXRlbS5yb29mX2RpcmVjdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICBpc0RyYWdnaW5nPXtpdGVtLmlzRHJhZ2dpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3RhdGVEcmFnZ2luZz17dGhpcy51cGRhdGVTdGF0ZURyYWdnaW5nLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYWJsZT17dGhpcy5zY3JvbGxhYmxlLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjb2wtbWQtMTIgc2xvdHMtY2VudGVyaW5nXCJcclxuICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9e3RoaXMub25EcmFnT3Zlci5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgb25Ecm9wPXt0aGlzLm9uRHJvcC5iaW5kKHRoaXMpfSA+XHJcbiAgICAgICAgICAgICAgICB7aXRlbXN9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jbGFzcyBEcmFnZ2FibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgb25Nb3VzZURvd24oZSkge1xyXG4gICAgICAgIHZhciBlbG0gPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGUuY2xpZW50WCwgZS5jbGllbnRZKTtcclxuICAgICAgICBpZiAoZWxtLmNsYXNzTmFtZSAhPT0gJ3Jlc2l6ZXInKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMudXBkYXRlU3RhdGVEcmFnZ2luZyh0aGlzLnByb3BzLmlkLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbk1vdXNlVXAoZSkge1xyXG4gICAgICAgIHRoaXMucHJvcHMudXBkYXRlU3RhdGVEcmFnZ2luZyh0aGlzLnByb3BzLmlkLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBvbkRyYWdTdGFydChlKSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZVN0eWxlID0gdGhpcy5yZWZzLm5vZGUuc3R5bGU7XHJcbiAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgnYXBwbGljYXRpb24vanNvbicsIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXHJcbiAgICAgICAgICAgIHg6IGUuY2xpZW50WCAtIHBhcnNlSW50KG5vZGVTdHlsZS5sZWZ0KSxcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbiAgICBvbkRyYWdFbmQoZSkge1xyXG4gICAgICAgIHRoaXMucHJvcHMudXBkYXRlU3RhdGVEcmFnZ2luZyh0aGlzLnByb3BzLmlkLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmxlZnQgPiAyNjkpIHtcclxuICAgICAgICAgICAgc3R5bGVzID0ge1xyXG4gICAgICAgICAgICAgICAgbGVmdDogJzI2OXB4JyxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sZWZ0IDwgMCkge1xyXG4gICAgICAgICAgICBzdHlsZXMgPSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAnMHB4JyxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0eWxlcyA9IHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IHRoaXMucHJvcHMubGVmdCxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHByaW1hcnlTaWRlUmFkaWF0aW9uLCBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uLCBjb2xvciwgc2NvbG9yO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJvb2ZfZGlyZWN0aW9uID09ICdWw4RTVCAxJykgey8vd2VzdCBlYXN0XHJcbiAgICAgICAgICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gODQ7XHJcbiAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSA3NjtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucm9vZl9kaXJlY3Rpb24gPT0gJ1bDhFNUIDInKSB7Ly9zb3V0aHdlc3RcclxuICAgICAgICAgICAgcHJpbWFyeVNpZGVSYWRpYXRpb24gPSA4ODtcclxuICAgICAgICAgICAgc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiA9IDcyO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5yb29mX2RpcmVjdGlvbiA9PSAnU1lEVsOEU1QgMScpIHsvL3NvdXRod2VzdFxyXG4gICAgICAgICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDkyO1xyXG4gICAgICAgICAgICBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID0gNjg7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnJvb2ZfZGlyZWN0aW9uID09ICdTWURWw4RTVCAyJykgey8vc291dGh3ZXN0XHJcbiAgICAgICAgICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gOTY7XHJcbiAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSA2NDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucm9vZl9kaXJlY3Rpb24gPT0gJ1NZRCAxJykgey8vc291dGhcclxuICAgICAgICAgICAgcHJpbWFyeVNpZGVSYWRpYXRpb24gPSAxMDA7XHJcbiAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSA2MDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucm9vZl9kaXJlY3Rpb24gPT0gJ1NZRCAyJykgey8vc291dGhcclxuICAgICAgICAgICAgcHJpbWFyeVNpZGVSYWRpYXRpb24gPSAxMDA7XHJcbiAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSA2MDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucm9vZl9kaXJlY3Rpb24gPT0gJ1NZRE9TVCAxJykgey8vc291dGhlYXN0XHJcbiAgICAgICAgICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gOTI7XHJcbiAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSA2NDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucm9vZl9kaXJlY3Rpb24gPT0gJ1NZRE9TVCAyJykgey8vc291dGhlYXN0XHJcbiAgICAgICAgICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gODQ7XHJcbiAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSA2ODtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucm9vZl9kaXJlY3Rpb24gPT0gJ09TVCAxJykgey8vc291dGhlYXN0XHJcbiAgICAgICAgICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gNzI7XHJcbiAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSA4NDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucm9vZl9kaXJlY3Rpb24gPT0gJ09TVCAyJykgey8vc291dGhlYXN0XHJcbiAgICAgICAgICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gNzY7XHJcbiAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSA4NDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwcmltYXJ5U2lkZVJhZGlhdGlvbiA9PSAnMTAwJykge1xyXG4gICAgICAgICAgICBjb2xvciA9ICcjRTg5NjAwJztcclxuICAgICAgICB9IGVsc2UgaWYgKHByaW1hcnlTaWRlUmFkaWF0aW9uID09ICc5NicpIHtcclxuICAgICAgICAgICAgY29sb3IgPSAnI0ZGQTUwMCc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwcmltYXJ5U2lkZVJhZGlhdGlvbiA9PSAnOTInKSB7XHJcbiAgICAgICAgICAgIGNvbG9yID0gJyNGRkFEMTcnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocHJpbWFyeVNpZGVSYWRpYXRpb24gPT0gJzg4Jykge1xyXG4gICAgICAgICAgICBjb2xvciA9ICcjRkZCNTJFJztcclxuICAgICAgICB9IGVsc2UgaWYgKHByaW1hcnlTaWRlUmFkaWF0aW9uID09ICc4NCcpIHtcclxuICAgICAgICAgICAgY29sb3IgPSAnI0ZGQkQ0NSc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwcmltYXJ5U2lkZVJhZGlhdGlvbiA9PSAnNzYnKSB7XHJcbiAgICAgICAgICAgIGNvbG9yID0gJyNGRkM1NUMnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocHJpbWFyeVNpZGVSYWRpYXRpb24gPT0gJzcyJykge1xyXG4gICAgICAgICAgICBjb2xvciA9ICcjRkZDRDczJztcclxuICAgICAgICB9IGVsc2UgaWYgKHByaW1hcnlTaWRlUmFkaWF0aW9uID09ICc2OCcpIHtcclxuICAgICAgICAgICAgY29sb3IgPSAnI0ZGRDY4Qic7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwcmltYXJ5U2lkZVJhZGlhdGlvbiA9PSAnNjQnKSB7XHJcbiAgICAgICAgICAgIGNvbG9yID0gJyNGRkRFQTInO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocHJpbWFyeVNpZGVSYWRpYXRpb24gPT0gJzYwJykge1xyXG4gICAgICAgICAgICBjb2xvciA9ICcjRkZFNkI5JztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPT0gJzEwMCcpIHtcclxuICAgICAgICAgICAgc2NvbG9yID0gJyNFODk2MDAnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiA9PSAnOTYnKSB7XHJcbiAgICAgICAgICAgIHNjb2xvciA9ICcjRkZBNTAwJztcclxuICAgICAgICB9IGVsc2UgaWYgKHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPT0gJzkyJykge1xyXG4gICAgICAgICAgICBzY29sb3IgPSAnI0ZGQUQxNyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID09ICc4OCcpIHtcclxuICAgICAgICAgICAgc2NvbG9yID0gJyNGRkI1MkUnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiA9PSAnODQnKSB7XHJcbiAgICAgICAgICAgIHNjb2xvciA9ICcjRkZCRDQ1JztcclxuICAgICAgICB9IGVsc2UgaWYgKHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPT0gJzc2Jykge1xyXG4gICAgICAgICAgICBzY29sb3IgPSAnI0ZGQzU1Qyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID09ICc3MicpIHtcclxuICAgICAgICAgICAgc2NvbG9yID0gJyNGRkNENzMnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiA9PSAnNjgnKSB7XHJcbiAgICAgICAgICAgIHNjb2xvciA9ICcjRkZENjhCJztcclxuICAgICAgICB9IGVsc2UgaWYgKHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPT0gJzY0Jykge1xyXG4gICAgICAgICAgICBzY29sb3IgPSAnI0ZGREVBMic7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID09ICc2MCcpIHtcclxuICAgICAgICAgICAgc2NvbG9yID0gJyNGRkU2QjknO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNSBkaXJlY3Rpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8SG9yaXpvbnRhbCBoYW5kbGVDbGljaz17dGhpcy5wcm9wcy5zY3JvbGxhYmxlfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgY29sLXNtLTEyIGJvcmRlci1ib3ggcHgyIG1iMiBzbS1tYjAgbmV3c1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbGMtcm9vZiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBteC1hdXRvIG10MlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2FsYy1yb29mLWRpcmVjdGlvbiBjYWxjLXJvb2YtZGlyZWN0aW9uLS1ub3J0aCBoNCB0b3AtMCB0ZXh0LWJsdWUgYm9sZCBcIj5OPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2FsYy1yb29mLWRpcmVjdGlvbiBjYWxjLXJvb2YtZGlyZWN0aW9uLS1zb3V0aCBoNCBib3R0b20tMCB0ZXh0LWJsdWUgYm9sZFwiPlM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjYWxjLXJvb2YtZGlyZWN0aW9uIGNhbGMtcm9vZi1kaXJlY3Rpb24tLXdlc3QgaDQgbGVmdC0wIHRleHQtYmx1ZSBib2xkIHdlc3RcIj5XPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY2FsYy1yb29mLWRpcmVjdGlvbiBjYWxjLXJvb2YtZGlyZWN0aW9uLS1lYXN0IGg0IHJpZ2h0LTAgdGV4dC1ibHVlIGJvbGQgZWFzdFwiPkU8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPGltZyBjbGFzc05hbWU9XCJjYWxjLXJvb2YtaW1nIGpzLWNhbGMtcm9vZi1pbWdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz1cImh0dHBzOi8vd3d3LnV0ZWxsdXMuc2Uvd3AtY29udGVudC90aGVtZXMvdXRlbGx1cy9pbWFnZXMvcm9vZi5zdmdcIiBhbHQ9XCJyb29mXCIgc3R5bGU9e3sgdHJhbnNmb3JtOiBgcm90YXRlKCR7dGhpcy5wcm9wcy5kaXJlY3Rpb259ZGVnKWAgfX0gLz4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwiZGlyZWN0aW9ucy1saXN0XCIgc3R5bGU9e3sgdHJhbnNmb3JtOiBgcm90YXRlKCR7dGhpcy5wcm9wcy5kaXJlY3Rpb259ZGVnKWAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIlVwcGVyLWxpc3RcIiBzdHlsZT17eyBiYWNrZ3JvdW5kOiBgJHtzY29sb3J9YCB9fT57c2Vjb25kYXJ5U2lkZVJhZGlhdGlvbn08L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJsb3dlci1saXN0XCIgc3R5bGU9e3sgYmFja2dyb3VuZDogYCR7Y29sb3J9YCB9fT57cHJpbWFyeVNpZGVSYWRpYXRpb259PC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IERyb3BBcmVhOyIsIm1vZHVsZS5leHBvcnRzPXtcInVybFwiOlwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL1wiLFwibHRfNzBcIjoyMjAsXCJndF83MF9ndF8xMDAwXCI6MTkwLFwiZ3RfMTAwMFwiOjEwMH1cclxuIiwiXHJcbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmNvbnN0IG1hcHN0eWxlID0ge1xyXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgaGVpZ2h0OiBcIjQwMHB4XCJcclxufVxyXG5cclxuY2xhc3MgQ29udGFjdCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKVxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIHRpbWU6IFwiXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29udGFjdGRhdGUoZXZlbnQpIHtcclxuICAgICAgICBhbGVydCh0aGlzLnJlZnMuZ29vZ2xlSW5wdXQudmFsdWUpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBkYXRlOiBldmVudC50YXJnZXQubmFtZVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29udGFjdHRpbWUoZXZlbnQpIHtcclxuICAgICAgICBhbGVydChldmVudC50YXJnZXQubmFtZSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHRpbWU6IGV2ZW50LnRhcmdldC5uYW1lXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBkYXRldGltZXNlcnZpY2UodmFsZGF0ZSwgdmFsdGltZSwgdmFsZW1haWwpIHtcclxuICAgICAgICB2YXIgdmFsZW1haWwgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlcmRhdGFcIikpLmVtYWlsO1xyXG4gICAgICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9rZW5cIik7XHJcbiAgICAgICAgdmFyIHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgIHZhbGRhdGU6IHZhbGRhdGUsXHJcbiAgICAgICAgICAgIHZhbHRpbWU6IHZhbHRpbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiB2YWxlbWFpbFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZmV0Y2gobWFpbnVybC51cmwgKyAndXNlcnMvY29ubmVjdHRpbWVzJywge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxyXG4gICAgICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxyXG4gICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LUhlYWRlcnNcIjogXCIqXCIsXHJcbiAgICAgICAgICAgICAgICBcIkFjY2Vzcy1Db250cm9sLVJlcXVlc3QtTWV0aG9kXCI6IFwiKlwiLFxyXG4gICAgICAgICAgICB9LCBib2R5OiAnanNvbj0nICsgSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkgKyAnJnRva2VuPScgKyB0b2tlblxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSA0MDApIHtcclxuICAgICAgICAgICAgICAgICAgICBtYWluLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uY2VlcnJvcjogZGF0YS5tZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJkdGFhc2F2ZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBjb250YWN0ZnVuYyhldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5kYXRldGltZXNlcnZpY2UodGhpcy5yZWZzLmRhdGVpbnB1dC52YWx1ZSwgdGhpcy5yZWZzLmdvb2dsZUlucHV0LnZhbHVlKVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKDxkaXYgaWQ9XCJjb250YWN0dXNcIiAgPlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwiYWJvdXR1cy1pbWFnZVwiPjxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIGFib3V0X3R4dFwiPjxoMj5Db250YWN0IHVzPC9oMj48cD5Db250cmFyeSB0byBwb3B1bGFyIGJlbGllZiwgTG9yZW0gSXBzdW0gaXMgbm90IHNpbXBseSByYW5kb20gdGV4dC4gPC9wPlxyXG4gICAgICAgICAgICAgICAgPHA+Q29udHJhcnkgdG8gcG9wdWxhciBiZWxpZWYsIExvcmVtIElwc3VtIGlzIG5vdCBzaW1wbHkgcmFuZG9tIHRleHQuIDwvcD5cclxuICAgICAgICAgICAgICAgIDxwPkNvbnRyYXJ5IHRvIHBvcHVsYXIgYmVsaWVmLCBMb3JlbSBJcHN1bSBpcyBub3Qgc2ltcGx5IHJhbmRvbSB0ZXh0LiA8L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PjwvZGl2PlxyXG4gICAgICAgICAgICA8c2VjdGlvbj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImNvbnRhY3R1cy10ZXh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMiA+SGVhZDwvaDI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoND5Db250cmFyeSB0byBwb3B1bGFyIGJlbGllZiwgTG9yZW0gSXBzdW0gaXMgbm90IHNpbXBseSByYW5kb20gdGV4dDwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCA+Q29udHJhcnkgdG8gcG9wdWxhciBiZWxpZWYsIExvcmVtIElwc3VtIGlzIG5vdCBzaW1wbHkgcmFuZG9tIHRleHQ8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQgPkNvbnRyYXJ5IHRvIHBvcHVsYXIgYmVsaWVmLCBMb3JlbSBJcHN1bSBpcyBub3Qgc2ltcGx5IHJhbmRvbSB0ZXh0PC9oND5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L3NlY3Rpb24+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+PGgzID5GaW5kIHVzPC9oMz48L2Rpdj5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxpZnJhbWUgc3JjPVwiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL2VtYmVkP3BiPSExbTE4ITFtMTIhMW0zITFkMzExMi4zOTc1NzM2OTUwOCEyZDI1LjQyNjgwNjMyMjQxOTY3NiEzZDU5LjQ0NjE1MDU0Nzc3MzcxITJtMyExZjAhMmYwITNmMCEzbTIhMWkxMDI0ITJpNzY4ITRmMTMuMSEzbTMhMW0yITFzMHg0NjkyZmM1OTZiMzhiNGUxJTNBMHhjNTYwMmExYjJhNjc4YjQyITJzQnVpbGRpbmcrTWF0ZXJpYWxzK2thbHVwbHVzITVlMCEzbTIhMXNlbiEyc2luITR2MTUxOTEwMzYwMTk4NVwiIHN0eWxlPXttYXBzdHlsZX0gPjwvaWZyYW1lPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj4pXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbnRhY3QiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcclxuaW1wb3J0IFN0ZXBwZXIgZnJvbSAncmVhY3Qtc3RlcHBlci1ob3Jpem9udGFsJztcclxuXHJcbmNsYXNzIENTdGVwcGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuXHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RlcHMgPSBbe1xyXG4gICAgICBpbWFnZTogXCIuL2ltZy9tYXAucG5nXCIsXHJcbiAgICAgIG5hbWU6IFwiTWFya2VyYSB1dCBkaXR0IHRha1wiLFxyXG4gICAgICBhcnJvdzogXCJmYSBmYS1hbmdsZS1kb3VibGUtcmlnaHQgZmEtM3ggdGV4dC1yaWdodFwiLFxyXG4gICAgICBzdGVwaW5kZXg6IDFcclxuXHJcbiAgICB9LFxyXG4gICAgLy8ge1xyXG4gICAgLy8gICBpbWFnZTogXCIuL2ltZy9zdHlsZS5wbmdcIixcclxuICAgIC8vICAgbmFtZTogXCJWw6RsaiBkaW4gdGFrc3RpbFwiLFxyXG4gICAgLy8gICBhcnJvdzogXCJmYSBmYS1hbmdsZS1kb3VibGUtcmlnaHQgZmEtM3ggdGV4dC1yaWdodFwiLFxyXG4gICAgLy8gICBzdGVwaW5kZXg6IDJcclxuXHJcblxyXG4gICAgLy8gfSxcclxuICAgIHtcclxuICAgICAgaW1hZ2U6IFwiLi9pbWcvbWF0ZXJpYWwucG5nXCIsXHJcbiAgICAgIG5hbWU6IFwiVsOkbGogbWF0ZXJpYWxcIixcclxuICAgICAgYXJyb3c6IFwiZmEgZmEtYW5nbGUtZG91YmxlLXJpZ2h0IGZhLTN4IHRleHQtcmlnaHRcIixcclxuICAgICAgc3RlcGluZGV4OiAzXHJcblxyXG5cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGltYWdlOiBcIi4vaW1nL2VzdGltYXRlLnBuZ1wiLFxyXG4gICAgICBuYW1lOiBcIlByaXN1cHBza2F0dG5pbmdcIixcclxuICAgICAgYXJyb3c6IFwiXCIsXHJcbiAgICAgIHN0ZXBpbmRleDogNFxyXG5cclxuXHJcbiAgICB9XVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPFN0ZXBwZXIgc3RlcHM9e1t7IHRpdGxlOiAnTWFwJyB9LCB7IHRpdGxlOiAnU2xvcGUnIH0sIHsgdGl0bGU6ICdNYXRlcmlhbCcgfSwgeyB0aXRsZTogJ0VzdGltYXRpb24nIH1dfSBhY3RpdmVTdGVwPXt0aGlzLnByb3BzLnN0ZXBpbmRleH0gdGl0bGVUb3A9XCJIaVwiIC8+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3Qgc2VsZWN0Y29sb3IgPSB7XHJcbiAgY29sb3I6IFwiIzVjYjg1Y1wiLFxyXG4gIGJvcmRlcjogeyBib3JkZXI6IFwiMnB4IHNvbGlkIHJnYigxMCw4MywxNTYpXCIsIGJhY2tncm91bmRDb2xvcjogJyNjM2UwY2UnIH0sXHJcbiAgdG9wYm9yZGVyOiB7IGJvcmRlclRvcDogXCIycHggc29saWQgcmdiKDEwLDgzLDE1NilcIiB9LFxyXG59XHJcblxyXG5jb25zdCBjdXJyZW50c2VsZWN0Y29sb3IgPSB7XHJcbiAgY29sb3I6IFwiIzVjYjg1Y1wiLFxyXG4gIGJvcmRlcjogeyBib3JkZXI6IFwiMnB4IHNvbGlkIHJnYigxMCw4MywxNTYpXCIsIGJhY2tncm91bmRDb2xvcjogJ3JnYigxMCwgODMsIDE1NiknIH0sXHJcbiAgdG9wYm9yZGVyOiB7IGJvcmRlclRvcDogXCIycHggc29saWQgcmdiKDEwLDgzLDE1NilcIiB9LFxyXG59XHJcblxyXG5jb25zdCB1bnNlbGVjdCA9IHtcclxuICBjb2xvcjogXCIjMDAwXCJcclxufVxyXG5cclxuY2xhc3MgU3RlcHMgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0ZXBzID0gW3tcclxuICAgICAgaW1hZ2U6IFwiLi9pbWcvbWFwLnBuZ1wiLFxyXG4gICAgICBuYW1lOiBcIk1hcmtlcmEgdXQgZGl0dCB0YWtcIixcclxuICAgICAgYXJyb3c6IFwiZmEgZmEtYW5nbGUtZG91YmxlLXJpZ2h0IGZhLTN4IHRleHQtcmlnaHRcIixcclxuICAgICAgc3RlcGluZGV4OiAxXHJcblxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgaW1hZ2U6IFwiLi9pbWcvcHJvcGVydHktaW5mb3JtYXRpb24ucG5nXCIsXHJcbiAgICAgIG5hbWU6IFwiRmFzdGlnaGV0c2luZm9ybWF0aW9uXCIsXHJcbiAgICAgIGFycm93OiBcImZhIGZhLWFuZ2xlLWRvdWJsZS1yaWdodCBmYS0zeCB0ZXh0LXJpZ2h0XCIsXHJcbiAgICAgIHN0ZXBpbmRleDogM1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgaW1hZ2U6IFwiLi9pbWcvbWF0ZXJpYWwucG5nXCIsXHJcbiAgICAgIG5hbWU6IFwiVGFraW5mb3JtYXRpb25cIixcclxuICAgICAgYXJyb3c6IFwiZmEgZmEtYW5nbGUtZG91YmxlLXJpZ2h0IGZhLTN4IHRleHQtcmlnaHRcIixcclxuICAgICAgc3RlcGluZGV4OiA0XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpbWFnZTogXCIuL2ltZy9lbGVjdHJpY2l0eS5wbmdcIixcclxuICAgICAgbmFtZTogXCIgRWxmw7ZyYnJ1a25pbmcgJiBzw6RrcmluZyAgXCIsXHJcbiAgICAgIGFycm93OiBcImZhIGZhLWFuZ2xlLWRvdWJsZS1yaWdodCBmYS0zeCB0ZXh0LXJpZ2h0XCIsXHJcbiAgICAgIHN0ZXBpbmRleDogNVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgaW1hZ2U6IFwiLi9pbWcvZWxlY3RyaWNpdHkucG5nXCIsXHJcbiAgICAgIG5hbWU6IFwiIFNvbHBhbmVsICYgQmF0dGVyaSAgXCIsXHJcbiAgICAgIGFycm93OiBcImZhIGZhLWFuZ2xlLWRvdWJsZS1yaWdodCBmYS0zeCB0ZXh0LXJpZ2h0XCIsXHJcbiAgICAgIHN0ZXBpbmRleDogNlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgaW1hZ2U6IFwiLi9pbWcvZXN0aW1hdGUucG5nXCIsXHJcbiAgICAgIG5hbWU6IFwiUHJpc3VwcHNrYXR0bmluZyBmw6RyZGlnXCIsXHJcbiAgICAgIGFycm93OiBcIlwiLFxyXG4gICAgICBzdGVwaW5kZXg6IDdcclxuICAgIH1dXHJcbiAgfVxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCIgPlxyXG4gICAgICAgIDxiciAvPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWQtc3RlcHBlci1ob3Jpem9udGFsIG9yYW5nZVwiPlxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnN0ZXBzLm1hcCgoZGF0YSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICB2YXIgc3RlcHN0eWxlID0gKHRoaXMucHJvcHMuc3RlcGluZGV4ID4gZGF0YS5zdGVwaW5kZXgpID8gc2VsZWN0Y29sb3IgOiAodGhpcy5wcm9wcy5zdGVwaW5kZXggPT09IGRhdGEuc3RlcGluZGV4KSA/IGN1cnJlbnRzZWxlY3Rjb2xvciA6IHVuc2VsZWN0O1xyXG4gICAgICAgICAgICAgIHJldHVybiAoPGRpdiBjbGFzc05hbWU9XCJtZC1zdGVwIGFjdGl2ZSBlZGl0YWJsZVwiIGtleT17aW5kZXh9ICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kLXN0ZXAtY2lyY2xlXCIgc3R5bGU9e3N0ZXBzdHlsZS5ib3JkZXJ9PlxyXG4gICAgICAgICAgICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17ZGF0YS5pbWFnZX0gYWx0PXtkYXRhLm5hbWV9IGNsYXNzTmFtZT1cImltZy1yZXNwb25zaXZlIHN0ZXBwZXItaWNvblwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZC1zdGVwLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInN0ZXBzdGV4dFwiIHN0eWxlPXtzdGVwc3R5bGV9PntkYXRhLm5hbWV9PC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kLXN0ZXAtYmFyLWxlZnRcIiBzdHlsZT17c3RlcHN0eWxlLnRvcGJvcmRlcn0gPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZC1zdGVwLWJhci1yaWdodFwiIHN0eWxlPXtzdGVwc3R5bGUudG9wYm9yZGVyfSAgPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PilcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTdGVwczsiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgQXBwIGZyb20gJy4vbWFwY29tcG9uZW50JztcclxuaW1wb3J0IFN0ZXBzIGZyb20gJy4vY3N0ZXBwZXInO1xyXG5pbXBvcnQgTWF0ZXJpYWxDb21wb25lbnQgZnJvbSAnLi9tYXRlcmlhbENvbXBvbmVudCc7XHJcbmltcG9ydCBBcmVhZXN0aW1hdGUgZnJvbSAnLi9hcmVhZXN0aW1hdGUnO1xyXG5pbXBvcnQgUm9vZlF1ZXN0aW9ucyBmcm9tICcuL3Jvb2ZfcXVlc3Rpb25zJztcclxuaW1wb3J0IE1hdGVyaWFsUXVlc3Rpb25zIGZyb20gJy4vbWF0ZXJpYWxfcXVlc3Rpb25zJztcclxuaW1wb3J0IExvZ2luRXN0aW1hdGUgZnJvbSAnLi9sb2dpbkVzdGltYXRpb24nO1xyXG5pbXBvcnQgUGFuZWxUeXBlcyBmcm9tICcuL3BhbmVsVHlwZXMnO1xyXG5pbXBvcnQgUHJvdmlkZXIgZnJvbSAnLi9jb21wb25lbnRzL0NvbnRleHRQcm92aWRlcic7XHJcblxyXG5jb25zdCBzdHlsZSA9IHtcclxuICBtYXJnaW5Ub3A6IDAsXHJcbiAgbWFyZ2luQm90dG9tOiAzMCxcclxufVxyXG5cclxuY2xhc3MgTWFpbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGNvbXBvbmVudGluZGV4OiAxLFxyXG4gICAgICBmaW5pc2hlZDogZmFsc2UsXHJcbiAgICAgIHJvb2ZhcmVhOiAwLFxyXG4gICAgICByb29mc3R5bGU6IFwiXCIsXHJcbiAgICAgIG1hdGVyaWFsOiBcIlwiLFxyXG4gICAgICBtYXRlcmlhbENvc3Q6IDAsXHJcbiAgICAgIHJvb2ZzdHlsZWNvc3Q6IDAsXHJcbiAgICAgIFJvb2ZhZGRyZXNzOiBcIlwiLFxyXG4gICAgICByb29mYWRyZXNzOiBcIlwiLFxyXG4gICAgICBjb29yZGluYXRlczogXCJcIixcclxuICAgICAgZV9jb25zdW1wdGlvbjogJycsXHJcbiAgICAgIHBvd2VyOiAnJyxcclxuICAgICAgbG9jYXRpb246ICcnLFxyXG4gICAgICBwYW5lbDogJycsXHJcbiAgICAgIGJhdHRlcnk6ICcnLFxyXG4gICAgICBwYW5lbHNDb3VudDogJycsXHJcbiAgICAgIHN1cmZhY2VEaXJlY3Rpb246ICcnLFxyXG4gICAgICBhbm51YWxvdXRwdXQ6ICcnXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XHJcbiAgICB2YXIgaW5kZXggPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjb21wb25lbnRpbmRleCcpO1xyXG4gICAgaWYgKGluZGV4ICYmIGluZGV4ICE9PSAnJyAmJiBpbmRleCAhPT0gJ3VuZGVmaW5lZCcgJiYgaW5kZXggIT09ICdudWxsJykge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBjb21wb25lbnRpbmRleDogaW5kZXgsXHJcbiAgICAgICAgbG9jYXRpb246ICcnXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY29tcG9uZW50aW5kZXgnLCAxKTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgY29tcG9uZW50aW5kZXg6IDEsXHJcbiAgICAgICAgbG9jYXRpb246ICcnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXJlYTEodiwgYWRkcmVzcywgY29vcmRpbmF0ZXMpIHtcclxuICAgIHZhciBqc29uID0gY29vcmRpbmF0ZXM7XHJcbiAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShqc29uKTtcclxuICAgIHZhciBjb29yZGluYXRlID0gb2JqLm1hcChmdW5jdGlvbiAobywgdikge1xyXG4gICAgICByZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KG8pKTtcclxuICAgIH0pO1xyXG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY29vcmRpbmF0ZXMnLCBjb29yZGluYXRlLnRvU3RyaW5nKCkpO1xyXG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnUm9vZmFkZHJlc3MnLCBhZGRyZXNzKTtcclxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Jvb2ZhcmVhJywgdik7XHJcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjb21wb25lbnRpbmRleCcsIDIpO1xyXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi8jc3RlZzJcIjtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBsb2NhdGlvbjogJy8jc3RlZzInLFxyXG4gICAgICBjb21wb25lbnRpbmRleDogMixcclxuICAgICAgcm9vZmFyZWE6IHYsXHJcbiAgICAgIFJvb2ZhZGRyZXNzOiBhZGRyZXNzLFxyXG4gICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXNcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBxdXNldGlvbnN2YWwodHlwZSwgZmxvb3IsIGFuZ2xlKSB7XHJcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwcm9wZXJ0eV90eXBlJywgdHlwZSk7XHJcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdmbG9vcnMnLCBmbG9vcik7XHJcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdyb29mX3BpdGNoJywgYW5nbGUpO1xyXG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY29tcG9uZW50aW5kZXgnLCAzKTtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvI3N0ZWczXCJcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBjb21wb25lbnRpbmRleDogMyxcclxuICAgICAgcHJvcGVydHlfdHlwZTogdHlwZSxcclxuICAgICAgZmxvb3JzOiBmbG9vcixcclxuICAgICAgcm9vZl9waXRjaDogYW5nbGUsXHJcbiAgICAgIGxvY2F0aW9uOiBcIi8jc3RlZzNcIlxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIG1hdGVyaWFsdmFsKHZhbHVlLCBjb3N0LCBkaXJlY3Rpb24pIHtcclxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ21hdGVyaWFsQ29zdCcsIGNvc3QpO1xyXG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncm9vZm1hdGVyaWFsJywgdmFsdWUpO1xyXG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc3VyZmFjZURpcmVjdGlvbicsIGRpcmVjdGlvbik7XHJcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjb21wb25lbnRpbmRleCcsIDQpO1xyXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi8jc3RlZzRcIlxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGNvbXBvbmVudGluZGV4OiA0LFxyXG4gICAgICByb29mbWF0ZXJpYWw6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZtYXRlcmlhbCcpLFxyXG4gICAgICBtYXRlcmlhbENvc3Q6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ21hdGVyaWFsQ29zdCcpLFxyXG4gICAgICBzdXJmYWNlRGlyZWN0aW9uOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzdXJmYWNlRGlyZWN0aW9uJyksXHJcbiAgICAgIGxvY2F0aW9uOiBcIi8jc3RlZzRcIlxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIG1hdHF1ZXN0aW9udmFsKHR5cGUsIGZsb29yKSB7XHJcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdlX2NvbnN1bXB0aW9uJywgdHlwZSk7XHJcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwb3dlcicsIGZsb29yKTtcclxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2NvbXBvbmVudGluZGV4JywgNSk7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiLyNzdGVnNVwiO1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGNvbXBvbmVudGluZGV4OiA1LFxyXG4gICAgICBlX2NvbnN1bXB0aW9uOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdlX2NvbnN1bXB0aW9uJyksXHJcbiAgICAgIHBvd2VyOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdwb3dlcicpLFxyXG4gICAgICBsb2NhdGlvbjogXCIvI3N0ZWc1XCJcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBwYW5lbFR5cGVzKHBhbmVsLCBiYXR0ZXJ5LCBjb3VudCwgcGFja2V0TmFtZSwgYW5udWFsb3V0cHV0KSB7XHJcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYW5lbCcsIHBhbmVsKTtcclxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2JhdHRlcnknLCBiYXR0ZXJ5KTtcclxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3BhbmVsc0NvdW50JywgY291bnQpO1xyXG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncGFja2V0TmFtZScsIHBhY2tldE5hbWUpO1xyXG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYW5udWFsb3V0cHV0JywgYW5udWFsb3V0cHV0KTtcclxuICAgIGlmICh0aGlzLnByb3BzLmxvZ2lubW9kZSkge1xyXG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjb21wb25lbnRpbmRleCcsIDcpO1xyXG4gICAgICB0aGlzLmFyZWFFc3QgPSB0aGlzLmFyZWFFc3RpbWV0YWNrLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuYXJlYUVzdCh0aGlzKTtcclxuICAgICAgY29uc29sZS5sb2coc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnc29sYXJJbmNlbnRpdmVzJykpXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGNvbXBvbmVudGluZGV4OiA3LFxyXG4gICAgICAgIGVfY29uc3VtcHRpb246IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2VfY29uc3VtcHRpb24nKSxcclxuICAgICAgICBwb3dlcjogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncG93ZXInKSxcclxuICAgICAgICByb29mbWF0ZXJpYWw6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZtYXRlcmlhbCcpLFxyXG4gICAgICAgIG1hdGVyaWFsQ29zdDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbWF0ZXJpYWxDb3N0JyksXHJcbiAgICAgICAgUm9vZmFkZHJlc3M6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ1Jvb2ZhZGRyZXNzJyksXHJcbiAgICAgICAgY29vcmRpbmF0ZXM6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2Nvb3JkaW5hdGVzJyksXHJcbiAgICAgICAgcm9vZmFyZWE6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZhcmVhJyksXHJcbiAgICAgICAgcHJvcGVydHlfdHlwZTogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncHJvcGVydHlfdHlwZScpLFxyXG4gICAgICAgIGZsb29yczogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZmxvb3JzJyksXHJcbiAgICAgICAgcm9vZl9waXRjaDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncm9vZl9waXRjaCcpLFxyXG4gICAgICAgIHBhbmVsOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdwYW5lbCcpLFxyXG4gICAgICAgIGJhdHRlcnk6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2JhdHRlcnknKSxcclxuICAgICAgICBwYW5lbHNDb3VudDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncGFuZWxzQ291bnQnKSxcclxuICAgICAgICBhbm51YWxvdXRwdXQ6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FubnVhbG91dHB1dCcpLFxyXG4gICAgICAgICAgICAgICAgICBiYXR0ZXJ5MSA6c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYmF0dGVyeScpLFxyXG4gICAgICAgICAgICAgICAgICBzb2xhckluY2VudGl2ZXMgOnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3NvbGFySW5jZW50aXZlcycpLFxyXG4gICAgICAgICAgICAgICAgICBiYXR0ZXJ5SW5jZW50dmllcyA6c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYmF0dGJhdHRlcnlJbmNlbnRpdmVzZXInKSxcclxuICAgICAgICAgICAgICAgICAgZmluYWxDb3N0IDpzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdmaW5hbF9jb3N0JylcclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2NvbXBvbmVudGluZGV4JywgNik7XHJcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvI3N0ZWc2XCIsXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBjb21wb25lbnRpbmRleDogNixcclxuICAgICAgICAgIGVfY29uc3VtcHRpb246IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2VfY29uc3VtcHRpb24nKSxcclxuICAgICAgICAgIHBvd2VyOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdwb3dlcicpLFxyXG4gICAgICAgICAgcm9vZm1hdGVyaWFsOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdyb29mbWF0ZXJpYWwnKSxcclxuICAgICAgICAgIG1hdGVyaWFsQ29zdDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbWF0ZXJpYWxDb3N0JyksXHJcbiAgICAgICAgICBSb29mYWRkcmVzczogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnUm9vZmFkZHJlc3MnKSxcclxuICAgICAgICAgIGNvb3JkaW5hdGVzOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjb29yZGluYXRlcycpLFxyXG4gICAgICAgICAgcm9vZmFyZWE6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZhcmVhJyksXHJcbiAgICAgICAgICBwcm9wZXJ0eV90eXBlOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdwcm9wZXJ0eV90eXBlJyksXHJcbiAgICAgICAgICBmbG9vcnM6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2Zsb29ycycpLFxyXG4gICAgICAgICAgcm9vZl9waXRjaDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncm9vZl9waXRjaCcpLFxyXG4gICAgICAgICAgcGFuZWw6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3BhbmVsJyksXHJcbiAgICAgICAgICBiYXR0ZXJ5OiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdiYXR0ZXJ5JyksXHJcbiAgICAgICAgICBwYW5lbHNDb3VudDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncGFuZWxzQ291bnQnKSxcclxuICAgICAgICAgIHJvb2ZBcmVhUGt0OiBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZBcmVhUGt0JykpLFxyXG4gICAgICAgICAgbG9jYXRpb246IFwiLyNzdGVnNlwiXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFyZWFFc3RpbWV0YWNrKCkge1xyXG5cclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvI3RhY2tcIjtcclxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2NvbXBvbmVudGluZGV4JywgNyk7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgY29tcG9uZW50aW5kZXg6IDYsXHJcbiAgICAgIGxvY2F0aW9uOiBcIi8jdGFja1wiLFxyXG4gICAgICByb29mbWF0ZXJpYWw6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZtYXRlcmlhbCcpLFxyXG4gICAgICBtYXRlcmlhbENvc3Q6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ21hdGVyaWFsQ29zdCcpLFxyXG4gICAgICBSb29mYWRkcmVzczogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnUm9vZmFkZHJlc3MnKSxcclxuICAgICAgY29vcmRpbmF0ZXM6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2Nvb3JkaW5hdGVzJyksXHJcbiAgICAgIHJvb2ZzdHlsZTogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncm9vZnN0eWxlJyksXHJcbiAgICAgIHJvb2ZzdHlsZWNvc3Q6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZzdHlsZWNvc3QnKSxcclxuICAgICAgcm9vZmFyZWE6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZhcmVhJyksXHJcbiAgICAgIHByb3BlcnR5X3R5cGU6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Byb3BlcnR5X3R5cGUnKSxcclxuICAgICAgZmxvb3JzOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdmbG9vcnMnKSxcclxuICAgICAgcm9vZl9waXRjaDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncm9vZl9waXRjaCcpLFxyXG4gICAgICBiYXR0ZXJ5MSA6c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYmF0dGVyeScpLFxyXG4gICAgICBzb2xhckluY2VudGl2ZXMgOnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3NvbGFySW5jZW50aXZlcycpLFxyXG4gICAgICBiYXR0ZXJ5SW5jZW50dmllcyA6c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYmF0dGJhdHRlcnlJbmNlbnRpdmVzZXInKSxcclxuICAgICAgZmluYWxDb3N0IDpzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdmaW5hbF9jb3N0JylcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlUHJlKHZhbCkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuY29tcG9uZW50aW5kZXggPiAxKVxyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgY29tcG9uZW50aW5kZXg6IHRoaXMuc3RhdGUuY29tcG9uZW50aW5kZXggLSAxIH0pXHJcbiAgfVxyXG5cclxuICBoYW5kbGVOZXh0KCkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuZmluaXNoZWQgPT0gZmFsc2UpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgY29tcG9uZW50aW5kZXg6IHRoaXMuc3RhdGUuY29tcG9uZW50aW5kZXggKyAxLFxyXG4gICAgICAgIGZpbmlzaGVkOiB0aGlzLnN0YXRlLmNvbXBvbmVudGluZGV4ID49IDdcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0ZXB2YWwodmFsKSB7XHJcbiAgICBpZiAodmFsID09PSAxKSB7XHJcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiLyNzdGVnXCIgKyB2YWw7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2NhdGlvbjogXCIvI3N0ZWdcIiArIHZhbCwgY29tcG9uZW50aW5kZXg6IHZhbCB9KVxyXG4gICAgfVxyXG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY29tcG9uZW50aW5kZXgnLCB2YWwpO1xyXG4gIH1cclxuXHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHN3aXRjaCAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcclxuICAgICAgY2FzZSAnJzpcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjb21wb25lbnRpbmRleCcsIDEpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8ZGl2IHJlZj17KHJlZikgPT4gdGhpcy5fZGl2ID0gcmVmfT5cclxuICAgICAgICAgICAgPFN0ZXBzIHN0ZXBpbmRleD17cGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY29tcG9uZW50aW5kZXgnKSkgKyAxfSAvPlxyXG4gICAgICAgICAgICA8QXBwIGFyZWE9e3RoaXMuYXJlYTEuYmluZCh0aGlzKX0gc3RlcGluZGV4PXt0aGlzLnN0YXRlLmNvbXBvbmVudGluZGV4fSByb29mYWRkcmVzcz17KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ1Jvb2ZhZGRyZXNzJykgPT09IG51bGwpID8gdGhpcy5zdGF0ZS5Sb29mYWRkcmVzcyA6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ1Jvb2ZhZGRyZXNzJyl9IC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICAgIGNhc2UgJy8nOlxyXG4gICAgICAgIHJldHVybiAoPGRpdiByZWY9eyhyZWYpID0+IHRoaXMuX2RpdiA9IHJlZn0+XHJcbiAgICAgICAgICA8U3RlcHMgc3RlcGluZGV4PXtwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjb21wb25lbnRpbmRleCcpKSArIDF9IC8+XHJcbiAgICAgICAgICA8QXBwIGFyZWE9e3RoaXMuYXJlYTEuYmluZCh0aGlzKX0gc3RlcGluZGV4PXt0aGlzLnN0YXRlLmNvbXBvbmVudGluZGV4fSByb29mYWRkcmVzcz17KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ1Jvb2ZhZGRyZXNzJykgPT09IG51bGwpID8gdGhpcy5zdGF0ZS5Sb29mYWRkcmVzcyA6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ1Jvb2ZhZGRyZXNzJyl9IC8+XHJcbiAgICAgICAgPC9kaXY+KVxyXG4gICAgICBjYXNlICcvIyc6XHJcbiAgICAgICAgcmV0dXJuICg8ZGl2IHJlZj17KHJlZikgPT4gdGhpcy5fZGl2ID0gcmVmfT5cclxuICAgICAgICAgIDxTdGVwcyBzdGVwaW5kZXg9e3BhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2NvbXBvbmVudGluZGV4JykpICsgMX0gLz5cclxuICAgICAgICAgIDxBcHAgYXJlYT17dGhpcy5hcmVhMS5iaW5kKHRoaXMpfSBzdGVwaW5kZXg9e3RoaXMuc3RhdGUuY29tcG9uZW50aW5kZXh9IHJvb2ZhZGRyZXNzPXsoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnUm9vZmFkZHJlc3MnKSA9PT0gbnVsbCkgPyB0aGlzLnN0YXRlLlJvb2ZhZGRyZXNzIDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnUm9vZmFkZHJlc3MnKX0gLz5cclxuICAgICAgICA8L2Rpdj4pXHJcbiAgICAgIGNhc2UgJyNzdGVnMic6XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY29tcG9uZW50aW5kZXgnLCAyKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPFByb3ZpZGVyPlxyXG4gICAgICAgICAgICA8U3RlcHMgc3RlcGluZGV4PXtwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjb21wb25lbnRpbmRleCcpKSArIDF9IC8+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyLWZsdWlkIHBhbmRpbmdfbm9cIiA+XHJcbiAgICAgICAgICAgICAgPFJvb2ZRdWVzdGlvbnMgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L1Byb3ZpZGVyPlxyXG4gICAgICAgIClcclxuICAgICAgY2FzZSAnI3N0ZWczJzpcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjb21wb25lbnRpbmRleCcsIDMpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8UHJvdmlkZXI+XHJcbiAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICA8U3RlcHMgc3RlcGluZGV4PXtwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjb21wb25lbnRpbmRleCcpKSArIDF9IC8+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXItZmx1aWRcIiBzdHlsZT17c3R5bGV9ICAgPlxyXG4gICAgICAgICAgICAgICAgPE1hdGVyaWFsQ29tcG9uZW50IG1hdHZhbD17dGhpcy5tYXRlcmlhbHZhbC5iaW5kKHRoaXMpfSBiYWNrPXt0aGlzLnN0ZXB2YWwuYmluZCh0aGlzKX0gLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgIDwvUHJvdmlkZXI+XHJcbiAgICAgICAgKVxyXG4gICAgICBjYXNlICcjc3RlZzQnOlxyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2NvbXBvbmVudGluZGV4JywgNCk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxQcm92aWRlcj5cclxuICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgIDxTdGVwcyBzdGVwaW5kZXg9e3BhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2NvbXBvbmVudGluZGV4JykpICsgMX0gLz5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1mbHVpZFwiIHN0eWxlPXtzdHlsZX0gICA+XHJcbiAgICAgICAgICAgICAgICA8TWF0ZXJpYWxRdWVzdGlvbnMgbWF0cXVlc3Rpb252YWw9e3RoaXMubWF0cXVlc3Rpb252YWwuYmluZCh0aGlzKX0gYmFjaz17dGhpcy5zdGVwdmFsLmJpbmQodGhpcyl9IC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICA8L1Byb3ZpZGVyPlxyXG4gICAgICAgIClcclxuXHJcbiAgICAgIGNhc2UgJyNzdGVnNSc6XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY29tcG9uZW50aW5kZXgnLCA1KTtcclxuICAgICAgICByZXR1cm4gKDxQcm92aWRlcj5cclxuICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgPFN0ZXBzIHN0ZXBpbmRleD17cGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY29tcG9uZW50aW5kZXgnKSkgKyAxfSAvPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1mbHVpZCBzdGVnc19tYXBcIiBzdHlsZT17c3R5bGV9ICAgPlxyXG4gICAgICAgICAgICAgIDxQYW5lbFR5cGVzIHJvb2ZhcmVhPXsodGhpcy5zdGF0ZS5yb29mYXJlYSAhPSAnJyAmJiB0aGlzLnN0YXRlLnJvb2ZhcmVhICE9IDApID8gdGhpcy5zdGF0ZS5yb29mYXJlYSA6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZhcmVhJyl9IGVfY29uc3VtcHRpb249eyh0aGlzLnN0YXRlLmVfY29uc3VtcHRpb24gIT0gJycgJiYgdHlwZW9mIHRoaXMuc3RhdGUuZV9jb25zdW1wdGlvbiAhPSAndW5kZWZpbmVkJykgPyB0aGlzLnN0YXRlLmVfY29uc3VtcHRpb24gOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdlX2NvbnN1bXB0aW9uJyl9XHJcbiAgICAgICAgICAgICAgICBwYW5lbFR5cGVzPXt0aGlzLnBhbmVsVHlwZXMuYmluZCh0aGlzKX0gYmFjaz17dGhpcy5zdGVwdmFsLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICBwYW5lbD17KHRoaXMuc3RhdGUucGFuZWwgIT0gJycgJiYgdHlwZW9mIHRoaXMuc3RhdGUucGFuZWwgIT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5zdGF0ZS5wYW5lbCA6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3BhbmVsJyl9XHJcbiAgICAgICAgICAgICAgICBlX2NvbnN1bXB0aW9uPXsodGhpcy5zdGF0ZS5lX2NvbnN1bXB0aW9uICE9ICcnICYmIHR5cGVvZiB0aGlzLnN0YXRlLmVfY29uc3VtcHRpb24gIT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5zdGF0ZS5lX2NvbnN1bXB0aW9uIDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZV9jb25zdW1wdGlvbicpfVxyXG4gICAgICAgICAgICAgICAgcm9vZl9waXRjaD17KHRoaXMuc3RhdGUucm9vZl9waXRjaCAhPSAnJyAmJiB0eXBlb2YgdGhpcy5zdGF0ZS5yb29mX3BpdGNoICE9ICd1bmRlZmluZWQnKSA/IHRoaXMuc3RhdGUucm9vZl9waXRjaCA6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZfcGl0Y2gnKX1cclxuICAgICAgICAgICAgICAgIHN1cmZhY2VEaXJlY3Rpb249eyh0aGlzLnN0YXRlLnN1cmZhY2VEaXJlY3Rpb24gIT0gJycgJiYgdHlwZW9mIHRoaXMuc3RhdGUuc3VyZmFjZURpcmVjdGlvbiAhPSAndW5kZWZpbmVkJykgPyB0aGlzLnN0YXRlLnN1cmZhY2VEaXJlY3Rpb24gOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzdXJmYWNlRGlyZWN0aW9uJyl9XHJcbiAgICAgICAgICAgICAgICBwYW5lbHNDb3VudD17KHRoaXMuc3RhdGUucGFuZWxzQ291bnQgIT0gJycgJiYgdHlwZW9mIHRoaXMuc3RhdGUucGFuZWxzQ291bnQgIT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5zdGF0ZS5wYW5lbHNDb3VudCA6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3BhbmVsc0NvdW50Jyl9XHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvbj17KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ1Jvb2ZhZGRyZXNzJykgPT09IG51bGwpID8gdGhpcy5zdGF0ZS5Sb29mYWRkcmVzcyA6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ1Jvb2ZhZGRyZXNzJyl9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgIDwvUHJvdmlkZXI+KVxyXG4gICAgICBjYXNlICcjc3RlZzYnOlxyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2NvbXBvbmVudGluZGV4JywgNik7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubG9naW5tb2RlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgcmV0dXJuICg8UHJvdmlkZXI+XHJcbiAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICA8U3RlcHMgc3RlcGluZGV4PXtwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjb21wb25lbnRpbmRleCcpKSArIDF9IC8+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXItZmx1aWRcIiBzdHlsZT17c3R5bGV9PlxyXG4gICAgICAgICAgICAgICAgPExvZ2luRXN0aW1hdGVcclxuICAgICAgICAgICAgICAgICAgbG9jYXRpb249e3RoaXMuc3RhdGUubG9jYXRpb259XHJcbiAgICAgICAgICAgICAgICAgIG1hdGVyaWFsPXsodGhpcy5zdGF0ZS5yb29mbWF0ZXJpYWwgIT0gJycgJiYgdHlwZW9mIHRoaXMuc3RhdGUucm9vZm1hdGVyaWFsICE9ICd1bmRlZmluZWQnKSA/IHRoaXMuc3RhdGUucm9vZm1hdGVyaWFsIDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncm9vZm1hdGVyaWFsJyl9XHJcbiAgICAgICAgICAgICAgICAgIG1hdGVyaWFsY29zdD17KHRoaXMuc3RhdGUubWF0ZXJpYWxDb3N0ICE9ICcnICYmIHRoaXMuc3RhdGUubWF0ZXJpYWxDb3N0ICE9IDApID8gdGhpcy5zdGF0ZS5tYXRlcmlhbENvc3QgOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdtYXRlcmlhbENvc3QnKX1cclxuICAgICAgICAgICAgICAgICAgYXJlYT17KHRoaXMuc3RhdGUucm9vZmFyZWEgIT0gJycgJiYgdGhpcy5zdGF0ZS5yb29mYXJlYSAhPSAwKSA/IHRoaXMuc3RhdGUucm9vZmFyZWEgOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdyb29mYXJlYScpfVxyXG4gICAgICAgICAgICAgICAgICBsb2dlZGluPXt0aGlzLnByb3BzLmxvZ2lubW9kZX1cclxuICAgICAgICAgICAgICAgICAgYWRkcmVzcz17dGhpcy5zdGF0ZS5Sb29mYWRkcmVzcyAhPSAnJyA/IHRoaXMuc3RhdGUuUm9vZmFkZHJlc3MgOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdSb29mYWRkcmVzcycpfVxyXG4gICAgICAgICAgICAgICAgICBsb2dpbm1vZGVmdW49e3RoaXMucHJvcHMubG9naW5tb2RlZnVufVxyXG4gICAgICAgICAgICAgICAgICBjb29yZGluYXRlcz17dGhpcy5zdGF0ZS5jb29yZGluYXRlcyAhPSAnJyA/IHRoaXMuc3RhdGUuY29vcmRpbmF0ZXMgOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjb29yZGluYXRlcycpfVxyXG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0eV90eXBlPXsodGhpcy5zdGF0ZS5wcm9wZXJ0eV90eXBlICE9ICcnICYmIHR5cGVvZiB0aGlzLnN0YXRlLnByb3BlcnR5X3R5cGUgIT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5zdGF0ZS5wcm9wZXJ0eV90eXBlIDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncHJvcGVydHlfdHlwZScpfVxyXG4gICAgICAgICAgICAgICAgICBmbG9vcnM9eyh0aGlzLnN0YXRlLmZsb29ycyAhPSAnJyAmJiB0eXBlb2YgdGhpcy5zdGF0ZS5mbG9vcnMgIT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5zdGF0ZS5mbG9vcnMgOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdmbG9vcnMnKX1cclxuICAgICAgICAgICAgICAgICAgcm9vZl9waXRjaD17KHRoaXMuc3RhdGUucm9vZl9waXRjaCAhPSAnJyAmJiB0eXBlb2YgdGhpcy5zdGF0ZS5yb29mX3BpdGNoICE9ICd1bmRlZmluZWQnKSA/IHRoaXMuc3RhdGUucm9vZl9waXRjaCA6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZfcGl0Y2gnKX1cclxuICAgICAgICAgICAgICAgICAgZV9jb25zdW1wdGlvbj17KHRoaXMuc3RhdGUuZV9jb25zdW1wdGlvbiAhPSAnJyAmJiB0eXBlb2YgdGhpcy5zdGF0ZS5lX2NvbnN1bXB0aW9uICE9ICd1bmRlZmluZWQnKSA/IHRoaXMuc3RhdGUuZV9jb25zdW1wdGlvbiA6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2VfY29uc3VtcHRpb24nKX1cclxuICAgICAgICAgICAgICAgICAgcG93ZXI9eyh0aGlzLnN0YXRlLnBvd2VyICE9ICcnICYmIHR5cGVvZiB0aGlzLnN0YXRlLnBvd2VyICE9ICd1bmRlZmluZWQnKSA/IHRoaXMuc3RhdGUucG93ZXIgOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdwb3dlcicpfVxyXG4gICAgICAgICAgICAgICAgICBhcmVhRXN0aW1ldGFjaz17dGhpcy5hcmVhRXN0aW1ldGFjay5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICBzdHlsZT17dGhpcy5zdGF0ZS5yb29mc3R5bGV9XHJcbiAgICAgICAgICAgICAgICAgIHJvb2ZzdHlsZWNvc3Q9e3RoaXMuc3RhdGUucm9vZnN0eWxlY29zdH1cclxuICAgICAgICAgICAgICAgICAgcGFuZWw9eyh0aGlzLnN0YXRlLnBhbmVsICE9ICcnICYmIHR5cGVvZiB0aGlzLnN0YXRlLnBhbmVsICE9ICd1bmRlZmluZWQnKSA/IHRoaXMuc3RhdGUucGFuZWwgOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdwYW5lbCcpfVxyXG4gICAgICAgICAgICAgICAgICBiYXR0ZXJ5PXsodGhpcy5zdGF0ZS5iYXR0ZXJ5ICE9ICcnICYmIHR5cGVvZiB0aGlzLnN0YXRlLmJhdHRlcnkgIT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5zdGF0ZS5iYXR0ZXJ5IDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYmF0dGVyeScpfVxyXG4gICAgICAgICAgICAgICAgICBwYW5lbHNDb3VudD17KHRoaXMuc3RhdGUucGFuZWxzQ291bnQgIT0gJycgJiYgdHlwZW9mIHRoaXMuc3RhdGUucGFuZWxzQ291bnQgIT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5zdGF0ZS5wYW5lbHNDb3VudCA6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3BhbmVsc0NvdW50Jyl9XHJcbiAgICAgICAgICAgICAgICAgIHN1cmZhY2VEaXJlY3Rpb249eyh0aGlzLnN0YXRlLnN1cmZhY2VEaXJlY3Rpb24gIT0gJycgJiYgdHlwZW9mIHRoaXMuc3RhdGUuc3VyZmFjZURpcmVjdGlvbiAhPSAndW5kZWZpbmVkJykgPyB0aGlzLnN0YXRlLnN1cmZhY2VEaXJlY3Rpb24gOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzdXJmYWNlRGlyZWN0aW9uJyl9XHJcbiAgICAgICAgICAgICAgICAgIHJvb2ZBcmVhUGt0PSB7KEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncm9vZkFyZWFQa3QnKSkpfVxyXG4gICAgICAgICAgICAgICAgICBwYW5lbF9jb3N0PSB7cGFyc2VJbnQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncGFuZWxfY29zdCcpKX1cclxuICAgICAgICAgICAgICAgICAgcGFubmVsX25hbWUgPSB7c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncGFubmVsX25hbWUnKX1cclxuICAgICAgICAgICAgICAgICAgcGFubmVsX2NhcGFjaXR5ID0ge3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Bhbm5lbF9jYXBhY2l0eScpfVxyXG4gICAgICAgICAgICAgICAgICBiYXR0ZXJ5MSA9IHtzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdiYXR0ZXJ5Jyl9XHJcbiAgICAgICAgICAgICAgICAgIHNvbGFySW5jZW50aXZlcyA9IHtzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzb2xhckluY2VudGl2ZXMnKX1cclxuICAgICAgICAgICAgICAgICAgYmF0dGVyeUluY2VudHZpZXMgPSB7c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYmF0dGJhdHRlcnlJbmNlbnRpdmVzZXInKX1cclxuICAgICAgICAgICAgICAgICAgZmluYWxDb3N0ID0ge3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2ZpbmFsX2Nvc3QnKX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICA8L1Byb3ZpZGVyPilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5wYW5lbFR5cGVzLmJpbmQodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgY2FzZSAnI3RhY2snOlxyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2NvbXBvbmVudGluZGV4JywgNyk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxQcm92aWRlcj5cclxuICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgIDxTdGVwcyBzdGVwaW5kZXg9e3BhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2NvbXBvbmVudGluZGV4JykpICsgMX0gLz5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1mbHVpZCBwYW5kaW5nX25vXCIgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMjBweCcgfX0gICA+XHJcbiAgICAgICAgICAgICAgICA8QXJlYWVzdGltYXRlXHJcbiAgICAgICAgICAgICAgICAgIGxvY2F0aW9uPXt0aGlzLnN0YXRlLmxvY2F0aW9ufVxyXG4gICAgICAgICAgICAgICAgICBtYXRlcmlhbD17KHRoaXMuc3RhdGUucm9vZm1hdGVyaWFsICE9ICcnICYmIHR5cGVvZiB0aGlzLnN0YXRlLnJvb2ZtYXRlcmlhbCAhPSAndW5kZWZpbmVkJykgPyB0aGlzLnN0YXRlLnJvb2ZtYXRlcmlhbCA6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZtYXRlcmlhbCcpfVxyXG4gICAgICAgICAgICAgICAgICBtYXRlcmlhbGNvc3Q9eyh0aGlzLnN0YXRlLm1hdGVyaWFsQ29zdCAhPSAnJyAmJiB0aGlzLnN0YXRlLm1hdGVyaWFsQ29zdCAhPSAwKSA/IHRoaXMuc3RhdGUubWF0ZXJpYWxDb3N0IDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbWF0ZXJpYWxDb3N0Jyl9XHJcbiAgICAgICAgICAgICAgICAgIGFyZWE9eyh0aGlzLnN0YXRlLnJvb2ZhcmVhICE9ICcnICYmIHRoaXMuc3RhdGUucm9vZmFyZWEgIT0gMCkgPyB0aGlzLnN0YXRlLnJvb2ZhcmVhIDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncm9vZmFyZWEnKX1cclxuICAgICAgICAgICAgICAgICAgbG9nZWRpbj17dGhpcy5wcm9wcy5sb2dpbm1vZGV9XHJcbiAgICAgICAgICAgICAgICAgIGFkZHJlc3M9e3RoaXMuc3RhdGUuUm9vZmFkZHJlc3MgIT0gJycgPyB0aGlzLnN0YXRlLlJvb2ZhZGRyZXNzIDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnUm9vZmFkZHJlc3MnKX1cclxuICAgICAgICAgICAgICAgICAgbG9naW5tb2RlZnVuPXt0aGlzLnByb3BzLmxvZ2lubW9kZWZ1bn1cclxuICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM9e3RoaXMuc3RhdGUuY29vcmRpbmF0ZXMgIT0gJycgPyB0aGlzLnN0YXRlLmNvb3JkaW5hdGVzIDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY29vcmRpbmF0ZXMnKX1cclxuICAgICAgICAgICAgICAgICAgcHJvcGVydHlfdHlwZT17KHRoaXMuc3RhdGUucHJvcGVydHlfdHlwZSAhPSAnJyAmJiB0eXBlb2YgdGhpcy5zdGF0ZS5wcm9wZXJ0eV90eXBlICE9ICd1bmRlZmluZWQnKSA/IHRoaXMuc3RhdGUucHJvcGVydHlfdHlwZSA6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Byb3BlcnR5X3R5cGUnKX1cclxuICAgICAgICAgICAgICAgICAgZmxvb3JzPXsodGhpcy5zdGF0ZS5mbG9vcnMgIT0gJycgJiYgdHlwZW9mIHRoaXMuc3RhdGUuZmxvb3JzICE9ICd1bmRlZmluZWQnKSA/IHRoaXMuc3RhdGUuZmxvb3JzIDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZmxvb3JzJyl9XHJcbiAgICAgICAgICAgICAgICAgIHJvb2ZfcGl0Y2g9eyh0aGlzLnN0YXRlLnJvb2ZfcGl0Y2ggIT0gJycgJiYgdHlwZW9mIHRoaXMuc3RhdGUucm9vZl9waXRjaCAhPSAndW5kZWZpbmVkJykgPyB0aGlzLnN0YXRlLnJvb2ZfcGl0Y2ggOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdyb29mX3BpdGNoJyl9XHJcbiAgICAgICAgICAgICAgICAgIGVfY29uc3VtcHRpb249eyh0aGlzLnN0YXRlLmVfY29uc3VtcHRpb24gIT0gJycgJiYgdHlwZW9mIHRoaXMuc3RhdGUuZV9jb25zdW1wdGlvbiAhPSAndW5kZWZpbmVkJykgPyB0aGlzLnN0YXRlLmVfY29uc3VtcHRpb24gOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdlX2NvbnN1bXB0aW9uJyl9XHJcbiAgICAgICAgICAgICAgICAgIHBvd2VyPXsodGhpcy5zdGF0ZS5wb3dlciAhPSAnJyAmJiB0eXBlb2YgdGhpcy5zdGF0ZS5wb3dlciAhPSAndW5kZWZpbmVkJykgPyB0aGlzLnN0YXRlLnBvd2VyIDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncG93ZXInKX1cclxuICAgICAgICAgICAgICAgICAgYXJlYUVzdGltZXRhY2s9e3RoaXMuYXJlYUVzdGltZXRhY2suYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3RoaXMuc3RhdGUucm9vZnN0eWxlfVxyXG4gICAgICAgICAgICAgICAgICByb29mc3R5bGVjb3N0PXt0aGlzLnN0YXRlLnJvb2ZzdHlsZWNvc3R9XHJcbiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudGluZGV4PXtzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjb21wb25lbnRpbmRleCcpfVxyXG4gICAgICAgICAgICAgICAgICBwYW5lbD17KHRoaXMuc3RhdGUucGFuZWwgIT0gJycgJiYgdHlwZW9mIHRoaXMuc3RhdGUucGFuZWwgIT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5zdGF0ZS5wYW5lbCA6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3BhbmVsJyl9XHJcbiAgICAgICAgICAgICAgICAgIGJhdHRlcnk9eyh0aGlzLnN0YXRlLmJhdHRlcnkgIT0gJycgJiYgdHlwZW9mIHRoaXMuc3RhdGUuYmF0dGVyeSAhPSAndW5kZWZpbmVkJykgPyB0aGlzLnN0YXRlLmJhdHRlcnkgOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdiYXR0ZXJ5Jyl9XHJcbiAgICAgICAgICAgICAgICAgIHBhbmVsc0NvdW50PXsodGhpcy5zdGF0ZS5wYW5lbHNDb3VudCAhPSAnJyAmJiB0eXBlb2YgdGhpcy5zdGF0ZS5wYW5lbHNDb3VudCAhPSAndW5kZWZpbmVkJykgPyB0aGlzLnN0YXRlLnBhbmVsc0NvdW50IDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncGFuZWxzQ291bnQnKX1cclxuICAgICAgICAgICAgICAgICAgcGFja2V0TmFtZT17c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncGFja2V0TmFtZScpfVxyXG4gICAgICAgICAgICAgICAgICBzdXJmYWNlRGlyZWN0aW9uPXsodGhpcy5zdGF0ZS5zdXJmYWNlRGlyZWN0aW9uICE9ICcnICYmIHR5cGVvZiB0aGlzLnN0YXRlLnN1cmZhY2VEaXJlY3Rpb24gIT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5zdGF0ZS5zdXJmYWNlRGlyZWN0aW9uIDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnc3VyZmFjZURpcmVjdGlvbicpfVxyXG4gICAgICAgICAgICAgICAgICBhbm51YWxvdXRwdXQ9eyh0aGlzLnN0YXRlLmFubnVhbG91dHB1dCAhPSAnJyAmJiB0eXBlb2YgdGhpcy5zdGF0ZS5hbm51YWxvdXRwdXQgIT0gJ3VuZGVmaW5lZCcpID8gdGhpcy5zdGF0ZS5hbm51YWxvdXRwdXQgOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhbm51YWxvdXRwdXQnKX1cclxuICAgICAgICAgICAgICAgICAgcm9vZmFkZHJlc3M9eyhzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdSb29mYWRkcmVzcycpID09PSBudWxsKSA/IHRoaXMuc3RhdGUuUm9vZmFkZHJlc3MgOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdSb29mYWRkcmVzcycpfVxyXG4gICAgICAgICAgICAgICAgICBwYWNrZXROYW1lPXtzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdwYWNrZXROYW1lJyl9XHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICBwYW5uZWxfY2FwYWNpdHkgPSB7c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncGFubmVsX2NhcGFjaXR5Jyl9XHJcbiAgICAgICAgICAgICAgICAgIGJhdHRlcnkxID0ge3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2JhdHRlcnknKX1cclxuICAgICAgICAgICAgICAgICAgc29sYXJJbmNlbnRpdmVzID0ge3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3NvbGFySW5jZW50aXZlcycpfVxyXG4gICAgICAgICAgICAgICAgICBiYXR0ZXJ5SW5jZW50dmllcyA9IHtzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdiYXR0YmF0dGVyeUluY2VudGl2ZXNlcicpfVxyXG4gICAgICAgICAgICAgICAgICBmaW5hbENvc3QgPSB7c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZmluYWxfY29zdCcpfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgIDwvUHJvdmlkZXI+XHJcbiAgICAgICAgKVxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8UHJvdmlkZXI+XHJcbiAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICA8U3RlcHMgc3RlcGluZGV4PXtwYXJzZUludChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjb21wb25lbnRpbmRleCcpKSArIDF9IC8+XHJcbiAgICAgICAgICAgICAgPEFwcCBhcmVhPXt0aGlzLmFyZWExLmJpbmQodGhpcyl9IHN0ZXBpbmRleD17dGhpcy5zdGF0ZS5jb21wb25lbnRpbmRleH0gcm9vZmFkZHJlc3M9e3RoaXMuc3RhdGUuUm9vZmFkZHJlc3N9IC8+XHJcbiAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICA8L1Byb3ZpZGVyPlxyXG4gICAgICAgIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgTWFpbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgeyBTd2l0Y2gsIEJyb3dzZXJSb3V0ZXIgYXMgUm91dGVyLCBSb3V0ZSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xyXG5pbXBvcnQgRXN0aW1hdGlvbiBmcm9tICcuL2VzdGltYXRpb24nO1xyXG5pbXBvcnQgTG9naW4gZnJvbSAnLi9sb2dlZGluL2xvZ2luJ1xyXG5pbXBvcnQgUmVnaXN0cmF0aW9uIGZyb20gJy4vbG9nZWRpbi9yZWdpc3RyYXRpb24nXHJcbmltcG9ydCBUZXh0YyBmcm9tICcuL3RleHQnO1xyXG5pbXBvcnQgSGVhZGVyIGZyb20gJy4vaGVhZGVyJztcclxuaW1wb3J0IEZvb3RlciBmcm9tICcuL2Zvb3Rlcic7XHJcbmltcG9ydCBQcm9maWxlIGZyb20gJy4vcHJvZmlsZSc7XHJcbmltcG9ydCBDb250YWN0dXMgZnJvbSAnLi9jb250YWN0dXMnO1xyXG5pbXBvcnQgQWJvdXR1cyBmcm9tICcuL2Fib3V0dXMnO1xyXG5pbXBvcnQgRmFxIGZyb20gJy4vZmFxJztcclxuaW1wb3J0IENvbnRyYWN0b3JzaWdudXAgZnJvbSAnLi9sb2dlZGluL2NvbnRyYWN0b3JzaWdudXAnO1xyXG5pbXBvcnQgVXNlcnNsaXN0MSBmcm9tICcuL2FkbWluX3VzZXJsaXN0JztcclxuaW1wb3J0IENvbnRyYWN0b3JsaXN0IGZyb20gJy4vYWRtaW5fY29udHJhY3Rvcmxpc3QnXHJcbmltcG9ydCBBZG1pbkhvbWUgZnJvbSAnLi9hZG1pbl9ob21lJztcclxuaW1wb3J0IEZvcmdvdHBhc3N3b3JkIGZyb20gJy4vZm9yZ290cGFzc3dvcmQnO1xyXG5sZXQgZGF0YSwgdXNlcmRhdGEsIGxvZ2ludGVzdCwgYWRtaW50b2tlbiwgYWRtaW5Mb2dpbjtcclxuY2xhc3MgUm91dGluZyBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJkYXRhXCIpID09PSBudWxsIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlcmRhdGFcIikgPT09IHVuZGVmaW5lZCB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJkYXRhXCIpID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIGFkbWludG9rZW4gPSBcIlwiO1xyXG4gICAgICBhZG1pbkxvZ2luID0gZmFsc2U7XHJcbiAgICAgIHVzZXJkYXRhID0ge1xyXG4gICAgICAgIFwidHlwZVwiOiBcIlwiLFxyXG4gICAgICAgIFwib3JnYW5pemF0aW9uX251bWJlclwiOiBcIlwiLFxyXG4gICAgICAgIFwiYWRkcmVzc1wiOiBcIlwiLFxyXG4gICAgICAgIFwid2Vic2l0ZVwiOiBcIlwiLFxyXG4gICAgICAgIFwiZXN0ZGV0XCI6IFtdLFxyXG4gICAgICAgIFwiYnVzaW5lc3NuYW1lXCI6IFwiXCIsXHJcbiAgICAgICAgXCJ1cGRhdGVvblwiOiBcIlwiLFxyXG4gICAgICAgIFwiY3JhdGVkb25cIjogXCJcIixcclxuICAgICAgICBcImVtYWlsXCI6IFwiXCIsIFwicGhvbmVcIjogXCJcIiwgXCJuYW1lXCI6IFwiXCIsIFwidG9rZW5cIjogXCJcIlxyXG4gICAgICB9XHJcbiAgICAgIGxvZ2ludGVzdCA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdXNlcmRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlcmRhdGFcIikpXHJcbiAgICAgIGxvZ2ludGVzdCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBMb2dpbjogbG9naW50ZXN0LFxyXG4gICAgICB1c2VyZGV0OiAnJyxcclxuICAgICAgdG9rZW46IHVzZXJkYXRhLnRva2VuLFxyXG4gICAgICBhZG1pbnRva2VuOiBhZG1pbnRva2VuLFxyXG4gICAgICBhZG1pbkxvZ2luOiBhZG1pbkxvZ2luXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsb2dpbm1vZGVmdW4odmFsKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgTG9naW46IHZhbFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICA8Um91dGVyID5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWxpZ24tdG9wXCI+XHJcbiAgICAgICAgICAgIDxTd2l0Y2g+XHJcbiAgICAgICAgICAgICAgPFJvdXRlIGV4YWN0IHBhdGg9Jy8nIHJlbmRlcj17KHByb3BzKSA9PiAoPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgPEhlYWRlciBsb2dpbj17dGhpcy5zdGF0ZS5Mb2dpbn0gaGVhZGluZGV4PXsxfSAvPlxyXG4gICAgICAgICAgICAgICAgPEVzdGltYXRpb24gbG9naW5tb2RlPXt0aGlzLnN0YXRlLkxvZ2lufSBsb2dpbm1vZGVmdW49e3RoaXMubG9naW5tb2RlZnVuLmJpbmQodGhpcyl9IC8+PCBGb290ZXIgLz5cclxuICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICl9IC8+XHJcbiAgICAgICAgICAgICAgPFJvdXRlIGV4YWN0IHBhdGg9Jy9Mb2dpbicgcmVuZGVyPXsocHJvcHMpID0+IChcclxuICAgICAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICAgICAgPEhlYWRlciBsb2dpbj17dGhpcy5zdGF0ZS5Mb2dpbn0gaGVhZGluZGV4PXsyfSAvPlxyXG4gICAgICAgICAgICAgICAgICA8TG9naW4gdG9rZW49e3RoaXMuc3RhdGUudG9rZW59IGRhdGE9e2RhdGF9IC8+XHJcbiAgICAgICAgICAgICAgICAgIDwgRm9vdGVyIC8+XHJcbiAgICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICl9IC8+XHJcbiAgICAgICAgICAgICAgPFJvdXRlIGV4YWN0IHBhdGg9XCIvUmVnaXN0ZXJcIlxyXG4gICAgICAgICAgICAgICAgcmVuZGVyPXsocHJvcHMpID0+IChcclxuICAgICAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgICAgIDxIZWFkZXIgbG9naW49e3RoaXMuc3RhdGUuTG9naW59IGhlYWRpbmRleD17M30gLz5cclxuICAgICAgICAgICAgICAgICAgICA8UmVnaXN0cmF0aW9uIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPCBGb290ZXIgLz5cclxuICAgICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICAgICl9IC8+XHJcbiAgICAgICAgICAgICAgPFJvdXRlIGV4YWN0IHBhdGg9XCIvUHJvZmlsZVwiIHJlbmRlcj17KHByb3BzKSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgICAgIDxIZWFkZXIgbG9naW49e3RoaXMuc3RhdGUuTG9naW59IGhlYWRpbmRleD17NH0gLz5cclxuICAgICAgICAgICAgICAgICAgPFByb2ZpbGUgLz5cclxuICAgICAgICAgICAgICAgICAgPCBGb290ZXIgLz48L1JlYWN0LkZyYWdtZW50Pil9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8Um91dGUgZXhhY3QgcGF0aD1cIi9GYXFcIiByZW5kZXI9eyhwcm9wcykgPT4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgPEhlYWRlciBsb2dpbj17dGhpcy5zdGF0ZS5Mb2dpbn0gaGVhZGluZGV4PXs1fSAvPlxyXG4gICAgICAgICAgICAgICAgICA8RmFxIC8+XHJcbiAgICAgICAgICAgICAgICAgIDwgRm9vdGVyIC8+PC9kaXY+XHJcbiAgICAgICAgICAgICAgKX0gLz5cclxuICAgICAgICAgICAgICA8Um91dGUgZXhhY3QgcGF0aD1cIi9BYm91dHVzXCIgcmVuZGVyPXsocHJvcHMpID0+IChcclxuICAgICAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICAgICAgPEhlYWRlciBsb2dpbj17dGhpcy5zdGF0ZS5Mb2dpbn0gaGVhZGluZGV4PXs2fSAvPlxyXG4gICAgICAgICAgICAgICAgICA8QWJvdXR1cyAvPlxyXG4gICAgICAgICAgICAgICAgICA8IEZvb3RlciAvPjwvUmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDxSb3V0ZSBleGFjdCBwYXRoPVwiL0NvbnRhY3RcIiByZW5kZXI9eyhwcm9wcykgPT4gKFxyXG4gICAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgICA8SGVhZGVyIGxvZ2luPXt0aGlzLnN0YXRlLkxvZ2lufSBoZWFkaW5kZXg9ezd9IC8+XHJcbiAgICAgICAgICAgICAgICAgIDxDb250YWN0dXMgLz5cclxuICAgICAgICAgICAgICAgICAgPCBGb290ZXIgLz48L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICB9IC8+XHJcbiAgICAgICAgICAgICAgPFJvdXRlIGV4YWN0IHBhdGg9XCIvRm9yZ290cGFzc3dvcmRcIiByZW5kZXI9eyhwcm9wcykgPT4gKFxyXG4gICAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgICA8SGVhZGVyIGxvZ2luPXt0aGlzLnN0YXRlLkxvZ2lufSBoZWFkaW5kZXg9ezJ9IC8+XHJcbiAgICAgICAgICAgICAgICAgIDxGb3Jnb3RwYXNzd29yZCAvPlxyXG4gICAgICAgICAgICAgICAgICA8IEZvb3RlciAvPjwvUmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgKX0gLz5cclxuICAgICAgICAgICAgICA8Um91dGUgZXhhY3QgcGF0aD1cIi9Db250cmFjdG9yXCIgcmVuZGVyPXsocHJvcHMpID0+IChcclxuICAgICAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICAgICAgPEhlYWRlciBsb2dpbj17dGhpcy5zdGF0ZS5Mb2dpbn0gaGVhZGluZGV4PXs4fSAvPlxyXG4gICAgICAgICAgICAgICAgICA8Q29udHJhY3RvcnNpZ251cCAvPlxyXG4gICAgICAgICAgICAgICAgICA8IEZvb3RlciAvPjwvUmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgKX0gLz5cclxuICAgICAgICAgICAgICA8Um91dGUgZXhhY3QgcGF0aD0nL3RleHQnIHJlbmRlcj17KHByb3BzKSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgICAgIDxIZWFkZXIgbG9naW49e3RoaXMuc3RhdGUuTG9naW59IC8+XHJcbiAgICAgICAgICAgICAgICAgIDxUZXh0YyB0b2tlbj17dGhpcy5zdGF0ZS50b2tlbn0gZGF0YT17ZGF0YX0gLz5cclxuICAgICAgICAgICAgICAgICAgPCBGb290ZXIgLz48L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICl9IC8+XHJcbiAgICAgICAgICAgICAgPFJvdXRlIGV4YWN0IHBhdGg9Jy91c2Vyc2xpc3QnIHJlbmRlcj17KHByb3BzKSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8VXNlcnNsaXN0MSB0b2tlbj17dGhpcy5zdGF0ZS50b2tlbn0gZGF0YT17ZGF0YX0gLz5cclxuICAgICAgICAgICAgICApfSAvPlxyXG4gICAgICAgICAgICAgIDxSb3V0ZSBleGFjdCBwYXRoPScvY29udHJhY3Rvcmxpc3QnIHJlbmRlcj17KHByb3BzKSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8Q29udHJhY3Rvcmxpc3QgdG9rZW49e3RoaXMuc3RhdGUudG9rZW59IGRhdGE9e2RhdGF9IC8+XHJcbiAgICAgICAgICAgICAgKX0gLz5cclxuICAgICAgICAgICAgICA8Um91dGUgZXhhY3QgcGF0aD0nL2FkbWluJyByZW5kZXI9eyhwcm9wcykgPT4gKFxyXG4gICAgICAgICAgICAgICAgPEFkbWluSG9tZSB0b2tlbj17dGhpcy5zdGF0ZS50b2tlbn0gZGF0YT17ZGF0YX0gLz5cclxuICAgICAgICAgICAgICApfSAvPlxyXG4gICAgICAgICAgICA8L1N3aXRjaD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvUm91dGVyPlxyXG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuUmVhY3RET00ucmVuZGVyKFxyXG4gIDxSb3V0aW5nIC8+XHJcbiAgLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJykpOyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcclxuY2xhc3MgRmFxIGV4dGVuZHMgQ29tcG9uZW50XHJcbntcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKVxyXG4gICAge1xyXG5zdXBlcihwcm9wcylcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybig8ZGl2PlxyXG48ZGl2IGlkPVwiYWJvdXR1cy1pbWFnZVwiPjxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIGFib3V0X3R4dFwiPjxoMj5GQVEnUzwvaDI+PHA+TG9yZW0gSXBzdW0gaXMgc2ltcGx5IGR1bW15IHRleHQgb2YgdGhlIHByaW50aW5nIGFuZCB0eXBlc2V0dGluZyBpbmR1c3RyeS4gPC9wPlxyXG5cclxuXHJcblxyXG48L2Rpdj48L2Rpdj5cclxuXHJcbjxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIGZhcXNfYmVsb3dcIj5cclxuICAgIDxoMz4gRmluZCBhbnN3ZXJzIHRvIGNvbW1vbiBxdWVzdGlvbnM8L2gzPlxyXG48ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG48ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWdyb3VwXCIgaWQ9XCJhY2NvcmRpb25cIiByb2xlPVwidGFibGlzdFwiIGFyaWEtbXVsdGlzZWxlY3RhYmxlPVwidHJ1ZVwiPlxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCIgcm9sZT1cInRhYlwiIGlkPVwiaGVhZGluZ09uZVwiPlxyXG4gICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+XHJcbiAgICAgICAgPGEgZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtcGFyZW50PVwiI2FjY29yZGlvblwiIGhyZWY9XCIjY29sbGFwc2VPbmVcIiBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJjb2xsYXBzZU9uZVwiPlxyXG4gICAgICAgICAgQ29sbGFwc2libGUgR3JvdXAgSXRlbSAjMVxyXG4gICAgICAgIDwvYT5cclxuICAgICAgPC9oND5cclxuXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBpZD1cImNvbGxhcHNlT25lXCIgY2xhc3NOYW1lPVwicGFuZWwtY29sbGFwc2UgY29sbGFwc2UgaW5cIiByb2xlPVwidGFicGFuZWxcIiBhcmlhLWxhYmVsbGVkYnk9XCJoZWFkaW5nT25lXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPkFuaW0gcGFyaWF0dXIgY2xpY2hlIHJlcHJlaGVuZGVyaXQsIGVuaW0gZWl1c21vZCBoaWdoIGxpZmUgYWNjdXNhbXVzIHRlcnJ5IHJpY2hhcmRzb24gYWQgc3F1aWQubGUgVkhTLjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIiByb2xlPVwidGFiXCIgaWQ9XCJoZWFkaW5nVHdvXCI+XHJcbiAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj5cclxuICAgICAgICA8YSBjbGFzc05hbWU9XCJjb2xsYXBzZWRcIiBkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS1wYXJlbnQ9XCIjYWNjb3JkaW9uXCIgaHJlZj1cIiNjb2xsYXBzZVR3b1wiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiIGFyaWEtY29udHJvbHM9XCJjb2xsYXBzZVR3b1wiPlxyXG4gICAgICAgICAgQ29sbGFwc2libGUgR3JvdXAgSXRlbSAjMlxyXG4gICAgICAgIDwvYT5cclxuICAgICAgPC9oND5cclxuXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBpZD1cImNvbGxhcHNlVHdvXCIgY2xhc3NOYW1lPVwicGFuZWwtY29sbGFwc2UgY29sbGFwc2VcIiByb2xlPVwidGFicGFuZWxcIiBhcmlhLWxhYmVsbGVkYnk9XCJoZWFkaW5nVHdvXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPkFuaW0gcGFyaWF0dXIgY2xpY2hlIHJlcHJlaGVuZGVyaXQsIGVuaW0gZWl1c21vZCBoaWdoIGxpZmUgYWNjdXNhbXVzIHRlcnJ5IHJpY2hhcmRzb24gYWQgc3F1aWQuPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiIHJvbGU9XCJ0YWJcIiBpZD1cImhlYWRpbmdUaHJlZVwiPlxyXG4gICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+XHJcbiAgICAgICAgPGEgY2xhc3NOYW1lPVwiY29sbGFwc2VkXCIgZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtcGFyZW50PVwiI2FjY29yZGlvblwiIGhyZWY9XCIjY29sbGFwc2VUaHJlZVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiIGFyaWEtY29udHJvbHM9XCJjb2xsYXBzZVRocmVlXCI+XHJcbiAgICAgICAgICBDb2xsYXBzaWJsZSBHcm91cCBJdGVtICMzXHJcbiAgICAgICAgPC9hPlxyXG4gICAgICA8L2g0PlxyXG5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGlkPVwiY29sbGFwc2VUaHJlZVwiIGNsYXNzTmFtZT1cInBhbmVsLWNvbGxhcHNlIGNvbGxhcHNlXCIgcm9sZT1cInRhYnBhbmVsXCIgYXJpYS1sYWJlbGxlZGJ5PVwiaGVhZGluZ1RocmVlXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPkFuaW0gcGFyaWF0dXIgY2xpY2hlIHJlcHJlaGVuZGVyaXQsIGVuaW0gZWl1c21vZCBoaWdoIGxpZmUgYWNjdXNhbXVzIHRlcnJ5IHJpY2hhcmRzb24gYWQgc3F1aWQuIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PlxyXG48L2Rpdj5cclxuPC9kaXY+IFxyXG5cclxuXHJcbiAgICAgICAgPC9kaXY+KVxyXG4gICAgfVxyXG5cclxufVxyXG5leHBvcnQgZGVmYXVsdCBGYXEiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSAncmVhY3QtbW9kYWwnO1xyXG5jb25zdCBjdXN0b21TdHlsZXMgPSB7XHJcbiAgY29udGVudDoge1xyXG4gICAgdG9wOiAnNTAlJyxcclxuICAgIGxlZnQ6ICc1MCUnLFxyXG4gICAgcmlnaHQ6ICdhdXRvJyxcclxuICAgIGJvdHRvbTogJ2F1dG8nLFxyXG4gICAgbWFyZ2luUmlnaHQ6ICctNTAlJyxcclxuICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXHJcbiAgICBwYWRkaW5nOiAnMTBweCAxNXB4IDIzcHgnLFxyXG4gICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgIHdpZHRoOiAnNTAlJyxcclxuICAgIGJvcmRlclJhZGl1czogJzg1cHgnXHJcbiAgfVxyXG59O1xyXG5jbGFzcyBGb290ZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBwb3B1cDogZmFsc2UsXHJcbiAgICAgIG1vZGFsSXNPcGVuOiBmYWxzZSxcclxuICAgICAgZGF0ZTogbmV3IERhdGUoKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubW9kYWxwb3B1cCA9IHRoaXMubW9kYWxwb3B1cC5iaW5kKHRoaXMpXHJcbiAgICBNb2RhbC5zZXRBcHBFbGVtZW50KCdib2R5Jyk7XHJcbiAgICB0aGlzLm9wZW5Nb2RhbCA9IHRoaXMub3Blbk1vZGFsLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmFmdGVyT3Blbk1vZGFsID0gdGhpcy5hZnRlck9wZW5Nb2RhbC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5jbG9zZU1vZGFsID0gdGhpcy5jbG9zZU1vZGFsLmJpbmQodGhpcyk7XHJcbiAgfVxyXG4gIG9wZW5Nb2RhbCgpIHtcclxuICB9XHJcblxyXG4gIGFmdGVyT3Blbk1vZGFsKCkge1xyXG4gIH1cclxuXHJcbiAgY2xvc2VNb2RhbCgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBtb2RhbElzT3BlbjogZmFsc2UgfSk7XHJcbiAgfVxyXG4gIG1vZGFscG9wdXAoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgcG9wdXA6IHRydWUsIG1vZGFsSXNPcGVuOiB0cnVlIH0pXHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIHt0aGlzLnN0YXRlLnBvcHVwID8gKFxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPE1vZGFsXHJcbiAgICAgICAgICAgICAgaXNPcGVuPXt0aGlzLnN0YXRlLm1vZGFsSXNPcGVufVxyXG4gICAgICAgICAgICAgIG9uQWZ0ZXJPcGVuPXt0aGlzLmFmdGVyT3Blbk1vZGFsfVxyXG4gICAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlPXt0aGlzLmNsb3NlTW9kYWx9XHJcbiAgICAgICAgICAgICAgc3R5bGU9e2N1c3RvbVN0eWxlc31cclxuICAgICAgICAgICAgICBjb250ZW50TGFiZWw9XCJFeGFtcGxlIE1vZGFsXCI+XHJcblxyXG4gICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIHN0eWxlPXt7IGZsb2F0OiAncmlnaHQnLCBjb2xvcjogJyM4ZWUyYWUnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJywgYm9yZGVyOiAnbm9uZScsIG1hcmdpbjogJzAgNzVweCcsIGZvbnRTaXplOiAnMjBweCcgfX0gb25DbGljaz17dGhpcy5jbG9zZU1vZGFsfT5YPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkaW5nXCI+S29udGFrdGEgb3NzPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb290ZXItcG9wdXAgcm93IHRleHQtY2VudGVyIHRyb2JsZV9zZWNcIj5cclxuICAgICAgICAgICAgICAgIDxhIGlkPVwibGVmdC1oZWxwLWJ1dHRvblwiIGhyZWY9XCJ0ZWw6KzA3NjM5NDk1NjRcIj48aSBjbGFzc05hbWU9XCJmYSBmYS1waG9uZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4mbmJzcDsmbmJzcDtcclxuICAgUmluZyBEaWdpdGFrIC0gIDA3Ni0zOTQ5NTY0PC9hPlxyXG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJsZWZ0LWhlbHAtYnV0dG9uXCIgaHJlZj1cIm1haWx0bzppbmZvQGRpZ2l0YWsuc2U/XCI+QCBNYWlsYSBvc3MgLSBpbmZvQGRpZ2l0YWsuc2UgPC9hPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXN0aW1hdGUgXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInN1Ym1pdFwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VNb2RhbH0+c3TDpG5nPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8L01vZGFsPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKSA6IChudWxsKX1cclxuXHJcbiAgICAgICAgPHNlY3Rpb24gPlxyXG4gICAgICAgICAgPGRpdiBpZD1cImhlbHB1c1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB0ZXh0LWNlbnRlciB0cm9ibGVfc2VjXCIgPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJsZWZ0LWhlbHAtYnV0dG9uXCIgb25DbGljaz17dGhpcy5tb2RhbHBvcHVwfT5Lb250YWt0YSBvc3MgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRyb2JsZV9zZWMgZjE3XCI+XHJcbiAgICAgICAgICAgICAgSGFyIGR1IGZyw6Vnb3IgZWxsZXIgc3TDtnR0IHDDpSBwcm9ibGVtPyBUcnljayBww6Uga29udGFrdCBzw6UgPGJyIC8+IMOldGVya29tbWVyIHZpIHPDpSBmb3J0IHNvbSBtw7ZqbGlndC5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvc2VjdGlvbj5cclxuICAgICAgICA8ZGl2IGlkPVwiYm90dG9tZm9vXCI+PHNwYW4+Q29weXJpZ2h0ICZjb3B5OyB7dGhpcy5zdGF0ZS5kYXRlLmdldEZ1bGxZZWFyKCl9IERpZ2lzb2xhci5BbGwgcmlnaHRzIHJlc2VydmVkPC9zcGFuPjwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb290ZXI7IiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xyXG5cclxuY29uc3QgZm9ybWxlZnQgPSB7XHJcbiAgICBwYWRkaW5nTGVmdDogMCxcclxuICAgIEZvcmdvdDoge1xyXG4gICAgICAgIHdpZHRoOiBcIjUwJVwiXHJcblxyXG4gICAgfSwgZm9yZ290dG9wOiB7XHJcbiAgICAgICAgdGV4dEFsaWduOiBcIi13ZWJraXQtY2VudGVyXCJcclxuICAgIH0sIGZvYnV0dG9uOiB7XHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjVweCAhaW1wb3J0YW50XCIsXHJcbiAgICAgICAgaGVpZ2h0OiBcIjQwcHggIWltcG9ydGFudFwiLFxyXG4gICAgICAgIG1hcmdpbjogXCI5cHggMHB4XCIsXHJcbiAgICAgICAgYmFja2dyb3VuZDogXCIjMDAwXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMTZweFwiLFxyXG4gICAgICAgIGJvcmRlcjogXCJub25lXCIsXHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMTBweFwiXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEZvcmdvdCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy52YWxpZGF0ZUZpZWxkKGV2ZW50LnRhcmdldC5uYW1lLCBldmVudC50YXJnZXQudmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGxvZ2ludmFsaWRhdGlvbnZlcmlmeSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lbWFpbFZhbGlkICYmIHRoaXMuc3RhdGUucGFzc3dvcmRWYWxpZCkge1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMucHJvcHMuZm9yZ290c3VibWl0LmJpbmQodGhpcyl9IGlkPVwibG9naW5cIj5cclxuICAgICAgICAgICAgICAgIDxoMz5Gb3Jnb3QgUGFzc3dvcmQ8L2gzPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJlbWFpbFwiIHBsYWNlaG9sZGVyPVwiRW1haWwqXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgb25CbHVyPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfSAvPlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT0nYnRuIGJ0bi1pbmZvJyBzdHlsZT17Zm9ybWxlZnQuZm9idXR0b259IHZhbHVlPVwiRm9yZ290IFBhc3N3b3JkXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcbmNsYXNzIEZvcmdvdHBhc3N3b3JkIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGVtYWlsOiAnJyxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLFxyXG4gICAgICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICAgICAgcGhvbmU6ICcnLFxyXG4gICAgICAgICAgICBlbWFpbFZhbGlkOiBmYWxzZSxcclxuICAgICAgICAgICAgcGFzc3dvcmRWYWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGZvcm1FcnJvcnM6IHsgZW1haWw6ICcnLCBwYXNzd29yZDogJycsIG5hbWU6ICcnLCBwaG9uZTogJycgfSxcclxuICAgICAgICAgICAgcGhvbmV2YWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIG5hbWV2YWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGxvZ2luVmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBzaWdudXBWYWxpZDogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZvcmdvdHN1Ym1pdChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgbWFpbiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgIGVtYWlsOiB0aGlzLnN0YXRlLmVtYWlsLFxyXG4gICAgICAgICAgICB0eXBlOiAnVVNFUidcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZldGNoKCcvZm9yZ290cGFzcycsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcInBvc3RcIiwgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxyXG4gICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LUhlYWRlcnNcIjogXCIqXCIsXHJcbiAgICAgICAgICAgICAgICBcIkFjY2Vzcy1Db250cm9sLVJlcXVlc3QtTWV0aG9kXCI6IFwiKlwiXHJcbiAgICAgICAgICAgIH0sIGJvZHk6ICdqc29uPScgKyBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSA0MDApIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIlBsZWFzZSBQcm92aWRlIFJlZ2lzdGVyZWQgRW1haWwgSWRcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXlsb2FkX2RhdGEgPSB7IGVtYWlsOiBkYXRhLmRhdGEuZW1haWwsIHBhc3N3b3JkOiBkYXRhLmRhdGEuUGFzc3dvcmQsIG5hbWU6IGRhdGEuZGF0YS5uYW1lIH1cclxuICAgICAgICAgICAgICAgICAgICBmZXRjaCgnaHR0cHM6Ly9kaWdpdGFrLnNlL3NlbmRfbWFpbC5waHAnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJwb3N0XCIsIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1IZWFkZXJzXCI6IFwiKlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LU1ldGhvZFwiOiBcIipcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBib2R5OiAnanNvbj0nICsgSlNPTi5zdHJpbmdpZnkocGF5bG9hZF9kYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSA0MDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChkYXRhLm1lc3NhZ2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2lnbnVwc3VibWl0KGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBhbGVydChcIm9rXCIpO1xyXG4gICAgICAgIHRoaXMuY29tcGxlYXRldmFsaWRhdGlvbigpO1xyXG4gICAgICAgIC8vIGFsZXJ0KCdBIG5hbWUgd2FzIHN1Ym1pdHRlZDogJyArIHRoaXMuc3RhdGUuZW1haWwrJ3Bhc3N3b3JkJyt0aGlzLnN0YXRlLmVtYWlsKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGVGaWVsZChmaWVsZE5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgbGV0IGZpZWxkVmFsaWRhdGlvbkVycm9ycyA9IHRoaXMuc3RhdGUuZm9ybUVycm9ycztcclxuICAgICAgICBsZXQgcGFzc3dvcmRWYWxpZCA9IHRoaXMuc3RhdGUucGFzc3dvcmRWYWxpZDtcclxuICAgICAgICBsZXQgcGhvbmV2YWxpZCA9IHRoaXMuc3RhdGUucGhvbmV2YWxpZDtcclxuICAgICAgICBsZXQgbmFtZXZhbGlkID0gdGhpcy5zdGF0ZS5uYW1ldmFsaWQ7XHJcbiAgICAgICAgbGV0IGVtYWlsVmFsaWQgPSB0aGlzLnN0YXRlLmVtYWlsVmFsaWQ7XHJcbiAgICAgICAgc3dpdGNoIChmaWVsZE5hbWUpIHtcclxuICAgICAgICAgICAgY2FzZSAnZW1haWwnOlxyXG4gICAgICAgICAgICAgICAgLy9lbWFpbFZhbGlkID0gdmFsdWUubWF0Y2goL14oW1xcdy4lKy1dKylAKFtcXHctXStcXC4pKyhbXFx3XXsyLH0pJC9pKTtcclxuICAgICAgICAgICAgICAgIGVtYWlsVmFsaWQgPSB2YWx1ZS5sZW5ndGggPj0gNjtcclxuICAgICAgICAgICAgICAgIGZpZWxkVmFsaWRhdGlvbkVycm9ycy5lbWFpbCA9IGVtYWlsVmFsaWQgPyAnJyA6ICcgaXMgaW52YWxpZCc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZm9ybUVycm9yczogZmllbGRWYWxpZGF0aW9uRXJyb3JzLCBlbWFpbFZhbGlkOiBlbWFpbFZhbGlkLCBlbWFpbDogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCIgc3R5bGU9e2Zvcm1sZWZ0LmZvcmdvdHRvcH0+XHJcbiAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCIgaWQ9XCJib3hcIiBzdHlsZT17Zm9ybWxlZnQuRm9yZ290fSA+XHJcbiAgICAgICAgICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTJcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNFwiIHN0eWxlPXtmb3JtbGVmdH0+PGltZyBzcmM9XCIuL2ltZy9zaWdudXBfYmcuanBnXCIgY2xhc3NOYW1lPVwiaW1nLXJlc3BvbnNpdmVcIiAvPjwvZGl2PjxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTRcIj4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgPEZvcmdvdCBmb3Jnb3RzdWJtaXQ9e3RoaXMuZm9yZ290c3VibWl0LmJpbmQodGhpcyl9IHZhbGlkYXRlRmllbGQ9e3RoaXMudmFsaWRhdGVGaWVsZC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBFbWFpbEVycm9ycz17dGhpcy5zdGF0ZS5mb3JtRXJyb3JzLmVtYWlsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBQYXNzd29yZEVycm9ycz17dGhpcy5zdGF0ZS5mb3JtRXJyb3JzLnBhc3N3b3JkfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiA8U2lnbnVwIHNpZ251cG5zdWJtaXQ9e3RoaXMuc2lnbnVwc3VibWl0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZUVycm9ycz17dGhpcy5zdGF0ZS5mb3JtRXJyb3JzLm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQaG9uZUVycm9ycz17dGhpcy5zdGF0ZS5mb3JtRXJyb3JzLnBob25lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRW1haWxFcnJvcnM9e3RoaXMuc3RhdGUuZm9ybUVycm9ycy5lbWFpbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhc3N3b3JkRXJyb3JzPXt0aGlzLnN0YXRlLmZvcm1FcnJvcnMucGFzc3dvcmR9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbnVwVmFsaWQ9e3RoaXMuc3RhdGUuc2lnbnVwVmFsaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZUZpZWxkPXt0aGlzLnZhbGlkYXRlRmllbGQuYmluZCh0aGlzKX1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPiAqL31cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTJcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj4qL308L2Rpdj5cclxuXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcmdvdHBhc3N3b3JkOyIsIu+7v1xyXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5cclxuY2xhc3MgSGVhZGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gIH1cclxuICBcclxuICBsb2dvdXQoKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcclxuICAgIGxvY2F0aW9uLmhyZWYgPSBcIi9cIjtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXhhbXBsZTJcIj5cclxuICAgICAgICA8bmF2IGNsYXNzTmFtZT1cIm5hdmJhciBuYXZiYXItZGVmYXVsdCBjdXN0bS1uYXYgXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5hdmJhci1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJuYXZiYXItdG9nZ2xlIGNvbGxhcHNlZFwiIGRhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIiBkYXRhLXRhcmdldD1cIiNuYXZiYXIyXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+VG9nZ2xlIG5hdmlnYXRpb248L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWJhclwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tYmFyXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1iYXJcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwibmF2YmFyLWJyYW5kXCIgaHJlZj1cImh0dHA6Ly93d3cuZGlnaXNvbGFyLnNlL1wiPjxpbWcgc3JjPVwiLi9pbWcvd2hpdGVfbG9nby5wbmdcIiBhbHQ9XCJEaXNwdXRlIEJpbGxzXCIgLz5cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwibmF2YmFyMlwiIGNsYXNzTmFtZT1cIm5hdmJhci1jb2xsYXBzZSBjb2xsYXBzZVwiPlxyXG4gICAgICAgICAgICAgIDxDaGVja2xvZ2luIGxvZ2luPXt0aGlzLnByb3BzLmxvZ2lufSBsb2dvdXQ9e3RoaXMubG9nb3V0LmJpbmQodGhpcyl9IGhlYWRpbmRleD17dGhpcy5wcm9wcy5oZWFkaW5kZXh9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9uYXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIENoZWNrbG9naW4gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLmxvZ2luID09IHRydWUpIHtcclxuICAgICAgcmV0dXJuICg8dWwgY2xhc3NOYW1lPVwibmF2IG5hdmJhci1uYXYgbmF2YmFyLXJpZ2h0IG5hdi11bFwiPlxyXG4gICAgICAgIDxsaSA+IDxhIGhyZWY9XCJodHRwOi8vd3d3LmRpZ2lzb2xhci5zZS9cIiBpZD1cImhlYWRlcl9tZW51XCIgPlRpbGxiYWthIHRpbGwgc3RhcnRzaWRhbjwvYT48L2xpPlxyXG4gICAgICAgIHsvKn1cclxuICAgICAgICA8bGkgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmhlYWRpbmRleCA9PSA2ID8gXCJhY3RpdmVcIiA6IFwiXCJ9ID4gPGEgaHJlZj1cImh0dHBzOi8vd3d3LmRpZ2l0YWsuc2UvXCI+U3RhcnQ8L2E+PC9saT5cclxuICAgICAgICA8bGkgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmhlYWRpbmRleCA9PSA2ID8gXCJhY3RpdmVcIiA6IFwiXCJ9ID4gPGEgaHJlZj1cImh0dHBzOi8vd3d3LmRpZ2l0YWsuc2UvYmxvZ3MvXCI+VGFrYmxvZ2dlbjwvYT48L2xpPlxyXG4gICAgICAgIDxsaT48TGluayB0bz0nL0NvbnRyYWN0b3InPkbDtnIgaGFudHZlcmthcmU8L0xpbms+PC9saT5cclxuICAgICAgICA8bGkgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmhlYWRpbmRleCA9PSA2ID8gXCJhY3RpdmVcIiA6IFwiXCJ9ID4gPGEgaHJlZj1cImh0dHBzOi8vZGlnaXRhay5zZS9hYm91dC11cy9cIj5PbSBvc3M8L2E+PC9saT5cclxuXHJcblxyXG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93blwiPlxyXG4gICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgcm9sZT1cImJ1dHRvblwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPk1pdHQga29udG8gPHNwYW4gY2xhc3NOYW1lPVwiY2FyZXRcIj48L3NwYW4+PC9hPlxyXG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxyXG5cclxuICAgICAgICAgICAgPGxpPjxMaW5rIHRvPScvUHJvZmlsZScgPk1pbmEgdGFrYmVyw6RrbmluZ2FyPC9MaW5rPjwvbGk+XHJcbiAgICAgICAgICAgIDxsaT48YSBvbkNsaWNrPXt0aGlzLnByb3BzLmxvZ291dH0+TG9nZ2EgdXQ8L2E+PC9saT5cclxuXHJcbiAgICAgICAgICA8L3VsPlxyXG4gICAgICAgIDwvbGk+XHJcblxyXG4qL31cclxuXHJcbiAgICAgIDwvdWw+KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuICg8dWwgY2xhc3NOYW1lPVwibmF2IG5hdmJhci1uYXYgbmF2YmFyLXJpZ2h0IG5hdi11bFwiPlxyXG4gICAgICAgIDxsaSA+IDxhIGhyZWY9XCJodHRwOi8vd3d3LmRpZ2lzb2xhci5zZS8vXCIgaWQ9XCJoZWFkZXJfbWVudVwiID5UaWxsYmFrYSB0aWxsIHN0YXJ0c2lkYW48L2E+PC9saT5cclxuICAgICAgICB7Lyp9XHJcbiAgICAgICAgPGxpIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5oZWFkaW5kZXggPT0gNiA/IFwiYWN0aXZlXCIgOiBcIlwifSA+IDxhIGhyZWY9XCJodHRwczovL3d3dy5kaWdpdGFrLnNlL1wiPlN0YXJ0PC9hPjwvbGk+XHJcbiAgICAgICAgPGxpIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5oZWFkaW5kZXggPT0gNiA/IFwiYWN0aXZlXCIgOiBcIlwifSA+IDxhIGhyZWY9XCJodHRwczovL3d3dy5kaWdpdGFrLnNlL2Jsb2dzL1wiPlRha2Jsb2dnZW48L2E+PC9saT5cclxuICAgICAgICA8bGkgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmhlYWRpbmRleCA9PSA4ID8gXCJhY3RpdmVcIiA6IFwiXCJ9ID48TGluayB0bz0nL0NvbnRyYWN0b3InPkbDtnIgaGFudHZlcmthcmU8L0xpbms+PC9saT5cclxuXHJcbiAgICAgICAgPGxpIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5oZWFkaW5kZXggPT0gNiA/IFwiYWN0aXZlXCIgOiBcIlwifSA+IDxhIGhyZWY9XCJodHRwczovL2RpZ2l0YWsuc2UvYWJvdXQtdXMvXCI+T20gb3NzPC9hPjwvbGk+XHJcbiAgICAgICAgPGxpIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5oZWFkaW5kZXggPT0gNSA/IFwiYWN0aXZlXCIgOiBcIlwifSA+PGEgaHJlZj1cImh0dHBzOi8vd3d3LmRpZ2l0YWsuc2UvdmFubGlnYS1mcmFnb3IvXCI+VmFubGlnYSBmcsOlZ29yPC9hPjwvbGk+XHJcblxyXG4gICAgICAgIDxsaSBjbGFzc05hbWU9e3RoaXMucHJvcHMuaGVhZGluZGV4ID09IDIgPyBcImFjdGl2ZVwiIDogXCJcIn0gPjxMaW5rIHRvPScvbG9naW4nPkxvZ2dhIGluPC9MaW5rPjwvbGk+XHJcbiovfVxyXG4gICAgICA8L3VsPilcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjtcclxuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XHJcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xyXG5cclxuLy92YXIgbWFpbnVybD1yZXF1aXJlKCcuLi9jb25maWcuanMnKTtcclxuXHJcbmNvbnN0IGZvcm1sZWZ0ID0ge1xyXG4gICAgcGFkZGluZ0xlZnQ6IDBcclxufVxyXG5cclxuXHJcblxyXG5cclxuY2xhc3MgQ3NpZ251cCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKHRoaXMucHJvcHMpXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnByb3BzLnZhbGlkYXRlRmllbGQoZXZlbnQudGFyZ2V0Lm5hbWUsIGV2ZW50LnRhcmdldC52YWx1ZSlcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG5cclxuICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMucHJvcHMuc2lnbnVwbnN1Ym1pdH0gaWQ9XCJDc2lnbnVwXCI+XHJcbiAgICAgICAgICAgICAgICA8aDM+UmVnaXN0ZXI8L2gzPlxyXG4gICAgICAgICAgICAgICAgPHA+R2V0IFN0YXJ0ZWQgYWxyZWFkeSBub3c8L3A+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC1kYW5nZXJcIiBoaWRkZW49eyh0aGlzLnByb3BzLnJlc3BvbnNlZXJyb3IgPT0gXCJcIil9PlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnJlc3BvbnNlZXJyb3J9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxwPkFjY291bnQgSW5mb3JtYXRpb248L3A+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwibmFtZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHBsYWNlaG9sZGVyPVwiTmFtZSpcIiBvbkJsdXI9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyl9IHJlcXVpcmVkIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJlcnJvclwiPnt0aGlzLnByb3BzLm5hbWVFcnJvcnN9XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcblxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInBob25lXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgcGxhY2Vob2xkZXI9XCJQaG9uZSpcIiBvbkJsdXI9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyl9IHJlcXVpcmVkIC8+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cImVycm9yXCI+e3RoaXMucHJvcHMuUGhvbmVFcnJvcnN9XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImVtYWlsXCIgbmFtZT1cImVtYWlsXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgcGxhY2Vob2xkZXI9XCJFbWFpbCpcIiBvbkJsdXI9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyl9IHJlcXVpcmVkIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJlcnJvclwiPnt0aGlzLnByb3BzLkVtYWlsRXJyb3JzfVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIG5hbWU9XCJwYXNzd29yZFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmQqXCIgb25CbHVyPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfSByZXF1aXJlZCAvPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJlcnJvclwiPnt0aGlzLnByb3BzLlBhc3N3b3JkRXJyb3JzfVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJhY2NudF9pbmZvXCI+Q29udHJhY3RvciBJbmZvcm1hdGlvbjwvcD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJidXNpbmVzc25hbWVcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBwbGFjZWhvbGRlcj1cIkJ1c2luZXNzIE5hbWUqXCIgb25CbHVyPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfSByZXF1aXJlZCAvPlxyXG5cclxuICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIndlYnNpdGVcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBwbGFjZWhvbGRlcj1cIldlYnNpdGUob3B0aW9uYWwpXCIgb25CbHVyPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfSAvPlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiYWRkcmVzc1wiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHBsYWNlaG9sZGVyPVwiQWRkcmVzcypcIiBvbkJsdXI9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyl9IHJlcXVpcmVkIC8+XHJcblxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwib3JnYW5pemVyXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgcGxhY2Vob2xkZXI9XCJPcmdhbml6ZXIqXCIgb25CbHVyPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfSByZXF1aXJlZCAvPlxyXG4gICAgICAgICAgICAgIFxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2PiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgcmVxdWlyZWQgLz4gICBJIEFncmVlIHRvIDxhIGhyZWY9XCJcIj5UZXJtcyAmIENvbmRpdGlvbnM8L2E+PC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdj4gIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgaWQ9XCJidXR0b25uZXdcIiBjbGFzc05hbWU9XCJidG4gYnRuLWluZm9cIiB2YWx1ZT1cIlNpZ251cFwiIGRpc2FibGVkPXsodGhpcy5wcm9wcy5uYW1lRXJyb3JzID09IFwiXCIgJiYgdGhpcy5wcm9wcy5FbWFpbEVycm9ycyA9PSBcIlwiICYmIHRoaXMucHJvcHMuUGhvbmVFcnJvcnMgPT0gXCJcIiAmJiB0aGlzLnByb3BzLlBhc3N3b3JkRXJyb3JzID09IFwiXCIpID8gZmFsc2UgOiB0cnVlfSAvPjwvZGl2PlxyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgPC9mb3JtPlxyXG5cclxuXHJcblxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuXHJcbmNsYXNzIENvbnRyYWN0b3JzaWdudXAgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGVtYWlsOiAnJyxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLFxyXG4gICAgICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICAgICAgcGhvbmU6ICcnLFxyXG4gICAgICAgICAgICBlbWFpbFZhbGlkOiBmYWxzZSxcclxuICAgICAgICAgICAgcGFzc3dvcmRWYWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGZvcm1FcnJvcnM6IHsgZW1haWw6ICcnLCBwYXNzd29yZDogJycsIG5hbWU6ICcnLCBwaG9uZTogJycgfSxcclxuICAgICAgICAgICAgcGhvbmV2YWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIG5hbWV2YWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGxvZ2luVmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBzaWdudXBWYWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHJlc3BvbnNlZXJyb3I6IFwiXCIsXHJcbiAgICAgICAgICAgIHdlYnNpdGU6IFwiXCIsXHJcbiAgICAgICAgICAgIGJ1c2luZXNzbmFtZTogXCJcIixcclxuICAgICAgICAgICAgYWRkcmVzczogXCJcIixcclxuICAgICAgICAgICAgb3JnYW5pemVyOiBcIlwiXHJcblxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgbG9naW5zdWJtaXQoZXZlbnQpIHtcclxuICAgICAgICAvLyB0aGlzLmNvbXBsZWF0ZXZhbGlkYXRpb24oKTtcclxuICAgICAgICAvLyBhbGVydCgnQSBuYW1lIHdhcyBzdWJtaXR0ZWQ6ICcgKyB0aGlzLnN0YXRlLmVtYWlsKydwYXNzd29yZCcrdGhpcy5zdGF0ZS5lbWFpbCk7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzaWdudXBzdWJtaXQoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmZvcm1FcnJvcnMuZW1haWwgPT0gXCJcIiAmJiB0aGlzLnN0YXRlLmZvcm1FcnJvcnMubmFtZSA9PSBcIlwiICYmIHRoaXMuc3RhdGUuZm9ybUVycm9ycy5waG9uZSA9PSBcIlwiICYmIHRoaXMuc3RhdGUuZm9ybUVycm9ycy5wYXNzd29yZCA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgXHJcblxyXG5cclxuICAgICAgICAgICAgY29uc3QgbWFpbiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5zdGF0ZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuc3RhdGUuZW1haWwsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZCxcclxuICAgICAgICAgICAgICAgIHBob25lOiB0aGlzLnN0YXRlLnBob25lLFxyXG4gICAgICAgICAgICAgICBidXNpbmVzc25hbWU6IHRoaXMuc3RhdGUuYnVzaW5lc3NuYW1lLFxyXG5cclxuICAgICAgICAgICAgICAgIHdlYnNpdGU6IHRoaXMuc3RhdGUud2Vic2l0ZSxcclxuICAgICAgICAgICAgICAgIGFkZHJlc3M6IHRoaXMuc3RhdGUuYWRkcmVzcyxcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbl9udW1iZXI6IHRoaXMuc3RhdGUub3JnYW5pemVyLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0NPTlRSQUNUT1InXHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmZXRjaChgdXNlcnMvcmVnaXN0ZXJ1c2VyYCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcInBvc3RcIiwgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcclxuICAgICAgICAgICAgICAgICAgICBcIkFjY2Vzcy1Db250cm9sLVJlcXVlc3QtSGVhZGVyc1wiOiBcIipcIixcclxuICAgICAgICAgICAgICAgICAgICBcIkFjY2Vzcy1Db250cm9sLVJlcXVlc3QtTWV0aG9kXCI6IFwiKlwiXHJcbiAgICAgICAgICAgICAgICB9LCBib2R5OiAnanNvbj0nICsgSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDQwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJkYXRhOiBkYXRhLm1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZWVycm9yOiBkYXRhLm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDIwMCkge1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiQ29udHJhY3RvciBSZWdpc3RyYXRpb24gU3VjY2Vzc2Z1bGxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gXCIvQ29udHJhY3RvclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuLypcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFpbi5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyZGF0YTogZGF0YS5kYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VlcnJvcjogXCJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcmRhdGEnLCBKU09OLnN0cmluZ2lmeShkYXRhLmRhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgZGF0YS50b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBcIi9cIjtcclxuKi9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhbGVydChcIlBsZWFzZSBGaWxsIEFsbCBNYW5kYXRvcnkgRmllbGRzIFwiKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyAgdGhpcy5jb21wbGVhdGV2YWxpZGF0aW9uKCk7XHJcbiAgICAgICAgLy8gYWxlcnQoJ0EgbmFtZSB3YXMgc3VibWl0dGVkOiAnICsgdGhpcy5zdGF0ZS5lbWFpbCsncGFzc3dvcmQnK3RoaXMuc3RhdGUuZW1haWwpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZUZpZWxkKGZpZWxkTmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhmaWVsZE5hbWUgKyBcIi1cIiArIHZhbHVlKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmZvcm1FcnJvcnMpO1xyXG5cclxuICAgICAgICBsZXQgZmllbGRWYWxpZGF0aW9uRXJyb3JzID0gdGhpcy5zdGF0ZS5mb3JtRXJyb3JzO1xyXG4gICAgICAgIGxldCBwYXNzd29yZFZhbGlkID0gdGhpcy5zdGF0ZS5wYXNzd29yZFZhbGlkO1xyXG4gICAgICAgIGxldCBwaG9uZXZhbGlkID0gdGhpcy5zdGF0ZS5waG9uZXZhbGlkO1xyXG4gICAgICAgIGxldCBuYW1ldmFsaWQgPSB0aGlzLnN0YXRlLm5hbWV2YWxpZDtcclxuICAgICAgICBsZXQgZW1haWxWYWxpZCA9IHRoaXMuc3RhdGUuZW1haWxWYWxpZDtcclxuXHJcbiAgICAgICAgc3dpdGNoIChmaWVsZE5hbWUpIHtcclxuICAgICAgICAgICAgY2FzZSAnZW1haWwnOlxyXG5cclxuICAgICAgICAgICAgICAgIC8vZW1haWxWYWxpZCA9IHZhbHVlLm1hdGNoKC9eKFtcXHcuJSstXSspQChbXFx3LV0rXFwuKSsoW1xcd117Mix9KSQvaSk7XHJcbiAgICAgICAgICAgICAgICBlbWFpbFZhbGlkID0gdmFsdWUubGVuZ3RoID49IDY7XHJcblxyXG4gICAgICAgICAgICAgICAgZmllbGRWYWxpZGF0aW9uRXJyb3JzLmVtYWlsID0gZW1haWxWYWxpZCA/ICcnIDogJ0ludmFsaWQgRW1haWwnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvcm1FcnJvcnM6IGZpZWxkVmFsaWRhdGlvbkVycm9ycywgZW1haWxWYWxpZDogZW1haWxWYWxpZCwgZW1haWw6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZW1haWxWYWxpZClcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncGFzc3dvcmQnOlxyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmRWYWxpZCA9IHZhbHVlLmxlbmd0aCA+PSA2O1xyXG4gICAgICAgICAgICAgICAgZmllbGRWYWxpZGF0aW9uRXJyb3JzLnBhc3N3b3JkID0gcGFzc3dvcmRWYWxpZCA/ICcnIDogJ1Bhc3N3b3JkIGNvbnRhaW4gbWluaW11bSA2IGNoYXJlY3RlcnMnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvcm1FcnJvcnM6IGZpZWxkVmFsaWRhdGlvbkVycm9ycywgcGFzc3dvcmRWYWxpZDogcGFzc3dvcmRWYWxpZCwgcGFzc3dvcmQ6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGFzc3dvcmRWYWxpZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncGhvbmUnOlxyXG4gICAgICAgICAgICAgICAgcGhvbmV2YWxpZCA9IHZhbHVlLmxlbmd0aCA+PSAxMDtcclxuICAgICAgICAgICAgICAgIGZpZWxkVmFsaWRhdGlvbkVycm9ycy5waG9uZSA9IHBob25ldmFsaWQgPyAnJyA6ICcgUGhvbmUgbnVtYmVyIGNvbnRhaW4gbWluaW11bSAxMCBjaGFyZWN0ZXJzJztcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmb3JtRXJyb3JzOiBmaWVsZFZhbGlkYXRpb25FcnJvcnMsIHBob25ldmFsaWQ6IHBob25ldmFsaWQsIHBob25lOiB2YWx1ZSB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBob25ldmFsaWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ25hbWUnOlxyXG4gICAgICAgICAgICAgICAgbmFtZXZhbGlkID0gdmFsdWUubGVuZ3RoID49IDM7XHJcbiAgICAgICAgICAgICAgICBmaWVsZFZhbGlkYXRpb25FcnJvcnMubmFtZSA9IG5hbWV2YWxpZCA/ICcnIDogJyBuYW1lIGNvbnRhaW4gbWluaW11bSAzIGNoYXJlY3RlcnMnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvcm1FcnJvcnM6IGZpZWxkVmFsaWRhdGlvbkVycm9ycywgbmFtZXZhbGlkOiBuYW1ldmFsaWQsIG5hbWU6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmFtZXZhbGlkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdidXNpbmVzc25hbWUnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGJ1c2luZXNzbmFtZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnd2Vic2l0ZSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgIHdlYnNpdGU6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2FkZHJlc3MnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFkZHJlc3M6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ29yZ2FuaXplcic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3JnYW5pemVyOiB2YWx1ZSB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuXHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBsb2dpbi10b3BcIj5cclxuICAgICAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgY3NpZ251cFwiIGlkPVwiYm94XCIgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyICB0ZXN0MVwiIHN0eWxlPXtmb3JtbGVmdH0+PGltZyBzcmM9XCIuL2ltZy9jb250cmFjdG9yX3NpZ251cC1iYW5uZXIuanBnXCIgY2xhc3NOYW1lPVwiaW1nLXJlc3BvbnNpdmVcIiAgYWx0PVwiaW1hZ2VcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtX3RvcDFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey8qPExvZ2luIGxvZ2luc3VibWl0PXt0aGlzLmxvZ2luc3VibWl0fSAgdmFsaWRhdGVGaWVsZD17dGhpcy52YWxpZGF0ZUZpZWxkLmJpbmQodGhpcyl9IC8+Ki99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDc2lnbnVwIHNpZ251cG5zdWJtaXQ9e3RoaXMuc2lnbnVwc3VibWl0LmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lRXJyb3JzPXt0aGlzLnN0YXRlLmZvcm1FcnJvcnMubmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBob25lRXJyb3JzPXt0aGlzLnN0YXRlLmZvcm1FcnJvcnMucGhvbmV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbWFpbEVycm9ycz17dGhpcy5zdGF0ZS5mb3JtRXJyb3JzLmVtYWlsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFzc3dvcmRFcnJvcnM9e3RoaXMuc3RhdGUuZm9ybUVycm9ycy5wYXNzd29yZH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWdudXBWYWxpZD17dGhpcy5zdGF0ZS5zaWdudXBWYWxpZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlRmllbGQ9e3RoaXMudmFsaWRhdGVGaWVsZC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VlcnJvcj17dGhpcy5zdGF0ZS5yZXNwb25zZWVycm9yfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+PC9kaXY+PC9kaXY+XHJcblxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb250cmFjdG9yc2lnbnVwOyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcclxuXHJcblxyXG4vL3ZhciBtYWludXJsPXJlcXVpcmUoJy4uL2NvbmZpZy5qcycpO1xyXG5cclxuY29uc3QgZm9ybWxlZnQgPSB7XHJcbiAgICBwYWRkaW5nTGVmdDogMFxyXG59XHJcblxyXG5cclxuY2xhc3MgTG9naW4gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgLy8gdGhpcy5zdGF0ZSA9IHsgZW1haWw6ICcnLCBwYXNzd29yZDogJycsIGVtYWlsVmFsaWQ6IGZhbHNlLCBwYXNzd29yZFZhbGlkOiBmYWxzZSwgZm9ybUVycm9yczogeyBlbWFpbDogJycsIHBhc3N3b3JkOiAnJyB9IH07XHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlID0gdGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKTtcclxuICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnByb3BzLnZhbGlkYXRlRmllbGQoZXZlbnQudGFyZ2V0Lm5hbWUsIGV2ZW50LnRhcmdldC52YWx1ZSlcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIGxvZ2ludmFsaWRhdGlvbnZlcmlmeSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lbWFpbFZhbGlkICYmIHRoaXMuc3RhdGUucGFzc3dvcmRWYWxpZCkge1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMucHJvcHMubG9naW5zdWJtaXQuYmluZCh0aGlzKX0gaWQ9XCJsb2dpblwiIGNsYXNzTmFtZT1cImZvcm0taG9yaXpvbnRhbFwiPlxyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiIGhpZGRlbj17KHRoaXMucHJvcHMucmVzcG9uc2VlcnJvcj09XCJcIil9PlxyXG4gICAge3RoaXMucHJvcHMucmVzcG9uc2VlcnJvcn1cclxuICA8L2Rpdj4gICAgICAgIFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJlbWFpbFwiIHBsYWNlaG9sZGVyPVwiRW1haWwqXCIgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1iZ1wiIG9uQmx1cj17dGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKX0gcmVxdWlyZWQvPlxyXG4gICAgICAgIDxzcGFuIGlkPVwiZXJyb3JcIj57dGhpcy5wcm9wcy5FbWFpbEVycm9yc308L3NwYW4+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkKlwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1iZzFcIiBuYW1lPVwicGFzc3dvcmRcIiBvbkJsdXI9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyl9IHJlcXVpcmVkLz5cclxuICAgICAgICA8c3BhbiBpZD1cImVycm9yXCI+e3RoaXMucHJvcHMuUGFzc3dvcmRFcnJvcnN9PC9zcGFuPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+ICA8YSBocmVmPVwiL0ZvcmdvdHBhc3N3b3JkXCI+PHU+Rm9yZ290IFBhc3N3b3JkID88L3U+IDwvYT48L3A+XHJcbiAgICA8L2Rpdj5cclxuICAgICBcclxuICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+IDxkaXY+IDxpbnB1dCB0eXBlPVwic3VibWl0XCIgY2xhc3NOYW1lPSdidG4gYnRuLWluZm8nIGlkPVwiYnV0dG9ubmV3XCIgdmFsdWU9XCJMb2dpblwiIC8+IFxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwiL1JlZ2lzdGVyXCI+PGJ1dHRvbiAgY2xhc3NOYW1lPVwic2lnbnVwLWJ0blwiPnNpZ251cCBoZXJlID88L2J1dHRvbj48L0xpbms+PC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcbmNsYXNzIExvZ2luU2lnbnVwIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBlbWFpbDogJycsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJyxcclxuICAgICAgICAgICAgbmFtZTogJycsXHJcbiAgICAgICAgICAgIHBob25lOiAnJyxcclxuICAgICAgICAgICAgZW1haWxWYWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkVmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBmb3JtRXJyb3JzOiB7IGVtYWlsOiAnJywgcGFzc3dvcmQ6ICcnLCBuYW1lOiAnJywgcGhvbmU6ICcnIH0sXHJcbiAgICAgICAgICAgIHBob25ldmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBuYW1ldmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBsb2dpblZhbGlkOiBmYWxzZSxcclxuICAgICAgICAgICAgc2lnbnVwVmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICByZXNwb25zZWVycm9yOlwiXCJcclxuICAgICAgICB9O1xyXG5cclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICBsb2dpbnN1Ym1pdChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbWFpbiA9IHRoaXM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgIGVtYWlsOiB0aGlzLnN0YXRlLmVtYWlsLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZCxcclxuICAgICAgICAgICAgdHlwZTogJ1VTRVInXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmZXRjaCgndXNlcnMvdXNlckxvZ2luJywge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwicG9zdFwiLCBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXHJcbiAgICAgICAgICAgICAgICBcIkFjY2Vzcy1Db250cm9sLVJlcXVlc3QtSGVhZGVyc1wiOiBcIipcIixcclxuICAgICAgICAgICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1NZXRob2RcIjogXCIqXCJcclxuICAgICAgICAgICAgfSwgYm9keTogJ2pzb249JyArIEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuXHJcblxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gNDAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFpbi5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJkYXRhOiBkYXRhLm1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlZXJyb3I6ZGF0YS5tZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZihkYXRhLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXNlcmRhdGE7XHJcbmlmKGRhdGEuZGF0YS50eXBlPT1cIlVTRVJcIilcclxuICAgIHtcclxuICAgICAgICAgICAgIHVzZXJkYXRhPVxyXG57XCJ0eXBlXCI6ZGF0YS5kYXRhLnR5cGUsXHJcblwiZXN0ZGV0XCI6ZGF0YS5kYXRhLmVzdGRldCxcclxuXCJ1cGRhdGVvblwiOmRhdGEuZGF0YS51cGRhdGVvbixcclxuXCJjcmF0ZWRvblwiOmRhdGEuZGF0YS5jcmF0ZWRvbixcclxuXCJlbWFpbFwiOmRhdGEuZGF0YS5lbWFpbCxcInBob25lXCI6ZGF0YS5kYXRhLnBob25lLFwibmFtZVwiOmRhdGEuZGF0YS5uYW1lLFwidG9rZW5cIjpkYXRhLnRva2VufVxyXG4gICAgfWVsc2UgaWYoZGF0YS5kYXRhLnR5cGU9PVwiQ09OVFJBQ1RPUlwiKVxyXG57XHJcbiAgICB1c2VyZGF0YT17XCJ0eXBlXCI6ZGF0YS5kYXRhLnR5cGUsXHJcblwib3JnYW5pemF0aW9uX251bWJlclwiOmRhdGEuZGF0YSxvcmdhbml6YXRpb25fbnVtYmVyLFxyXG5cImFkZHJlc3NcIjpkYXRhLmRhdGEuYWRkcmVzcyxcclxuXCJ3ZWJzaXRlXCI6ZGF0YS5kYXRhLndlYnNpdGUsXHJcblwiYnVzaW5lc3NuYW1lXCI6ZGF0YS5kYXRhLmJ1c2luZXNzbmFtZSxcclxuXCJ1cGRhdGVvblwiOmRhdGEuZGF0YS51cGRhdGVvbixcclxuXCJjcmF0ZWRvblwiOmRhdGEuZGF0YS5jcmF0ZWRvbixcclxuXCJlbWFpbFwiOmRhdGEuZGF0YS5lbWFpbCxcInBob25lXCI6ZGF0YS5kYXRhLnBob25lLFwibmFtZVwiOmRhdGEuZGF0YS5uYW1lLFwidG9rZW5cIjpkYXRhLnRva2V9XHJcbn1cclxuXHJcblxyXG4gICAgICAgICAgICBcclxubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJkYXRhJyxKU09OLnN0cmluZ2lmeSh1c2VyZGF0YSkpO1xyXG5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLGRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1haW4uc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyZGF0YTogZGF0YS5kYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZWVycm9yOlwiXCJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmPVwiL1wiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2lnbnVwc3VibWl0KGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBhbGVydChcIm9rXCIpO1xyXG4gICAgICAgIHRoaXMuY29tcGxlYXRldmFsaWRhdGlvbigpO1xyXG4gICAgICAgIC8vIGFsZXJ0KCdBIG5hbWUgd2FzIHN1Ym1pdHRlZDogJyArIHRoaXMuc3RhdGUuZW1haWwrJ3Bhc3N3b3JkJyt0aGlzLnN0YXRlLmVtYWlsKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGVGaWVsZChmaWVsZE5hbWUsIHZhbHVlKSB7XHJcblxyXG4gICAgICAgIGxldCBmaWVsZFZhbGlkYXRpb25FcnJvcnMgPSB0aGlzLnN0YXRlLmZvcm1FcnJvcnM7XHJcbiAgICAgICAgbGV0IHBhc3N3b3JkVmFsaWQgPSB0aGlzLnN0YXRlLnBhc3N3b3JkVmFsaWQ7XHJcbiAgICAgICAgbGV0IHBob25ldmFsaWQgPSB0aGlzLnN0YXRlLnBob25ldmFsaWQ7XHJcbiAgICAgICAgbGV0IG5hbWV2YWxpZCA9IHRoaXMuc3RhdGUubmFtZXZhbGlkO1xyXG4gICAgICAgIGxldCBlbWFpbFZhbGlkID0gdGhpcy5zdGF0ZS5lbWFpbFZhbGlkO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGZpZWxkTmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlICdlbWFpbCc6XHJcblxyXG4gICAgICAgICAgICAgICAgLy9lbWFpbFZhbGlkID0gdmFsdWUubWF0Y2goL14oW1xcdy4lKy1dKylAKFtcXHctXStcXC4pKyhbXFx3XXsyLH0pJC9pKTtcclxuICAgICAgICAgICAgICAgIGVtYWlsVmFsaWQgPSB2YWx1ZS5sZW5ndGggPj0gNjtcclxuXHJcbiAgICAgICAgICAgICAgICBmaWVsZFZhbGlkYXRpb25FcnJvcnMuZW1haWwgPSBlbWFpbFZhbGlkID8gJycgOiAnSW52YWxpZCBlbWFpbCAnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvcm1FcnJvcnM6IGZpZWxkVmFsaWRhdGlvbkVycm9ycywgZW1haWxWYWxpZDogZW1haWxWYWxpZCwgZW1haWw6IHZhbHVlIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwYXNzd29yZCc6XHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZFZhbGlkID0gdmFsdWUubGVuZ3RoID49IDY7XHJcbiAgICAgICAgICAgICAgICBmaWVsZFZhbGlkYXRpb25FcnJvcnMucGFzc3dvcmQgPSBwYXNzd29yZFZhbGlkID8gJycgOiAnUGFzc3dvcmQgaGF2ZSBtaW5pbXVtIDYgY2hhcmVjdGVycyAnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvcm1FcnJvcnM6IGZpZWxkVmFsaWRhdGlvbkVycm9ycywgcGFzc3dvcmRWYWxpZDogcGFzc3dvcmRWYWxpZCwgcGFzc3dvcmQ6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1mbHVpZCBiZy13aGl0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hkb3dfd3RcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIHRleHQtY2VudGVyIGxvZ2luX3R4dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vaW1nL2Rpc29sYXJfbG9nb19ibGFjay5wbmdcIiAgYWx0PVwiaW1hZ2VcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Ww6Rsa29tbWVuIHRpbGxiYWthITwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoND5Mb2dnYSBpbiBmw7ZyIGF0dCBmw6UgdGlsbGfDpW5nIHRpbGwgZGluw6UgcHJpc3VwcHNrYXR0bmluZ2FyPC9oND5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRleHQtY2VudGVyIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyXCI+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybV90b3AxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxMb2dpbiBsb2dpbnN1Ym1pdD17dGhpcy5sb2dpbnN1Ym1pdC5iaW5kKHRoaXMpfSB2YWxpZGF0ZUZpZWxkPXt0aGlzLnZhbGlkYXRlRmllbGQuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVtYWlsRXJyb3JzPXt0aGlzLnN0YXRlLmZvcm1FcnJvcnMuZW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXNzd29yZEVycm9ycz17dGhpcy5zdGF0ZS5mb3JtRXJyb3JzLnBhc3N3b3JkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VlcnJvcj17dGhpcy5zdGF0ZS5yZXNwb25zZWVycm9yfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIDxTaWdudXAgc2lnbnVwbnN1Ym1pdD17dGhpcy5zaWdudXBzdWJtaXR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lRXJyb3JzPXt0aGlzLnN0YXRlLmZvcm1FcnJvcnMubmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBob25lRXJyb3JzPXt0aGlzLnN0YXRlLmZvcm1FcnJvcnMucGhvbmV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbWFpbEVycm9ycz17dGhpcy5zdGF0ZS5mb3JtRXJyb3JzLmVtYWlsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFzc3dvcmRFcnJvcnM9e3RoaXMuc3RhdGUuZm9ybUVycm9ycy5wYXNzd29yZH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWdudXBWYWxpZD17dGhpcy5zdGF0ZS5zaWdudXBWYWxpZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlRmllbGQ9e3RoaXMudmFsaWRhdGVGaWVsZC5iaW5kKHRoaXMpfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+ICovfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bWltZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vaW1nL2Jvb3RtLWltLmpwZ1wiIGNsYXNzTmFtZT1cImltZy1yZXNwb25zaXZlXCIgIGFsdD1cImltYWdlXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICBcclxuXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExvZ2luU2lnbnVwOyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcclxuXHJcbi8vdmFyIG1haW51cmw9cmVxdWlyZSgnLi4vY29uZmlnLmpzJyk7XHJcblxyXG5jb25zdCBmb3JtbGVmdCA9IHtcclxuICAgIHBhZGRpbmdMZWZ0OiAwXHJcbn1cclxuXHJcblxyXG5jbGFzcyBMb2dpbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICAvLyB0aGlzLnN0YXRlID0geyBlbWFpbDogJycsIHBhc3N3b3JkOiAnJywgZW1haWxWYWxpZDogZmFsc2UsIHBhc3N3b3JkVmFsaWQ6IGZhbHNlLCBmb3JtRXJyb3JzOiB7IGVtYWlsOiAnJywgcGFzc3dvcmQ6ICcnIH0gfTtcclxuXHJcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIC8vICB0aGlzLmxvZ2luc3VibWl0ID0gdGhpcy5sb2dpbnN1Ym1pdC5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNoYW5nZShldmVudCkge1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5wcm9wcy52YWxpZGF0ZUZpZWxkKGV2ZW50LnRhcmdldC5uYW1lLCBldmVudC50YXJnZXQudmFsdWUpXHJcblxyXG4gICAgICAgIC8vdGhpcy5zZXRTdGF0ZSh7W2V2ZW50LnRhcmdldC5uYW1lXTogZXZlbnQudGFyZ2V0LnZhbHVlfSk7IFxyXG4gICAgICAgIC8qIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldC5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldC52YWx1ZSk7XHJcblxyXG4qL1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucHJvcHMuc3RhdGUpO1xyXG4gICAgICAgIC8vdGhpcy5zZXRTdGF0ZSh7IGVtYWlsOiBldmVudC50YXJnZXQudmFsdWUsIG5hbWU6IGV2ZW50LnRhcmdldC5uYW1lIH0pO1xyXG4gICAgICAgIC8vdmFsaWRhdGVGaWVsZChldmVudC50YXJnZXQubmFtZSxldmVudC50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgIC8vdGhpcy5zZXRTdGF0ZShbZXZlbnQudGFyZ2V0Lm5hbWVdKXRoaXMudmFsaWRhdGVGaWVsZChldmVudC50YXJnZXQubmFtZSwgZXZlbnQudGFyZ2V0LnZhbHVlKVxyXG4gICAgICAgIC8vY29uc29sZS5sb2coOmV2ZW50LnRhcmdldC52YWx1ZSx0aGlzLnN0YXRlLmZvcm1FcnJvcnMpO1xyXG4gICAgICAgIC8vICBhbGVydChldmVudC50YXJnZXQubmFtZSk7XHJcblxyXG4gICAgfVxyXG4gICAgLypcclxuICAgICAgICBsb2dpbnN1Ym1pdChldmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBsZWF0ZXZhbGlkYXRpb24oKTtcclxuICAgICAgICAgICAgLy8gYWxlcnQoJ0EgbmFtZSB3YXMgc3VibWl0dGVkOiAnICsgdGhpcy5zdGF0ZS5lbWFpbCsncGFzc3dvcmQnK3RoaXMuc3RhdGUuZW1haWwpO1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgICovXHJcbiAgICBsb2dpbnZhbGlkYXRpb252ZXJpZnkoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZW1haWxWYWxpZCAmJiB0aGlzLnN0YXRlLnBhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5wcm9wcy5sb2dpbnN1Ym1pdC5iaW5kKHRoaXMpfSBpZD1cImxvZ2luXCI+XHJcbiAgICAgICAgICAgICAgICA8aDM+TG9naW48L2gzPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJlbWFpbFwiIHBsYWNlaG9sZGVyPVwiRW1haWwqXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LWJnXCIgb25CbHVyPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfSAvPlxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgcGxhY2Vob2xkZXI9XCJQYXNzd29yZCpcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtYmcxXCIgbmFtZT1cInBhc3N3b3JkXCIgb25CbHVyPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfSAvPlxyXG5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj4gIDxhIGhyZWY9XCJcIj48dT5Gb3Jnb3QgUGFzc3dvcmQgPzwvdT4gPC9hPjwvcD5cclxuICAgICAgICAgICAgICAgIDxkaXY+IDxpbnB1dCB0eXBlPVwic3VibWl0XCIgY2xhc3NOYW1lPSdidG4gYnRuLWluZm8nIGlkPVwiYnV0dG9ubmV3XCIgdmFsdWU9XCJMb2dpblwiIC8+IChvciApIDxhIGhyZWY9XCJcIj5zaWdudXAgaGVyZSA/IDwvYT48L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuY2xhc3MgU2lnbnVwIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgICAgLy8gIGNvbnNvbGUubG9nKHRoaXMucHJvcHMpXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnByb3BzLnZhbGlkYXRlRmllbGQoZXZlbnQudGFyZ2V0Lm5hbWUsIGV2ZW50LnRhcmdldC52YWx1ZSlcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG5cclxuICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMucHJvcHMuc2lnbnVwbnN1Ym1pdH0gaWQ9XCJzaWdudXBcIiBjbGFzc05hbWU9XCJmb3JtLWhvcml6b250YWwgXCI+XHJcbiAgICAgICAgICAgICAgICBcclxuXHJcbiAgICB7LyogPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC1kYW5nZXJcIiBoaWRkZW49eyh0aGlzLnByb3BzLnJlc3BvbnNlZXJyb3I9PVwiXCIpfT4gXHJcbiAgICB7dGhpcy5wcm9wcy5yZXNwb25zZWVycm9yfVxyXG4gIDwvZGl2PiovfVxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIm5hbWVcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtbmFtZWJnXCIgcGxhY2Vob2xkZXI9XCJOYW1lKlwiICBvbkJsdXI9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyl9IHJlcXVpcmVkLz5cclxuXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cImVycm9yXCI+e3RoaXMucHJvcHMubmFtZUVycm9yc31cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuXHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwicGhvbmVcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtcGhvbmViZ1wiIHBsYWNlaG9sZGVyPVwiUGhvbmUqXCIgb25CbHVyPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfSByZXF1aXJlZC8+XHJcbiAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJlcnJvclwiPnt0aGlzLnByb3BzLlBob25lRXJyb3JzfVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJlbWFpbFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1iZ1wiIHBsYWNlaG9sZGVyPVwiRW1haWwqXCIgb25CbHVyPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfSByZXF1aXJlZC8+XHJcblxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBpZD1cImVycm9yXCI+e3RoaXMucHJvcHMuRW1haWxFcnJvcnN9XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LWJnMVwiIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmQqXCIgb25CbHVyPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfSByZXF1aXJlZC8+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cImVycm9yXCI+e3RoaXMucHJvcHMuUGFzc3dvcmRFcnJvcnN9XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXY+IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiByZXF1aXJlZC8+ICAgPGxhYmVsPkkgQWdyZWUgdG8gPGEgaHJlZj1cIlwiPlRlcm1zICYgQ29uZGl0aW9uczwvYT48L2xhYmVsPjwvZGl2PlxyXG5cclxuPGJyLz48ZGl2ID5cclxuICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgaWQ9XCJidXR0b25uZXdcIiAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1pbmZvXCIgdmFsdWU9XCJTaWdudXBcIiAgIGRpc2FibGVkPXsodGhpcy5wcm9wcy5uYW1lRXJyb3JzPT1cIlwiICYmIHRoaXMucHJvcHMuRW1haWxFcnJvcnM9PVwiXCIgJiYgdGhpcy5wcm9wcy5QaG9uZUVycm9ycz09XCJcIiAmJiB0aGlzLnByb3BzLlBhc3N3b3JkRXJyb3JzPT1cIlwiKSA/IGZhbHNlIDogdHJ1ZSAgIH0gLz5cclxuICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwibG9naW5cIj48YnV0dG9uIHR5cGU9XCJidG5cIiBjbGFzc05hbWU9XCJzaWdudXAtYnRuXCI+U2lnbiBpbiBoZXJlPC9idXR0b24+IDwvTGluaz5cclxuPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8YnIvPlxyXG4gICAgICAgICAgICA8L2Zvcm0+XHJcblxyXG5cclxuXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5cclxuY2xhc3MgUmVnaXN0cmF0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBlbWFpbDogJycsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJyxcclxuICAgICAgICAgICAgbmFtZTogJycsXHJcbiAgICAgICAgICAgIHBob25lOiAnJyxcclxuICAgICAgICAgICAgZW1haWxWYWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkVmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBmb3JtRXJyb3JzOiB7IGVtYWlsOiAnJywgcGFzc3dvcmQ6ICcnLCBuYW1lOiAnJywgcGhvbmU6ICcnIH0sXHJcbiAgICAgICAgICAgIHBob25ldmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBuYW1ldmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBsb2dpblZhbGlkOmZhbHNlLFxyXG4gICAgICAgICAgICBzaWdudXBWYWxpZDpmYWxzZSxcclxuICAgICAgICAgICAgcmVzcG9uc2VlcnJvcjpcIlwiXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBsb2dpbnN1Ym1pdChldmVudCkge1xyXG4gICAgICAgLy8gdGhpcy5jb21wbGVhdGV2YWxpZGF0aW9uKCk7XHJcbiAgICAgICAgLy8gYWxlcnQoJ0EgbmFtZSB3YXMgc3VibWl0dGVkOiAnICsgdGhpcy5zdGF0ZS5lbWFpbCsncGFzc3dvcmQnK3RoaXMuc3RhdGUuZW1haWwpO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2lnbnVwc3VibWl0KGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBcclxuXHJcblxyXG5pZih0aGlzLnN0YXRlLmZvcm1FcnJvcnMuZW1haWw9PVwiXCIgJiYgdGhpcy5zdGF0ZS5mb3JtRXJyb3JzLm5hbWU9PVwiXCIgJiYgdGhpcy5zdGF0ZS5mb3JtRXJyb3JzLnBob25lPT1cIlwiICYmIHRoaXMuc3RhdGUuZm9ybUVycm9ycy5wYXNzd29yZD09XCJcIilcclxuICAgIHtcclxuYWxlcnQoXCJzdWNjZXNzXCIpO1xyXG5cclxuXHJcbiAgY29uc3QgbWFpbiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuc3RhdGUubmFtZSxcclxuICAgICAgICAgICAgZW1haWw6IHRoaXMuc3RhdGUuZW1haWwsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkLFxyXG4gICAgICAgICAgICBwaG9uZTogdGhpcy5zdGF0ZS5waG9uZSxcclxuICAgICAgICAgICAgdHlwZTogJ1VTRVInXHJcbiAgICAgICAgfSAgICAgXHJcblxyXG4gICAgICAgIGZldGNoKGB1c2Vycy9yZWdpc3RlcnVzZXJgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJwb3N0XCIsIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcclxuICAgICAgICAgICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1IZWFkZXJzXCI6IFwiKlwiLFxyXG4gICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LU1ldGhvZFwiOiBcIipcIlxyXG4gICAgICAgICAgICB9LCBib2R5OiAnanNvbj0nICsgSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gNDAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFpbi5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJkYXRhOiBkYXRhLm1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlZXJyb3I6ZGF0YS5tZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZihkYXRhLnN0YXR1cyA9PSAyMDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbWFpbi5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJkYXRhOiBkYXRhLmRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlZXJyb3I6XCJcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyZGF0YScsSlNPTi5zdHJpbmdpZnkoZGF0YS5kYXRhKSk7XHJcbmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsZGF0YS50b2tlbik7XHJcbmxvY2F0aW9uLmhyZWY9XCIvXCI7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIH1lbHNle1xyXG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIEZpbGwgQWxsIE1hbmRhdG9yeSBGaWVsZHMgXCIpO1xyXG4gICAgfVxyXG5cclxuICAgICAgIFxyXG4gICAgICAvLyAgdGhpcy5jb21wbGVhdGV2YWxpZGF0aW9uKCk7XHJcbiAgICAgICAgLy8gYWxlcnQoJ0EgbmFtZSB3YXMgc3VibWl0dGVkOiAnICsgdGhpcy5zdGF0ZS5lbWFpbCsncGFzc3dvcmQnK3RoaXMuc3RhdGUuZW1haWwpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZUZpZWxkKGZpZWxkTmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhmaWVsZE5hbWUgKyBcIi1cIiArIHZhbHVlKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmZvcm1FcnJvcnMpO1xyXG5cclxuICAgICAgICBsZXQgZmllbGRWYWxpZGF0aW9uRXJyb3JzID0gdGhpcy5zdGF0ZS5mb3JtRXJyb3JzO1xyXG4gICAgICAgIGxldCBwYXNzd29yZFZhbGlkID0gdGhpcy5zdGF0ZS5wYXNzd29yZFZhbGlkO1xyXG4gICAgICAgIGxldCBwaG9uZXZhbGlkID0gdGhpcy5zdGF0ZS5waG9uZXZhbGlkO1xyXG4gICAgICAgIGxldCBuYW1ldmFsaWQgPSB0aGlzLnN0YXRlLm5hbWV2YWxpZDtcclxuICAgICAgICBsZXQgZW1haWxWYWxpZCA9IHRoaXMuc3RhdGUuZW1haWxWYWxpZDtcclxuXHJcbiAgICAgICAgc3dpdGNoIChmaWVsZE5hbWUpIHtcclxuICAgICAgICAgICAgY2FzZSAnZW1haWwnOlxyXG5cclxuICAgICAgICAgICAgICAgIC8vZW1haWxWYWxpZCA9IHZhbHVlLm1hdGNoKC9eKFtcXHcuJSstXSspQChbXFx3LV0rXFwuKSsoW1xcd117Mix9KSQvaSk7XHJcbiAgICAgICAgICAgICAgICBlbWFpbFZhbGlkID0gdmFsdWUubGVuZ3RoID49IDY7XHJcblxyXG4gICAgICAgICAgICAgICAgZmllbGRWYWxpZGF0aW9uRXJyb3JzLmVtYWlsID0gZW1haWxWYWxpZCA/ICcnIDogJ0ludmFsaWQgRW1haWwnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvcm1FcnJvcnM6IGZpZWxkVmFsaWRhdGlvbkVycm9ycywgZW1haWxWYWxpZDogZW1haWxWYWxpZCxlbWFpbDp2YWx1ZSB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVtYWlsVmFsaWQpXHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkVmFsaWQgPSB2YWx1ZS5sZW5ndGggPj0gNjtcclxuICAgICAgICAgICAgICAgIGZpZWxkVmFsaWRhdGlvbkVycm9ycy5wYXNzd29yZCA9IHBhc3N3b3JkVmFsaWQgPyAnJyA6ICdQYXNzd29yZCBjb250YWluIG1pbmltdW0gNiBjaGFyZWN0ZXJzJztcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmb3JtRXJyb3JzOiBmaWVsZFZhbGlkYXRpb25FcnJvcnMsIHBhc3N3b3JkVmFsaWQ6IHBhc3N3b3JkVmFsaWQscGFzc3dvcmQ6dmFsdWUgfSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYXNzd29yZFZhbGlkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwaG9uZSc6XHJcbiAgICAgICAgICAgICAgICBwaG9uZXZhbGlkID0gdmFsdWUubGVuZ3RoID49IDEwO1xyXG4gICAgICAgICAgICAgICAgZmllbGRWYWxpZGF0aW9uRXJyb3JzLnBob25lID0gcGhvbmV2YWxpZCA/ICcnIDogJyBQaG9uZSBudW1iZXIgY29udGFpbiBtaW5pbXVtIDEwIGNoYXJlY3RlcnMnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvcm1FcnJvcnM6IGZpZWxkVmFsaWRhdGlvbkVycm9ycywgcGhvbmV2YWxpZDogcGhvbmV2YWxpZCxwaG9uZTp2YWx1ZSB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBob25ldmFsaWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ25hbWUnOlxyXG4gICAgICAgICAgICAgICAgbmFtZXZhbGlkID0gdmFsdWUubGVuZ3RoID49IDM7XHJcbiAgICAgICAgICAgICAgICBmaWVsZFZhbGlkYXRpb25FcnJvcnMubmFtZSA9IG5hbWV2YWxpZCA/ICcnIDogJ05hbWUgY29udGFpbiBtaW5pbXVtIDMgY2hhcmVjdGVycyc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZm9ybUVycm9yczogZmllbGRWYWxpZGF0aW9uRXJyb3JzLCBuYW1ldmFsaWQ6IG5hbWV2YWxpZCxuYW1lOnZhbHVlIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmFtZXZhbGlkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgIFxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyLWZsdWlkIGJnLXdoaXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hkb3dfd3RcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgdGV4dC1jZW50ZXIgbG9naW5fdHh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9pbWcvZGlzb2xhcl9sb2dvX2JsYWNrLnBuZ1wiICBhbHQ9XCJpbWFnZVwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgPGgzPkRJTiBQUklTVVBQU0tBVFROSU5HIMOEUiBGw4RSRElHITwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgIDxoNT48Yj5WSSBIQVIgTlUgR0VORVJFUkFUIERJTiBQUklTVVBQU0tBVFROSU5HIEJBU0VSQVQgUMOFIEbDlkxKQU5ERSBVUFBHSUZURVI8L2I+XHJcbjwvaDU+XHJcbiAgICAgICAgICAgICAgICAgPGg0PjxiPkxvZ2dhIGluIGVsbGVyIHJlZ2lzdHJlcmEgZXR0IGtvbnRvIGbDtnIgYXR0IGbDpSB0aWxsZ8OlbmcgdGlsbCBkaW4gcHJpc3VwcHNrYXR0bmluZzwvYj48L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKjxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIHRleHQtY2VudGVyIHJlZ2lzdHJuX2FkZCAgbG9naW5fdHh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxzcGFuIGNsYXNzTmFtZT1cImFkZHJlc190eHRcIj5BZGRyZXNzIDo8L3NwYW4+IGR1bW15IHRleHQgb2YgdGhlIHByaW50aW5nIGFuZCB0PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJhZGRyZXNfdHh0XCI+QWRkcmVzcyA6PC9zcGFuPiBkdW1teSB0ZXh0IG9mIHRoZSBwcmludGluZyBhbmQgdDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PHNwYW4gY2xhc3NOYW1lPVwiYWRkcmVzX3R4dFwiPkFkZHJlc3MgOjwvc3Bhbj4gZHVtbXkgdGV4dCBvZiB0aGUgcHJpbnRpbmcgYW5kIHQ8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxzcGFuIGNsYXNzTmFtZT1cImFkZHJlc190eHRcIj5BZGRyZXNzIDo8L3NwYW4+IGR1bW15IHRleHQgb2YgdGhlIHByaW50aW5nIGFuZCB0PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0PkxvcmVtIElwc3VtIGlzIHNpbXBseSBkdW1teSB0ZXh0IG9mIHRoZSBwcmludGluZyBhbmQgdHlwZXNldHRpbmcgaW5kdXN0cnkuPC9oND5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4qL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTaWdudXAgc2lnbnVwbnN1Ym1pdD17dGhpcy5zaWdudXBzdWJtaXQuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVFcnJvcnM9e3RoaXMuc3RhdGUuZm9ybUVycm9ycy5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGhvbmVFcnJvcnM9e3RoaXMuc3RhdGUuZm9ybUVycm9ycy5waG9uZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVtYWlsRXJyb3JzPXt0aGlzLnN0YXRlLmZvcm1FcnJvcnMuZW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXNzd29yZEVycm9ycz17dGhpcy5zdGF0ZS5mb3JtRXJyb3JzLnBhc3N3b3JkfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ251cFZhbGlkPXt0aGlzLnN0YXRlLnNpZ251cFZhbGlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVGaWVsZD17dGhpcy52YWxpZGF0ZUZpZWxkLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZWVycm9yPXt0aGlzLnN0YXRlLnJlc3BvbnNlZXJyb3J9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz4gICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bWltZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vaW1nL2Jvb3RtLWltLmpwZ1wiIGNsYXNzTmFtZT1cImltZy1yZXNwb25zaXZlXCIgIGFsdD1cImltYWdlXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIFxyXG5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUmVnaXN0cmF0aW9uOyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHRvdGFsbWVtIH0gZnJvbSAnb3MnO1xyXG5jb25zdCBtYXRzdHlsZSA9IHtcclxuICAgIHBhZGRpbmc6IDEwLFxyXG4gICAgbWFyZ2luOiA1LFxyXG4gICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjY2NjXCIsXHJcbiAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXHJcbiAgICBmb3JtbWFyZ2luOiB7IG1hcmdpbjogMTAsIGNvbG9yOiBcIiNmZmZcIiB9LFxyXG4gICAgc2lnbnVwOiB7XHJcbiAgICAgICAgY29sb3I6IFwiIzViYzBkZVwiLFxyXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcclxuICAgIH0sXHJcbiAgICBoMjoge1xyXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcclxuICAgIH1cclxufVxyXG5cclxubGV0IFJvb2ZwcmljZSA9IDAsIGNvc3RvZm1hdGVyaWFsID0gMCxcclxuICAgIGNvc3RvZmxhYm91ciA9IDAsIGNvc3RvZmNvbnRhaW5lciA9IDAsXHJcbiAgICBBcmVhID0gMDtcclxuXHJcbmNsYXNzIExvZ2luRXN0aW1hdGUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHN0ZXBJbmRleDogMSxcclxuICAgICAgICAgICAgZmluaXNoZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBjbGVhcjoge30sXHJcbiAgICAgICAgICAgIHByZXZpb3VzOiB7fSxcclxuICAgICAgICAgICAgbmV4dDoge30sXHJcbiAgICAgICAgICAgIGhhdmVhY2NvdW50OiBmYWxzZSxcclxuICAgICAgICAgICAgZW1haWw6ICcnLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXHJcbiAgICAgICAgICAgIG5hbWU6ICcnLFxyXG4gICAgICAgICAgICBwaG9uZTogJycsXHJcbiAgICAgICAgICAgIGVtYWlsVmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBwYXNzd29yZFZhbGlkOiBmYWxzZSxcclxuICAgICAgICAgICAgZm9ybUVycm9yczogeyBlbWFpbDogJycsIHBhc3N3b3JkOiAnJywgbmFtZTogJycsIHBob25lOiAnJyB9LFxyXG4gICAgICAgICAgICBwaG9uZXZhbGlkOiBmYWxzZSxcclxuICAgICAgICAgICAgbmFtZXZhbGlkOiBmYWxzZSxcclxuICAgICAgICAgICAgbG9naW5WYWxpZDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNpZ251cFZhbGlkOiBmYWxzZSxcclxuICAgICAgICAgICAgcm9vZmVycm9ybWVzc2FnZTogXCJcIixcclxuICAgICAgICAgICAgcmVzcG9uY2VlcnJvcjogXCJcIixcclxuICAgICAgICAgICAgcmVzcG9uY2VlcnJvcmxvZ2luOiBcIlwiLFxyXG4gICAgICAgICAgICByZXNwb25jZWVycm9yc2lnbnVwOiBcIlwiLFxyXG4gICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICBsb2FkZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICB0ZXh0OiAnRXN0aW1lcmFyIHByaXMuLi4nLFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNoYW5nZVJvdXRlID0gdGhpcy5jaGFuZ2VSb3V0ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGNvc3RvZm1hdGVyaWFsID0gcGFyc2VGbG9hdCh0aGlzLnByb3BzLm1hdGVyaWFsY29zdCkgKiBwYXJzZUZsb2F0KHRoaXMucHJvcHMuYXJlYSk7XHJcbiAgICAgICAgY29zdG9mbGFib3VyID0gcGFyc2VGbG9hdCh0aGlzLnByb3BzLnJvb2ZzdHlsZWNvc3QpICogcGFyc2VGbG9hdCh0aGlzLnByb3BzLmFyZWEpO1xyXG4gICAgICAgIC8vYXJlYSA9IHBhcnNlRmxvYXQodGhpcy5wcm9wcy5hcmVhKTtcclxuICAgICAgICBmdW5jdGlvbiBkZWdyZWVzX3RvX3JhZGlhbnMoZGVncmVlcykge1xyXG4gICAgICAgICAgICB2YXIgcGkgPSBNYXRoLlBJO1xyXG4gICAgICAgICAgICByZXR1cm4gZGVncmVlcyAqIChwaSAvIDE4MCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb3NhbmdsZSA9IE1hdGguY29zKGRlZ3JlZXNfdG9fcmFkaWFucygyNSkpO1xyXG4gICAgICAgIEFyZWEgPSAodGhpcy5wcm9wcy5hcmVhIC8gY29zYW5nbGUpO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm1hdGVyaWFsID09PSBcIlBhcHB0YWtcIikge1xyXG4gICAgICAgICAgICAvLyBjb3N0b2ZtYXRlcmlhbCA9IDg1ICogcGFyc2VGbG9hdChBcmVhKTtcclxuICAgICAgICAgICAgY29zdG9mbWF0ZXJpYWwgPSA4NSAqIHBhcnNlRmxvYXQoQXJlYSk7XHJcbiAgICAgICAgICAgIGlmIChBcmVhIDwgNzApIHtcclxuICAgICAgICAgICAgICAgIGNvc3RvZmxhYm91ciA9IDIyMCAqIHBhcnNlRmxvYXQoQXJlYSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJlYSA+IDcwICYmIEFyZWEgPCAxMDAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb3N0b2ZsYWJvdXIgPSAxOTAgKiBwYXJzZUZsb2F0KEFyZWEpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFyZWEgPiAxMDAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb3N0b2ZsYWJvdXIgPSAxMDAgKiBwYXJzZUZsb2F0KEFyZWEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvc3RvZmNvbnRhaW5lciA9IDgwMDA7XHJcbiAgICAgICAgUm9vZnByaWNlID0gcGFyc2VGbG9hdChjb3N0b2Zjb250YWluZXIpICsgcGFyc2VGbG9hdChjb3N0b2ZsYWJvdXIpICsgcGFyc2VGbG9hdChjb3N0b2ZtYXRlcmlhbCk7XHJcbiAgICAgICAgLy8gaWYgKHRoaXMucHJvcHMubG9nZWRpbiA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIC8vICAgICBpZiAodGhpcy5wcm9wcy5hcmVhID09PSBcIlwiIHx8IHRoaXMucHJvcHMuc3R5bGUgPT09IFwiXCIgfHwgdGhpcy5wcm9wcy5tYXRlcmlhbCA9PT1cIlwiKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBhbGVydChcIlNvbWV0aGluZyBXZW50IHdyb25nIHBsZWFzZSB0cnkgYWdhaW5cIik7XHJcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLlNlbmRFc3RpbWF0aW9uKHRoaXMpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHZhciBUb3RhbF9yb29mX2FyZWE9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Jvb2ZhcmVhJyk7XHJcbiAgICAgICAgdmFyIHNvbGFyX3Jvb2ZfYXJlYSA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncm9vZkFyZWFQa3QnKSkubm9ybWFsUm9vZkFyZWE7XHJcbiAgICAgICAgdmFyIG5vcm1hbF9yb29mX2FyZWE9VG90YWxfcm9vZl9hcmVhLSBzb2xhcl9yb29mX2FyZWE7XHJcbiAgICAgICAgdmFyIGNvc3Rfb2Zfc29sYXJfcm9vZl90aWxlcyA9IHNvbGFyX3Jvb2ZfYXJlYSAqIHRoaXMucHJvcHMucGFuZWxfY29zdDtcclxuICAgICAgICB2YXIgY29zdF9vZl9ub3JtYWxfcm9vZl90aWxlcyA9IG5vcm1hbF9yb29mX2FyZWEqdGhpcy5wcm9wcy5wYW5lbF9jb3N0O1xyXG4gICAgICAgIHZhciBDb3N0X29mX21hdGVyaWFsID0gY29zdF9vZl9zb2xhcl9yb29mX3RpbGVzICsgY29zdF9vZl9ub3JtYWxfcm9vZl90aWxlcztcclxuICAgICAgICB2YXIgbGFib3JfY29zdCA9IFRvdGFsX3Jvb2ZfYXJlYSAqIDI1MCA7XHJcbiAgICAgICAgdmFyIGZsb29yUGxhbiA9ICgodGhpcy5wcm9wcy5mbG9vcnMpLnNwbGl0KFwicGxhblwiKVswXSkudHJpbSgpO1xyXG4gICAgICAgIHZhciBmbG9vciA9IHBhcnNlSW50KGZsb29yUGxhbik7XHJcbiAgICAgICAgdmFyIHNreWxpZnQ9MDtcclxuICAgICAgICBpZihmbG9vciA8PTIpIHtcclxuICAgICAgICAgICAgc2t5bGlmdD0wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKGZsb29yID49IDMpe1xyXG4gICAgICAgICAgICBza3lsaWZ0ID0gNTIwMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIENvc3Rfb2ZfZWxlY3RyaWNpYW4gPSA2MDAwO1xyXG4gICAgICAgIHZhciBDb3N0X29mX2NhYmxlID0gNTQwO1xyXG4gICAgICAgIHZhciBDb3N0X29mX3RyYW5zcG9ydCA9IDEwMDAwO1xyXG4gICAgICAgIHZhciBDb3N0X29mX2NvbnRhaW5lciA9IDEwMDAwO1xyXG4gICAgICAgIHZhciBjYXBjaXR5X3ByaWNlID0gMFxyXG4gICAgICAgIHZhciBjb3N0X29mX2ludmVydG9yID0wO1xyXG4gICAgICAgIGlmKCB0aGlzLnByb3BzLnBhbm5lbF9uYW1lID09PSAnTWlkc29tbWFyIHNvbHRhaycpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgIGNvc3Rfb2ZfaW52ZXJ0b3IgPSBUb3RhbF9yb29mX2FyZWEgKiB0aGlzLnByb3BzLnBhbm5lbF9jYXBhY2l0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZih0aGlzLnByb3BzLnBhbm5lbF9uYW1lID09ICdCZW5kYXJzIHN1bndhdmUgcGFsZW1hJykge1xyXG4gICAgICAgICAgICBjb3N0X29mX2ludmVydG9yID0gVG90YWxfcm9vZl9hcmVhICogdGhpcy5wcm9wcy5wYW5uZWxfY2FwYWNpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihjb3N0X29mX2ludmVydG9yIDwgNDAwMCApIHtcclxuICAgICAgICAgICAgICAgIGNhcGNpdHlfcHJpY2UgPSA5NTYwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgaWYoY29zdF9vZl9pbnZlcnRvcj40MDAxICYmIGNvc3Rfb2ZfaW52ZXJ0b3I8NTAwMCl7XHJcbiAgICAgICAgICAgICAgICBjYXBjaXR5X3ByaWNlID0gOTY2MFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGNvc3Rfb2ZfaW52ZXJ0b3I+NTAwMSAmJiBjb3N0X29mX2ludmVydG9yPDcwMDApIHtcclxuICAgICAgICAgICAgICAgIGNhcGNpdHlfcHJpY2UgPSAxMTUwMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGNvc3Rfb2ZfaW52ZXJ0b3I+NzAwMSAmJiBjb3N0X29mX2ludmVydG9yPDgwMDApIHtcclxuICAgICAgICAgICAgICAgIGNhcGNpdHlfcHJpY2UgPSAxMTgzMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGNvc3Rfb2ZfaW52ZXJ0b3I+ODAwMSAmJiBjb3N0X29mX2ludmVydG9yPDEwMDAwKSB7XHJcbiAgICAgICAgICAgICAgICBjYXBjaXR5X3ByaWNlID0gMTI3NjBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihjb3N0X29mX2ludmVydG9yPjEwMDAxICYmIGNvc3Rfb2ZfaW52ZXJ0b3I8MTUwMDApIHtcclxuICAgICAgICAgICAgICAgIGNhcGNpdHlfcHJpY2UgPSAxMTM1MFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGNvc3Rfb2ZfaW52ZXJ0b3I+MTUwMDEgJiYgY29zdF9vZl9pbnZlcnRvcjwxNzAwMCkge1xyXG4gICAgICAgICAgICAgICAgY2FwY2l0eV9wcmljZSA9IDExNjIwXHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIGlmKGNvc3Rfb2ZfaW52ZXJ0b3I+MTcwMDEgJiYgY29zdF9vZl9pbnZlcnRvcjwyNTAwMCkge1xyXG4gICAgICAgICAgICAgICAgY2FwY2l0eV9wcmljZSA9IDE2MTAwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoY29zdF9vZl9pbnZlcnRvcj4yNTAwMSAmJiBjb3N0X29mX2ludmVydG9yPDI3NjAwKSB7XHJcbiAgICAgICAgICAgICAgICBjYXBjaXR5X3ByaWNlID0gMTYxMDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihjb3N0X29mX2ludmVydG9yPjI3NjAwKSB7XHJcbiAgICAgICAgICAgICAgICBjYXBjaXR5X3ByaWNlID0gMjAwMDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBDb3N0X29mX3NvbGFyX3Jvb2ZfaW5zdGFsbGF0aW9uX2JlZm9yZV90YXggPSBDb3N0X29mX21hdGVyaWFsICsgY29zdF9vZl9pbnZlcnRvciArIENvc3Rfb2ZfY2FibGUgKyBDb3N0X29mX2NvbnRhaW5lciArIENvc3Rfb2ZfdHJhbnNwb3J0ICsgQ29zdF9vZl9lbGVjdHJpY2lhbiArIHNreWxpZnQ7XHJcbiAgICAgICAgdmFyIERpZ2lzb2xhcl9jb21taXNzaW9uID0gKENvc3Rfb2Zfc29sYXJfcm9vZl9pbnN0YWxsYXRpb25fYmVmb3JlX3RheCAqIDE1KSAvIDEwMDtcclxuICAgICAgICBpZihEaWdpc29sYXJfY29tbWlzc2lvbiA+IDE1MDAwKSB7XHJcbiAgICAgICAgICAgIERpZ2lzb2xhcl9jb21taXNzaW9uID0gMTUwMDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBDb3N0X29mX3NvbGFyX3Jvb2ZfaW5zdGFsbGF0aW9fd2l0aF9jb21taXNzaW9uID0gQ29zdF9vZl9zb2xhcl9yb29mX2luc3RhbGxhdGlvbl9iZWZvcmVfdGF4ICsgRGlnaXNvbGFyX2NvbW1pc3Npb247XHJcbiAgICAgICAgdmFyIFRheF9vbl9zb2xhcl9yb29mX2luc3RhbGxhdGlvbiA9IChDb3N0X29mX3NvbGFyX3Jvb2ZfaW5zdGFsbGF0aW9fd2l0aF9jb21taXNzaW9uICogMjUpIC8gMTAwO1xyXG4gICAgICAgIHZhciBDb3N0X29mX3NvbGFyX3Jvb2ZfaW5zdGFsbGF0aW9uX2FmdGVyX3RheCA9IENvc3Rfb2Zfc29sYXJfcm9vZl9pbnN0YWxsYXRpb193aXRoX2NvbW1pc3Npb24gKyBUYXhfb25fc29sYXJfcm9vZl9pbnN0YWxsYXRpb247XHJcbiAgICAgICAgdmFyIERpc3BsYXlfY29zdF9vZl9zb2xhcl9yb29mX2luc3RhbGxhdGlvbiA9IChDb3N0X29mX3NvbGFyX3Jvb2ZfaW5zdGFsbGF0aW9uX2FmdGVyX3RheCAqIDkzKSAvIDEwMDtcclxuICAgICAgICB2YXIgU29sYXJfaW5jZW50aXZlcyA9IChEaXNwbGF5X2Nvc3Rfb2Zfc29sYXJfcm9vZl9pbnN0YWxsYXRpb24gKiAyMCkgLyAxMDA7XHJcbiAgICAgICAgdmFyIEJhdHRlcnlfY29zdCA9IDg0NDg1O1xyXG5cclxuICAgICAgICB2YXIgVGF4X29uX2JhdHRlcnkgPSAoODQ0ODUgKiAyNSkgLyAxMDBcclxuICAgICAgICBcclxuICAgICAgICB2YXIgQmF0dGVyeV9jb3N0X2FmdGVyX3RheCA9IEJhdHRlcnlfY29zdCArIFRheF9vbl9iYXR0ZXJ5O1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2JhdHRlcnknLEJhdHRlcnlfY29zdF9hZnRlcl90YXgpXHJcbiAgICAgICAgdmFyIEJhdHRlcnlfaW5jZW50aXZlcyA9IDUwMDAwO1xyXG4gICAgICAgIHZhciBDb3N0X29mX3NvbGFyX3Jvb2ZfaW5zdGFsbGF0aW9uX2FmdGVyX2luY2VudGl2ZXMgPURpc3BsYXlfY29zdF9vZl9zb2xhcl9yb29mX2luc3RhbGxhdGlvbiAtIFNvbGFyX2luY2VudGl2ZXM7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc29sYXJJbmNlbnRpdmVzJyxDb3N0X29mX3NvbGFyX3Jvb2ZfaW5zdGFsbGF0aW9uX2FmdGVyX2luY2VudGl2ZXMpXHJcbiAgICAgICAgdmFyIENvc3Rfb2ZfYmF0dGVyeV9hZnRlcl9pbmNlbnRpdmVzID0gQmF0dGVyeV9jb3N0X2FmdGVyX3RheCAtIEJhdHRlcnlfaW5jZW50aXZlcztcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdiYXR0ZXJ5SW5jZW50aXZlcycsQ29zdF9vZl9iYXR0ZXJ5X2FmdGVyX2luY2VudGl2ZXMpXHJcbiAgICAgICAgdmFyIEZpbmFsX2Nvc3QgPSBDb3N0X29mX3NvbGFyX3Jvb2ZfaW5zdGFsbGF0aW9uX2FmdGVyX2luY2VudGl2ZXMgKyBDb3N0X29mX2JhdHRlcnlfYWZ0ZXJfaW5jZW50aXZlcztcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdmaW5hbF9jb3N0JyxGaW5hbF9jb3N0KVxyXG4gICAgfVxyXG5cclxuICAgIGxvZ2luc3VibWl0KGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBtYWluID0gdGhpcztcclxuICAgICAgICB2YXIgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgZW1haWw6IHRoaXMuc3RhdGUuZW1haWwsXHJcbiAgICAgICAgICAgIHBob25lOiB0aGlzLnN0YXRlLnBob25lLFxyXG4gICAgICAgICAgICAvLyBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZCxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6ICcxMjM0NTYnLFxyXG4gICAgICAgICAgICB0eXBlOiAnVVNFUidcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKVxyXG4gICAgICAgIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwL3VzZXJzL3VzZXJMb2dpbicsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcInBvc3RcIiwgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxyXG4gICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LUhlYWRlcnNcIjogXCIqXCIsXHJcbiAgICAgICAgICAgICAgICBcIkFjY2Vzcy1Db250cm9sLVJlcXVlc3QtTWV0aG9kXCI6IFwiKlwiXHJcbiAgICAgICAgICAgIH0sIGJvZHk6ICdqc29uPScgKyBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSA0MDApIHtcclxuICAgICAgICAgICAgICAgICAgICBtYWluLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uY2VlcnJvcmxvZ2luOiBkYXRhLm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIG1haW4uc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25jZWVycm9ybG9naW46IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnR5cGUgPT09IFwiVVNFUlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJkYXRhID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogZGF0YS5kYXRhLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlc3RkZXRcIjogZGF0YS5kYXRhLmVzdGRldCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVwZGF0ZW9uXCI6IGRhdGEuZGF0YS51cGRhdGVvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNyYXRlZG9uXCI6IGRhdGEuZGF0YS5jcmF0ZWRvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImVtYWlsXCI6IGRhdGEuZGF0YS5lbWFpbCwgXCJwaG9uZVwiOiBkYXRhLmRhdGEucGhvbmUsIFwibmFtZVwiOiBkYXRhLmRhdGEubmFtZSwgXCJ0b2tlblwiOiBkYXRhLnRva2VuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgYXJlYTogbWFpbi5wcm9wcy5hcmVhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29vcmRpbmF0ZXM6IG1haW4ucHJvcHMuY29vcmRpbmF0ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBzbG9wZTogbWFpbi5wcm9wcy5zdHlsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVzdGltYXRlZGFtb3VudDogUm9vZnByaWNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbWF0ZXJpYWw6IG1haW4ucHJvcHMubWF0ZXJpYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBzbG9wZWNvc3Q6IG1haW4ucHJvcHMucm9vZnN0eWxlY29zdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIG1hdGVyaWFsY29zdDogbWFpbi5wcm9wcy5tYXRlcmlhbGNvc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBsYWJvdXI6IGNvc3RvZmxhYm91cixcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGFkZHJlc3M6IG1haW4ucHJvcHMuYWRkcmVzcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVtYWlsOiBkYXRhLmRhdGEuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBwcm9wZXJ0eV90eXBlOiBtYWluLnByb3BzLnByb3BlcnR5X3R5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBmbG9vcnM6IG1haW4ucHJvcHMuZmxvb3JzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgcm9vZl9waXRjaDogbWFpbi5wcm9wcy5yb29mX3BpdGNoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgcG93ZXI6IG1haW4ucHJvcHMucG93ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBlX2NvbnN1bXB0aW9uOiBtYWluLnByb3BzLmVfY29uc3VtcHRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmZXRjaCgndXNlcnMvZXN0aW1hdGlvbicsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIG1ldGhvZDogXCJwb3N0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LUhlYWRlcnNcIjogXCIqXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LU1ldGhvZFwiOiBcIipcIixcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9LCBib2R5OiAnanNvbj0nICsgSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkgKyAnJnRva2VuPScgKyBkYXRhLnRva2VuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKGRhdGEuc3RhdHVzID09PSA0MDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBtYWluLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgcmVzcG9uY2VlcnJvcjogZGF0YS5tZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT09IDIwMCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBtYWluLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgcmVzcG9uY2VlcnJvcjogXCJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLmRhdGEudHlwZSA9PT0gXCJDT05UUkFDVE9SXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcmRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogZGF0YS5kYXRhLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9yZ2FuaXphdGlvbl9udW1iZXJcIjogZGF0YS5kYXRhLCBvcmdhbml6YXRpb25fbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRyZXNzXCI6IGRhdGEuZGF0YS5hZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWJzaXRlXCI6IGRhdGEuZGF0YS53ZWJzaXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJidXNpbmVzc25hbWVcIjogZGF0YS5kYXRhLmJ1c2luZXNzbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidXBkYXRlb25cIjogZGF0YS5kYXRhLnVwZGF0ZW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjcmF0ZWRvblwiOiBkYXRhLmRhdGEuY3JhdGVkb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImVtYWlsXCI6IGRhdGEuZGF0YS5lbWFpbCwgXCJwaG9uZVwiOiBkYXRhLmRhdGEucGhvbmUsIFwibmFtZVwiOiBkYXRhLmRhdGEubmFtZSwgXCJ0b2tlblwiOiBkYXRhLnRva2VuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ICAgICAgIC8vICAgICAgICAgZXN0aW1hdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyZGF0YScsIEpTT04uc3RyaW5naWZ5KHVzZXJkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgZGF0YS50b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFpbi5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJkYXRhOiBkYXRhLmRhdGFcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIG1haW4ucHJvcHMubG9naW5tb2RlZnVuKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1haW4uY2hhbmdlUm91dGUobWFpbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKT0+e1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZVJvdXRlKCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMuYXJlYUVzdGltZXRhY2sodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2lnbnVwc3VibWl0KGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5mb3JtRXJyb3JzLmVtYWlsID09PSBcIlwiICYmIHRoaXMuc3RhdGUuZm9ybUVycm9ycy5uYW1lID09PSBcIlwiICYmIHRoaXMuc3RhdGUuZm9ybUVycm9ycy5waG9uZSA9PT0gXCJcIiAmJiB0aGlzLnN0YXRlLmZvcm1FcnJvcnMucGFzc3dvcmQgPT09IFwiXCIpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG1haW4gPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgZXN0ID0ge1xyXG4gICAgICAgICAgICAgICAgYXJlYTogdGhpcy5wcm9wcy5hcmVhLFxyXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHRoaXMucHJvcHMuY29vcmRpbmF0ZXMsXHJcbiAgICAgICAgICAgICAgICBzbG9wZTogdGhpcy5wcm9wcy5zdHlsZSxcclxuICAgICAgICAgICAgICAgIGVzdGltYXRlZGFtb3VudDogUm9vZnByaWNlLFxyXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHRoaXMucHJvcHMubWF0ZXJpYWwsXHJcbiAgICAgICAgICAgICAgICBzbG9wZWNvc3Q6IHRoaXMucHJvcHMucm9vZnN0eWxlY29zdCxcclxuICAgICAgICAgICAgICAgIG1hdGVyaWFsY29zdDogdGhpcy5wcm9wcy5tYXRlcmlhbGNvc3QsXHJcbiAgICAgICAgICAgICAgICBsYWJvdXI6IGNvc3RvZmxhYm91cixcclxuICAgICAgICAgICAgICAgIGFkZHJlc3M6IHRoaXMucHJvcHMuYWRkcmVzc1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuc3RhdGUubmFtZSxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLnN0YXRlLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMuc3RhdGUucGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICBwaG9uZTogdGhpcy5zdGF0ZS5waG9uZSxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdVU0VSJyxcclxuICAgICAgICAgICAgICAgIGVzdGRldDogZXN0XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZldGNoKGB1c2Vycy9yZWdpc3RlcnVzZXJgLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwicG9zdFwiLCBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1IZWFkZXJzXCI6IFwiKlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1NZXRob2RcIjogXCIqXCJcclxuICAgICAgICAgICAgICAgIH0sIGJvZHk6ICdqc29uPScgKyBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSA0MDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFpbi5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25jZWVycm9yc2lnbnVwOiBkYXRhLm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJkYXRhJywgSlNPTi5zdHJpbmdpZnkoZGF0YS5kYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIGRhdGEuZGF0YS50b2tlbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJkYXRhOiBkYXRhLmRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25jZWVycm9yc2lnbnVwOiBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1haW4ucHJvcHMubG9naW5tb2RlZnVuKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYWxlcnQoXCJQbGVhc2UgRmlsbCBBbGwgTWFuZGF0b3J5IEZpZWxkcyBcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhdmVhY2NvdW50ZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGhhdmVhY2NvdW50OiAhdGhpcy5zdGF0ZS5oYXZlYWNjb3VudFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGVGaWVsZChmaWVsZE5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgbGV0IGZpZWxkVmFsaWRhdGlvbkVycm9ycyA9IHRoaXMuc3RhdGUuZm9ybUVycm9ycztcclxuICAgICAgICBsZXQgcGFzc3dvcmRWYWxpZCA9IHRoaXMuc3RhdGUucGFzc3dvcmRWYWxpZDtcclxuICAgICAgICBsZXQgcGhvbmV2YWxpZCA9IHRoaXMuc3RhdGUucGhvbmV2YWxpZDtcclxuICAgICAgICBsZXQgbmFtZXZhbGlkID0gdGhpcy5zdGF0ZS5uYW1ldmFsaWQ7XHJcbiAgICAgICAgbGV0IGVtYWlsVmFsaWQgPSB0aGlzLnN0YXRlLmVtYWlsVmFsaWQ7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZmllbGROYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2VtYWlsJzpcclxuICAgICAgICAgICAgICAgIC8vZW1haWxWYWxpZCA9IHZhbHVlLm1hdGNoKC9eKFtcXHcuJSstXSspQChbXFx3LV0rXFwuKSsoW1xcd117Mix9KSQvaSk7XHJcbiAgICAgICAgICAgICAgICBlbWFpbFZhbGlkID0gdmFsdWUubGVuZ3RoID49IDY7XHJcbiAgICAgICAgICAgICAgICBmaWVsZFZhbGlkYXRpb25FcnJvcnMuZW1haWwgPSBlbWFpbFZhbGlkID8gJycgOiAnIGlzIGludmFsaWQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvcm1FcnJvcnM6IGZpZWxkVmFsaWRhdGlvbkVycm9ycywgZW1haWxWYWxpZDogZW1haWxWYWxpZCwgZW1haWw6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkVmFsaWQgPSB2YWx1ZS5sZW5ndGggPj0gNjtcclxuICAgICAgICAgICAgICAgIGZpZWxkVmFsaWRhdGlvbkVycm9ycy5wYXNzd29yZCA9IHBhc3N3b3JkVmFsaWQgPyAnJyA6ICcgaXMgdG9vIHNob3J0JztcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmb3JtRXJyb3JzOiBmaWVsZFZhbGlkYXRpb25FcnJvcnMsIHBhc3N3b3JkVmFsaWQ6IHBhc3N3b3JkVmFsaWQsIHBhc3N3b3JkOiB2YWx1ZSB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwaG9uZSc6XHJcbiAgICAgICAgICAgICAgICBwaG9uZXZhbGlkID0gdmFsdWUubGVuZ3RoID09PSAxMDtcclxuICAgICAgICAgICAgICAgIGZpZWxkVmFsaWRhdGlvbkVycm9ycy5waG9uZSA9IHBob25ldmFsaWQgPyAnJyA6ICdwaG9uZSBudW1iZXIgIGlzIHRvbyBzaG9ydCc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZm9ybUVycm9yczogZmllbGRWYWxpZGF0aW9uRXJyb3JzLCBwaG9uZXZhbGlkOiBwaG9uZXZhbGlkLCBwaG9uZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbmFtZSc6XHJcbiAgICAgICAgICAgICAgICBuYW1ldmFsaWQgPSB2YWx1ZS5sZW5ndGggPj0gNjtcclxuICAgICAgICAgICAgICAgIGZpZWxkVmFsaWRhdGlvbkVycm9ycy5uYW1lID0gbmFtZXZhbGlkID8gJycgOiAnIGlzIHRvbyBzaG9ydCc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZm9ybUVycm9yczogZmllbGRWYWxpZGF0aW9uRXJyb3JzLCBuYW1ldmFsaWQ6IG5hbWV2YWxpZCwgbmFtZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyLWZsdWlkIGJnLXdoaXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaGRvd193dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIHRleHQtY2VudGVyIGxvZ2luX3R4dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9pbWcvZGlzb2xhcl9sb2dvX2JsYWNrLnBuZ1wiIGFsdD0nbG9nbycgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+RGluIHByaXN1cHBza2F0dG5pbmcgw6RyIGbDpHJkaWchPC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQ+VmkgaGFyIG51IGdlbmVyZXJhdCBkaW4gcHJpc3VwcHNrYXR0bmluZyBiYXNlcmF0IHDDpSBmw7ZsamFuZGUgdXBwZ2lmdGVyOjwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIHRleHQtY2VudGVyIHJlZ2lzdHJuX2FkZCAgbG9naW5fdHh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PHNwYW4gY2xhc3NOYW1lPVwiYWRkcmVzX3R4dFwiPkFkcmVzcyA6PC9zcGFuPiB7dGhpcy5wcm9wcy5hZGRyZXNzfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJhZGRyZXNfdHh0XCI+RmFzdGlnaGV0c3R5cCA6PC9zcGFuPiB7dGhpcy5wcm9wcy5wcm9wZXJ0eV90eXBlfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJhZGRyZXNfdHh0XCI+VGFrbHV0bmluZyA6PC9zcGFuPiB7dGhpcy5wcm9wcy5yb29mX3BpdGNofSDCsDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJhZGRyZXNfdHh0XCI+VGFrbWF0ZXJpYWwgOjwvc3Bhbj4gIHt0aGlzLnByb3BzLm1hdGVyaWFsfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJhZGRyZXNfdHh0XCI+w4VybGlnIGVsZsO2cmJydWtuaW5nIDo8L3NwYW4+IHt0aGlzLnByb3BzLmVfY29uc3VtcHRpb259PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxzcGFuIGNsYXNzTmFtZT1cImFkZHJlc190eHRcIj5IdXZ1ZHPDpGtyaW5nIDo8L3NwYW4+IHt0aGlzLnByb3BzLnBvd2VyfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQ+VsOkbmxpZ2VuIHNrcml2IGluIGRpbiBlLXBvc3RhZHJlc3MgZsO2ciBhdHQgZsOlIHRpbGxnw6VuZyB0aWxsIGRpbiBwcmlzdXBwc2thdHRuaW5nPC9oND5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZm9ybV9ib3R0b20xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybV90b3AyXCI+PGRpdiA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHZXREZXRhaWxzIGhhdmVhY2NvdW50ZnVuY3Rpb249e3RoaXMuaGF2ZWFjY291bnRmdW5jdGlvbi5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGF2ZWFjY291bnQ9e3RoaXMuc3RhdGUuaGF2ZWFjY291bnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dpbnN1Ym1pdD17dGhpcy5sb2dpbnN1Ym1pdC5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbnVwbnN1Ym1pdD17dGhpcy5zaWdudXBzdWJtaXQuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbmNlZXJyb3I9e3RoaXMuc3RhdGUucmVzcG9uY2VlcnJvcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbmNlZXJyb3Jsb2dpbj17dGhpcy5zdGF0ZS5yZXNwb25jZWVycm9ybG9naW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25jZWVycm9yc2lnbnVwPXt0aGlzLnN0YXRlLnJlc3BvbmNlZXJyb3JzaWdudXB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZUZpZWxkPXt0aGlzLnZhbGlkYXRlRmllbGQuYmluZCh0aGlzKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz48L2Rpdj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXItZmx1aWRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bWltZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL2ltZy9ib290bS1pbS5qcGdcIiBhbHQ9J2JvdHRvbScgY2xhc3NOYW1lPVwiaW1nLXJlc3BvbnNpdmVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEdldERldGFpbHMgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy52YWxpZGF0ZUZpZWxkKGV2ZW50LnRhcmdldC5uYW1lLCBldmVudC50YXJnZXQudmFsdWUpXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoPGZvcm0gb25TdWJtaXQ9e3RoaXMucHJvcHMubG9naW5zdWJtaXQuYmluZCh0aGlzKX0gaWQ9XCJsb2dpblwiIHN0eWxlPXttYXRzdHlsZS5mb3JtbWFyZ2lufT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC1kYW5nZXJcIiBoaWRkZW49eyh0aGlzLnByb3BzLnJlc3BvbmNlZXJyb3Jsb2dpbiA9PT0gXCJcIil9ID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnJlc3BvbmNlZXJyb3Jsb2dpbn1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiBuYW1lPVwiZW1haWxcIiBwbGFjZWhvbGRlcj1cIkUtcG9zdGFkcmVzcypcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtYmdcIiBvbkJsdXI9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyl9IHJlcXVpcmVkIC8+XHJcblxyXG4gICAgICAgICAgICA8c3BhbiBpZD1cImVycm9yXCI+e3RoaXMucHJvcHMuRW1haWxFcnJvcnN9XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInBob25lXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LXBob25lYmdcIiBwbGFjZWhvbGRlcj1cIlRlbGVmb25udW1tZXIqXCIgb25CbHVyPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfSByZXF1aXJlZCAvPlxyXG4gICAgICAgICAgICA8c3BhbiBpZD1cImVycm9yXCI+e3RoaXMucHJvcHMuUGhvbmVFcnJvcnN9XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgey8qfSA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgcGxhY2Vob2xkZXI9XCJQYXNzd29yZCpcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtYmcxXCIgbmFtZT1cInBhc3N3b3JkXCIgb25CbHVyPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpfSByZXF1aXJlZCAvPlxyXG4gICAgICAgIDxzcGFuIGlkPVwiZXJyb3JcIj57dGhpcy5wcm9wcy5QYXNzd29yZEVycm9yc31cclxuICAgIDwvc3Bhbj4gXHJcbiAgICAgICAgezxwIGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj4gIDxhIGhyZWY9XCIvRm9yZ290cGFzc3dvcmRcIj48dT5Gb3Jnb3QgUGFzc3dvcmQgPzwvdT4gPC9hPjwvcD59Ki99PGJyIC8+XHJcbiAgICAgICAgICAgIDxkaXY+IDxpbnB1dCB0eXBlPVwic3VibWl0XCIgY2xhc3NOYW1lPSdmb3JtLWNvbnRyb2wgYnRuLXByaW1hcnknIHZhbHVlPVwiVmlkYXJlXCIgLz48L2Rpdj5cclxuXHJcbiAgICAgICAgPC9mb3JtPilcclxuICAgIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBMb2dpbkVzdGltYXRlOyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBHb29nbGVNYXBEcmF3RmlsdGVyIGZyb20gJ3JlYWN0LWdvb2dsZS1tYXAtZHJhdy1maWx0ZXInO1xyXG5cclxuY2xhc3MgQXBwIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgZHJhd01vZGU6IHRydWUsXHJcbiAgICAgIGFjdGl2ZU1hcmtlcnM6IFtdLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIG9uTWFya2VyQ2xpY2sobWFya2VyLCBlKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgYWN0aXZlTWFya2VyczogW21hcmtlcl1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTWFya2VySW5mbygpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZU1hcmtlcnMpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYWN0aXZlTWFya2Vycy5tYXAoKG1hcmtlciwgaSkgPT4gKFxyXG4gICAgICAgIDxkaXYga2V5PXtgbWFya2VyJHtpfWB9PlxyXG4gICAgICAgICAge21hcmtlci5sYWJlbH1cclxuICAgICAgICAgIHttYXJrZXIuaW5mb31cclxuICAgICAgICA8L2Rpdj4pXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVSZXR1cm5lZE1hcmtlcnMobWFya2Vycykge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFjdGl2ZU1hcmtlcnM6IG1hcmtlcnNcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlRHJhdygpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBkcmF3TW9kZTogIXRoaXMuc3RhdGUuZHJhd01vZGUsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IG1hcmtlcnMgPSBbXHJcbiAgICAgIHtcclxuICAgICAgICBpbmZvOiAnLSBNYXJrZXIxJyxcclxuICAgICAgICBsYWJlbDogJ0EnLFxyXG4gICAgICAgIHRpdGxlOiAnaGVsbG8nLFxyXG4gICAgICAgIGxhdExuZzogeyBsbmc6IDIuMTM4MTUzNDI2MzQ5MTYsIGxhdDogNDEuMzk0ODU1NzA3OTQgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbGFiZWw6ICdCJyxcclxuICAgICAgICBpbmZvOiAnLSBNYXJrZXIyJyxcclxuICAgICAgICBsYXRMbmc6IHsgbG5nOiAyLjE1NzUyNjAxNjIzNTM1MTYsIGxhdDogNDEuMzk1ODY5ODA1NDQ5MjEgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbGFiZWw6ICdDJyxcclxuICAgICAgICBpbmZvOiAnLSBNYXJrZXIgMycsXHJcbiAgICAgICAgbGF0TG5nOiB7IGxuZzogMi4xNjIzMzI1MzQ3OTAwMzksIGxhdDogNDEuMzk3ODAxMzc1OTc4MjA0IH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGxhYmVsOiAnRCcsXHJcbiAgICAgICAgaW5mbzogJy0gTWFya2VyIDQnLFxyXG4gICAgICAgIGxhdExuZzogeyBsbmc6IDIuMTU0ODY1MjY0ODkyNTc4LCBsYXQ6IDQxLjM4NTc2MDMxNjc2MjUzIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGxhYmVsOiAnRScsXHJcbiAgICAgICAgaW5mbzogJy0gTWFya2VyIDUnLFxyXG4gICAgICAgIGxhdExuZzogeyBsbmc6IDIuMTQyMDU2NDU3NTE5NTMsIGxhdDogNDEuMzgzNDQxOTk1ODgwNDQgfVxyXG4gICAgICB9LFxyXG5cclxuICAgIF07XHJcblxyXG4gICAgcmV0dXJuICg8ZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBcIj5cclxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwicm9vZl9zdWJoZWFkXCI+XHJcbiAgICAgICAgICBNYXJrZXJhIHV0IGRpdHQgdGFrXHJcbiAgICAgICAgICA8L2gzPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJBcHBcIj5cclxuICAgICAgICA8R29vZ2xlTWFwRHJhd0ZpbHRlclxyXG4gICAgICAgICAgZHJhd01vZGU9e3RoaXMuc3RhdGUuZHJhd01vZGV9XHJcbiAgICAgICAgICBtYXJrZXJzPXttYXJrZXJzfVxyXG4gICAgICAgICAgaGFuZGxlUmV0dXJuZWRNYXJrZXJzPXt0aGlzLmhhbmRsZVJldHVybmVkTWFya2Vycy5iaW5kKHRoaXMpfVxyXG4gICAgICAgICAgb25NYXJrZXJDbGljaz17dGhpcy5vbk1hcmtlckNsaWNrLmJpbmQodGhpcyl9XHJcbiAgICAgICAgICBhcGlLZXk9J0FJemFTeUI0cHJKekN2c3FkVzBZT0tvM2lkamFrZ3ZaVVhSUl9USSdcclxuICAgICAgICAgIGFyZWE9e3RoaXMucHJvcHMuYXJlYX1cclxuICAgICAgICAgIHJvb2ZhZGRyZXNzPXt0aGlzLnByb3BzLnJvb2ZhZGRyZXNzfVxyXG4gICAgICAgIC8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8aDE+e3RoaXMucmVuZGVyTWFya2VySW5mby5iaW5kKHRoaXMpKCl9PC9oMT5cclxuICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFwcDsiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSAncmVhY3QtbW9kYWwnO1xyXG5pbXBvcnQgU3VyZmFjZURyYWdhYmJsZUNvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudHMvU3VyZmFjZURpcmVjdGlvbkRyYWcnO1xyXG5jb25zdCBtYXRzdHlsZSA9IHtcclxuICAgIHBhZGRpbmc6IFwiMzBweCAyMHB4IDIwcHggMjBweFwiLFxyXG4gICAgbWFyZ2luOiBcIjVweCA1cHggNTBweCA1cHhcIixcclxuICAgIGJvcmRlcjogXCI0cHggc29saWQgI2Y5ZjlmOVwiLFxyXG4gICAgdGV4dEFsaWduOiBcIi13ZWJraXQtY2VudGVyXCIsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCIsXHJcbiAgICBib3hTaGFkb3c6IFwiMCAxNXB4IDM1cHggcmdiYSg1MCw1MCw5MywuMSksIDAgNXB4IDE1cHggcmdiYSgwLDAsMCwuMDcpXCIsXHJcbiAgICB0cmFuc2l0aW9uOiBcImFsbCAwLjNzIGVhc2Utb3V0XCIsXHJcbiAgICBXZWJraXRUcmFuc2Zvcm06IFwiYWxsIDAuM3MgZWFzZS1vdXRcIixcclxuICAgIHRleHRUcmFuc2Zvcm06ICd1cHBlcmNhc2UnLFxyXG4gICAgY29sb3I6ICcjMDY0ZjcwJyxcclxuICAgIGZvbnRTaXplOiAnMTVweCdcclxufVxyXG5cclxuY29uc3Qgc2VsZWN0ZWRTdHlsZSA9IHtcclxuICAgIHBhZGRpbmc6IFwiMzBweCAyMHB4IDIwcHggMjBweFwiLFxyXG4gICAgbWFyZ2luOiBcIjVweCA1cHggNTBweCA1cHhcIixcclxuICAgIHRleHRBbGlnbjogXCItd2Via2l0LWNlbnRlclwiLFxyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgYm94U2hhZG93OiBcIjAgMTVweCAzNXB4IHJnYmEoNTAsNTAsOTMsLjEpLCAwIDVweCAxNXB4IHJnYmEoMCwwLDAsLjA3KVwiLFxyXG4gICAgdHJhbnNpdGlvbjogXCJhbGwgMC4zcyBlYXNlLW91dFwiLFxyXG4gICAgV2Via2l0VHJhbnNmb3JtOiBcImFsbCAwLjNzIGVhc2Utb3V0XCIsXHJcbiAgICBib3JkZXI6IFwiNHB4IHNvbGlkIHJnYigxNDIsIDIyNiwgMTc0KVwiLFxyXG4gICAgdGV4dFRyYW5zZm9ybTogJ3VwcGVyY2FzZScsXHJcbiAgICBjb2xvcjogJyMwNjRmNzAnLFxyXG4gICAgZm9udFdlaWdodDogJ2JvbGQnLFxyXG4gICAgZm9udFNpemU6ICcxNXB4J1xyXG59XHJcbmNvbnN0IGN1c3RvbVN0eWxlcyA9IHtcclxuICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICB0b3A6ICc1MCUnLFxyXG4gICAgICAgIGxlZnQ6ICc1MCUnLFxyXG4gICAgICAgIHJpZ2h0OiAnYXV0bycsXHJcbiAgICAgICAgYm90dG9tOiAnYXV0bycsXHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6ICctNTAlJyxcclxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxyXG4gICAgICAgIHBhZGRpbmc6ICcxMHB4IDE1cHggMjNweCcsXHJcbiAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICB3aWR0aDogJzUwJSdcclxuICAgIH1cclxufTtcclxuXHJcbmNsYXNzIE1hdGVyaWFsQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHN0ZXBJbmRleDogMSxcclxuICAgICAgICAgICAgZmluaXNoZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBjbGVhcjoge30sXHJcbiAgICAgICAgICAgIHByZXZpb3VzOiB7fSxcclxuICAgICAgICAgICAgbmV4dDoge30sXHJcbiAgICAgICAgICAgIHNvbGFyOiBmYWxzZSxcclxuICAgICAgICAgICAgbW9kYWxJc09wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBtYXRlcmlhbDogJycsXHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25PbmU6IGZhbHNlLFxyXG4gICAgICAgICAgICB2YWxpZGF0aW9uVHdvOiBmYWxzZSxcclxuICAgICAgICAgICAgY29zdDogJycsXHJcbiAgICAgICAgICAgIHN1cmZhY2VEaXJlY3Rpb246ICcnIFxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsMCk7XHJcbiAgICAgICAgTW9kYWwuc2V0QXBwRWxlbWVudCgnYm9keScpO1xyXG4gICAgICAgIHRoaXMub3Blbk1vZGFsID0gdGhpcy5vcGVuTW9kYWwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmFmdGVyT3Blbk1vZGFsID0gdGhpcy5hZnRlck9wZW5Nb2RhbC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY2xvc2VNb2RhbCA9IHRoaXMuY2xvc2VNb2RhbC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudmFsaWRhdGUgPSB0aGlzLnZhbGlkYXRlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbi5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSBbe1xyXG4gICAgICAgICAgICBpbWFnZTogXCIuL2ltZy9tYXQxLnBuZ1wiLFxyXG4gICAgICAgICAgICBuYW1lOiBcIkxlcnRlZ2VsdGFrXCIsXHJcbiAgICAgICAgICAgIGNvc3Q6IDIyMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpbWFnZTogXCIuL2ltZy9tYXQyLnBuZ1wiLFxyXG4gICAgICAgICAgICBuYW1lOiBcIlBsw6V0XCIsXHJcbiAgICAgICAgICAgIGNvc3Q6IDE3MFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpbWFnZTogXCIuL2ltZy9tYXQzLnBuZ1wiLFxyXG4gICAgICAgICAgICBuYW1lOiBcIkJldG9uZ3RlZ2VsdGFrXCIsXHJcbiAgICAgICAgICAgIGNvc3Q6IDIwMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpbWFnZTogXCIuL2ltZy9tYXQ1LnBuZ1wiLFxyXG4gICAgICAgICAgICBuYW1lOiBcIkZhbHNhZCBwbMOldCAvIEJhbmRhZCBQbMOldFwiLFxyXG4gICAgICAgICAgICBjb3N0OiA0MDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaW1hZ2U6IFwiLi9pbWcvcHVscGV0dGFrLmpwZ1wiLFxyXG4gICAgICAgICAgICBuYW1lOiBcIlBhcHB0YWtcIixcclxuICAgICAgICAgICAgY29zdDogODVcclxuICAgICAgICB9XVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvcGVuTW9kYWwoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgYWZ0ZXJPcGVuTW9kYWwoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VNb2RhbCgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgbW9kYWxJc09wZW46IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG1hdGVyaWFsY2hvb3NlKG5hbWUpIHtcclxuICAgICAgICBhbGVydChuYW1lKVxyXG4gICAgfVxyXG5cclxuICAgIHNvbGFyUGFuZWwobmFtZSwgdmFsdWUsIGUpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc29sYXI6IHRydWUsXHJcbiAgICAgICAgICAgIG1vZGFsSXNPcGVuOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RlZChtYXRlcmlhbCwgY29zdCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBtYXRlcmlhbDogbWF0ZXJpYWwsXHJcbiAgICAgICAgICAgIGNvc3Q6IGNvc3QsXHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25PbmU6IGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5tYXRlcmlhbCA9PT0gJycpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbGlkYXRpb25PbmU6IHRydWUgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnN1cmZhY2VEaXJlY3Rpb24gPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0aW9uVHdvOiB0cnVlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRpcmVjdGlvbihkaXJlY3Rpb24pIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3VyZmFjZURpcmVjdGlvbjogZGlyZWN0aW9uLCB2YWxpZGF0aW9uVHdvOiBmYWxzZSB9KVxyXG4gICAgfVxyXG5cclxuICAgIG1ha2VIcmVmKCkgeyByZXR1cm4gJ2h0dHBzOi8vd3d3LmRpZ2l0YWsuc2UvJyB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHZhciBsaW5rID0gPGEgaHJlZj17dGhpcy5tYWtlSHJlZignbG9naW4nKX0gdGFyZ2V0PVwiX2JsYW5rXCI+aMOkcjwvYT47XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJyb29mX3N1YmhlYWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFraW5mb3JtYXRpb248L2gzPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGluZ190ZXh0IGZvbnQtcXVpY2tzYW5kIGJvbGRcIiA+Vmlsa2V0IHRha21hdGVyaWFsIGhhciBkdSBpZGFnPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGVyaWFsLm1hcCgoZGF0YSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubmFtZSA9PT0gJ1NvbHBhbmVsZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9J1NvbHBhbmVsZXInIGNsYXNzTmFtZT1cImNvbC1zbS02IGNvbC1tZC0zICBwYW5kaW5nX25vXCIga2V5PXtpbmRleH0gb25DbGljaz17dGhpcy5zb2xhclBhbmVsLmJpbmQodGhpcywgZGF0YS5uYW1lLCBkYXRhLmNvc3QpfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib25mb2NzX2JyZHIxXCIgc3R5bGU9e21hdHN0eWxlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtkYXRhLmltYWdlfSBhbHQ9e2RhdGEubmFtZX0gY2xhc3NOYW1lPVwiaW1nLXJlc3BvbnNpdmVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+PHA+e2RhdGEubmFtZX0ge3RoaXMuc3RhdGUuc29sYXJ9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuc29sYXIgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e3RoaXMuc3RhdGUubW9kYWxJc09wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkFmdGVyT3Blbj17dGhpcy5hZnRlck9wZW5Nb2RhbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlPXt0aGlzLmNsb3NlTW9kYWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17Y3VzdG9tU3R5bGVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudExhYmVsPVwiRXhhbXBsZSBNb2RhbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHN0eWxlPXt7IGZsb2F0OiAncmlnaHQnLCBjb2xvcjogJyNmZmYnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjMEE1MzlDJywgYm9yZGVyOiAnbm9uZScgfX0gb25DbGljaz17dGhpcy5jbG9zZU1vZGFsfT5YPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgcGFkZGluZzogJzQwcHggMCAwJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaWdpdGFrIGVzdGltZXJhciBlbmRhc3QgcHJpc2VyIGbDtnIgPGI+dGFrb21sw6RnZ25pbmdhcjwvYj4uIFbDpXJ0IHNvbGNlbGxzYm9sYWcgRGlnaXNvbGFyIGthbiBnZSBkaWcgcHJpcyBmw7ZyIHNvbGNlbGxzaW5zdGFsbGF0aW9uLiBGw7ZyIGF0dCBrb21tYSB0aWxsIERpZ2lzb2xhciBrbGlja2Ege2xpbmt9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAobnVsbCl9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNiBjb2wtbWQtMyAgcGFuZGluZ19ub1wiIGtleT17aW5kZXh9IG9uQ2xpY2s9e3RoaXMuc2VsZWN0ZWQuYmluZCh0aGlzLCBkYXRhLm5hbWUsIGRhdGEuY29zdCl9ID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvbmZvY3NfYnJkcjFcIiBzdHlsZT17KGRhdGEubmFtZSA9PSB0aGlzLnN0YXRlLm1hdGVyaWFsKSA/IHNlbGVjdGVkU3R5bGUgOiBtYXRzdHlsZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17ZGF0YS5pbWFnZX0gYWx0PXtkYXRhLm5hbWV9IGNsYXNzTmFtZT1cImltZy1yZXNwb25zaXZlXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RhdGEubmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMiBtYXRlcmlhbFwiIHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICczMHB4JyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUudmFsaWRhdGlvbk9uZSA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd2YWxpZGF0aW9uJz48c3Bhbj5QbGVhc2Ugc2VsZWN0IHRoZSBtYXRlcmlhbDwvc3Bhbj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChudWxsKX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGhyIGNsYXNzTmFtZT1cIm1hdGVyaWFsLXNlcGVyYXRpb25cIiAvPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMiBoZWFkaW5nX3RleHQgZm9udC1xdWlja3NhbmQgYm9sZFwiID5Ww4RERVJTVFJFQ0s8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8U3VyZmFjZURyYWdhYmJsZUNvbXBvbmVudCBkaXJlY3Rpb249e3RoaXMuZGlyZWN0aW9ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIG1hdGVyaWFsXCIgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJzMwcHgnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS52YWxpZGF0aW9uVHdvID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ZhbGlkYXRpb24nPjxzcGFuPlBsZWFzZSBzZWxlY3QgdGhlIHJvb2YgZGlyZWN0aW9uPC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKG51bGwpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgY29sLW1kLTEyIGVzdGltYXRlXCIgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJzMwcHgnIH19ID5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5tYXRlcmlhbCAmJiB0aGlzLnN0YXRlLnN1cmZhY2VEaXJlY3Rpb24gIT0gJycgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5Q2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZGRpbmcxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLmJhY2suYmluZCh0aGlzLCAyKX0gY2xhc3NOYW1lPVwic3VibWl0XCIgPkbDtnJlZ8OlZW5kZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZGRpbmcxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLm1hdHZhbC5iaW5kKHRoaXMsIHRoaXMuc3RhdGUubWF0ZXJpYWwsIHRoaXMuc3RhdGUuY29zdCwgdGhpcy5zdGF0ZS5zdXJmYWNlRGlyZWN0aW9uKX0gY2xhc3NOYW1lPVwic3VibWl0XCIgPk7DpHN0YTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeUNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFkZGluZzFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLmJhY2suYmluZCh0aGlzLCAyKX0gY2xhc3NOYW1lPVwic3VibWl0XCIgPkbDtnJlZ8OlZW5kZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFkZGluZzFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnZhbGlkYXRlfSBjbGFzc05hbWU9XCJzdWJtaXRcIiA+TsOkc3RhPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgTWF0ZXJpYWxDb21wb25lbnQ7IiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IERyYWdhYmJsZUNvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudHMvRWxlY3RyaWNpdHlNYXRlcmlhbERhcmdnYWJsZSc7XHJcbmltcG9ydCBNb2RhbCBmcm9tICdyZWFjdC1tb2RhbCc7XHJcbmNvbnN0IGN1c3RvbVN0eWxlcyA9IHtcclxuICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICB0b3A6ICc1MCUnLFxyXG4gICAgICAgIGxlZnQ6ICc1MCUnLFxyXG4gICAgICAgIHJpZ2h0OiAnYXV0bycsXHJcbiAgICAgICAgYm90dG9tOiAnYXV0bycsXHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6ICctNTAlJyxcclxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxyXG4gICAgICAgIHBhZGRpbmc6ICcyMHB4IDE1cHgnLFxyXG4gICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgd2lkdGg6ICc1MCUnLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogJzIwcHgnLFxyXG4gICAgICAgIGJvcmRlcjogJzJweCBzb2xpZCByZ2IoMTQyLCAyMjYsIDE3NCknLFxyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IENvbG9yZWRMaW5lID0gKHsgY29sb3IgfSkgPT4gKFxyXG4gICAgPGhyXHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgY29sb3I6IFwiI2FhYVwiLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2FhYVwiLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDEsXHJcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJSdcclxuICAgICAgICB9fVxyXG4gICAgLz5cclxuKTtcclxudmFyIGhpZ2hsZXRzdHlsZSA9IHtcclxuICAgIGZvbnRTaXplOiAnMTVweCdcclxufTtcclxuXHJcbmNsYXNzIE1hdGVyaWFsUXVlc3Rpb25zIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICAgICAgICBNb2RhbC5zZXRBcHBFbGVtZW50KCdib2R5Jyk7XHJcbiAgICAgICAgdGhpcy5vcGVuTW9kYWwgPSB0aGlzLm9wZW5Nb2RhbC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYWZ0ZXJPcGVuTW9kYWwgPSB0aGlzLmFmdGVyT3Blbk1vZGFsLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZU1vZGFsID0gdGhpcy5jbG9zZU1vZGFsLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5tYXRxdWVzdGlvbnZhbCA9IHByb3BzLm1hdHF1ZXN0aW9udmFsLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5kYXRhU2V0ID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBxdWVzdGlvbjogXCJIdXIgc3RvciDDpHIgZGluIMOlcmxpZ2EgZWxmw7ZyYnJ1a25pbmc/IDxwYXJhPiAtIFx0QW5nZSBkaW4gdG90YWxhIGVsZsO2cmJydWtuaW5nIGkga1doIGdlbm9tIGF0dCBqdXN0ZXJhIHJlZ2xhZ2V0LiBPbSBkdSBpbnRlIHZldCBkaW4gw6VybGlnYSBlbGbDtnJicnVrbmluZyBrYW4gZHUgYW52w6RuZGEgdsOlcmEgZsO2cmRlZmluaWVyYWRlIHbDpHJkZW4uXCIsXHJcbiAgICAgICAgICAgICAgICBhbnN3ZXJzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJzcsMDAwIGtXaCAtICBOb3JtYWx0IHJhZGh1cy92aWxsYSBtZWQgZmrDpHJydsOkcm1lJyxcclxuICAgICAgICAgICAgICAgICAgICAnMTMsMDAwIGtXaCAtIE5vcm1hbCB2aWxsYSBtZWQgdsOkcm1lcHVtcCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJzI1LDAwMCBrV2ggLSBOb3JtYWwgdmlsbGEgbWVkIGRpcmVrdHZlcmthbmRlIGVsJ1xyXG5cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcXVlc3Rpb246IFwiSHVyIHN0b3Igw6RyIGRpbiBodXZ1ZHPDpGtyaW5nPyA8cGFyYT5cdC0gU3Rvcmxla2VuIHDDpSBkaW4gaHV2dWRzw6RrcmluZyBoaXR0YXIgZHUgaSBkaXR0IHByb3Bwc2vDpXAgcMOlIGh1dnVkc3Ryw7ZtYnJ5dGFyZW4sIGF1dG9tYXRzdHLDtm1icnl0YXJlbiBlbGxlciBww6UgZGluIGVscsOka25pbmcuIERvbSBmbGVzdGEgcmFkaHVzIG9jaCB2aWxsb3IgaGFyIGVuIGh1dnVkc8Oka3JpbmcgcMOlIDE2LTI1IEFtcC5cIixcclxuICAgICAgICAgICAgICAgIGFuc3dlcnM6IFtcclxuICAgICAgICAgICAgICAgICAgICAnIDE2QScsXHJcbiAgICAgICAgICAgICAgICAgICAgJyAyMEEnLFxyXG4gICAgICAgICAgICAgICAgICAgICcgMjVBJyxcclxuICAgICAgICAgICAgICAgICAgICAnIDM1QScsXHJcbiAgICAgICAgICAgICAgICAgICAgJyA1MEEnLFxyXG4gICAgICAgICAgICAgICAgICAgICcgNjNBJyxcclxuICAgICAgICAgICAgICAgICAgICAnVmV0IGVqJ1xyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHsgcG9wdXBUd286IGZhbHNlLCBwb3B1cDogZmFsc2UsIG1vZGFsSXNPbmVPcGVuOiBmYWxzZSwgbW9kYWxJc1R3b09wZW46IGZhbHNlLCBzdGVwSW5kZXg6IDEsIHNlbGVjdGVkVmFsdWU6ICcnLCBzZWxlY3RlZFZhbHVlVHdvOiAnJywgYW5nbGU6ICcxMDAwJywgbGVmdDogJzEzNXB4JywgdmFsaWRhdGlvbk9uZTogZmFsc2UsIHZhbGlkYXRpb246IGZhbHNlIH1cclxuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlQ2xpY2tUd28gPSB0aGlzLmhhbmRsZUNsaWNrVHdvLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy52YWxpZGF0ZSA9IHRoaXMudmFsaWRhdGUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnNjcm9sbGFibGUgPSB0aGlzLnNjcm9sbGFibGUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmVsZWN0cmljeSA9IHRoaXMuZWxlY3RyaWN5LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEFuc3dlcnMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDbGljayh2YWx1ZSwgaW5kZXgsIGlkKSB7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkVmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBoaWdobGV0c3R5bGUgPSB7XHJcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgICAgICAgICAgY29sb3I6ICdibGFjaycsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCdcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEFuc3dlcnMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWUsIHZhbGlkYXRpb25PbmU6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNsaWNrVHdvKHZhbHVlMiwgaW5kZXgsIGlkKSB7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkVmFsdWUgPSB2YWx1ZTI7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEFuc3dlcnMucHVzaCh2YWx1ZTIpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZFZhbHVlVHdvOiBzZWxlY3RlZFZhbHVlLCB2YWxpZGF0aW9uOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWRhdGlvbk9uZTogdHJ1ZSB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWVUd28pIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbGlkYXRpb246IHRydWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNjcm9sbGFibGUoZSkge1xyXG4gICAgICAgIGlmIChlLm5hdGl2ZUV2ZW50Lm9mZnNldFggPiAyNzApIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxlZnQ6ICcyNzBweCcgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhbmdsZTogOTAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbGVmdDogZS5uYXRpdmVFdmVudC5vZmZzZXRYIH0pO1xyXG4gICAgICAgICAgICB2YXIgdmFsID0gTWF0aC5mbG9vcihlLm5hdGl2ZUV2ZW50Lm9mZnNldFggLyAzKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFuZ2xlOiBNYXRoLmNlaWwodmFsIC8gNSkgKiA1IH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVsZWN0cmljeShhbmdsZSkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhbmdsZTogYW5nbGUsIHNlbGVjdGVkVmFsdWU6IGFuZ2xlICsgJyBrV2gnLCB2YWxpZGF0aW9uT25lOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuUG9wdXAocG9wdXApIHtcclxuICAgICAgICBpZiAocG9wdXAgPT09ICdvbmUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3B1cDogdHJ1ZSwgbW9kYWxJc09uZU9wZW46IHRydWUgfSlcclxuICAgICAgICB9IGVsc2UgaWYgKHBvcHVwID09PSAndHdvJykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcG9wdXBUd286IHRydWUsIG1vZGFsSXNUd29PcGVuOiB0cnVlIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9wZW5Nb2RhbCgpIHtcclxuICAgIH1cclxuXHJcbiAgICBhZnRlck9wZW5Nb2RhbCgpIHtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZU1vZGFsKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtb2RhbElzT25lT3BlbjogZmFsc2UsIG1vZGFsSXNUd29PcGVuOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgdmFyIHN0eWxlID0ge1xyXG4gICAgICAgICAgICBjb2xvcjogJyMwNjRmNzAnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAncXVpY2tzYW5kJyxcclxuICAgICAgICAgICAgdGV4dFRyYW5zZm9ybTogJ3VwcGVyY2FzZScsXHJcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJ1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInJvb2Zfc3ViaGVhZFwiPkVsZsO2cmJydWtuaW5nIG9jaCBzw6RrcmluZyA8L2gzPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBwYW5kaW5nX25vIG1hdGVyaWFsX3F1ZXN0aW9uc19wYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMlwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTggcGFuZGluZ19ub1wiIGlkPVwicGFkZGluZy1iXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZGluZ19ub1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGFsaWduSXRlbXM6ICdjZW50ZXInLCBwYWRkaW5nQm90dG9tOiAnMTVweCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIHBhbmRpbmdfbm8gYWxpZ24tdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBzdHlsZT17c3R5bGV9Pnt0aGlzLmRhdGFTZXRbMF0ucXVlc3Rpb24uc3BsaXQoJzxwYXJhPicpWzBdfTwvaDE+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMiBhbGlnbi10ZXh0LWNlbnRlciBwYWRkaW5nMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBzdHlsZT17eyBib3JkZXI6ICdub25lJywgYmFja2dyb3VuZENvbG9yOiAnIzBBNTM5QycsICdib3JkZXJSYWRpdXMnOiAnNXB4JywgY29sb3I6ICcjZmZmJywgcGFkZGluZzogJzhweCAyNXB4IDhweCAyNXB4JyB9fSA+e3RoaXMuc3RhdGUuYW5nbGV9IGtXaDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZWxlY3RyaWNpeV9kcmFnZ2FibGVcIiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIiBzdHlsZT17eyBwYWQ6ICcxZW0nIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPERyYWdhYmJsZUNvbXBvbmVudCBlbGVjdHJpY3k9e3RoaXMuZWxlY3RyaWN5fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGNvbC1zbS0xMiBhbGlnbi10ZXh0LWNlbnRlciBzbG90cy1jZW50ZXJpbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImhpcGVyTGlua1wiIHN0eWxlPXt7IHRleHREZWNvcmF0aW9uOiAndW5kZXJsaW5lJywgZm9udEZhbWlseTogJ1F1aWNrc2FuZCcgfX0gb25DbGljaz17dGhpcy5vcGVuUG9wdXAuYmluZCh0aGlzLCAnb25lJyl9PkzDpHMgbWVyIG9tIGVsZsO2cmJydWtuaW5nPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUucG9wdXAgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e3RoaXMuc3RhdGUubW9kYWxJc09uZU9wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQWZ0ZXJPcGVuPXt0aGlzLmFmdGVyT3Blbk1vZGFsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJlcXVlc3RDbG9zZT17dGhpcy5jbG9zZU1vZGFsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17Y3VzdG9tU3R5bGVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50TGFiZWw9XCJFeGFtcGxlIE1vZGFsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9rYS1oZWFkaW5nXCI+RUxGw5ZSQlJVS05JTkc8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZi1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiY2xvc2UtYnV0dG9uIFwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VNb2RhbH0+WDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvb3Rlci1wb3B1cCBxdWVzdGlvbnNQYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbmdlIGRpbiB0b3RhbGEgZWxmw7ZyYnJ1a25pbmcgaSBrV2ggZ2Vub20gYXR0IGp1c3RlcmEgcmVnbGFnZXQuIE9tIGR1IGludGUgdmV0IGRpbiDDpXJsaWdhIGVsZsO2cmJydWtuaW5nIGthbiBkdSBhbnbDpG5kYSB2w6VyYSBmw7ZyZGVmaW5pZXJhZGUgdsOkcmRlbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdxdWVzdGlvbnNQYWdlIHB0LW5vbmUnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT42MDAwIGtXaCDigJMgTm9ybWFsIHZpbGxhIG1lZCBmasOkcnJ2w6RybWU8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4xMy4wMDAga1doIOKAkyBOb3JtYWwgdmlsbGEgbWVkIHbDpHJtZXB1bXA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4yNS4wMDAga1doIOKAkyBOb3JtYWwgdmlsbGEgbWVkIGRpcmVrdHZlcmthbmRlIGVsPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVzdGltYXRlIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzdWJtaXRcIiBvbkNsaWNrPXt0aGlzLmNsb3NlTW9kYWx9PnN0w6RuZzwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L01vZGFsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAobnVsbCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIG1hdGVyaWFsXCIgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJzMwcHgnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUudmFsaWRhdGlvbk9uZSA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndmFsaWRhdGlvbic+PHNwYW4+UGxlYXNlIHNlbGVjdCBFbGVjdHJpY2l0eSBjb3N1bXB0aW9uPC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChudWxsKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMlwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxDb2xvcmVkTGluZSBjb2xvcj1cImJsYWNrXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEwIHBhbmRpbmdfbm9cIiBpZD1cInBhZGRpbmctYlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5kaW5nX25vXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFF1aXpBcmVhVHdvIGhhbmRsZUNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrVHdvfSB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLnZhbGlkYXRpb259IGRhdGFTZXQ9e3RoaXMuZGF0YVNldFsxXX0gc2VsZWN0ZWQ9e3RoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZVR3b30gc3R5bGU9e2hpZ2hsZXRzdHlsZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMiBjb2wtc20tMTIgYWxpZ24tdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwiaGlwZXJMaW5rXCIgc3R5bGU9e3sgdGV4dERlY29yYXRpb246ICd1bmRlcmxpbmUnLCBmb250RmFtaWx5OiAnUXVpY2tzYW5kJyB9fSBvbkNsaWNrPXt0aGlzLm9wZW5Qb3B1cC5iaW5kKHRoaXMsICd0d28nKX0+TMOkcyBtZXIgb20gaHV2dWRzw6RrcmluZzwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5wb3B1cFR3byA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17dGhpcy5zdGF0ZS5tb2RhbElzVHdvT3Blbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkFmdGVyT3Blbj17dGhpcy5hZnRlck9wZW5Nb2RhbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJlcXVlc3RDbG9zZT17dGhpcy5jbG9zZU1vZGFsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXtjdXN0b21TdHlsZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudExhYmVsPVwiRXhhbXBsZSBNb2RhbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib2thLWhlYWRpbmdcIj5IVVZVRFPDhEtSSU5HPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZi1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJjbG9zZS1idXR0b24gXCIgb25DbGljaz17dGhpcy5jbG9zZU1vZGFsfT5YPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9vdGVyLXBvcHVwIHF1ZXN0aW9uc1BhZ2VcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3Rvcmxla2VuIHDDpSBkaW4gaHV2dWRzw6RrcmluZyBoaXR0YXIgZHUgaSBkaXR0IHByb3Bwc2vDpXAgcMOlIGh1dnVkc3Ryw7ZtYnJ5dGFyZW4sIGF1dG9tYXRzdHLDtm1icnl0YXJlbiBlbGxlciBww6UgZGluIGVscsOka25pbmcuIERvbSBmbGVzdGEgcmFkaHVzIG9jaCB2aWxsb3IgaGFyIGVuIGh1dnVkc8Oka3JpbmcgcMOlIDE2LTI1IEFtcC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVzdGltYXRlIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInN1Ym1pdFwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VNb2RhbH0+c3TDpG5nPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L01vZGFsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKG51bGwpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGVzdGltYXRlXCIgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJyB9fSA+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZSAmJiB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWVUd28gPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5Q2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZGRpbmcxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLmJhY2suYmluZCh0aGlzLCAzKX0gY2xhc3NOYW1lPVwic3VibWl0XCIgPkbDtnJlZ8OlZW5kZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZGRpbmcxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLm1hdHF1ZXN0aW9udmFsLmJpbmQodGhpcywgdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlLCB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWVUd28pfSBjbGFzc05hbWU9XCJzdWJtaXRcIiA+TsOkc3RhPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5Q2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWRkaW5nMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMuYmFjay5iaW5kKHRoaXMsIDMpfSBjbGFzc05hbWU9XCJzdWJtaXRcIiA+RsO2cmVnw6VlbmRlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWRkaW5nMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMudmFsaWRhdGV9IGNsYXNzTmFtZT1cInN1Ym1pdFwiID5Ow6RzdGE8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gUXVlc3Rpb25Ud28ocHJvcHMpIHtcclxuICAgIHZhciBzdHlsZSA9IHtcclxuICAgICAgICBjb2xvcjogJyMwNjRmNzAnLFxyXG4gICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgdGV4dFRyYW5zZm9ybTogJ3VwcGVyY2FzZScsXHJcbiAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnXHJcbiAgICB9XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgcGFkZGluZ0JvdHRvbTogJzE1cHgnLCBwYWRkaW5nVG9wOiAnMmVtJywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInIH19PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgcGFuZGluZ19ubyBhbGlnbi10ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LXF1aWNrc2FuZFwiIHN0eWxlPXtzdHlsZX0+e3Byb3BzLmRhdGFTZXQucXVlc3Rpb24uc3BsaXQoJzxwYXJhPicpWzBdfTwvaDE+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIG1hdGVyaWFsXCIgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJzMwcHgnIH19PlxyXG4gICAgICAgICAgICAgICAge3Byb3BzLnZhbGlkYXRpb24gPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ZhbGlkYXRpb24nPjxzcGFuPlBsZWFzZSBzZWxlY3QgdGhlIFBvd2VyIGNvbnN1bXB0aW9uPC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSA6IChudWxsKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApXHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFuc3dlclR3byhwcm9wcykge1xyXG4gICAgdmFyIGNvbG9ycyA9IFsnI0M0QzRDNCcsICcjMzU4NUMxJywgJyNGOUQxNTUnLCAncmdiKDE1OCwgMjQxLCAxNjgpJywgJ3JnYigyMzQsIDE2MywgMTYzKScsICcjMDAwMDAwJywgJyNGRkZGRkYnXTtcclxuICAgIHZhciBjb2xvckNvZGUgPSB7XHJcbiAgICAgICAgYm9yZGVyOiAnNHB4IHNvbGlkICM4ZWUyYWUnLFxyXG4gICAgICAgIGNvbG9yOiAnIzA2NGY3MCcsXHJcbiAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxyXG4gICAgICAgIHBhZGRpbmc6IFwiMzBweCAxMHB4IDMwcHhcIixcclxuICAgICAgICBtYXJnaW46IFwiNXB4IDVweCA1MHB4IDVweFwiLFxyXG4gICAgICAgIHRleHRBbGlnbjogXCItd2Via2l0LWNlbnRlclwiLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcclxuICAgICAgICBib3hTaGFkb3c6IFwiMCAxNXB4IDM1cHggcmdiYSg1MCw1MCw5MywuMSksIDAgNXB4IDE1cHggcmdiYSgwLDAsMCwuMDcpXCIsXHJcbiAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgMC4zcyBlYXNlLW91dFwiLFxyXG4gICAgICAgIFdlYmtpdFRyYW5zZm9ybTogXCJhbGwgMC4zcyBlYXNlLW91dFwiLFxyXG4gICAgICAgIG1pbkhlaWdodDogXCI5MHB4XCIsXHJcbiAgICAgICAgY29sb3I6ICcjNTg1ODU4JyxcclxuICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvcnNbcHJvcHMuY2hvaWNlXSxcclxuICAgICAgICB0ZXh0VHJhbnNmb3JtOiAndXBwZXJjYXNlJ1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN0eWxlc3R5bGUgPSB7XHJcbiAgICAgICAgcGFkZGluZzogXCIzMHB4IDBcIixcclxuICAgICAgICBtYXJnaW46IFwiNXB4IDVweCA1MHB4IDVweFwiLFxyXG4gICAgICAgIGJvcmRlcjogXCIycHggc29saWQgI2Y5ZjlmOVwiLFxyXG4gICAgICAgIHRleHRBbGlnbjogXCItd2Via2l0LWNlbnRlclwiLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcclxuICAgICAgICBib3hTaGFkb3c6IFwiMCAxNXB4IDM1cHggcmdiYSg1MCw1MCw5MywuMSksIDAgNXB4IDE1cHggcmdiYSgwLDAsMCwuMDcpXCIsXHJcbiAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgMC4zcyBlYXNlLW91dFwiLFxyXG4gICAgICAgIFdlYmtpdFRyYW5zZm9ybTogXCJhbGwgMC4zcyBlYXNlLW91dFwiLFxyXG4gICAgICAgIG1pbkhlaWdodDogXCI5MHB4XCIsXHJcbiAgICAgICAgY29sb3I6ICcjNTg1ODU4JyxcclxuICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvcnNbcHJvcHMuY2hvaWNlXSxcclxuICAgICAgICB0ZXh0VHJhbnNmb3JtOiAndXBwZXJjYXNlJ1xyXG4gICAgfVxyXG4gICAgdmFyIGFwcGxpZWRzdHlsZSA9IChwcm9wcy5hbnN3ZXIgPT09IHByb3BzLnNlbGVjdGVkKSA/IGNvbG9yQ29kZSA6IHN0eWxlc3R5bGU7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgY29sLW1kLTIgcGFuZGluZ19ub1wiIGtleT17cHJvcHMuY2hvaWNlfSBvbkNsaWNrPXtwcm9wcy5oYW5kbGVDbGljay5iaW5kKHRoaXMsIHByb3BzLmFuc3dlcil9PlxyXG4gICAgICAgICAgICB7KHByb3BzLmFuc3dlciA9PT0gcHJvcHMuc2VsZWN0ZWQpID8gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J29uZm9jc19icmRyJyBzdHlsZT17YXBwbGllZHN0eWxlfT5cclxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiYm9sZFwiPntwcm9wcy5hbnN3ZXJ9PC9oMz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PikgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J29uZm9jc19icmRyJyBzdHlsZT17YXBwbGllZHN0eWxlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzPntwcm9wcy5hbnN3ZXJ9PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFuc3dlckxpc3RUd28ocHJvcHMpIHtcclxuICAgIHZhciBhbnN3ZXJzID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzLmRhdGFTZXQuYW5zd2Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGFuc3dlcnMucHVzaCg8QW5zd2VyVHdvIGtleT17aX0gY2hvaWNlPXtpfSBzdHlsZT17cHJvcHMuc3R5bGV9IGhhbmRsZUNsaWNrPXtwcm9wcy5oYW5kbGVDbGlja30gc2VsZWN0ZWQ9e3Byb3BzLnNlbGVjdGVkfSBhbnN3ZXI9e3Byb3BzLmRhdGFTZXQuYW5zd2Vyc1tpXX0gLz4pXHJcbiAgICB9XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIGNvbC1tZC0xMiBwYW5kaW5nX25vXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGNvbC1zbS0xMiBjb2xvcl9jYXJkc1wiIHN0eWxlPXt7IGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyB9fT57YW5zd2Vyc308L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIClcclxufVxyXG5cclxuZnVuY3Rpb24gUXVpekFyZWFUd28ocHJvcHMpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgY29sLW1kLTEyIHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgPFF1ZXN0aW9uVHdvIGRhdGFTZXQ9e3Byb3BzLmRhdGFTZXR9IHZhbGlkYXRpb249e3Byb3BzLnZhbGlkYXRpb259IC8+XHJcbiAgICAgICAgICAgIDxBbnN3ZXJMaXN0VHdvIGRhdGFTZXQ9e3Byb3BzLmRhdGFTZXR9IHN0eWxlPXtwcm9wcy5zdHlsZX0gaGFuZGxlQ2xpY2s9e3Byb3BzLmhhbmRsZUNsaWNrfSBzZWxlY3RlZD17cHJvcHMuc2VsZWN0ZWR9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1hdGVyaWFsUXVlc3Rpb25zOyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBNb2RhbCBmcm9tICdyZWFjdC1tb2RhbCc7XHJcbmNvbnN0IG1hdHN0eWxlID0ge1xyXG4gICAgcGFkZGluZzogXCIyMHB4XCIsXHJcbiAgICBtYXJnaW46IFwiNXB4IDVweCA1MHB4IDVweFwiLFxyXG4gICAgYm9yZGVyOiBcIjRweCBzb2xpZCAjZjlmOWY5XCIsXHJcbiAgICB0ZXh0QWxpZ246IFwiLXdlYmtpdC1jZW50ZXJcIixcclxuICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcclxuICAgIGJveFNoYWRvdzogXCIwIDE1cHggMzVweCByZ2JhKDUwLDUwLDkzLC4xKSwgMCA1cHggMTVweCByZ2JhKDAsMCwwLC4wNylcIixcclxuICAgIHRyYW5zaXRpb246IFwiYWxsIDAuM3MgZWFzZS1vdXRcIixcclxuICAgIFdlYmtpdFRyYW5zZm9ybTogXCJhbGwgMC4zcyBlYXNlLW91dFwiLFxyXG4gICAgdGV4dFRyYW5zZm9ybTogXCJ1cHBlcmNhc2VcIixcclxuICAgIGNvbG9yOiAnIzA2NGY3MCcsXHJcbiAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgbWluSGVpZ2h0OiAnMjQwcHgnXHJcbn1cclxuXHJcbmNvbnN0IHNlbGVjdGVkU3R5bGUgPSB7XHJcbiAgICBwYWRkaW5nOiBcIjIwcHhcIixcclxuICAgIG1hcmdpbjogXCI1cHggNXB4IDUwcHggNXB4XCIsXHJcbiAgICB0ZXh0QWxpZ246IFwiLXdlYmtpdC1jZW50ZXJcIixcclxuICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcclxuICAgIGJveFNoYWRvdzogXCIwIDE1cHggMzVweCByZ2JhKDUwLDUwLDkzLC4xKSwgMCA1cHggMTVweCByZ2JhKDAsMCwwLC4wNylcIixcclxuICAgIHRyYW5zaXRpb246IFwiYWxsIDAuM3MgZWFzZS1vdXRcIixcclxuICAgIFdlYmtpdFRyYW5zZm9ybTogXCJhbGwgMC4zcyBlYXNlLW91dFwiLFxyXG4gICAgYm9yZGVyOiBcIjRweCBzb2xpZCByZ2IoMTQyLCAyMjYsIDE3NClcIixcclxuICAgIHRleHRUcmFuc2Zvcm06IFwidXBwZXJjYXNlXCIsXHJcbiAgICBjb2xvcjogJyMwNjRmNzAnLFxyXG4gICAgZm9udFdlaWdodDogJ2JvbGQnLFxyXG4gICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgIG1pbkhlaWdodDogJzI0MHB4J1xyXG59XHJcblxyXG5jb25zdCBjdXN0b21TdHlsZXMgPSB7XHJcbiAgICBjb250ZW50OiB7XHJcbiAgICAgICAgdG9wOiAnNTAlJyxcclxuICAgICAgICBsZWZ0OiAnNTAlJyxcclxuICAgICAgICBwb3NpdGlvbjogJyBhYnNvbHV0ZScsXHJcbiAgICAgICAgcmlnaHQ6ICdhdXRvJyxcclxuICAgICAgICBib3R0b206ICdhdXRvJyxcclxuICAgICAgICBtYXJnaW5SaWdodDogJy01MCUnLFxyXG4gICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXHJcbiAgICAgICAgcGFkZGluZzogJzEwcHggMTVweCAyM3B4JyxcclxuICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgIGJvcmRlcjogXCI0cHggc29saWQgcmdiKDE0MiwgMjI2LCAxNzQpXCIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnMjBweCcsXHJcbiAgICAgICAgd2lkdGg6ICc1MCUnLFxyXG4gICAgICAgIGJhY2tncm91bmQ6ICcjZmZmZmZmJ1xyXG4gICAgfVxyXG59O1xyXG5sZXQgYW5udWFsT3V0cHV0LCBpbnN0YWxsZWRQb3dlcixcclxuICAgIHNvbGFyUmFkaWF0aW9uID0gMC45LCBwb3dlckxvc3MgPSAwLjksXHJcbiAgICByZWR1Y2VkUG93ZXIgPSAwLjksIFN0YW5kYXJkcGFja2V0LCBtYXhQYWNrZXQsIG1pblBhY2tldCwgY2FwYWNpdHksIHRvdGFsSW5zdGFsbGVkUG93ZXJJbmt3O1xyXG5jbGFzcyBQYW5lbENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBwYW5lbDogJycsXHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25PbmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwYW5lbF9jb3N0OiAnJyxcclxuICAgICAgICAgICAgYmF0dGVyeV9jb3N0OiAnJyxcclxuICAgICAgICAgICAgYmF0dGVyeTogJycsXHJcbiAgICAgICAgICAgIHZhbHVlOiAxMixcclxuICAgICAgICAgICAgbWVzc2FnZTogbnVsbCxcclxuICAgICAgICAgICAgcGFuZWxDb3VudDogW10sXHJcbiAgICAgICAgICAgIHBhY2tldE5hbWU6ICcnLFxyXG4gICAgICAgICAgICBwYWNrZXRzQ291bnQ6IDAsXHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25UaHJlZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvcHVwOiBmYWxzZSxcclxuICAgICAgICAgICAgbW9kYWxJc09wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBjdXN0b21QYWNrZXQ6IFwiQW5nZSBhbnRhbCBwYW5lbGVyXCIsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkUGFja2V0OiAnQ3VzdG9tIHBha2V0JyxcclxuICAgICAgICAgICAgcGFuZWxhcnJheVVwZGF0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIG1vZGFsRm9yUGFuZWxJc09wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBwYW5lbFBvcHVwOiBmYWxzZSxcclxuICAgICAgICAgICAgYmF0dGVyeVBvcHVwOiBmYWxzZSxcclxuICAgICAgICAgICAgYW5udWFsT3V0cHV0OiAwLFxyXG4gICAgICAgICAgICBtYXhpbXVtUGFja2V0czogMCxcclxuICAgICAgICAgICAgcGFuZWxDb3VudFZhbGlkYXRpb246IGZhbHNlLFxyXG4gICAgICAgICAgICBtaW5pbXVtUGFja2V0czogMCxcclxuICAgICAgICAgICAgc29sdGFrUGFuZWxzOltdLFxyXG4gICAgICAgICAgICBzb2x0YWtDdXN0b21QYWtldDogJ1NwZWNpZnkgdGhlIGFyZWEgb2Ygc29sb2FyIHJvb2YnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICAgICAgICB0aGlzLm1vZGFscG9wdXAgPSB0aGlzLm1vZGFscG9wdXAuYmluZCh0aGlzKVxyXG4gICAgICAgIE1vZGFsLnNldEFwcEVsZW1lbnQoJ2JvZHknKTtcclxuICAgICAgICB0aGlzLm9wZW5Nb2RhbCA9IHRoaXMub3Blbk1vZGFsLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5hZnRlck9wZW5Nb2RhbCA9IHRoaXMuYWZ0ZXJPcGVuTW9kYWwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNsb3NlTW9kYWwgPSB0aGlzLmNsb3NlTW9kYWwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnZhbGlkYXRlID0gdGhpcy52YWxpZGF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRDb3VudCA9IHRoaXMuc2VsZWN0ZWRDb3VudC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGFuZWxUeXBlc0NoYW5nZSA9IHRoaXMucGFuZWxUeXBlc0NoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY291bnRPZnBhbmVscyA9IHRoaXMuY291bnRPZnBhbmVscy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaW5jcmVtZW50ID0gdGhpcy5pbmNyZW1lbnQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmRlY3JlbWVudCA9IHRoaXMuZGVjcmVtZW50LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZVBhbmVsTW9kYWwgPSB0aGlzLmNsb3NlUGFuZWxNb2RhbC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub3BlblBhbmVsUG9wdXAgPSB0aGlzLm9wZW5QYW5lbFBvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZUJhdHRlcnlNb2RhbCA9IHRoaXMuY2xvc2VCYXR0ZXJ5TW9kYWwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9wZW5CYXR0ZXJ5UG9wdXAgPSB0aGlzLm9wZW5CYXR0ZXJ5UG9wdXAuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNsb3NlUGFja2V0TW9kYWwgPSB0aGlzLmNsb3NlUGFja2V0TW9kYWwuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9wZW5QYWNrZXRQb3B1cCA9IHRoaXMub3BlblBhY2tldFBvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5hbm51YWxPdXRwdXQgPSB0aGlzLmFubnVhbE91dHB1dC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlUm9vZkFyZWEgPSB0aGlzLmNhbGN1bGF0ZVJvb2ZBcmVhLmJpbmQodGhpcylcclxuXHJcbiAgICAgICAgdGhpcy5wYW5lbHMgPSBbe1xyXG4gICAgICAgICAgICBpbWFnZTogXCIuL2ltZy9wcmVtaXVtX3BhbmVsMi5qcGdcIixcclxuICAgICAgICAgICAgbmFtZTogXCJQcmVtaXVtXCIsXHJcbiAgICAgICAgICAgIGNvc3Q6IDExODBcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaW1hZ2U6IFwiLi9pbWcvU3RhbmRhcmRfUGFuZWwyLmpwZ1wiLFxyXG4gICAgICAgICAgICBuYW1lOiBcIlN0YW5kYXJkXCIsXHJcbiAgICAgICAgICAgIGNvc3Q6IDE0MDBcclxuICAgICAgICB9XHJcbiAgICBdO1xyXG4gICAgdGhpcy5zb2x0YWtQYW5lbHMgPSBbIHtcclxuICAgICAgICBpbWFnZTogXCIuL2ltZy9TdGFuZGFyZF9QYW5lbDIuanBnXCIsXHJcbiAgICAgICAgbmFtZTogXCJNaWRzb21tYXIgc29sdGFrXCIsXHJcbiAgICAgICAgY29zdDogMTYwMFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBpbWFnZTogXCIuL2ltZy9TdGFuZGFyZF9QYW5lbDIuanBnXCIsXHJcbiAgICAgICAgbmFtZTogXCJCZW5kYXJzIHN1bndhdmUgcGFsZW1hXCIsXHJcbiAgICAgICAgY29zdDogMTgwMFxyXG4gICAgfV1cclxuICAgICAgICB0aGlzLmJhdHRlcmllcyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaW1hZ2U6IFwiLi9pbWcvcHJlbWl1bS1iYXR0ZXJ5LnBuZ1wiLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJQcmVtaXVtXCIsXHJcbiAgICAgICAgICAgICAgICBjb3N0OiAzMDBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaW1hZ2U6IFwiLi9pbWcvbm9fYmF0dGVyeS5wbmdcIixcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiSW5nYVwiLFxyXG4gICAgICAgICAgICAgICAgY29zdDogMjIwXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgZnVuY3Rpb24gZGVncmVlc190b19yYWRpYW5zKGRlZ3JlZXMpIHtcclxuICAgICAgICAgICAgdmFyIHBpID0gTWF0aC5QSTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZ3JlZXMgKiAocGkgLyAxODApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcm9vZkFyZWEgPSBwYXJzZUludCh0aGlzLnByb3BzLnJvb2ZhcmVhKSAvIE1hdGguY29zKGRlZ3JlZXNfdG9fcmFkaWFucyhwYXJzZUludCh0aGlzLnByb3BzLnJvb2ZfcGl0Y2gpKSk7XHJcbiAgICAgICAgdGhpcy5zb2x0YWtQYW5lbHNBcnJheSA9IFtcclxuICAgICAgICAgICAge3BhY2tldDogJ1NtYWxsIHBha2V0JywgY291bnQ6IDI1fSxcclxuICAgICAgICAgICAge3BhY2tldDogJ1N0YW5kYXJkIHBha2V0JywgY291bnQ6IDUwfSxcclxuICAgICAgICAgICAge3BhY2tldDogJ01heCBwYWtldCcsIGNvdW50OiA5OX0sXHJcbiAgICAgICAgICAgIHtwYWNrZXQ6J0N1c3RvbSBwYWtldCcsIGNvdW50IDogJ1NwZWNpZnkgdGhlIGFyZWEgb2Ygc29sYXIgcm9vZid9XHJcbiAgICAgICAgXVxyXG4gICAgICAgIGlmIChyb29mQXJlYSA+IDQwMCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVsc0FycmF5ID0gW107XHJcbiAgICAgICAgICAgIFN0YW5kYXJkcGFja2V0ID0gMTAwO1xyXG4gICAgICAgICAgICBtaW5QYWNrZXQgPSAxMjtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbHNBcnJheSA9IFtcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU21hbGwgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQobWluUGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdTdGFuZGFyZCBwYWtldCcsIGNvdW50OiBwYXJzZUludChTdGFuZGFyZHBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiB0aGlzLnN0YXRlLnNlbGVjdGVkUGFja2V0LCBjb3VudDogdGhpcy5zdGF0ZS5jdXN0b21QYWNrZXQgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWF4aW11bVBhY2tldHMgPSBwYXJzZUludChTdGFuZGFyZHBhY2tldCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWluaW11bVBhY2tldHMgPSBwYXJzZUludChtaW5QYWNrZXQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocm9vZkFyZWEgPCA0MDAgJiYgcm9vZkFyZWEgPiAyMDApIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbHNBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICBtYXhQYWNrZXQgPSAxMDBcclxuICAgICAgICAgICAgU3RhbmRhcmRwYWNrZXQgPSBwYXJzZUludChyb29mQXJlYSAvIDQpO1xyXG4gICAgICAgICAgICBtaW5QYWNrZXQgPSAxMjtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbHNBcnJheSA9IFtcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU21hbGwgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQobWluUGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdTdGFuZGFyZCBwYWtldCcsIGNvdW50OiBwYXJzZUludChTdGFuZGFyZHBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnTWF4IHBha2V0JywgY291bnQ6IHBhcnNlSW50KG1heFBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiB0aGlzLnN0YXRlLnNlbGVjdGVkUGFja2V0LCBjb3VudDogdGhpcy5zdGF0ZS5jdXN0b21QYWNrZXQgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWF4aW11bVBhY2tldHMgPSBwYXJzZUludChtYXhQYWNrZXQpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1pbmltdW1QYWNrZXRzID0gcGFyc2VJbnQobWluUGFja2V0KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHJvb2ZBcmVhIDwgMjAwICYmIHJvb2ZBcmVhID4gMzYpIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbHNBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICBtYXhQYWNrZXQgPSBwYXJzZUludChyb29mQXJlYSAvIDIpO1xyXG4gICAgICAgICAgICBTdGFuZGFyZHBhY2tldCA9ICgxIC8gMikgKiBtYXhQYWNrZXQ7XHJcbiAgICAgICAgICAgIG1pblBhY2tldCA9IDEyO1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVsc0FycmF5ID0gW1xyXG4gICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdTbWFsbCBwYWtldCcsIGNvdW50OiBwYXJzZUludChtaW5QYWNrZXQpIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1N0YW5kYXJkIHBha2V0JywgY291bnQ6IHBhcnNlSW50KFN0YW5kYXJkcGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdNYXggcGFrZXQnLCBjb3VudDogcGFyc2VJbnQobWF4UGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYWNrZXQ6IHRoaXMuc3RhdGUuc2VsZWN0ZWRQYWNrZXQsIGNvdW50OiB0aGlzLnN0YXRlLmN1c3RvbVBhY2tldCB9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5tYXhpbXVtUGFja2V0cyA9IHBhcnNlSW50KG1heFBhY2tldCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWluaW11bVBhY2tldHMgPSBwYXJzZUludChtaW5QYWNrZXQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocm9vZkFyZWEgPCAzNiAmJiByb29mQXJlYSA+IDI2KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWxzQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgU3RhbmRhcmRwYWNrZXQgPSBwYXJzZUludChyb29mQXJlYSAvIDIpO1xyXG4gICAgICAgICAgICBtaW5QYWNrZXQgPSAxMjtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbHNBcnJheSA9IFtcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU21hbGwgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQobWluUGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdTdGFuZGFyZCBwYWtldCcsIGNvdW50OiBwYXJzZUludChTdGFuZGFyZHBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgIHsgcGFja2V0OiB0aGlzLnN0YXRlLnNlbGVjdGVkUGFja2V0LCBjb3VudDogdGhpcy5zdGF0ZS5jdXN0b21QYWNrZXQgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWF4aW11bVBhY2tldHMgPSBwYXJzZUludChTdGFuZGFyZHBhY2tldCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUubWluaW11bVBhY2tldHMgPSBwYXJzZUludChtaW5QYWNrZXQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocm9vZkFyZWEgPCAyNikge1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVsc0FycmF5ID0gW107XHJcbiAgICAgICAgICAgIFN0YW5kYXJkcGFja2V0ID0gMTI7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWxzQXJyYXkgPSBbXHJcbiAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1N0YW5kYXJkIHBha2V0JywgY291bnQ6IHBhcnNlSW50KFN0YW5kYXJkcGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYWNrZXQ6IHRoaXMuc3RhdGUuc2VsZWN0ZWRQYWNrZXQsIGNvdW50OiB0aGlzLnN0YXRlLmN1c3RvbVBhY2tldCB9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5tYXhpbXVtUGFja2V0cyA9IHBhcnNlSW50KFN0YW5kYXJkcGFja2V0KTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5taW5pbXVtUGFja2V0cyA9IHBhcnNlSW50KFN0YW5kYXJkcGFja2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgYW5udWFsT3V0cHV0KHdhdHRzLCBwYWNrZXQsIGNvdW50T2ZQYW5lbHMpIHtcclxuICAgICAgICB2YXIgcHJpbWFyeVNpZGVBbnVhbE91dHB1dCwgc2Vjb25kYXJ5U2lkZUFubnVhbE91dHB1dCwgaW5zdGFsbGVkUG93ZXJPblByaW1hcnlTaWRlLCBpbnN0YWxsZWRQb3dlck9uU2Vjb25kYXJ5U2lkZSxcclxuICAgICAgICAgICAgcHJpbWFyeVNpZGVSYWRpYXRpb24sIHNlY29uZGFyeVNpZGVSYWRpYXRpb24sIHByaW1hcnlTaWRlUGFuZWxzID0gMCwgc2Vjb25kYXJ5U2lkZVBhbmVscyA9IDA7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc3VyZmFjZURpcmVjdGlvbiA9PSAnVsOEU1QgMScgfHwgdGhpcy5wcm9wcy5zdXJmYWNlRGlyZWN0aW9uID09ICdPU1QgMicpIHsvL3dlc3QgZWFzdFxyXG4gICAgICAgICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDAuODQ7XHJcbiAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSAwLjc2O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdXJmYWNlRGlyZWN0aW9uID09ICdWw4RTVCAyJyB8fCB0aGlzLnByb3BzLnN1cmZhY2VEaXJlY3Rpb24gPT0gJ09TVCAxJykgey8vd2VzdCBlYXN0XHJcbiAgICAgICAgICAgIHByaW1hcnlTaWRlUmFkaWF0aW9uID0gMC44ODtcclxuICAgICAgICAgICAgc2Vjb25kYXJ5U2lkZVJhZGlhdGlvbiA9IDAuNzI7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN1cmZhY2VEaXJlY3Rpb24gPT0gJ1NZRFbDhFNUIDEnKSB7Ly9zb3V0aHdlc3RcclxuICAgICAgICAgICAgcHJpbWFyeVNpZGVSYWRpYXRpb24gPSAwLjkyO1xyXG4gICAgICAgICAgICBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID0gMC42ODtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3VyZmFjZURpcmVjdGlvbiA9PSAnU1lEVsOEU1QnKSB7Ly9zb3V0aHdlc3RcclxuICAgICAgICAgICAgcHJpbWFyeVNpZGVSYWRpYXRpb24gPSAwLjk2O1xyXG4gICAgICAgICAgICBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID0gMC42NDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3VyZmFjZURpcmVjdGlvbiA9PSAnU1lEIDEnIHx8IHRoaXMucHJvcHMuc3VyZmFjZURpcmVjdGlvbiA9PSAnU1lEIDInKSB7Ly9zb3V0aFxyXG4gICAgICAgICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDE7XHJcbiAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSAwLjYwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdXJmYWNlRGlyZWN0aW9uID09ICdTWURPU1QgMScpIHsvL3NvdXRoZWFzdFxyXG4gICAgICAgICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDAuOTI7XHJcbiAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSAwLjY0O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdXJmYWNlRGlyZWN0aW9uID09ICdTWURPU1QgMicpIHsvL3NvdXRoZWFzdFxyXG4gICAgICAgICAgICBwcmltYXJ5U2lkZVJhZGlhdGlvbiA9IDAuOTI7XHJcbiAgICAgICAgICAgIHNlY29uZGFyeVNpZGVSYWRpYXRpb24gPSAwLjY4O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdXJmYWNlRGlyZWN0aW9uID09ICdPU1QgMScpIHsvL2Vhc3RcclxuICAgICAgICAgICAgcHJpbWFyeVNpZGVSYWRpYXRpb24gPSAwLjg0O1xyXG4gICAgICAgICAgICBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uID0gMC43MjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ1N0b2NraG9sbScpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gMTAwMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ1bDpHN0ZXJib3R0ZW4nKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDgyNTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ05vcnJib3R0ZW4nKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDc3NTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ1VwcHNhbGEnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDk1O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnU8O2ZGVybWFubGFuZCcpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gODU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCfDlnN0ZXJnw7Z0bGFuZCcpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTc1O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnSsO2bmvDtnBpbmcnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDkyNTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ0tyb25vYmVyZycpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTI1O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnS2FsbWFyJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSA5NTA7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCdHb3RsYW5kJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSAxMDI1O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnQmxla2luZ2UnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDk3NTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ1Nrw6VuZScpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gMTAwMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ0hhbGxhbmQnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDEwMDA7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCdWw6RzdHJhIEfDtnRhbGFuZCcpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTUwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5sb2NhdGlvbi5pbmNsdWRlcygnVsOkcm1sYW5kJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSA5NTA7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCfDlnJlYnJvJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSA5NTA7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCdWw6RzdG1hbmxhbmQnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDk3NTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ0RhbGFybmEnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDk1MDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ0fDpHZsZWJvcmdkJykpIHtcclxuICAgICAgICAgICAgc29sYXJSYWRpYXRpb24gPSA5NTA7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmxvY2F0aW9uLmluY2x1ZGVzKCdWw6RzdGVybm9ycmxhbmQnKSkge1xyXG4gICAgICAgICAgICBzb2xhclJhZGlhdGlvbiA9IDkwMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9jYXRpb24uaW5jbHVkZXMoJ0rDpG10bGFuZCcpKSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNvbGFyUmFkaWF0aW9uID0gOTAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGFja2V0KSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucGFuZWxOYW1lID09ICdzb2x0YWsnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFja2V0VmFsdWVzT2JqZWN0ID0gdGhpcy5zb2x0YWtQYW5lbHNBcnJheS5maWx0ZXIoZnVuY3Rpb24gKHBhY2tldE9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWNrZXRPYmoucGFja2V0ID09PSBwYWNrZXRcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLnN0YXRlLnBhbmVsTmFtZSA9PSAnc29scGFuZWwnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFja2V0VmFsdWVzT2JqZWN0ID0gdGhpcy5wYW5lbHNBcnJheS5maWx0ZXIoZnVuY3Rpb24gKHBhY2tldE9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWNrZXRPYmoucGFja2V0ID09PSBwYWNrZXRcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc2VsZWN0ZWRfcGFuZWwnLHRoaXMuc3RhdGUucGFuZWxOYW1lKVxyXG4gICAgICAgICAgICB0b3RhbEluc3RhbGxlZFBvd2VySW5rdyA9IChjb3VudE9mUGFuZWxzICogd2F0dHMpIC8gMTAwMDtcclxuICAgICAgICAgICAgaWYgKHBhY2tldFZhbHVlc09iamVjdFswXS5wYWNrZXQgPT0gJ1NtYWxsIHBha2V0JyB8fCBwYWNrZXRWYWx1ZXNPYmplY3RbMF0ucGFja2V0ID09ICdTdGFuZGFyZCBwYWtldCcpIHtcclxuICAgICAgICAgICAgICAgIHByaW1hcnlTaWRlUGFuZWxzID0gY291bnRPZlBhbmVscztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYWNrZXRWYWx1ZXNPYmplY3RbMF0ucGFja2V0ID09ICdNYXggcGFrZXQnKSB7XHJcbiAgICAgICAgICAgICAgICBwcmltYXJ5U2lkZVBhbmVscyA9IGNvdW50T2ZQYW5lbHMgLyAyO1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kYXJ5U2lkZVBhbmVscyA9IGNvdW50T2ZQYW5lbHMgLyAyO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhY2tldFZhbHVlc09iamVjdFswXS5wYWNrZXQgPT0gJ0N1c3RvbSBwYWtldCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudE9mUGFuZWxzID4gdGhpcy5wYW5lbHNBcnJheVsxXS5jb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnlTaWRlUGFuZWxzID0gdGhpcy5wYW5lbHNBcnJheVsxXS5jb3VudDtcclxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlTaWRlUGFuZWxzID0gY291bnRPZlBhbmVscyAtIHRoaXMucGFuZWxzQXJyYXlbMV0uY291bnRcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnRPZlBhbmVscyA9PSB0aGlzLnBhbmVsc0FycmF5WzFdLmNvdW50IHx8IGNvdW50T2ZQYW5lbHMgPCB0aGlzLnBhbmVsc0FycmF5WzFdLmNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeVNpZGVQYW5lbHMgPSBjb3VudE9mUGFuZWxzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5zdGFsbGVkUG93ZXJPblByaW1hcnlTaWRlID0gcHJpbWFyeVNpZGVQYW5lbHMgKiB3YXR0cztcclxuICAgICAgICAgICAgaW5zdGFsbGVkUG93ZXJPblNlY29uZGFyeVNpZGUgPSBzZWNvbmRhcnlTaWRlUGFuZWxzICogd2F0dHM7XHJcbiAgICAgICAgICAgIHByaW1hcnlTaWRlQW51YWxPdXRwdXQgPSBpbnN0YWxsZWRQb3dlck9uUHJpbWFyeVNpZGUgKiBwcmltYXJ5U2lkZVJhZGlhdGlvbiAqIHNvbGFyUmFkaWF0aW9uICogcG93ZXJMb3NzICogcmVkdWNlZFBvd2VyO1xyXG4gICAgICAgICAgICBzZWNvbmRhcnlTaWRlQW5udWFsT3V0cHV0ID0gaW5zdGFsbGVkUG93ZXJPblNlY29uZGFyeVNpZGUgKiBzZWNvbmRhcnlTaWRlUmFkaWF0aW9uICogc29sYXJSYWRpYXRpb24gKiBwb3dlckxvc3MgKiByZWR1Y2VkUG93ZXI7XHJcbiAgICAgICAgICAgIGFubnVhbE91dHB1dCA9IChwcmltYXJ5U2lkZUFudWFsT3V0cHV0ICsgc2Vjb25kYXJ5U2lkZUFubnVhbE91dHB1dCkgLyAxMDAwO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGFubnVhbE91dHB1dDogYW5udWFsT3V0cHV0XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBhbm51YWxPdXRwdXQ6IDBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb3Blbk1vZGFsKCkge1xyXG4gICAgfVxyXG5cclxuICAgIGFmdGVyT3Blbk1vZGFsKCkge1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlTW9kYWwoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsSXNPcGVuOiBmYWxzZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBtb2RhbHBvcHVwKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3B1cDogdHJ1ZSwgbW9kYWxJc09wZW46IHRydWUgfSlcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RlZFBhbmVsKHBhbmVsLCBjb3N0LCBwYW5lbE5hbWUpIHtcclxuICAgICAgICBcclxuICAgICAgICBpZiAocGFuZWwgPT09ICdTdGFuZGFyZCcpIHtcclxuICAgICAgICAgICAgY2FwYWNpdHkgPSAyNzA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwYW5lbCA9PT0gJ1ByZW1pdW0nKSB7XHJcbiAgICAgICAgICAgIGNhcGFjaXR5ID0gMzIwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHBhbmVsID09PSAnTWlkc29tbWFyIHNvbHRhaycpIHtcclxuICAgICAgICAgICAgY2FwYWNpdHkgPSAxMTAgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHBhbmVsID09PSAnQmVuZGFycyBzdW53YXZlIHBhbGVtYScpIHtcclxuICAgICAgICAgICAgY2FwYWNpdHkgPSAxMDU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBwYW5lbDogcGFuZWwsXHJcbiAgICAgICAgICAgIHBhbmVsX2Nvc3Q6IGNvc3QsXHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25PbmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwYW5lbE5hbWU6IHBhbmVsTmFtZSxcclxuICAgICAgICAgICAgLy9wYW5lbENvdW50OiBwYW5lbHNBcnJheVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3BhbmVsX2Nvc3QnLGNvc3QpXHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncGFubmVsX25hbWUnLHBhbmVsKTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYW5uZWxfY2FwYWNpdHknLGNhcGFjaXR5KTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYW5uZWxOYW1lJyxwYW5lbE5hbWUpO1xyXG4gICAgICAgIHRoaXMuYW5udWFsT3V0cHV0KGNhcGFjaXR5LCB0aGlzLnN0YXRlLnBhY2tldE5hbWUsIHRoaXMuc3RhdGUucGFja2V0c0NvdW50KVxyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdGVkQmF0dGVyeShiYXR0ZXJ5LCBjb3N0KSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGJhdHRlcnk6IGJhdHRlcnksXHJcbiAgICAgICAgICAgIGJhdHRlcnlfY29zdDogY29zdCxcclxuICAgICAgICAgICAgdmFsaWRhdGlvblR3bzogZmFsc2VcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdGVkQ291bnQobmFtZSwgY291bnQpIHtcclxuICAgICAgICBpZiAobmFtZSA9PSAnQ3VzdG9tIHBha2V0JyB8fCBuYW1lID09ICdTZWxlY3RlZCBQYWtldCcgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3B1cDogdHJ1ZSwgbW9kYWxJc09wZW46IHRydWUsIHBhY2tldE5hbWU6IG5hbWUgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihuYW1lID09ICdTcGVjaWZ5IHRoZSBhcmVhIG9mIHNvbGFyIHJvb2YnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3B1cDogdHJ1ZSwgbW9kYWxJc09wZW46IHRydWUsIHBhY2tldE5hbWU6IG5hbWUgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmFtZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYWNrZXROYW1lOiAnQ3VzdG9tIHBha2V0JyxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUGFja2V0OiAnQ3VzdG9tIHBha2V0JyxcclxuICAgICAgICAgICAgICAgIHBhY2tldHNDb3VudDogY291bnQsXHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uVGhyZWU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGNvdW50LFxyXG4gICAgICAgICAgICAgICAgY3VzdG9tUGFja2V0OiBwYXJzZUludCh0aGlzLnN0YXRlLnZhbHVlKSxcclxuICAgICAgICAgICAgICAgIHBhbmVsYXJyYXlVcGRhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtb2RhbElzT3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBwYWNrZXRQb3B1cDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLnZhbHVlLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB0aGlzLmFubnVhbE91dHB1dChjYXBhY2l0eSwgJ0N1c3RvbSBwYWtldCcsIGNvdW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHBhY2tldE5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICBwYWNrZXRzQ291bnQ6IGNvdW50LFxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblRocmVlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHBhbmVsYXJyYXlVcGRhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjdXN0b21QYWNrZXQ6IFwiQW5nZSBhbnRhbCBwYW5lbGVyXCIsXHJcbiAgICAgICAgICAgICAgICBwYWNrZXRQb3B1cDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNvbHRha0N1c3RvbVBha2V0OiAnU3BlY2lmeSB0aGUgYXJlYSBvZiBzb2xhciByb29mJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB0aGlzLmFubnVhbE91dHB1dChjYXBhY2l0eSwgbmFtZSwgY291bnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVJvb2ZBcmVhKG5hbWUsdGhpcy5yb29mQXJlYSlcclxuICAgIH1cclxuXHJcbiAgICBjYWxjdWxhdGVSb29mQXJlYShuYW1lLHJvb2ZBcmVhKSB7XHJcbiAgICAgICAgdmFyIHNtYWxsUm9vZkFyZWEgPSAwO1xyXG4gICAgICAgIHZhciBub3JtYWxSb29mQXJlYSA9IDA7XHJcbiAgICAgICAgZnVuY3Rpb24gZGVncmVlc190b19yYWRpYW5zKGRlZ3JlZXMpIHtcclxuICAgICAgICAgICAgdmFyIHBpID0gTWF0aC5QSTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZ3JlZXMgKiAocGkgLyAxODApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihuYW1lID09PSAnU21hbGwgcGFrZXQnKSB7XHJcbiAgICAgICAgICAgIHZhciByb29mQXJlYSA9IHBhcnNlSW50KHRoaXMucHJvcHMucm9vZmFyZWEpIC8gTWF0aC5jb3MoZGVncmVlc190b19yYWRpYW5zKHBhcnNlSW50KHRoaXMucHJvcHMucm9vZl9waXRjaCkpKTtcclxuICAgICAgICAgICAgc21hbGxSb29mQXJlYSA9IChyb29mQXJlYSAqIDI1KS8xMDA7XHJcbiAgICAgICAgICAgIG5vcm1hbFJvb2ZBcmVhID0gKHJvb2ZBcmVhICogNzUpLzEwMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYobmFtZSA9PT0gJ1N0YW5kYXJkIHBha2V0Jykge1xyXG4gICAgICAgICAgICB2YXIgcm9vZkFyZWEgPSBwYXJzZUludCh0aGlzLnByb3BzLnJvb2ZhcmVhKSAvIE1hdGguY29zKGRlZ3JlZXNfdG9fcmFkaWFucyhwYXJzZUludCh0aGlzLnByb3BzLnJvb2ZfcGl0Y2gpKSk7XHJcbiAgICAgICAgICAgIHNtYWxsUm9vZkFyZWEgPSAocm9vZkFyZWEgKiA1MCkvMTAwO1xyXG4gICAgICAgICAgICBub3JtYWxSb29mQXJlYSA9IChyb29mQXJlYSAqIDUwKS8xMDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG5hbWUgPT09ICdNYXggcGFrZXQnKSB7XHJcbiAgICAgICAgICAgIHZhciByb29mQXJlYSA9IHBhcnNlSW50KHRoaXMucHJvcHMucm9vZmFyZWEpIC8gTWF0aC5jb3MoZGVncmVlc190b19yYWRpYW5zKHBhcnNlSW50KHRoaXMucHJvcHMucm9vZl9waXRjaCkpKTtcclxuICAgICAgICAgICAgc21hbGxSb29mQXJlYSA9IChyb29mQXJlYSAqIDEwMCkvMTAwO1xyXG4gICAgICAgICAgICBub3JtYWxSb29mQXJlYSA9IHJvb2ZBcmVhIDtcclxuICAgICAgICB9XHJcbiAgICAgICBcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdyb29mQXJlYVBrdCcsSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICBzbWFsbFJvb2ZBcmVhIDogc21hbGxSb29mQXJlYSxcclxuICAgICAgICAgICAgbm9ybWFsUm9vZkFyZWE6IG5vcm1hbFJvb2ZBcmVhXHJcbiAgICAgICAgfSkpXHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFVwZGF0ZShzdGF0ZSwgcHJvcCkge1xyXG4gICAgICAgIGxldCBfc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2V0VGltZW91dChjaGFuZ2VVcGRhdGUocHJvcCksIDIwMDApO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNoYW5nZVVwZGF0ZShwcm9wcykge1xyXG4gICAgICAgICAgICBpZiAocHJvcHMucGFuZWxhcnJheVVwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgX3NlbGYuc2V0U3RhdGUoeyBwYW5lbGFycmF5VXBkYXRlOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRlZ3JlZXNfdG9fcmFkaWFucyhkZWdyZWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBpID0gTWF0aC5QSTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVncmVlcyAqIChwaSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgcm9vZkFyZWEgPSBwYXJzZUludChfc2VsZi5wcm9wcy5yb29mYXJlYSkgLyBNYXRoLmNvcyhkZWdyZWVzX3RvX3JhZGlhbnMocGFyc2VJbnQoX3NlbGYucHJvcHMucm9vZl9waXRjaCkpKTtcclxuICAgICAgICAgICAgICAgIGlmIChyb29mQXJlYSA+IDQwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLnBhbmVsc0FycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgU3RhbmRhcmRwYWNrZXQgPSAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluUGFja2V0ID0gMTI7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYucGFuZWxzQXJyYXkgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU21hbGwgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQobWluUGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1N0YW5kYXJkIHBha2V0JywgY291bnQ6IHBhcnNlSW50KFN0YW5kYXJkcGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHBhY2tldDogcHJvcHMuc2VsZWN0ZWRQYWNrZXQsIGNvdW50OiBwcm9wcy5jdXN0b21QYWNrZXQgfVxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5zZXRTdGF0ZSh7IG1heGltdW1QYWNrZXRzOiBTdGFuZGFyZHBhY2tldCwgbWluaW11bVBhY2tldHM6IG1pblBhY2tldCB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9vZkFyZWEgPCA0MDAgJiYgcm9vZkFyZWEgPiAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5wYW5lbHNBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIFN0YW5kYXJkcGFja2V0ID0gcGFyc2VJbnQocm9vZkFyZWEgLyA0KTtcclxuICAgICAgICAgICAgICAgICAgICBtaW5QYWNrZXQgPSAxMjtcclxuICAgICAgICAgICAgICAgICAgICBtYXhQYWNrZXQgPSAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYucGFuZWxzQXJyYXkgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU21hbGwgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQobWluUGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1N0YW5kYXJkIHBha2V0JywgY291bnQ6IHBhcnNlSW50KFN0YW5kYXJkcGFja2V0KSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHBhY2tldDogJ01heCBwYWtldCcsIGNvdW50OiBwYXJzZUludChtYXhQYWNrZXQpIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcGFja2V0OiBwcm9wcy5zZWxlY3RlZFBhY2tldCwgY291bnQ6IHByb3BzLmN1c3RvbVBhY2tldCB9XHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLnNldFN0YXRlKHsgbWF4aW11bVBhY2tldHM6IG1heFBhY2tldCwgbWluaW11bVBhY2tldHM6IG1pblBhY2tldCB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb29mQXJlYSA8IDIwMCAmJiByb29mQXJlYSA+IDM2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYucGFuZWxzQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBtYXhQYWNrZXQgPSBwYXJzZUludChyb29mQXJlYSAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIFN0YW5kYXJkcGFja2V0ID0gKDEgLyAyKSAqIG1heFBhY2tldDtcclxuICAgICAgICAgICAgICAgICAgICBtaW5QYWNrZXQgPSAxMjtcclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5wYW5lbHNBcnJheSA9IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdTbWFsbCBwYWtldCcsIGNvdW50OiBwYXJzZUludChtaW5QYWNrZXQpIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnU3RhbmRhcmQgcGFrZXQnLCBjb3VudDogcGFyc2VJbnQoU3RhbmRhcmRwYWNrZXQpIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcGFja2V0OiAnTWF4IHBha2V0JywgY291bnQ6IHBhcnNlSW50KG1heFBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwYWNrZXQ6IHByb3BzLnNlbGVjdGVkUGFja2V0LCBjb3VudDogcHJvcHMuY3VzdG9tUGFja2V0IH1cclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuc2V0U3RhdGUoeyBtYXhpbXVtUGFja2V0czogbWF4UGFja2V0LCBtaW5pbXVtUGFja2V0czogbWluUGFja2V0IH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJvb2ZBcmVhIDwgMzYgJiYgcm9vZkFyZWEgPiAyNikge1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLnBhbmVsc0FycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgU3RhbmRhcmRwYWNrZXQgPSBwYXJzZUludChyb29mQXJlYSAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1pblBhY2tldCA9IDEyO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLnBhbmVsc0FycmF5ID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHBhY2tldDogJ1NtYWxsIHBha2V0JywgY291bnQ6IHBhcnNlSW50KG1pblBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdTdGFuZGFyZCBwYWtldCcsIGNvdW50OiBwYXJzZUludChTdGFuZGFyZHBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwYWNrZXQ6IHByb3BzLnNlbGVjdGVkUGFja2V0LCBjb3VudDogcHJvcHMuY3VzdG9tUGFja2V0IH1cclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuc2V0U3RhdGUoeyBtYXhpbXVtUGFja2V0czogU3RhbmRhcmRwYWNrZXQsIG1pbmltdW1QYWNrZXRzOiBtaW5QYWNrZXQgfSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9vZkFyZWEgPCAyNikge1xyXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLnBhbmVsc0FycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgU3RhbmRhcmRwYWNrZXQgPSAxMjtcclxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5wYW5lbHNBcnJheSA9IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwYWNrZXQ6ICdTdGFuZGFyZCBwYWtldCcsIGNvdW50OiBwYXJzZUludChTdGFuZGFyZHBhY2tldCkgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwYWNrZXQ6IHByb3BzLnNlbGVjdGVkUGFja2V0LCBjb3VudDogcHJvcHMuY3VzdG9tUGFja2V0IH1cclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuc2V0U3RhdGUoeyBtYXhpbXVtUGFja2V0czogU3RhbmRhcmRwYWNrZXQsIG1pbmltdW1QYWNrZXRzOiAxMiB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhbGlkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnBhbmVsID09PSAnJykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWRhdGlvbk9uZTogdHJ1ZSB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuYmF0dGVyeSA9PT0gJycpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbGlkYXRpb25Ud286IHRydWUgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnBhY2tldHNDb3VudCA9PT0gJycpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbGlkYXRpb25UaHJlZTogdHJ1ZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGFuZWxUeXBlc0NoYW5nZShwYW5lbCwgYmF0dGVyeSwgdmFsdWUpIHtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdwYW5lbCcpO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2JhdHRlcnknKTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdwYW5lbHNDb3VudCcpO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3BhbmVsJywgcGFuZWwpO1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2JhdHRlcnknLCBiYXR0ZXJ5KTtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYW5lbHNDb3VudCcsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBjb3VudE9mcGFuZWxzKGUpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5taW5pbXVtUGFja2V0cyA8PSBlLnRhcmdldC52YWx1ZSAmJiBlLnRhcmdldC52YWx1ZSA8PSB0aGlzLnN0YXRlLm1heGltdW1QYWNrZXRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGUudGFyZ2V0LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRQYWNrZXQ6ICdDdXN0b20gcGFrZXQnLFxyXG4gICAgICAgICAgICAgICAgcGFja2V0TmFtZTogJ0N1c3RvbSBwYWtldCcsXHJcbiAgICAgICAgICAgICAgICBwYW5lbENvdW50VmFsaWRhdGlvbjogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogZS50YXJnZXQudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBwYW5lbENvdW50VmFsaWRhdGlvbjogdHJ1ZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbmNyZW1lbnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUudmFsdWUgPD0gdGhpcy5zdGF0ZS5tYXhpbXVtUGFja2V0cyAtIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGFyc2VJbnQodGhpcy5zdGF0ZS52YWx1ZSkgKyAxLFxyXG4gICAgICAgICAgICAgICAgcGFuZWxDb3VudFZhbGlkYXRpb246IGZhbHNlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwYW5lbENvdW50VmFsaWRhdGlvbjogdHJ1ZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVjcmVtZW50KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnZhbHVlID49IHRoaXMuc3RhdGUubWluaW11bVBhY2tldHMgKyAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHBhcnNlSW50KHRoaXMuc3RhdGUudmFsdWUpIC0gMSxcclxuICAgICAgICAgICAgICAgIHBhbmVsQ291bnRWYWxpZGF0aW9uOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcGFuZWxDb3VudFZhbGlkYXRpb246IHRydWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9wZW5QYW5lbFBvcHVwKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtb2RhbEZvclBhbmVsSXNPcGVuOiB0cnVlLCBwYW5lbFBvcHVwOiB0cnVlIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VQYW5lbE1vZGFsKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtb2RhbEZvclBhbmVsSXNPcGVuOiBmYWxzZSwgcGFuZWxQb3B1cDogZmFsc2UgfSlcclxuICAgIH1cclxuXHJcbiAgICBvcGVuQmF0dGVyeVBvcHVwKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtb2RhbEZvckJhdHRlcnlJc09wZW46IHRydWUsIGJhdHRlcnlQb3B1cDogdHJ1ZSB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlQmF0dGVyeU1vZGFsKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtb2RhbEZvckJhdHRlcnlJc09wZW46IGZhbHNlLCBiYXR0ZXJ5UG9wdXA6IGZhbHNlIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VQYWNrZXRNb2RhbCgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgbW9kYWxGb3JQYWNrZXRJc09wZW46IGZhbHNlLCBwYWNrZXRQb3B1cDogZmFsc2UgfSlcclxuICAgIH1cclxuXHJcbiAgICBvcGVuUGFja2V0UG9wdXAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsRm9yUGFja2V0SXNPcGVuOiB0cnVlLCBwYWNrZXRQb3B1cDogdHJ1ZSB9KVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKDxkaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiXCI+XHJcbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicm9vZl9zdWJoZWFkXCI+VsOkbGogcHJvZHVrdDwvaDM+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIlwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZXBlcmF0aW9uLWxpbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMiBoZWFkaW5nX3RleHQgZm9udC1xdWlja3NhbmQgYm9sZFwiID5Ww6RsaiBTb2xwYW5lbGVyPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIGNvbC1zbS1vZmZzZXQtMyBtYXRlcmlhbFwiIHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICczMHB4JywgbWFyZ2luOiAnMHB4IGF1dG8nIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUudmFsaWRhdGlvbk9uZSA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndmFsaWRhdGlvbicgc3R5bGU9e3sgbWFyZ2luOiAnMHB4IGF1dG8nIH19PjxzcGFuPlBsZWFzZSBzZWxlY3QgdGhlIFBhbmVsIHR5cGU8L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKG51bGwpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMiBjb2wtc20tMTIgYWxpZ24tdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNiBjb2wtbWQtNlwiIGlkPVwicGFuZWwtdHlwZXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhbmVscy5tYXAoKGRhdGEsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02IGNvbC1tZC02XCIga2V5PXtpbmRleH0gb25DbGljaz17dGhpcy5zZWxlY3RlZFBhbmVsLmJpbmQodGhpcywgZGF0YS5uYW1lLCBkYXRhLmNvc3QsICdzb2xwYW5lbCcpfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvbmZvY3NfYnJkciBiLXdoaXRlXCIgc3R5bGU9eyhkYXRhLm5hbWUgPT0gdGhpcy5zdGF0ZS5wYW5lbCkgPyBzZWxlY3RlZFN0eWxlIDogbWF0c3R5bGV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17ZGF0YS5pbWFnZX0gYWx0PXtkYXRhLm5hbWV9IGNsYXNzTmFtZT1cImltZy1yZXNwb25zaXZlXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm0tdG9wOSBwYW5lbC1mb250XCI+e2RhdGEubmFtZX0gcGFuZWw8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02IGNvbC1tZC02XCIgaWQ9XCJwYW5lbC10eXBlc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc29sdGFrUGFuZWxzLm1hcCgoZGF0YSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTZcIiBrZXk9e2luZGV4fSBvbkNsaWNrPXt0aGlzLnNlbGVjdGVkUGFuZWwuYmluZCh0aGlzLCBkYXRhLm5hbWUsIGRhdGEuY29zdCwgJ3NvbHRhaycpfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvbmZvY3NfYnJkciBiLXdoaXRlXCIgc3R5bGU9eyhkYXRhLm5hbWUgPT0gdGhpcy5zdGF0ZS5wYW5lbCkgPyBzZWxlY3RlZFN0eWxlIDogbWF0c3R5bGV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17ZGF0YS5pbWFnZX0gYWx0PXtkYXRhLm5hbWV9IGNsYXNzTmFtZT1cImltZy1yZXNwb25zaXZlXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm0tdG9wOSBwYW5lbC1mb250XCI+e2RhdGEubmFtZX0gcGFuZWw8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgY29sLXNtLTEyIGFsaWduLXRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJoaXBlckxpbmtcIiBvbkNsaWNrPXt0aGlzLm9wZW5QYW5lbFBvcHVwLmJpbmQodGhpcyl9PkzDpHMgbWVyIG9tIHNvbHBhbmVsPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUucGFuZWxQb3B1cCA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3Blbj17dGhpcy5zdGF0ZS5tb2RhbEZvclBhbmVsSXNPcGVufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25BZnRlck9wZW49e3RoaXMuYWZ0ZXJPcGVuTW9kYWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJlcXVlc3RDbG9zZT17dGhpcy5jbG9zZVBhbmVsTW9kYWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17Y3VzdG9tU3R5bGVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicGFuZWwtbW9kYWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudExhYmVsPVwiRXhhbXBsZSBNb2RhbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgcGFuZGluZ19ub1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9rYS1oZWFkaW5nXCI+U29scGFuZWxlcjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZi1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNsb3NlLWJ1dHRvbiBcIiBvbkNsaWNrPXt0aGlzLmNsb3NlUGFuZWxNb2RhbH0+WDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMiBxdWVzdGlvbnNQYWdlIHBhZGRpbmctYm90dG9tLW5vbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRpbmcgbGlzdC1oZWFkXCI+U1RBTkRBUkQgU09MUEFORUw8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMTBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInBhbmVscy1saXN0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+IC0gMjc1IGtXaCA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPiAtIFBhbmVsIGlwb2x5a3Jpc3RhbGxpbjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+IC0gUGFzc2FyYsOkc3Rmw7Zyc3RvcmFpbnN0YWxsYXRpb25lcnDDpWV4ZW1wZWx2aXNmw7ZyZXRhZywgc29sY2VsbHNwYXJrZXJvY2htYXJrYW5sw6RnZ25pbmdhcjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIHF1ZXN0aW9uc1BhZ2UgcGFkZGluZy10b3Atbm9uZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGluZyBsaXN0LWhlYWRcIj5QUkVNSVVNIFNPTFBBTkVMPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTEwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJwYW5lbHMtbGlzdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPiAtIDMyMCBrV2ggPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4gLSBQYW5lbCBpbW9ub2tyaXN0YWxsaW48L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPiAtIFBhc3NhcmLDpHN0ZsO2cnZpbGxvcmTDpSBkZW4gc3ZhcnRza2ltcmFuZGVmw6RyZ2Vub2Z0YXN0w6RybWVydXBwc2thdHRhZMOkbnN0YW5kYXJkcGFuZWxlbjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+IC0gSMO2Z3JlZWZmZWt0IHBlciBwYW5lbCBnw7ZycGFuZWxlbmzDpG1wbGlnZsO2cm1pbmRyZXRhazwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXN0aW1hdGUgY29sLW1kLTEyIGFsaWduLXRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzdWJtaXQgZmxvYXQtbm9uZVwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VQYW5lbE1vZGFsfT5zdMOkbmc8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L01vZGFsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChudWxsKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGhlYWRpbmdfdGV4dCBmb250LXF1aWNrc2FuZCBib2xkXCIgPnbDpGxqIGFudGFsIHNvbHBhbmVsZXI8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIG1hdGVyaWFsXCIgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJzMwcHgnLCBtYXJnaW46ICcwcHggYXV0bycgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUudmFsaWRhdGlvblRocmVlID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndmFsaWRhdGlvbicgc3R5bGU9e3sgbWFyZ2luOiAnMHB4IGF1dG8nIH19PjxzcGFuPlBsZWFzZSBzZWxlY3QgdGhlIHBhY2tldCB0eXBlPC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAobnVsbCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTFcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIGNvbC1tZC0xMFwiIGlkPVwicGFuZWxzLWNvdW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUucG9wdXAgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e3RoaXMuc3RhdGUubW9kYWxJc09wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25BZnRlck9wZW49e3RoaXMuYWZ0ZXJPcGVuTW9kYWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZXF1ZXN0Q2xvc2U9e3RoaXMuY2xvc2VNb2RhbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17Y3VzdG9tU3R5bGVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBhbmVsLW1vZGFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50TGFiZWw9XCJTcGVjaWZ5IHBhY2tldFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib2thLWhlYWRpbmdcIj5BbmdlIGFudGFsIHBhbmVsZXI8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmLXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNsb3NlLWJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VNb2RhbH0+WDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUucGFuZWxDb3VudFZhbGlkYXRpb24gP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIHBhbmVscy12YWxpZC1oZWFkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbHMtY291bnQtdmFsaWRhdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYW5lbHMgcmFuZ2UgaXMge3RoaXMuc3RhdGUubWF4aW11bVBhY2tldHN9IC0ge3RoaXMuc3RhdGUubWluaW11bVBhY2tldHN9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4pIDogKG51bGwpfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgYWxpZ24tdGV4dC1jZW50ZXIgc2xvdHMtY2VudGVyaW5nIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb3ZlLWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9e3RoaXMuaW5jcmVtZW50LmJpbmQodGhpcyl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vaW1nL2NhcmV0LXN5bWJvbC5wbmdcIiBhbHQ9XCJpbmNyZW1lbnRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0nY291bnRlcicgdmFsdWU9e3RoaXMuc3RhdGUudmFsdWV9IG9uQ2hhbmdlPXt0aGlzLmNvdW50T2ZwYW5lbHN9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW92ZS1sZWZ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBvbkNsaWNrPXt0aGlzLmRlY3JlbWVudC5iaW5kKHRoaXMpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL2ltZy9kb3duLWFycm93LnBuZ1wiIGFsdD0nZGVjcmVtZW50JyAvPiA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgYm9va2luZy1idXR0b25zIGFsaWduLXRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInN1Ym1pdFwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VNb2RhbH0+QXZicnl0PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInN1Ym1pdFwiIGRpc2FibGVkPXt0aGlzLnN0YXRlLnBhbmVsQ291bnRWYWxpZGF0aW9ufSBvbkNsaWNrPXt0aGlzLnNlbGVjdGVkQ291bnQuYmluZCh0aGlzLCAnJywgdGhpcy5zdGF0ZS52YWx1ZSl9Pk9rPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAobnVsbCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyh0aGlzLnN0YXRlLnBhbmVsTmFtZSA9PT0gJ3NvbHBhbmVsJyB8fCB0aGlzLnN0YXRlLnBhbmVsTmFtZSA9PSB1bmRlZmluZWQpID8gIHRoaXMucGFuZWxzQXJyYXkubWFwKChkYXRhLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNiBjb2wtbWQtMyBwYW5kaW5nX25vXCIga2V5PXtpbmRleH0gb25DbGljaz17dGhpcy5zZWxlY3RlZENvdW50LmJpbmQodGhpcywgZGF0YS5wYWNrZXQsIGRhdGEuY291bnQpfSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvbmZvY3NfYnJkcjEgYi13aGl0ZSBzb2xhci1wYW5lbFwiIHN0eWxlPXsoZGF0YS5wYWNrZXQgPT0gdGhpcy5zdGF0ZS5wYWNrZXROYW1lKSA/IHNlbGVjdGVkU3R5bGUgOiBtYXRzdHlsZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoZGF0YS5wYWNrZXQgPT09IFwiQ3VzdG9tIHBha2V0XCIgJiYgdGhpcy5zdGF0ZS5jdXN0b21QYWNrZXQgPT0gXCJBbmdlIGFudGFsIHBhbmVsZXJcIikgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZjIxIHRleHQtY2FwaXRhbCBzcGVjaWZ5LWNhcmQnPntkYXRhLmNvdW50fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYWNrZXRzLWZvbnQnPntkYXRhLmNvdW50fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtLXRvcDlcIj57ZGF0YS5wYWNrZXR9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk6IG51bGx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyh0aGlzLnN0YXRlLnBhbmVsTmFtZSA9PT0gJ3NvbHRhaycgICYmIHRoaXMuc3RhdGUucGFuZWxOYW1lICE9PSB1bmRlZmluZWQpID8gIHRoaXMuc29sdGFrUGFuZWxzQXJyYXkubWFwKChkYXRhLGluZGV4KT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTMgcGFuZGluZ19ub1wiIGtleT17aW5kZXh9IG9uQ2xpY2s9e3RoaXMuc2VsZWN0ZWRDb3VudC5iaW5kKHRoaXMsIGRhdGEucGFja2V0LCBkYXRhLmNvdW50LCBcIlNwZWNpZnkgdGhlIGFyZWEgb2Ygc29sYXIgcm9vZlwiKX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib25mb2NzX2JyZHIxIGItd2hpdGUgc29sYXItcGFuZWxcIiBzdHlsZT17KGRhdGEucGFja2V0ID09IHRoaXMuc3RhdGUucGFja2V0TmFtZSkgPyBzZWxlY3RlZFN0eWxlIDogbWF0c3R5bGV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KGRhdGEucGFja2V0ID09PSBcIkN1c3RvbSBwYWtldFwiICYmIHRoaXMuc3RhdGUuc29sdGFrQ3VzdG9tUGFrZXQgPT0gXCJTcGVjaWZ5IHRoZSBhcmVhIG9mIHNvbGFyIHJvb2ZcIikgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZjIxIHRleHQtY2FwaXRhbCBzcGVjaWZ5LWNhcmQnPntkYXRhLmNvdW50fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYWNrZXRzLWZvbnQnPntkYXRhLmNvdW50fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtLXRvcDlcIj57ZGF0YS5wYWNrZXR9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6IG51bGx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGNvbC1zbS0xMiBhbGlnbi10ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnBhY2tldFBvcHVwICYmIHRoaXMuc3RhdGUucGFuZWwgJiYgdGhpcy5zdGF0ZS5wYW5lbE5hbWUgPT0gJ3NvbHBhbmVsJyA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTFcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEwIGNvbC1zbS0xMiBwYW5kaW5nX25vIHBhbmVsLWNvdW50LWluZm8tYm9yZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNiBjb2wtbWQtNCBwYW5kaW5nX25vXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1oZWFkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJwYW5lbC1jb3VudC1pbmZvXCI+TUFYIEFOVEFMIFNPTEFSUEFORUxFUjxiciAvPihUYWt5dGEgaGFyIHBsYXRzIGZvcik8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncGFuZWwtdmFsdWVzLWluZm8nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLm1heGltdW1QYWNrZXRzfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02IGNvbC1tZC00IHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LWhlYWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInBhbmVsLWNvdW50LWluZm9cIj5WQUxUIEFOVEFMIFNPTEFSUEFORUxFUjwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BhbmVsLXZhbHVlcy1pbmZvJz57dGhpcy5zdGF0ZS5wYWNrZXRzQ291bnR9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTQgcGFuZGluZ19ub1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtaGVhZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwicGFuZWwtY291bnQtaW5mb1wiPkVGRkVLVDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BhbmVsLXZhbHVlcy1pbmZvIG5vLWJvcmRlcic+e3RvdGFsSW5zdGFsbGVkUG93ZXJJbmt3fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPiBrV2g8L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02IGNvbC1tZC0zIHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LWhlYWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInBhbmVsLWNvdW50LWluZm9cIj7DhVJTUFJPRFVLVElPTjwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BhbmVsLXZhbHVlcy1pbmZvJz57cGFyc2VJbnQodGhpcy5zdGF0ZS5hbm51YWxPdXRwdXQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPiBLV2g8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+ICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnBhY2tldFBvcHVwICYmIHRoaXMuc3RhdGUucGFuZWwgJiYgdGhpcy5zdGF0ZS5wYW5lbE5hbWUgPT0gJ3NvbHRhaycgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMCBjb2wtc20tMTIgcGFuZGluZ19ubyBwYW5lbC1jb3VudC1pbmZvLWJvcmRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTQgcGFuZGluZ19ub1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtaGVhZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwicGFuZWwtY291bnQtaW5mb1wiPlRhayBZVEE8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncGFuZWwtdmFsdWVzLWluZm8gbm8tYm9yZGVyJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5tYXhpbXVtUGFja2V0c31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4ga3ZtPC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02IGNvbC1tZC00IHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LWhlYWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInBhbmVsLWNvdW50LWluZm9cIj5WQUxUIFNPTFRBSyBZVEE8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYW5lbC12YWx1ZXMtaW5mbyc+e3RoaXMuc3RhdGUucGFja2V0c0NvdW50fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02IGNvbC1tZC00IHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LWhlYWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInBhbmVsLWNvdW50LWluZm9cIj5FRkZFS1Q8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYW5lbC12YWx1ZXMtaW5mbyBuby1ib3JkZXInPnt0b3RhbEluc3RhbGxlZFBvd2VySW5rd31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4ga1doPC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNiBjb2wtbWQtMyBwYW5kaW5nX25vXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1oZWFkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJwYW5lbC1jb3VudC1pbmZvXCI+w4VSU1BST0RVS1RJT048L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwYW5lbC12YWx1ZXMtaW5mbyc+e3BhcnNlSW50KHRoaXMuc3RhdGUuYW5udWFsT3V0cHV0KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4gS1doPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiBjZW50ZXItbGluZS1zZXBlcmF0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgaGVhZGluZ190ZXh0IGZvbnQtcXVpY2tzYW5kIGJvbGRcIiA+dsOkbGogQmF0dGVyaTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiBtYXRlcmlhbFwiIHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICczMHB4JywgbWFyZ2luOiAnMHB4IGF1dG8nIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUudmFsaWRhdGlvblR3byA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndmFsaWRhdGlvbicgc3R5bGU9e3sgbWFyZ2luOiAnMHB4IGF1dG8nIH19PjxzcGFuPlBsZWFzZSBzZWxlY3QgdGhlIEJhdHRlcnkgdHlwZTwvc3Bhbj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAobnVsbCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIGNvbC1tZC0xMFwiIGlkPVwiYmF0dGVyeS10eXBlc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmF0dGVyaWVzLm1hcCgoZGF0YSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTRcIiBrZXk9e2luZGV4fSBvbkNsaWNrPXt0aGlzLnNlbGVjdGVkQmF0dGVyeS5iaW5kKHRoaXMsIGRhdGEubmFtZSwgZGF0YS5jb3N0KX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib25mb2NzX2JyZHIgYi13aGl0ZVwiIHN0eWxlPXsoZGF0YS5uYW1lID09IHRoaXMuc3RhdGUuYmF0dGVyeSkgPyBzZWxlY3RlZFN0eWxlIDogbWF0c3R5bGV9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17ZGF0YS5pbWFnZX0gYWx0PXtkYXRhLm5hbWV9IGNsYXNzTmFtZT1cImltZy1yZXNwb25zaXZlXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm0tdG9wOVwiPntkYXRhLm5hbWV9IGJhdHRlcmk8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMiBjb2wtc20tMTIgYWxpZ24tdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImhpcGVyTGlua1wiIG9uQ2xpY2s9e3RoaXMub3BlbkJhdHRlcnlQb3B1cC5iaW5kKHRoaXMpfT5Mw6RzIG1lciBvbSBiYXR0ZXJpPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuYmF0dGVyeVBvcHVwID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuPXt0aGlzLnN0YXRlLm1vZGFsRm9yQmF0dGVyeUlzT3Blbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQWZ0ZXJPcGVuPXt0aGlzLmFmdGVyT3Blbk1vZGFsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZXF1ZXN0Q2xvc2U9e3RoaXMuY2xvc2VCYXR0ZXJ5TW9kYWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17Y3VzdG9tU3R5bGVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicGFuZWwtbW9kYWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudExhYmVsPVwiRXhhbXBsZSBNb2RhbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIgcGFuZGluZ19ub1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9rYS1oZWFkaW5nXCI+QkFUVEVSSTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZi1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNsb3NlLWJ1dHRvbiBcIiBvbkNsaWNrPXt0aGlzLmNsb3NlQmF0dGVyeU1vZGFsfT5YPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicXVlc3Rpb25zUGFnZSBwYWRkaW5nLWJvdHRvbS1ub25lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkaW5nIGxpc3QtaGVhZFwiPlBSRU1JVU0gQkFUVEVSSTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0xMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwicGFuZWxzLWxpc3RcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4gLSAxMSw0IGtXaCBlZmZla3QgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4gLSBTdHLDtm3DpHZlbiB2aWQgc3Ryw7ZtYXZicm90dDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+IC0gVsOkeGVscmlrdGFyZW9jaGJhdHRlcmlnZW5vbUJhdHRlclguPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4gLSBNw7ZqbGlnaGV0IHRpbGwgc3Ryw7ZtbGFncmluZ2Zyw6Vuc29scGFuZWxlcjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicXVlc3Rpb25zUGFnZSBwYWRkaW5nLXRvcC1ub25lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkaW5nIGxpc3QtaGVhZFwiPlVUQU4gQkFUVEVSSTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0xMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwicGFuZWxzLWxpc3RcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4gLSBTw6RsaiBkaW4gw7Z2ZXJza290dHNlbGRpcmVrdCB0aWxsIGVsYm9sYWdldDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+IC0gUGFuZWwgaW1vbm9rcmlzdGFsbGluPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT4gLSBQYXNzYXJiw6RzdGbDtnJ2aWxsb3Jkw6UgZGVuIHN2YXJ0c2tpbXJhbmRlZsOkcmdlbm9mdGFzdMOkcm1lcnVwcHNrYXR0YWTDpG5zdGFuZGFyZHBhbmVsZW48L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPiAtIEjDtmdyZWVmZmVrdCBwZXIgcGFuZWwgZ8O2cnBhbmVsZW5sw6RtcGxpZ2bDtnJtaW5kcmV0YWs8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVzdGltYXRlIGFsaWduLXRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJzdWJtaXQgZmxvYXQtbm9uZVwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VCYXR0ZXJ5TW9kYWx9PnN0w6RuZzwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChudWxsKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTEyIGVzdGltYXRlXCIgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJzMwcHgnIH19ID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnBhbmVsICYmIHRoaXMuc3RhdGUuYmF0dGVyeSA/IChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeUNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZGRpbmcxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMuYmFjay5iaW5kKHRoaXMsIDQpfSBjbGFzc05hbWU9XCJzdWJtaXRcIiA+RsO2cmVnw6VlbmRlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZGRpbmcxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMucGFuZWxUeXBlcy5iaW5kKHRoaXMsIHRoaXMuc3RhdGUucGFuZWwsIHRoaXMuc3RhdGUuYmF0dGVyeSwgcGFyc2VJbnQodGhpcy5zdGF0ZS5wYWNrZXRzQ291bnQpLCB0aGlzLnN0YXRlLnBhY2tldE5hbWUsIHBhcnNlSW50KHRoaXMuc3RhdGUuYW5udWFsT3V0cHV0KSl9IGNsYXNzTmFtZT1cInN1Ym1pdFwiID5TbHV0ZsO2cjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5Q2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZGRpbmcxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLmJhY2suYmluZCh0aGlzLCA0KX0gY2xhc3NOYW1lPVwic3VibWl0XCIgPkbDtnJlZ8OlZW5kZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZGRpbmcxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnZhbGlkYXRlfSBjbGFzc05hbWU9XCJzdWJtaXRcIiA+U2x1dGbDtnI8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgUGFuZWxDb21wb25lbnQ7IiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuXHJcbmNsYXNzIFByb2ZpbGUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcylcclxuICAgICAgICB2YXIgdXNlcmRhdGEgPSBcIlwiO1xyXG4gICAgICAgIHZhciBuYW1lID0gXCJcIjtcclxuICAgICAgICB2YXIgUGhvbmUgPSBcIlwiO1xyXG4gICAgICAgIHZhciBFbWFpbCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlcmRhdGFcIikgPT0gXCJ1bmRlZmluZWRcIiB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJkYXRhXCIpID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnVzZXJkYXRhID0gXCJcIlxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudXNlcmRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlcmRhdGFcIikpO1xyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLnVzZXJkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuUGhvbmUgPSB0aGlzLnVzZXJkYXRhLmVtYWlsO1xyXG4gICAgICAgICAgICB0aGlzLkVtYWlsID0gdGhpcy51c2VyZGF0YS5waG9uZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJwcm9maWxlXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTJcIiA+PGRpdiBpZD1cIlwiIGhpZGRlbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+TmFtZTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgdmFsdWU9e3RoaXMubmFtZX0gcmVhZE9ubHkgLz4gPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPkVtYWlsPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgdmFsdWU9e3RoaXMuRW1haWx9IHJlYWRPbmx5IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5QaG9uZTwvdGQ+PHRkPiA8aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT17dGhpcy5QaG9uZX0gY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgcmVhZE9ubHkgLz4gPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjwvdGQ+PHRkPiA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiPlN1Ym1pdDwvYnV0dG9uPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTJcIj48ZGl2IGlkPVwiXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMiA+PGI+e3RoaXMucHJvcHMuYWRkcmVzc308L2I+PC9oMj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+PGI+WW91ciBSb29maW5nIEVzdGltYXRpb248L2I+PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlXCI+PHRoZWFkPjx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5TLk5vPC90aD48dGg+U3R5bGU8L3RoPjx0aD5NYXRlcmlhbDwvdGg+PHRoPkFyZWE8L3RoPjx0aD5Fc3RpbWF0ZWQgUHJpY2U8L3RoPjwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXN0aW1hdGlvbiBkYXRhPXt0aGlzLnVzZXJkYXRhLmVzdGRldH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5jbGFzcyBFc3RpbWF0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpXHJcbiAgICAgICAgdmFyIHJlc2RhdGEgPSBwcm9wcy5kYXRhO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoPHRib2R5PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmRhdGEubWFwKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICg8dHIga2V5PXtrZXl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e2tleSArIDF9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGtleT17a2V5fT57dmFsdWUuc2xvcGV9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt2YWx1ZS5tYXRlcmlhbH08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3ZhbHVlLmFyZWF9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt2YWx1ZS5lc3RpbWF0ZWRhbW91bnR9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8L3RyPilcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICA8L3Rib2R5PilcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUHJvZmlsZTsiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgRHJhZ2FiYmxlQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50cy9EcmFnYWJibGVDb21wb25lbnQnO1xyXG5pbXBvcnQgQ29udGV4dCBmcm9tICcuL2NvbXBvbmVudHMvQ29udGV4dCc7XHJcbmltcG9ydCBNb2RhbCBmcm9tICdyZWFjdC1tb2RhbCc7XHJcbmNvbnN0IGN1c3RvbVN0eWxlcyA9IHtcclxuICBjb250ZW50OiB7XHJcbiAgICB0b3A6ICc1MCUnLFxyXG4gICAgbGVmdDogJzUwJScsXHJcbiAgICByaWdodDogJ2F1dG8nLFxyXG4gICAgYm90dG9tOiAnYXV0bycsXHJcbiAgICBtYXJnaW5SaWdodDogJy01MCUnLFxyXG4gICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcclxuICAgIHBhZGRpbmc6ICcxMHB4IDE1cHggMjNweCcsXHJcbiAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgYm9yZGVyUmFkaXVzOiAnODVweCcsXHJcbiAgICB6SW5kZXg6ICc5MCdcclxuICB9XHJcbn07XHJcbnZhciBoaWdobGV0c3R5bGUgPSB7XHJcbiAgZm9udFNpemU6ICcxNSdcclxufVxyXG52YXIgaGlnaGxldHN0eWxlMiA9IHtcclxuICBmb250U2l6ZTogJzE1J1xyXG59O1xyXG5cclxuY2xhc3MgUm9vZlF1ZXN0aW9ucyBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIHdpbmRvdy5zY3JvbGxUbygwLDApO1xyXG4gICAgdGhpcy5kYXRhU2V0ID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgcXVlc3Rpb246IFwiVmlsa2VuIHR5cCBhdiBmYXN0aWdoZXQgYm9yIGR1IGk/XCIsXHJcbiAgICAgICAgYW5zd2VyczogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBpbWFnZTogXCIuL2ltZy9EaWdpdGFrX1JhZGh1cy5wbmdcIixcclxuICAgICAgICAgICAgbmFtZTogXCJSYWRodXNcIlxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgaW1hZ2U6IFwiLi9pbWcvRGlnaXRha19WaWxsYS5wbmdcIixcclxuICAgICAgICAgICAgbmFtZTogXCJWaWxsYVwiXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBpbWFnZTogXCIuL2ltZy9EaWdpdGFrX0ZyaXRpZHNodXMucG5nXCIsXHJcbiAgICAgICAgICAgIG5hbWU6IFwiRnJpdGlkc2h1c1wiXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBpbWFnZTogXCIuL2ltZy9EaWdpdGFrX0Jvc3RhZHNyYV9MZXZlbC5wbmdcIixcclxuICAgICAgICAgICAgbmFtZTogXCJCb3N0YWRzcsOkdHRcIlxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgaW1hZ2U6IFwiLi9pbWcvRGlnaXRha19MYW50YnJ1ay5wbmdcIixcclxuICAgICAgICAgICAgbmFtZTogXCJMYW50YnJ1a1wiXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgcXVlc3Rpb246IFwiSHVyIG3DpW5nYSB2w6VuaW5nYXIgw6RyIGZhc3RpZ2hldGVuP1wiLFxyXG4gICAgICAgIGFuc3dlcnM6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgaW1hZ2U6IFwiLi9pbWcvRGlnaXRha18xX0xldmVsLnBuZ1wiLFxyXG4gICAgICAgICAgICBuYW1lOiBcIjEgcGxhblwiXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBpbWFnZTogXCIuL2ltZy9EaWdpdGFrXzJfTGV2ZWwucG5nXCIsXHJcbiAgICAgICAgICAgIG5hbWU6IFwiMiBwbGFuXCJcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGltYWdlOiBcIi4vaW1nL0RpZ2l0YWtfM19MZXZlbC5wbmdcIixcclxuICAgICAgICAgICAgbmFtZTogXCIzIHBsYW5cIlxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgaW1hZ2U6IFwiLi9pbWcvRGlnaXRha18zK19MZXZlbC5wbmdcIixcclxuICAgICAgICAgICAgbmFtZTogXCIzKyBwbGFuXCJcclxuICAgICAgICAgIH1cclxuICAgICAgICBdXHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgICB0aGlzLnN0YXRlID0geyBtb2RhbElzT3BlbjogZmFsc2UsIHN0ZXBJbmRleDogMSwgc2VsZWN0ZWRWYWx1ZTogJycsIHNlbGVjdGVkVmFsdWVUd286ICcnLCBhbmdsZTogNDUsIGxlZnQ6ICcxMzVweCcsIHZhbGlkYXRpb25PbmU6IGZhbHNlLCB2YWxpZGF0aW9uOiBmYWxzZSwgcG9wdXA6IGZhbHNlIH1cclxuICAgIHRoaXMuaGFuZGxlQ2xpY2sgPSB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLnJvb2ZhbmdsZSA9IHRoaXMucm9vZmFuZ2xlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZUNsaWNrVHdvID0gdGhpcy5oYW5kbGVDbGlja1R3by5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy52YWxpZGF0ZSA9IHRoaXMudmFsaWRhdGUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuc2Nyb2xsYWJsZSA9IHRoaXMuc2Nyb2xsYWJsZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5zZWxlY3RlZEFuc3dlcnMgPSBbXTtcclxuICAgIHRoaXMub3BlblBvcHVwID0gdGhpcy5vcGVuUG9wdXAuYmluZCh0aGlzKTtcclxuICAgIE1vZGFsLnNldEFwcEVsZW1lbnQoJ2JvZHknKTtcclxuICAgIHRoaXMub3Blbk1vZGFsID0gdGhpcy5vcGVuTW9kYWwuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuYWZ0ZXJPcGVuTW9kYWwgPSB0aGlzLmFmdGVyT3Blbk1vZGFsLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmNsb3NlTW9kYWwgPSB0aGlzLmNsb3NlTW9kYWwuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNsaWNrKHZhbHVlKSB7XHJcbiAgICBsZXQgc2VsZWN0ZWRWYWx1ZSA9IHZhbHVlO1xyXG4gICAgaGlnaGxldHN0eWxlID0ge1xyXG4gICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXHJcbiAgICAgIGNvbG9yOiAnYmxhY2snLFxyXG4gICAgICBmb250U2l6ZTogJzE2cHgnXHJcbiAgICB9XHJcbiAgICB0aGlzLnNlbGVjdGVkQW5zd2Vycy5wdXNoKHZhbHVlKTtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlLCB2YWxpZGF0aW9uT25lOiBmYWxzZSB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNsaWNrVHdvKHZhbHVlMikge1xyXG4gICAgbGV0IHNlbGVjdGVkVmFsdWUgPSB2YWx1ZTI7XHJcbiAgICBoaWdobGV0c3R5bGUyID0ge1xyXG4gICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXHJcbiAgICAgIGNvbG9yOiAnYmxhY2snLFxyXG4gICAgICBmb250U2l6ZTogJzE2cHgnXHJcbiAgICB9XHJcbiAgICB0aGlzLnNlbGVjdGVkQW5zd2Vycy5wdXNoKHZhbHVlMik7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRWYWx1ZVR3bzogc2VsZWN0ZWRWYWx1ZSwgdmFsaWRhdGlvbjogZmFsc2UgfSk7XHJcbiAgfVxyXG5cclxuICB2YWxpZGF0ZSgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0aW9uT25lOiB0cnVlIH0pO1xyXG4gICAgfSBlbHNlIGlmICghdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlVHdvKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0aW9uOiB0cnVlIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2Nyb2xsYWJsZShlKSB7XHJcbiAgICBpZiAoZS5uYXRpdmVFdmVudC5vZmZzZXRYID4gMjcwKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBsZWZ0OiAnMjcwcHgnIH0pO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgYW5nbGU6IDkwIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgbGVmdDogZS5uYXRpdmVFdmVudC5vZmZzZXRYIH0pO1xyXG4gICAgICB2YXIgdmFsID0gTWF0aC5mbG9vcihlLm5hdGl2ZUV2ZW50Lm9mZnNldFggLyAzKTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFuZ2xlOiBNYXRoLmNlaWwodmFsIC8gNSkgKiA1IH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByb29mYW5nbGUocm9vZkFuZ2xlKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgYW5nbGU6IHJvb2ZBbmdsZSB9KVxyXG4gIH1cclxuXHJcbiAgb3BlblBvcHVwKCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHBvcHVwOiB0cnVlLCBtb2RhbElzT3BlbjogdHJ1ZSB9KVxyXG4gIH1cclxuXHJcbiAgb3Blbk1vZGFsKCkge1xyXG4gIH1cclxuXHJcbiAgYWZ0ZXJPcGVuTW9kYWwoKSB7XHJcbiAgfVxyXG5cclxuICBjbG9zZU1vZGFsKCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsSXNPcGVuOiBmYWxzZSB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHZhbHVlID0+IHtcclxuICAgICAgICAgICAgY29uc3QgeyBxdXNldGlvbnN2YWw6IHF1ZXZhbCwgc3RlcHZhbDogYmFjayB9ID0gdmFsdWUuYWN0aW9ucztcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJyb29mX3N1YmhlYWRcIj5GYXN0aWdoZXRzaW5mb3JtYXRpb248L2gzPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciByb29maW5nX3R5cGUgY29sLXNtLTEyIHBhbmRpbmdfbm9cIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgY29sLW1kLTEyXCIgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMmVtIDAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCAjODg4ODg4NmUnXHJcbiAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTJcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC04IHBhbmRpbmdfbm9cIiBpZD1cIm5hdmJhcjJcIiA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMiBjb2wtbWQtMTIgcGFuZGluZ19ubyB1cHBlcmNhc2UgdGV4dC1ibHVlIGFsaWduLXRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogJzIwcHggMHB4IDIwcHggMCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2JvbGQgZm9udC1xdWlja3NhbmQnPlZpbGtlbiDDpHIgZmFzdGlnaGV0ZW5zIHVuZ2Vmw6RybGlnYSB0YWtsdXRuaW5nID88L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxEcmFnYWJibGVDb21wb25lbnQgcm9vZkFuZ2xlPXt0aGlzLnJvb2ZhbmdsZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyIGNvbC1zbS0xMiBhbGlnbi10ZXh0LWNlbnRlciBzbG90cy1jZW50ZXJpbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaXBlckxpbmtcIiBzdHlsZT17eyB0ZXh0RGVjb3JhdGlvbjogJ3VuZGVybGluZScgfX0gb25DbGljaz17dGhpcy5vcGVuUG9wdXB9PkzDpHMgbWVyIG9tIHRha2x1dG5pbmc8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUucG9wdXAgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxNb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc09wZW49e3RoaXMuc3RhdGUubW9kYWxJc09wZW59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQWZ0ZXJPcGVuPXt0aGlzLmFmdGVyT3Blbk1vZGFsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblJlcXVlc3RDbG9zZT17dGhpcy5jbG9zZU1vZGFsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17Y3VzdG9tU3R5bGVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50TGFiZWw9XCJFeGFtcGxlIE1vZGFsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBzdHlsZT17eyBmbG9hdDogJ3JpZ2h0JywgY29sb3I6ICcjOGVlMmFlJywgYmFja2dyb3VuZENvbG9yOiAnI2ZmZicsIGJvcmRlcjogJ25vbmUnLCBtYXJnaW46ICcwIDc1cHgnLCBmb250U2l6ZTogJzIwcHgnIH19IG9uQ2xpY2s9e3RoaXMuY2xvc2VNb2RhbH0+WDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkaW5nXCI+VEFLTFVUTklORzwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvb3Rlci1wb3B1cCBxdWVzdGlvbnNQYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgRHJhIGkgcmVnbGFnZXQgZsO2ciBhdHQgw6RuZHJhIHRha2V0cyB1bmdlZsOkcmxpZ2EgdGFrbHV0bmluZy48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlc3RpbWF0ZSBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInN1Ym1pdFwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VNb2RhbH0+c3TDpG5nPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgKSA6IChudWxsKX1cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgcGFuZGluZ19ub1wiIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2VlZScsIHBhZGRpbmc6ICcyZW0gMHB4IDRlbScsIGJveFNoYWRvdzogJzAgLTNweCA1cHggLTNweCByZ2JhKDAsMCwwLC4xNSknLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCAjODg4ODg4NmUnXHJcbiAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTFcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMCBwYW5kaW5nX25vXCIgaWQ9XCJwYWRkaW5nLWJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxRdWl6QXJlYSBoYW5kbGVDbGljaz17dGhpcy5oYW5kbGVDbGlja30gdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS52YWxpZGF0aW9uT25lfSBkYXRhU2V0PXt0aGlzLmRhdGFTZXRbMF19IHNlbGVjdGVkPXt0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWV9IHN0eWxlPXtoaWdobGV0c3R5bGV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMlwiIHN0eWxlPXt7IHBhZGRpbmc6ICc0ZW0gMCAwIDAnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTFcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0xMCBwYW5kaW5nX25vXCIgaWQ9XCJwYWRkaW5nLWJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxRdWl6QXJlYSBoYW5kbGVDbGljaz17dGhpcy5oYW5kbGVDbGlja1R3b30gdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS52YWxpZGF0aW9ufSBkYXRhU2V0PXt0aGlzLmRhdGFTZXRbMV19IHNlbGVjdGVkPXt0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWVUd299IHN0eWxlPXtoaWdobGV0c3R5bGUyfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMTIgZXN0aW1hdGVcIiBzdHlsZT17eyB0ZXh0QWxpZ246ICdjZW50ZXInLCBwYWRkaW5nOiAnMzBweCcgfX0gPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWUgJiYgdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlVHdvID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnlDZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWRkaW5nMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17YmFjay5iaW5kKHRoaXMsIDEpfSBjbGFzc05hbWU9XCJzdWJtaXRcIiA+RsO2cmVnw6VlbmRlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZGRpbmcxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtxdWV2YWwuYmluZCh0aGlzLCB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWUsIHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZVR3bywgdGhpcy5zdGF0ZS5hbmdsZSl9IGNsYXNzTmFtZT1cInN1Ym1pdFwiID5Ow6RzdGE8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeUNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFkZGluZzFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17YmFjay5iaW5kKHRoaXMsIDEpfSBjbGFzc05hbWU9XCJzdWJtaXRcIiA+RsO2cmVnw6VlbmRlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWRkaW5nMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnZhbGlkYXRlfSBjbGFzc05hbWU9XCJzdWJtaXRcIiA+TsOkc3RhPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgPC9Db250ZXh0LkNvbnN1bWVyPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gUXVlc3Rpb24ocHJvcHMpIHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9J3Jvb2YtcXVlc3Rpb24gZm9udC1xdWlja3NhbmQnPntwcm9wcy5kYXRhU2V0LnF1ZXN0aW9ufTwvZGl2PlxyXG4gICAgICB7cHJvcHMudmFsaWRhdGlvbiA/IChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1tZC1vZmZzZXQtM1wiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ZhbGlkYXRpb24nPlxyXG4gICAgICAgICAgICA8c3Bhbj5QbGVhc2Ugc2VsZWN0IE9uZTwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApIDogKG51bGwpfVxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcblxyXG5mdW5jdGlvbiBBbnN3ZXIocHJvcHMpIHtcclxuICB2YXIgY29sb3JDb2RlID0ge1xyXG4gICAgYm9yZGVyOiAnNHB4IHNvbGlkICM4ZWUyYWUnLFxyXG4gICAgY29sb3I6ICcjMDY0ZjcwJyxcclxuICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgIHBhZGRpbmc6IFwiMTBweCAwIDEwcHhcIixcclxuICAgIG1hcmdpbjogXCI1cHggNXB4IDUwcHggNXB4XCIsXHJcbiAgICB0ZXh0QWxpZ246IFwiLXdlYmtpdC1jZW50ZXJcIixcclxuICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcclxuICAgIGJveFNoYWRvdzogXCIwIDE1cHggMzVweCByZ2JhKDUwLDUwLDkzLC4xKSwgMCA1cHggMTVweCByZ2JhKDAsMCwwLC4wNylcIixcclxuICAgIHRyYW5zaXRpb246IFwiYWxsIDAuM3MgZWFzZS1vdXRcIixcclxuICAgIFdlYmtpdFRyYW5zZm9ybTogXCJhbGwgMC4zcyBlYXNlLW91dFwiLFxyXG4gICAgbWluSGVpZ2h0OiBcIjE5MHB4XCIsXHJcbiAgICB0ZXh0VHJhbnNmb3JtOiAndXBwZXJjYXNlJyxcclxuICAgIGZvbnRTaXplOiAnMTVweCdcclxuICB9XHJcbiAgY29uc3Qgc3R5bGVzdHlsZSA9IHtcclxuICAgIHBhZGRpbmc6IFwiMTBweCAwIDEwcHhcIixcclxuICAgIG1hcmdpbjogXCI1cHggNXB4IDUwcHggNXB4XCIsXHJcbiAgICBib3JkZXI6IFwiNHB4IHNvbGlkICNmOWY5ZjlcIixcclxuICAgIHRleHRBbGlnbjogXCItd2Via2l0LWNlbnRlclwiLFxyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgYm94U2hhZG93OiBcIjAgMTVweCAzNXB4IHJnYmEoNTAsNTAsOTMsLjEpLCAwIDVweCAxNXB4IHJnYmEoMCwwLDAsLjA3KVwiLFxyXG4gICAgdHJhbnNpdGlvbjogXCJhbGwgMC4zcyBlYXNlLW91dFwiLFxyXG4gICAgV2Via2l0VHJhbnNmb3JtOiBcImFsbCAwLjNzIGVhc2Utb3V0XCIsXHJcbiAgICBtaW5IZWlnaHQ6IFwiMTkwcHhcIixcclxuICAgIHRleHRUcmFuc2Zvcm06ICd1cHBlcmNhc2UnLFxyXG4gICAgY29sb3I6ICdyZ2IoNiwgNzksIDExMiknLFxyXG4gICAgZm9udFNpemU6ICcxNXB4J1xyXG4gIH1cclxuICB2YXIgYXBwbGllZHN0eWxlID0gKHByb3BzLmFuc3dlci5uYW1lID09PSBwcm9wcy5zZWxlY3RlZCkgPyBjb2xvckNvZGUgOiBzdHlsZXN0eWxlXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTQgY29sLWxnLTJcIiBrZXk9e3Byb3BzLmNob2ljZX0gb25DbGljaz17cHJvcHMuaGFuZGxlQ2xpY2suYmluZCh0aGlzLCBwcm9wcy5hbnN3ZXIubmFtZSl9PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9uZm9jc19icmRyIGItd2hpdGVcIiBzdHlsZT17YXBwbGllZHN0eWxlfSAgID5cclxuICAgICAgICA8aW1nIGNsYXNzTmFtZT1cImltZy1yZXNwb25zaXZlXCIgc3JjPXtwcm9wcy5hbnN3ZXIuaW1hZ2V9IGFsdD17cHJvcHMuYW5zd2VyLm5hbWV9IC8+XHJcbiAgICAgICAgPHA+e3Byb3BzLmFuc3dlci5uYW1lfTwvcD5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBBbnN3ZXJMaXN0KHByb3BzKSB7XHJcbiAgdmFyIGFuc3dlcnMgPSBbXVxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMuZGF0YVNldC5hbnN3ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBhbnN3ZXJzLnB1c2goPEFuc3dlciBrZXk9e2l9IGNob2ljZT17aX0gc3R5bGU9e3Byb3BzLnN0eWxlfSBoYW5kbGVDbGljaz17cHJvcHMuaGFuZGxlQ2xpY2t9IHNlbGVjdGVkPXtwcm9wcy5zZWxlY3RlZH0gYW5zd2VyPXtwcm9wcy5kYXRhU2V0LmFuc3dlcnNbaV19IC8+KVxyXG4gIH1cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTIganVzdGlmeUNlbnRlciBhbGlnbi10ZXh0LWNlbnRlciBwYWRkLXRvcC1ib3RcIj5cclxuICAgICAgeyhwcm9wcy5kYXRhU2V0LmFuc3dlcnMubGVuZ3RoID09IDQpID9cclxuICAgICAgICAoXHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1sZy0yXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIHthbnN3ZXJzfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1sZy0yXCI+PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApIDpcclxuICAgICAgICAoXHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1sZy0xXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIHthbnN3ZXJzfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1sZy0xXCI+PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICAgIH1cclxuICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG5cclxuZnVuY3Rpb24gUXVpekFyZWEocHJvcHMpIHtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdj5cclxuICAgICAgPFF1ZXN0aW9uIGRhdGFTZXQ9e3Byb3BzLmRhdGFTZXR9IHZhbGlkYXRpb249e3Byb3BzLnZhbGlkYXRpb259IC8+XHJcbiAgICAgIDxBbnN3ZXJMaXN0IGRhdGFTZXQ9e3Byb3BzLmRhdGFTZXR9IHN0eWxlPXtwcm9wcy5zdHlsZX0gaGFuZGxlQ2xpY2s9e3Byb3BzLmhhbmRsZUNsaWNrfSBzZWxlY3RlZD17cHJvcHMuc2VsZWN0ZWR9IC8+XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJvb2ZRdWVzdGlvbnM7IiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XHJcbmltcG9ydCB7IEJyb3dzZXJSb3V0ZXIgYXMgUm91dGVyLCBSb3V0ZSwgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xyXG52YXIgbWFpbnVybCA9IHJlcXVpcmUoJy4vY29uZmlnLmpzb24nKTtcclxuXHJcblxyXG5jbGFzcyBUZXh0YyBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKVxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHVzZXJkYXRhOiBcIlwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZldGNoKCcuL2NvbmZpZy5qc29uJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIGNvbnN0IG1haW4gPSB0aGlzO1xyXG4gICAgICAgIHZhciBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICBuYW1lOiAnbWFoZXNoJyxcclxuICAgICAgICAgICAgZW1haWw6ICdtYWhlc2hzLnZlcnNhdGlsZW1vYml0ZWNoMTExMTExQGdtYWlsLmNvbScsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnMTIzNDU2JyxcclxuICAgICAgICAgICAgcGhvbmU6ICc3Mzg2OTQ5MDc5JyxcclxuICAgICAgICAgICAgdHlwZTogJ1VTRVInXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZldGNoKG1haW51cmwudXJsICsgJ3VzZXJzL3JlZ2lzdGVydXNlcicsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcInBvc3RcIiwgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxyXG4gICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LUhlYWRlcnNcIjogXCIqXCIsXHJcbiAgICAgICAgICAgICAgICBcIkFjY2Vzcy1Db250cm9sLVJlcXVlc3QtTWV0aG9kXCI6IFwiKlwiXHJcbiAgICAgICAgICAgIH0sIGJvZHk6ICdqc29uPScgKyBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSA0MDApIHtcclxuICAgICAgICAgICAgICAgICAgICBtYWluLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcmRhdGE6IGRhdGEubWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1haW4uc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyZGF0YTogZGF0YS5kYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAvKlxyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC91c2Vycy8nLFxyXG4gICAgICAgICAsXHJcbiAgICAgICAgICBmb3JtOiBcclxuICAgICAgICAgICB7IG5hbWU6ICdtYWhlc2gnLFxyXG4gICAgICAgICAgICAgZW1haWw6ICdtYWhlc2hzLnZlcnNhdGlsZW1vYml0ZWNoMUBnbWFpbC5jb20nLFxyXG4gICAgICAgICAgICAgcGFzc3dvcmQ6ICcxMjM0NTYnLFxyXG4gICAgICAgICAgICAgcGhvbmU6ICc3Mzg2OTQ5MDc5JyxcclxuICAgICAgICAgICAgIHR5cGU6ICdVU0VSJyB9Ki9cclxuICAgICAgICAvKlxyXG4gICAgICAgICAgICAgIGZldGNoKGAvdXNlcnMvYCx7bWV0aG9kOlwicG9zdFwifSwpXHJcbiAgICAgICAgICAgLnRoZW4oIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgfSlcclxuICAgICAgICAgICAudGhlbiggZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgXHRcclxuICAgICAgIFxyXG4gICAgICAgICAgIH0pLnRoZW4oIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgIFxyXG4gICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgIFx0XHJcbiAgICAgICAgIH0pXHJcbiAgICAgICAgICAgKi9cclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKDxkaXY+XHJcbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLnVzZXJkYXRhfVxyXG4gICAgICAgIDwvZGl2Pik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRleHRjO1xyXG5cclxuXHJcbiIsIiFmdW5jdGlvbihhLG4pe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUobik6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bihyZXF1aXJlLGV4cG9ydHMsbW9kdWxlKTphLkNvdW50VXA9bigpfSh0aGlzLGZ1bmN0aW9uKGEsbix0KXt2YXIgZT1mdW5jdGlvbihhLG4sdCxlLGkscil7ZnVuY3Rpb24gbyhhKXt2YXIgbix0LGUsaSxyLG8scz1hPDA7aWYoYT1NYXRoLmFicyhhKS50b0ZpeGVkKGwuZGVjaW1hbHMpLGErPVwiXCIsbj1hLnNwbGl0KFwiLlwiKSx0PW5bMF0sZT1uLmxlbmd0aD4xP2wub3B0aW9ucy5kZWNpbWFsK25bMV06XCJcIixsLm9wdGlvbnMudXNlR3JvdXBpbmcpe2ZvcihpPVwiXCIscj0wLG89dC5sZW5ndGg7cjxvOysrcikwIT09ciYmciUzPT09MCYmKGk9bC5vcHRpb25zLnNlcGFyYXRvcitpKSxpPXRbby1yLTFdK2k7dD1pfXJldHVybiBsLm9wdGlvbnMubnVtZXJhbHMubGVuZ3RoJiYodD10LnJlcGxhY2UoL1swLTldL2csZnVuY3Rpb24oYSl7cmV0dXJuIGwub3B0aW9ucy5udW1lcmFsc1srYV19KSxlPWUucmVwbGFjZSgvWzAtOV0vZyxmdW5jdGlvbihhKXtyZXR1cm4gbC5vcHRpb25zLm51bWVyYWxzWythXX0pKSwocz9cIi1cIjpcIlwiKStsLm9wdGlvbnMucHJlZml4K3QrZStsLm9wdGlvbnMuc3VmZml4fWZ1bmN0aW9uIHMoYSxuLHQsZSl7cmV0dXJuIHQqKC1NYXRoLnBvdygyLC0xMCphL2UpKzEpKjEwMjQvMTAyMytufWZ1bmN0aW9uIHUoYSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGEmJiFpc05hTihhKX12YXIgbD10aGlzO2lmKGwudmVyc2lvbj1mdW5jdGlvbigpe3JldHVyblwiMS45LjNcIn0sbC5vcHRpb25zPXt1c2VFYXNpbmc6ITAsdXNlR3JvdXBpbmc6ITAsc2VwYXJhdG9yOlwiLFwiLGRlY2ltYWw6XCIuXCIsZWFzaW5nRm46cyxmb3JtYXR0aW5nRm46byxwcmVmaXg6XCJcIixzdWZmaXg6XCJcIixudW1lcmFsczpbXX0sciYmXCJvYmplY3RcIj09dHlwZW9mIHIpZm9yKHZhciBtIGluIGwub3B0aW9ucylyLmhhc093blByb3BlcnR5KG0pJiZudWxsIT09clttXSYmKGwub3B0aW9uc1ttXT1yW21dKTtcIlwiPT09bC5vcHRpb25zLnNlcGFyYXRvcj9sLm9wdGlvbnMudXNlR3JvdXBpbmc9ITE6bC5vcHRpb25zLnNlcGFyYXRvcj1cIlwiK2wub3B0aW9ucy5zZXBhcmF0b3I7Zm9yKHZhciBkPTAsYz1bXCJ3ZWJraXRcIixcIm1velwiLFwibXNcIixcIm9cIl0sZj0wO2Y8Yy5sZW5ndGgmJiF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOysrZil3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPXdpbmRvd1tjW2ZdK1wiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT13aW5kb3dbY1tmXStcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdfHx3aW5kb3dbY1tmXStcIkNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZVwiXTt3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbihhLG4pe3ZhciB0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGU9TWF0aC5tYXgoMCwxNi0odC1kKSksaT13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EodCtlKX0sZSk7cmV0dXJuIGQ9dCtlLGl9KSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KGEpfSksbC5pbml0aWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuISFsLmluaXRpYWxpemVkfHwobC5lcnJvcj1cIlwiLGwuZD1cInN0cmluZ1wiPT10eXBlb2YgYT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKTphLGwuZD8obC5zdGFydFZhbD1OdW1iZXIobiksbC5lbmRWYWw9TnVtYmVyKHQpLHUobC5zdGFydFZhbCkmJnUobC5lbmRWYWwpPyhsLmRlY2ltYWxzPU1hdGgubWF4KDAsZXx8MCksbC5kZWM9TWF0aC5wb3coMTAsbC5kZWNpbWFscyksbC5kdXJhdGlvbj0xZTMqTnVtYmVyKGkpfHwyZTMsbC5jb3VudERvd249bC5zdGFydFZhbD5sLmVuZFZhbCxsLmZyYW1lVmFsPWwuc3RhcnRWYWwsbC5pbml0aWFsaXplZD0hMCwhMCk6KGwuZXJyb3I9XCJbQ291bnRVcF0gc3RhcnRWYWwgKFwiK24rXCIpIG9yIGVuZFZhbCAoXCIrdCtcIikgaXMgbm90IGEgbnVtYmVyXCIsITEpKToobC5lcnJvcj1cIltDb3VudFVwXSB0YXJnZXQgaXMgbnVsbCBvciB1bmRlZmluZWRcIiwhMSkpfSxsLnByaW50VmFsdWU9ZnVuY3Rpb24oYSl7dmFyIG49bC5vcHRpb25zLmZvcm1hdHRpbmdGbihhKTtcIklOUFVUXCI9PT1sLmQudGFnTmFtZT90aGlzLmQudmFsdWU9bjpcInRleHRcIj09PWwuZC50YWdOYW1lfHxcInRzcGFuXCI9PT1sLmQudGFnTmFtZT90aGlzLmQudGV4dENvbnRlbnQ9bjp0aGlzLmQuaW5uZXJIVE1MPW59LGwuY291bnQ9ZnVuY3Rpb24oYSl7bC5zdGFydFRpbWV8fChsLnN0YXJ0VGltZT1hKSxsLnRpbWVzdGFtcD1hO3ZhciBuPWEtbC5zdGFydFRpbWU7bC5yZW1haW5pbmc9bC5kdXJhdGlvbi1uLGwub3B0aW9ucy51c2VFYXNpbmc/bC5jb3VudERvd24/bC5mcmFtZVZhbD1sLnN0YXJ0VmFsLWwub3B0aW9ucy5lYXNpbmdGbihuLDAsbC5zdGFydFZhbC1sLmVuZFZhbCxsLmR1cmF0aW9uKTpsLmZyYW1lVmFsPWwub3B0aW9ucy5lYXNpbmdGbihuLGwuc3RhcnRWYWwsbC5lbmRWYWwtbC5zdGFydFZhbCxsLmR1cmF0aW9uKTpsLmNvdW50RG93bj9sLmZyYW1lVmFsPWwuc3RhcnRWYWwtKGwuc3RhcnRWYWwtbC5lbmRWYWwpKihuL2wuZHVyYXRpb24pOmwuZnJhbWVWYWw9bC5zdGFydFZhbCsobC5lbmRWYWwtbC5zdGFydFZhbCkqKG4vbC5kdXJhdGlvbiksbC5jb3VudERvd24/bC5mcmFtZVZhbD1sLmZyYW1lVmFsPGwuZW5kVmFsP2wuZW5kVmFsOmwuZnJhbWVWYWw6bC5mcmFtZVZhbD1sLmZyYW1lVmFsPmwuZW5kVmFsP2wuZW5kVmFsOmwuZnJhbWVWYWwsbC5mcmFtZVZhbD1NYXRoLnJvdW5kKGwuZnJhbWVWYWwqbC5kZWMpL2wuZGVjLGwucHJpbnRWYWx1ZShsLmZyYW1lVmFsKSxuPGwuZHVyYXRpb24/bC5yQUY9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGwuY291bnQpOmwuY2FsbGJhY2smJmwuY2FsbGJhY2soKX0sbC5zdGFydD1mdW5jdGlvbihhKXtsLmluaXRpYWxpemUoKSYmKGwuY2FsbGJhY2s9YSxsLnJBRj1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobC5jb3VudCkpfSxsLnBhdXNlUmVzdW1lPWZ1bmN0aW9uKCl7bC5wYXVzZWQ/KGwucGF1c2VkPSExLGRlbGV0ZSBsLnN0YXJ0VGltZSxsLmR1cmF0aW9uPWwucmVtYWluaW5nLGwuc3RhcnRWYWw9bC5mcmFtZVZhbCxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUobC5jb3VudCkpOihsLnBhdXNlZD0hMCxjYW5jZWxBbmltYXRpb25GcmFtZShsLnJBRikpfSxsLnJlc2V0PWZ1bmN0aW9uKCl7bC5wYXVzZWQ9ITEsZGVsZXRlIGwuc3RhcnRUaW1lLGwuaW5pdGlhbGl6ZWQ9ITEsbC5pbml0aWFsaXplKCkmJihjYW5jZWxBbmltYXRpb25GcmFtZShsLnJBRiksbC5wcmludFZhbHVlKGwuc3RhcnRWYWwpKX0sbC51cGRhdGU9ZnVuY3Rpb24oYSl7aWYobC5pbml0aWFsaXplKCkpe2lmKGE9TnVtYmVyKGEpLCF1KGEpKXJldHVybiB2b2lkKGwuZXJyb3I9XCJbQ291bnRVcF0gdXBkYXRlKCkgLSBuZXcgZW5kVmFsIGlzIG5vdCBhIG51bWJlcjogXCIrYSk7bC5lcnJvcj1cIlwiLGEhPT1sLmZyYW1lVmFsJiYoY2FuY2VsQW5pbWF0aW9uRnJhbWUobC5yQUYpLGwucGF1c2VkPSExLGRlbGV0ZSBsLnN0YXJ0VGltZSxsLnN0YXJ0VmFsPWwuZnJhbWVWYWwsbC5lbmRWYWw9YSxsLmNvdW50RG93bj1sLnN0YXJ0VmFsPmwuZW5kVmFsLGwuckFGPXJlcXVlc3RBbmltYXRpb25GcmFtZShsLmNvdW50KSl9fSxsLmluaXRpYWxpemUoKSYmbC5wcmludFZhbHVlKGwuc3RhcnRWYWwpfTtyZXR1cm4gZX0pOyIsIi8qIVxyXG4gIENvcHlyaWdodCAoYykgMjAxNSBKZWQgV2F0c29uLlxyXG4gIEJhc2VkIG9uIGNvZGUgdGhhdCBpcyBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxyXG4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiovXHJcbi8qIGdsb2JhbCBkZWZpbmUgKi9cclxuXHJcbihmdW5jdGlvbiAoKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHR2YXIgY2FuVXNlRE9NID0gISEoXHJcblx0XHR0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxyXG5cdFx0d2luZG93LmRvY3VtZW50ICYmXHJcblx0XHR3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudFxyXG5cdCk7XHJcblxyXG5cdHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHtcclxuXHJcblx0XHRjYW5Vc2VET006IGNhblVzZURPTSxcclxuXHJcblx0XHRjYW5Vc2VXb3JrZXJzOiB0eXBlb2YgV29ya2VyICE9PSAndW5kZWZpbmVkJyxcclxuXHJcblx0XHRjYW5Vc2VFdmVudExpc3RlbmVyczpcclxuXHRcdFx0Y2FuVXNlRE9NICYmICEhKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyIHx8IHdpbmRvdy5hdHRhY2hFdmVudCksXHJcblxyXG5cdFx0Y2FuVXNlVmlld3BvcnQ6IGNhblVzZURPTSAmJiAhIXdpbmRvdy5zY3JlZW5cclxuXHJcblx0fTtcclxuXHJcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcclxuXHRcdGRlZmluZShmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBFeGVjdXRpb25FbnZpcm9ubWVudDtcclxuXHRcdH0pO1xyXG5cdH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuXHRcdG1vZHVsZS5leHBvcnRzID0gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdpbmRvdy5FeGVjdXRpb25FbnZpcm9ubWVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50O1xyXG5cdH1cclxuXHJcbn0oKSk7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQgKGV4KSB7IHJldHVybiAoZXggJiYgKHR5cGVvZiBleCA9PT0gJ29iamVjdCcpICYmICdkZWZhdWx0JyBpbiBleCkgPyBleFsnZGVmYXVsdCddIDogZXg7IH1cclxuXHJcbnZhciByZXNvbHZlUGF0aG5hbWUgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgncmVzb2x2ZS1wYXRobmFtZScpKTtcclxudmFyIHZhbHVlRXF1YWwgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgndmFsdWUtZXF1YWwnKSk7XHJcbnZhciB3YXJuaW5nID0gX2ludGVyb3BEZWZhdWx0KHJlcXVpcmUoJ3Rpbnktd2FybmluZycpKTtcclxudmFyIGludmFyaWFudCA9IF9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKCd0aW55LWludmFyaWFudCcpKTtcclxuXHJcbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xyXG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xyXG5cclxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xyXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XHJcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZExlYWRpbmdTbGFzaChwYXRoKSB7XHJcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoIDogJy8nICsgcGF0aDtcclxufVxyXG5mdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChwYXRoKSB7XHJcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoLnN1YnN0cigxKSA6IHBhdGg7XHJcbn1cclxuZnVuY3Rpb24gaGFzQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XHJcbiAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgcHJlZml4ICsgJyhcXFxcL3xcXFxcP3wjfCQpJywgJ2knKS50ZXN0KHBhdGgpO1xyXG59XHJcbmZ1bmN0aW9uIHN0cmlwQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XHJcbiAgcmV0dXJuIGhhc0Jhc2VuYW1lKHBhdGgsIHByZWZpeCkgPyBwYXRoLnN1YnN0cihwcmVmaXgubGVuZ3RoKSA6IHBhdGg7XHJcbn1cclxuZnVuY3Rpb24gc3RyaXBUcmFpbGluZ1NsYXNoKHBhdGgpIHtcclxuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xyXG59XHJcbmZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XHJcbiAgdmFyIHBhdGhuYW1lID0gcGF0aCB8fCAnLyc7XHJcbiAgdmFyIHNlYXJjaCA9ICcnO1xyXG4gIHZhciBoYXNoID0gJyc7XHJcbiAgdmFyIGhhc2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJyMnKTtcclxuXHJcbiAgaWYgKGhhc2hJbmRleCAhPT0gLTEpIHtcclxuICAgIGhhc2ggPSBwYXRobmFtZS5zdWJzdHIoaGFzaEluZGV4KTtcclxuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyKDAsIGhhc2hJbmRleCk7XHJcbiAgfVxyXG5cclxuICB2YXIgc2VhcmNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCc/Jyk7XHJcblxyXG4gIGlmIChzZWFyY2hJbmRleCAhPT0gLTEpIHtcclxuICAgIHNlYXJjaCA9IHBhdGhuYW1lLnN1YnN0cihzZWFyY2hJbmRleCk7XHJcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBzZWFyY2hJbmRleCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxyXG4gICAgc2VhcmNoOiBzZWFyY2ggPT09ICc/JyA/ICcnIDogc2VhcmNoLFxyXG4gICAgaGFzaDogaGFzaCA9PT0gJyMnID8gJycgOiBoYXNoXHJcbiAgfTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVQYXRoKGxvY2F0aW9uKSB7XHJcbiAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUsXHJcbiAgICAgIHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaCxcclxuICAgICAgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XHJcbiAgdmFyIHBhdGggPSBwYXRobmFtZSB8fCAnLyc7XHJcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2ggIT09ICc/JykgcGF0aCArPSBzZWFyY2guY2hhckF0KDApID09PSAnPycgPyBzZWFyY2ggOiBcIj9cIiArIHNlYXJjaDtcclxuICBpZiAoaGFzaCAmJiBoYXNoICE9PSAnIycpIHBhdGggKz0gaGFzaC5jaGFyQXQoMCkgPT09ICcjJyA/IGhhc2ggOiBcIiNcIiArIGhhc2g7XHJcbiAgcmV0dXJuIHBhdGg7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBrZXksIGN1cnJlbnRMb2NhdGlvbikge1xyXG4gIHZhciBsb2NhdGlvbjtcclxuXHJcbiAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xyXG4gICAgLy8gVHdvLWFyZyBmb3JtOiBwdXNoKHBhdGgsIHN0YXRlKVxyXG4gICAgbG9jYXRpb24gPSBwYXJzZVBhdGgocGF0aCk7XHJcbiAgICBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBPbmUtYXJnIGZvcm06IHB1c2gobG9jYXRpb24pXHJcbiAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBwYXRoKTtcclxuICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5wYXRobmFtZSA9ICcnO1xyXG5cclxuICAgIGlmIChsb2NhdGlvbi5zZWFyY2gpIHtcclxuICAgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5jaGFyQXQoMCkgIT09ICc/JykgbG9jYXRpb24uc2VhcmNoID0gJz8nICsgbG9jYXRpb24uc2VhcmNoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbG9jYXRpb24uc2VhcmNoID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGxvY2F0aW9uLmhhc2gpIHtcclxuICAgICAgaWYgKGxvY2F0aW9uLmhhc2guY2hhckF0KDApICE9PSAnIycpIGxvY2F0aW9uLmhhc2ggPSAnIycgKyBsb2NhdGlvbi5oYXNoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbG9jYXRpb24uaGFzaCA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdGF0ZSAhPT0gdW5kZWZpbmVkICYmIGxvY2F0aW9uLnN0YXRlID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnN0YXRlID0gc3RhdGU7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgbG9jYXRpb24ucGF0aG5hbWUgPSBkZWNvZGVVUkkobG9jYXRpb24ucGF0aG5hbWUpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGlmIChlIGluc3RhbmNlb2YgVVJJRXJyb3IpIHtcclxuICAgICAgdGhyb3cgbmV3IFVSSUVycm9yKCdQYXRobmFtZSBcIicgKyBsb2NhdGlvbi5wYXRobmFtZSArICdcIiBjb3VsZCBub3QgYmUgZGVjb2RlZC4gJyArICdUaGlzIGlzIGxpa2VseSBjYXVzZWQgYnkgYW4gaW52YWxpZCBwZXJjZW50LWVuY29kaW5nLicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhyb3cgZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChrZXkpIGxvY2F0aW9uLmtleSA9IGtleTtcclxuXHJcbiAgaWYgKGN1cnJlbnRMb2NhdGlvbikge1xyXG4gICAgLy8gUmVzb2x2ZSBpbmNvbXBsZXRlL3JlbGF0aXZlIHBhdGhuYW1lIHJlbGF0aXZlIHRvIGN1cnJlbnQgbG9jYXRpb24uXHJcbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XHJcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gY3VycmVudExvY2F0aW9uLnBhdGhuYW1lO1xyXG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykge1xyXG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IHJlc29sdmVQYXRobmFtZShsb2NhdGlvbi5wYXRobmFtZSwgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgLy8gV2hlbiB0aGVyZSBpcyBubyBwcmlvciBsb2NhdGlvbiBhbmQgcGF0aG5hbWUgaXMgZW1wdHksIHNldCBpdCB0byAvXHJcbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XHJcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gJy8nO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGxvY2F0aW9uO1xyXG59XHJcbmZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcclxuICByZXR1cm4gYS5wYXRobmFtZSA9PT0gYi5wYXRobmFtZSAmJiBhLnNlYXJjaCA9PT0gYi5zZWFyY2ggJiYgYS5oYXNoID09PSBiLmhhc2ggJiYgYS5rZXkgPT09IGIua2V5ICYmIHZhbHVlRXF1YWwoYS5zdGF0ZSwgYi5zdGF0ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCkge1xyXG4gIHZhciBwcm9tcHQgPSBudWxsO1xyXG5cclxuICBmdW5jdGlvbiBzZXRQcm9tcHQobmV4dFByb21wdCkge1xyXG4gICAgd2FybmluZyhwcm9tcHQgPT0gbnVsbCwgJ0EgaGlzdG9yeSBzdXBwb3J0cyBvbmx5IG9uZSBwcm9tcHQgYXQgYSB0aW1lJyk7XHJcbiAgICBwcm9tcHQgPSBuZXh0UHJvbXB0O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKHByb21wdCA9PT0gbmV4dFByb21wdCkgcHJvbXB0ID0gbnVsbDtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGNhbGxiYWNrKSB7XHJcbiAgICAvLyBUT0RPOiBJZiBhbm90aGVyIHRyYW5zaXRpb24gc3RhcnRzIHdoaWxlIHdlJ3JlIHN0aWxsIGNvbmZpcm1pbmdcclxuICAgIC8vIHRoZSBwcmV2aW91cyBvbmUsIHdlIG1heSBlbmQgdXAgaW4gYSB3ZWlyZCBzdGF0ZS4gRmlndXJlIG91dCB0aGVcclxuICAgIC8vIGJlc3Qgd2F5IHRvIGhhbmRsZSB0aGlzLlxyXG4gICAgaWYgKHByb21wdCAhPSBudWxsKSB7XHJcbiAgICAgIHZhciByZXN1bHQgPSB0eXBlb2YgcHJvbXB0ID09PSAnZnVuY3Rpb24nID8gcHJvbXB0KGxvY2F0aW9uLCBhY3Rpb24pIDogcHJvbXB0O1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBnZXRVc2VyQ29uZmlybWF0aW9uID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICBnZXRVc2VyQ29uZmlybWF0aW9uKHJlc3VsdCwgY2FsbGJhY2spO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnQSBoaXN0b3J5IG5lZWRzIGEgZ2V0VXNlckNvbmZpcm1hdGlvbiBmdW5jdGlvbiBpbiBvcmRlciB0byB1c2UgYSBwcm9tcHQgbWVzc2FnZScpO1xyXG4gICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFJldHVybiBmYWxzZSBmcm9tIGEgdHJhbnNpdGlvbiBob29rIHRvIGNhbmNlbCB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAgICBjYWxsYmFjayhyZXN1bHQgIT09IGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB2YXIgbGlzdGVuZXJzID0gW107XHJcblxyXG4gIGZ1bmN0aW9uIGFwcGVuZExpc3RlbmVyKGZuKSB7XHJcbiAgICB2YXIgaXNBY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgIGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xyXG4gICAgICBpZiAoaXNBY3RpdmUpIGZuLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICBpc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGxpc3RlbmVyO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBub3RpZnlMaXN0ZW5lcnMoKSB7XHJcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcclxuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcclxuICAgIH1cclxuXHJcbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcclxuICAgICAgcmV0dXJuIGxpc3RlbmVyLmFwcGx5KHZvaWQgMCwgYXJncyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBzZXRQcm9tcHQ6IHNldFByb21wdCxcclxuICAgIGNvbmZpcm1UcmFuc2l0aW9uVG86IGNvbmZpcm1UcmFuc2l0aW9uVG8sXHJcbiAgICBhcHBlbmRMaXN0ZW5lcjogYXBwZW5kTGlzdGVuZXIsXHJcbiAgICBub3RpZnlMaXN0ZW5lcnM6IG5vdGlmeUxpc3RlbmVyc1xyXG4gIH07XHJcbn1cclxuXHJcbnZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xyXG5mdW5jdGlvbiBnZXRDb25maXJtYXRpb24obWVzc2FnZSwgY2FsbGJhY2spIHtcclxuICBjYWxsYmFjayh3aW5kb3cuY29uZmlybShtZXNzYWdlKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYWxlcnRcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpcyBzdXBwb3J0ZWQuIFRha2VuIGZyb20gTW9kZXJuaXpyLlxyXG4gKlxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9MSUNFTlNFXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL2ZlYXR1cmUtZGV0ZWN0cy9oaXN0b3J5LmpzXHJcbiAqIGNoYW5nZWQgdG8gYXZvaWQgZmFsc2UgbmVnYXRpdmVzIGZvciBXaW5kb3dzIFBob25lczogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmVhY3Qtcm91dGVyL2lzc3Vlcy81ODZcclxuICovXHJcblxyXG5mdW5jdGlvbiBzdXBwb3J0c0hpc3RvcnkoKSB7XHJcbiAgdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XHJcbiAgaWYgKCh1YS5pbmRleE9mKCdBbmRyb2lkIDIuJykgIT09IC0xIHx8IHVhLmluZGV4T2YoJ0FuZHJvaWQgNC4wJykgIT09IC0xKSAmJiB1YS5pbmRleE9mKCdNb2JpbGUgU2FmYXJpJykgIT09IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZScpID09PSAtMSAmJiB1YS5pbmRleE9mKCdXaW5kb3dzIFBob25lJykgPT09IC0xKSByZXR1cm4gZmFsc2U7XHJcbiAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5ICYmICdwdXNoU3RhdGUnIGluIHdpbmRvdy5oaXN0b3J5O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgYnJvd3NlciBmaXJlcyBwb3BzdGF0ZSBvbiBoYXNoIGNoYW5nZS5cclxuICogSUUxMCBhbmQgSUUxMSBkbyBub3QuXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSgpIHtcclxuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudCcpID09PSAtMTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBmYWxzZSBpZiB1c2luZyBnbyhuKSB3aXRoIGhhc2ggaGlzdG9yeSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkLlxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCkge1xyXG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBnaXZlbiBwb3BzdGF0ZSBldmVudCBpcyBhbiBleHRyYW5lb3VzIFdlYktpdCBldmVudC5cclxuICogQWNjb3VudHMgZm9yIHRoZSBmYWN0IHRoYXQgQ2hyb21lIG9uIGlPUyBmaXJlcyByZWFsIHBvcHN0YXRlIGV2ZW50c1xyXG4gKiBjb250YWluaW5nIHVuZGVmaW5lZCBzdGF0ZSB3aGVuIHByZXNzaW5nIHRoZSBiYWNrIGJ1dHRvbi5cclxuICovXHJcblxyXG5mdW5jdGlvbiBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KGV2ZW50KSB7XHJcbiAgZXZlbnQuc3RhdGUgPT09IHVuZGVmaW5lZCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0NyaU9TJykgPT09IC0xO1xyXG59XHJcblxyXG52YXIgUG9wU3RhdGVFdmVudCA9ICdwb3BzdGF0ZSc7XHJcbnZhciBIYXNoQ2hhbmdlRXZlbnQgPSAnaGFzaGNoYW5nZSc7XHJcblxyXG5mdW5jdGlvbiBnZXRIaXN0b3J5U3RhdGUoKSB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiB3aW5kb3cuaGlzdG9yeS5zdGF0ZSB8fCB7fTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICAvLyBJRSAxMSBzb21ldGltZXMgdGhyb3dzIHdoZW4gYWNjZXNzaW5nIHdpbmRvdy5oaXN0b3J5LnN0YXRlXHJcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0VHJhaW5pbmcvaGlzdG9yeS9wdWxsLzI4OVxyXG4gICAgcmV0dXJuIHt9O1xyXG4gIH1cclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIGhpc3Rvcnkgb2JqZWN0IHRoYXQgdXNlcyB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaW5jbHVkaW5nXHJcbiAqIHB1c2hTdGF0ZSwgcmVwbGFjZVN0YXRlLCBhbmQgdGhlIHBvcHN0YXRlIGV2ZW50LlxyXG4gKi9cclxuXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeShwcm9wcykge1xyXG4gIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XHJcbiAgICBwcm9wcyA9IHt9O1xyXG4gIH1cclxuXHJcbiAgIWNhblVzZURPTSA/IGludmFyaWFudChmYWxzZSwgJ0Jyb3dzZXIgaGlzdG9yeSBuZWVkcyBhIERPTScpIDogdm9pZCAwO1xyXG4gIHZhciBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XHJcbiAgdmFyIGNhblVzZUhpc3RvcnkgPSBzdXBwb3J0c0hpc3RvcnkoKTtcclxuICB2YXIgbmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIgPSAhc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSgpO1xyXG4gIHZhciBfcHJvcHMgPSBwcm9wcyxcclxuICAgICAgX3Byb3BzJGZvcmNlUmVmcmVzaCA9IF9wcm9wcy5mb3JjZVJlZnJlc2gsXHJcbiAgICAgIGZvcmNlUmVmcmVzaCA9IF9wcm9wcyRmb3JjZVJlZnJlc2ggPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJGZvcmNlUmVmcmVzaCxcclxuICAgICAgX3Byb3BzJGdldFVzZXJDb25maXJtID0gX3Byb3BzLmdldFVzZXJDb25maXJtYXRpb24sXHJcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPT09IHZvaWQgMCA/IGdldENvbmZpcm1hdGlvbiA6IF9wcm9wcyRnZXRVc2VyQ29uZmlybSxcclxuICAgICAgX3Byb3BzJGtleUxlbmd0aCA9IF9wcm9wcy5rZXlMZW5ndGgsXHJcbiAgICAgIGtleUxlbmd0aCA9IF9wcm9wcyRrZXlMZW5ndGggPT09IHZvaWQgMCA/IDYgOiBfcHJvcHMka2V5TGVuZ3RoO1xyXG4gIHZhciBiYXNlbmFtZSA9IHByb3BzLmJhc2VuYW1lID8gc3RyaXBUcmFpbGluZ1NsYXNoKGFkZExlYWRpbmdTbGFzaChwcm9wcy5iYXNlbmFtZSkpIDogJyc7XHJcblxyXG4gIGZ1bmN0aW9uIGdldERPTUxvY2F0aW9uKGhpc3RvcnlTdGF0ZSkge1xyXG4gICAgdmFyIF9yZWYgPSBoaXN0b3J5U3RhdGUgfHwge30sXHJcbiAgICAgICAga2V5ID0gX3JlZi5rZXksXHJcbiAgICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlO1xyXG5cclxuICAgIHZhciBfd2luZG93JGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLFxyXG4gICAgICAgIHBhdGhuYW1lID0gX3dpbmRvdyRsb2NhdGlvbi5wYXRobmFtZSxcclxuICAgICAgICBzZWFyY2ggPSBfd2luZG93JGxvY2F0aW9uLnNlYXJjaCxcclxuICAgICAgICBoYXNoID0gX3dpbmRvdyRsb2NhdGlvbi5oYXNoO1xyXG4gICAgdmFyIHBhdGggPSBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XHJcbiAgICB3YXJuaW5nKCFiYXNlbmFtZSB8fCBoYXNCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSksICdZb3UgYXJlIGF0dGVtcHRpbmcgdG8gdXNlIGEgYmFzZW5hbWUgb24gYSBwYWdlIHdob3NlIFVSTCBwYXRoIGRvZXMgbm90IGJlZ2luICcgKyAnd2l0aCB0aGUgYmFzZW5hbWUuIEV4cGVjdGVkIHBhdGggXCInICsgcGF0aCArICdcIiB0byBiZWdpbiB3aXRoIFwiJyArIGJhc2VuYW1lICsgJ1wiLicpO1xyXG4gICAgaWYgKGJhc2VuYW1lKSBwYXRoID0gc3RyaXBCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSk7XHJcbiAgICByZXR1cm4gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGtleSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGtleUxlbmd0aCk7XHJcbiAgfVxyXG5cclxuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpO1xyXG5cclxuICBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcclxuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XHJcblxyXG4gICAgaGlzdG9yeS5sZW5ndGggPSBnbG9iYWxIaXN0b3J5Lmxlbmd0aDtcclxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVQb3BTdGF0ZShldmVudCkge1xyXG4gICAgLy8gSWdub3JlIGV4dHJhbmVvdXMgcG9wc3RhdGUgZXZlbnRzIGluIFdlYktpdC5cclxuICAgIGlmIChpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KGV2ZW50KSkgcmV0dXJuO1xyXG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGV2ZW50LnN0YXRlKSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVIYXNoQ2hhbmdlKCkge1xyXG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKSk7XHJcbiAgfVxyXG5cclxuICB2YXIgZm9yY2VOZXh0UG9wID0gZmFsc2U7XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZVBvcChsb2NhdGlvbikge1xyXG4gICAgaWYgKGZvcmNlTmV4dFBvcCkge1xyXG4gICAgICBmb3JjZU5leHRQb3AgPSBmYWxzZTtcclxuICAgICAgc2V0U3RhdGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciBhY3Rpb24gPSAnUE9QJztcclxuICAgICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcclxuICAgICAgICBpZiAob2spIHtcclxuICAgICAgICAgIHNldFN0YXRlKHtcclxuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXHJcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldmVydFBvcChsb2NhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJldmVydFBvcChmcm9tTG9jYXRpb24pIHtcclxuICAgIHZhciB0b0xvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjsgLy8gVE9ETzogV2UgY291bGQgcHJvYmFibHkgbWFrZSB0aGlzIG1vcmUgcmVsaWFibGUgYnlcclxuICAgIC8vIGtlZXBpbmcgYSBsaXN0IG9mIGtleXMgd2UndmUgc2VlbiBpbiBzZXNzaW9uU3RvcmFnZS5cclxuICAgIC8vIEluc3RlYWQsIHdlIGp1c3QgZGVmYXVsdCB0byAwIGZvciBrZXlzIHdlIGRvbid0IGtub3cuXHJcblxyXG4gICAgdmFyIHRvSW5kZXggPSBhbGxLZXlzLmluZGV4T2YodG9Mb2NhdGlvbi5rZXkpO1xyXG4gICAgaWYgKHRvSW5kZXggPT09IC0xKSB0b0luZGV4ID0gMDtcclxuICAgIHZhciBmcm9tSW5kZXggPSBhbGxLZXlzLmluZGV4T2YoZnJvbUxvY2F0aW9uLmtleSk7XHJcbiAgICBpZiAoZnJvbUluZGV4ID09PSAtMSkgZnJvbUluZGV4ID0gMDtcclxuICAgIHZhciBkZWx0YSA9IHRvSW5kZXggLSBmcm9tSW5kZXg7XHJcblxyXG4gICAgaWYgKGRlbHRhKSB7XHJcbiAgICAgIGZvcmNlTmV4dFBvcCA9IHRydWU7XHJcbiAgICAgIGdvKGRlbHRhKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHZhciBpbml0aWFsTG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbihnZXRIaXN0b3J5U3RhdGUoKSk7XHJcbiAgdmFyIGFsbEtleXMgPSBbaW5pdGlhbExvY2F0aW9uLmtleV07IC8vIFB1YmxpYyBpbnRlcmZhY2VcclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xyXG4gICAgcmV0dXJuIGJhc2VuYW1lICsgY3JlYXRlUGF0aChsb2NhdGlvbik7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XHJcbiAgICB3YXJuaW5nKCEodHlwZW9mIHBhdGggPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHB1c2ggd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XHJcbiAgICB2YXIgYWN0aW9uID0gJ1BVU0gnO1xyXG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcclxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XHJcbiAgICAgIGlmICghb2spIHJldHVybjtcclxuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcclxuICAgICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleSxcclxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XHJcblxyXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xyXG4gICAgICAgIGdsb2JhbEhpc3RvcnkucHVzaFN0YXRlKHtcclxuICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgc3RhdGU6IHN0YXRlXHJcbiAgICAgICAgfSwgbnVsbCwgaHJlZik7XHJcblxyXG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2gpIHtcclxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbEtleXMuaW5kZXhPZihoaXN0b3J5LmxvY2F0aW9uLmtleSk7XHJcbiAgICAgICAgICB2YXIgbmV4dEtleXMgPSBhbGxLZXlzLnNsaWNlKDAsIHByZXZJbmRleCA9PT0gLTEgPyAwIDogcHJldkluZGV4ICsgMSk7XHJcbiAgICAgICAgICBuZXh0S2V5cy5wdXNoKGxvY2F0aW9uLmtleSk7XHJcbiAgICAgICAgICBhbGxLZXlzID0gbmV4dEtleXM7XHJcbiAgICAgICAgICBzZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxyXG4gICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdCcm93c2VyIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGUgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBIVE1MNSBoaXN0b3J5Jyk7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcclxuICAgIHdhcm5pbmcoISh0eXBlb2YgcGF0aCA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcmVwbGFjZSB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcclxuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XHJcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xyXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcclxuICAgICAgaWYgKCFvaykgcmV0dXJuO1xyXG4gICAgICB2YXIgaHJlZiA9IGNyZWF0ZUhyZWYobG9jYXRpb24pO1xyXG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxyXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcclxuXHJcbiAgICAgIGlmIChjYW5Vc2VIaXN0b3J5KSB7XHJcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5yZXBsYWNlU3RhdGUoe1xyXG4gICAgICAgICAga2V5OiBrZXksXHJcbiAgICAgICAgICBzdGF0ZTogc3RhdGVcclxuICAgICAgICB9LCBudWxsLCBocmVmKTtcclxuXHJcbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xyXG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaHJlZik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xyXG4gICAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIGFsbEtleXNbcHJldkluZGV4XSA9IGxvY2F0aW9uLmtleTtcclxuICAgICAgICAgIHNldFN0YXRlKHtcclxuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXHJcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0Jyb3dzZXIgaGlzdG9yeSBjYW5ub3QgcmVwbGFjZSBzdGF0ZSBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IEhUTUw1IGhpc3RvcnknKTtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnbyhuKSB7XHJcbiAgICBnbG9iYWxIaXN0b3J5LmdvKG4pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ29CYWNrKCkge1xyXG4gICAgZ28oLTEpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xyXG4gICAgZ28oMSk7XHJcbiAgfVxyXG5cclxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDA7XHJcblxyXG4gIGZ1bmN0aW9uIGNoZWNrRE9NTGlzdGVuZXJzKGRlbHRhKSB7XHJcbiAgICBsaXN0ZW5lckNvdW50ICs9IGRlbHRhO1xyXG5cclxuICAgIGlmIChsaXN0ZW5lckNvdW50ID09PSAxICYmIGRlbHRhID09PSAxKSB7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcclxuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xyXG4gICAgfSBlbHNlIGlmIChsaXN0ZW5lckNvdW50ID09PSAwKSB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcclxuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdmFyIGlzQmxvY2tlZCA9IGZhbHNlO1xyXG5cclxuICBmdW5jdGlvbiBibG9jayhwcm9tcHQpIHtcclxuICAgIGlmIChwcm9tcHQgPT09IHZvaWQgMCkge1xyXG4gICAgICBwcm9tcHQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgdW5ibG9jayA9IHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xyXG5cclxuICAgIGlmICghaXNCbG9ja2VkKSB7XHJcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xyXG4gICAgICBpc0Jsb2NrZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChpc0Jsb2NrZWQpIHtcclxuICAgICAgICBpc0Jsb2NrZWQgPSBmYWxzZTtcclxuICAgICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB1bmJsb2NrKCk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XHJcbiAgICB2YXIgdW5saXN0ZW4gPSB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XHJcbiAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcclxuICAgICAgdW5saXN0ZW4oKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICB2YXIgaGlzdG9yeSA9IHtcclxuICAgIGxlbmd0aDogZ2xvYmFsSGlzdG9yeS5sZW5ndGgsXHJcbiAgICBhY3Rpb246ICdQT1AnLFxyXG4gICAgbG9jYXRpb246IGluaXRpYWxMb2NhdGlvbixcclxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXHJcbiAgICBwdXNoOiBwdXNoLFxyXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcclxuICAgIGdvOiBnbyxcclxuICAgIGdvQmFjazogZ29CYWNrLFxyXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXHJcbiAgICBibG9jazogYmxvY2ssXHJcbiAgICBsaXN0ZW46IGxpc3RlblxyXG4gIH07XHJcbiAgcmV0dXJuIGhpc3Rvcnk7XHJcbn1cclxuXHJcbnZhciBIYXNoQ2hhbmdlRXZlbnQkMSA9ICdoYXNoY2hhbmdlJztcclxudmFyIEhhc2hQYXRoQ29kZXJzID0ge1xyXG4gIGhhc2hiYW5nOiB7XHJcbiAgICBlbmNvZGVQYXRoOiBmdW5jdGlvbiBlbmNvZGVQYXRoKHBhdGgpIHtcclxuICAgICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnIScgPyBwYXRoIDogJyEvJyArIHN0cmlwTGVhZGluZ1NsYXNoKHBhdGgpO1xyXG4gICAgfSxcclxuICAgIGRlY29kZVBhdGg6IGZ1bmN0aW9uIGRlY29kZVBhdGgocGF0aCkge1xyXG4gICAgICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICchJyA/IHBhdGguc3Vic3RyKDEpIDogcGF0aDtcclxuICAgIH1cclxuICB9LFxyXG4gIG5vc2xhc2g6IHtcclxuICAgIGVuY29kZVBhdGg6IHN0cmlwTGVhZGluZ1NsYXNoLFxyXG4gICAgZGVjb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoXHJcbiAgfSxcclxuICBzbGFzaDoge1xyXG4gICAgZW5jb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoLFxyXG4gICAgZGVjb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoXHJcbiAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2V0SGFzaFBhdGgoKSB7XHJcbiAgLy8gV2UgY2FuJ3QgdXNlIHdpbmRvdy5sb2NhdGlvbi5oYXNoIGhlcmUgYmVjYXVzZSBpdCdzIG5vdFxyXG4gIC8vIGNvbnNpc3RlbnQgYWNyb3NzIGJyb3dzZXJzIC0gRmlyZWZveCB3aWxsIHByZS1kZWNvZGUgaXQhXHJcbiAgdmFyIGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuICB2YXIgaGFzaEluZGV4ID0gaHJlZi5pbmRleE9mKCcjJyk7XHJcbiAgcmV0dXJuIGhhc2hJbmRleCA9PT0gLTEgPyAnJyA6IGhyZWYuc3Vic3RyaW5nKGhhc2hJbmRleCArIDEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwdXNoSGFzaFBhdGgocGF0aCkge1xyXG4gIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gcGF0aDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVwbGFjZUhhc2hQYXRoKHBhdGgpIHtcclxuICB2YXIgaGFzaEluZGV4ID0gd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignIycpO1xyXG4gIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNsaWNlKDAsIGhhc2hJbmRleCA+PSAwID8gaGFzaEluZGV4IDogMCkgKyAnIycgKyBwYXRoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlSGFzaEhpc3RvcnkocHJvcHMpIHtcclxuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xyXG4gICAgcHJvcHMgPSB7fTtcclxuICB9XHJcblxyXG4gICFjYW5Vc2VET00gPyBpbnZhcmlhbnQoZmFsc2UsICdIYXNoIGhpc3RvcnkgbmVlZHMgYSBET00nKSA6IHZvaWQgMDtcclxuICB2YXIgZ2xvYmFsSGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xyXG4gIHZhciBjYW5Hb1dpdGhvdXRSZWxvYWQgPSBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpO1xyXG4gIHZhciBfcHJvcHMgPSBwcm9wcyxcclxuICAgICAgX3Byb3BzJGdldFVzZXJDb25maXJtID0gX3Byb3BzLmdldFVzZXJDb25maXJtYXRpb24sXHJcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPT09IHZvaWQgMCA/IGdldENvbmZpcm1hdGlvbiA6IF9wcm9wcyRnZXRVc2VyQ29uZmlybSxcclxuICAgICAgX3Byb3BzJGhhc2hUeXBlID0gX3Byb3BzLmhhc2hUeXBlLFxyXG4gICAgICBoYXNoVHlwZSA9IF9wcm9wcyRoYXNoVHlwZSA9PT0gdm9pZCAwID8gJ3NsYXNoJyA6IF9wcm9wcyRoYXNoVHlwZTtcclxuICB2YXIgYmFzZW5hbWUgPSBwcm9wcy5iYXNlbmFtZSA/IHN0cmlwVHJhaWxpbmdTbGFzaChhZGRMZWFkaW5nU2xhc2gocHJvcHMuYmFzZW5hbWUpKSA6ICcnO1xyXG4gIHZhciBfSGFzaFBhdGhDb2RlcnMkaGFzaFQgPSBIYXNoUGF0aENvZGVyc1toYXNoVHlwZV0sXHJcbiAgICAgIGVuY29kZVBhdGggPSBfSGFzaFBhdGhDb2RlcnMkaGFzaFQuZW5jb2RlUGF0aCxcclxuICAgICAgZGVjb2RlUGF0aCA9IF9IYXNoUGF0aENvZGVycyRoYXNoVC5kZWNvZGVQYXRoO1xyXG5cclxuICBmdW5jdGlvbiBnZXRET01Mb2NhdGlvbigpIHtcclxuICAgIHZhciBwYXRoID0gZGVjb2RlUGF0aChnZXRIYXNoUGF0aCgpKTtcclxuICAgIHdhcm5pbmcoIWJhc2VuYW1lIHx8IGhhc0Jhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKSwgJ1lvdSBhcmUgYXR0ZW1wdGluZyB0byB1c2UgYSBiYXNlbmFtZSBvbiBhIHBhZ2Ugd2hvc2UgVVJMIHBhdGggZG9lcyBub3QgYmVnaW4gJyArICd3aXRoIHRoZSBiYXNlbmFtZS4gRXhwZWN0ZWQgcGF0aCBcIicgKyBwYXRoICsgJ1wiIHRvIGJlZ2luIHdpdGggXCInICsgYmFzZW5hbWUgKyAnXCIuJyk7XHJcbiAgICBpZiAoYmFzZW5hbWUpIHBhdGggPSBzdHJpcEJhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKTtcclxuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihwYXRoKTtcclxuICB9XHJcblxyXG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCk7XHJcblxyXG4gIGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xyXG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcclxuXHJcbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGdsb2JhbEhpc3RvcnkubGVuZ3RoO1xyXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcclxuICB9XHJcblxyXG4gIHZhciBmb3JjZU5leHRQb3AgPSBmYWxzZTtcclxuICB2YXIgaWdub3JlUGF0aCA9IG51bGw7XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUhhc2hDaGFuZ2UoKSB7XHJcbiAgICB2YXIgcGF0aCA9IGdldEhhc2hQYXRoKCk7XHJcbiAgICB2YXIgZW5jb2RlZFBhdGggPSBlbmNvZGVQYXRoKHBhdGgpO1xyXG5cclxuICAgIGlmIChwYXRoICE9PSBlbmNvZGVkUGF0aCkge1xyXG4gICAgICAvLyBFbnN1cmUgd2UgYWx3YXlzIGhhdmUgYSBwcm9wZXJseS1lbmNvZGVkIGhhc2guXHJcbiAgICAgIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YXIgbG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbigpO1xyXG4gICAgICB2YXIgcHJldkxvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjtcclxuICAgICAgaWYgKCFmb3JjZU5leHRQb3AgJiYgbG9jYXRpb25zQXJlRXF1YWwocHJldkxvY2F0aW9uLCBsb2NhdGlvbikpIHJldHVybjsgLy8gQSBoYXNoY2hhbmdlIGRvZXNuJ3QgYWx3YXlzID09IGxvY2F0aW9uIGNoYW5nZS5cclxuXHJcbiAgICAgIGlmIChpZ25vcmVQYXRoID09PSBjcmVhdGVQYXRoKGxvY2F0aW9uKSkgcmV0dXJuOyAvLyBJZ25vcmUgdGhpcyBjaGFuZ2U7IHdlIGFscmVhZHkgc2V0U3RhdGUgaW4gcHVzaC9yZXBsYWNlLlxyXG5cclxuICAgICAgaWdub3JlUGF0aCA9IG51bGw7XHJcbiAgICAgIGhhbmRsZVBvcChsb2NhdGlvbik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVQb3AobG9jYXRpb24pIHtcclxuICAgIGlmIChmb3JjZU5leHRQb3ApIHtcclxuICAgICAgZm9yY2VOZXh0UG9wID0gZmFsc2U7XHJcbiAgICAgIHNldFN0YXRlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XHJcbiAgICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XHJcbiAgICAgICAgaWYgKG9rKSB7XHJcbiAgICAgICAgICBzZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxyXG4gICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXZlcnRQb3AobG9jYXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZXZlcnRQb3AoZnJvbUxvY2F0aW9uKSB7XHJcbiAgICB2YXIgdG9Mb2NhdGlvbiA9IGhpc3RvcnkubG9jYXRpb247IC8vIFRPRE86IFdlIGNvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyBtb3JlIHJlbGlhYmxlIGJ5XHJcbiAgICAvLyBrZWVwaW5nIGEgbGlzdCBvZiBwYXRocyB3ZSd2ZSBzZWVuIGluIHNlc3Npb25TdG9yYWdlLlxyXG4gICAgLy8gSW5zdGVhZCwgd2UganVzdCBkZWZhdWx0IHRvIDAgZm9yIHBhdGhzIHdlIGRvbid0IGtub3cuXHJcblxyXG4gICAgdmFyIHRvSW5kZXggPSBhbGxQYXRocy5sYXN0SW5kZXhPZihjcmVhdGVQYXRoKHRvTG9jYXRpb24pKTtcclxuICAgIGlmICh0b0luZGV4ID09PSAtMSkgdG9JbmRleCA9IDA7XHJcbiAgICB2YXIgZnJvbUluZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aChmcm9tTG9jYXRpb24pKTtcclxuICAgIGlmIChmcm9tSW5kZXggPT09IC0xKSBmcm9tSW5kZXggPSAwO1xyXG4gICAgdmFyIGRlbHRhID0gdG9JbmRleCAtIGZyb21JbmRleDtcclxuXHJcbiAgICBpZiAoZGVsdGEpIHtcclxuICAgICAgZm9yY2VOZXh0UG9wID0gdHJ1ZTtcclxuICAgICAgZ28oZGVsdGEpO1xyXG4gICAgfVxyXG4gIH0gLy8gRW5zdXJlIHRoZSBoYXNoIGlzIGVuY29kZWQgcHJvcGVybHkgYmVmb3JlIGRvaW5nIGFueXRoaW5nIGVsc2UuXHJcblxyXG5cclxuICB2YXIgcGF0aCA9IGdldEhhc2hQYXRoKCk7XHJcbiAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChwYXRoKTtcclxuICBpZiAocGF0aCAhPT0gZW5jb2RlZFBhdGgpIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XHJcbiAgdmFyIGluaXRpYWxMb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKCk7XHJcbiAgdmFyIGFsbFBhdGhzID0gW2NyZWF0ZVBhdGgoaW5pdGlhbExvY2F0aW9uKV07IC8vIFB1YmxpYyBpbnRlcmZhY2VcclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xyXG4gICAgcmV0dXJuICcjJyArIGVuY29kZVBhdGgoYmFzZW5hbWUgKyBjcmVhdGVQYXRoKGxvY2F0aW9uKSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XHJcbiAgICB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdIYXNoIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcclxuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XHJcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaGlzdG9yeS5sb2NhdGlvbik7XHJcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xyXG4gICAgICBpZiAoIW9rKSByZXR1cm47XHJcbiAgICAgIHZhciBwYXRoID0gY3JlYXRlUGF0aChsb2NhdGlvbik7XHJcbiAgICAgIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgoYmFzZW5hbWUgKyBwYXRoKTtcclxuICAgICAgdmFyIGhhc2hDaGFuZ2VkID0gZ2V0SGFzaFBhdGgoKSAhPT0gZW5jb2RlZFBhdGg7XHJcblxyXG4gICAgICBpZiAoaGFzaENoYW5nZWQpIHtcclxuICAgICAgICAvLyBXZSBjYW5ub3QgdGVsbCBpZiBhIGhhc2hjaGFuZ2Ugd2FzIGNhdXNlZCBieSBhIFBVU0gsIHNvIHdlJ2RcclxuICAgICAgICAvLyByYXRoZXIgc2V0U3RhdGUgaGVyZSBhbmQgaWdub3JlIHRoZSBoYXNoY2hhbmdlLiBUaGUgY2F2ZWF0IGhlcmVcclxuICAgICAgICAvLyBpcyB0aGF0IG90aGVyIGhhc2ggaGlzdG9yaWVzIGluIHRoZSBwYWdlIHdpbGwgY29uc2lkZXIgaXQgYSBQT1AuXHJcbiAgICAgICAgaWdub3JlUGF0aCA9IHBhdGg7XHJcbiAgICAgICAgcHVzaEhhc2hQYXRoKGVuY29kZWRQYXRoKTtcclxuICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aChoaXN0b3J5LmxvY2F0aW9uKSk7XHJcbiAgICAgICAgdmFyIG5leHRQYXRocyA9IGFsbFBhdGhzLnNsaWNlKDAsIHByZXZJbmRleCA9PT0gLTEgPyAwIDogcHJldkluZGV4ICsgMSk7XHJcbiAgICAgICAgbmV4dFBhdGhzLnB1c2gocGF0aCk7XHJcbiAgICAgICAgYWxsUGF0aHMgPSBuZXh0UGF0aHM7XHJcbiAgICAgICAgc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXHJcbiAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnSGFzaCBoaXN0b3J5IGNhbm5vdCBQVVNIIHRoZSBzYW1lIHBhdGg7IGEgbmV3IGVudHJ5IHdpbGwgbm90IGJlIGFkZGVkIHRvIHRoZSBoaXN0b3J5IHN0YWNrJyk7XHJcbiAgICAgICAgc2V0U3RhdGUoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZXBsYWNlKHBhdGgsIHN0YXRlKSB7XHJcbiAgICB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdIYXNoIGhpc3RvcnkgY2Fubm90IHJlcGxhY2Ugc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcclxuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XHJcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaGlzdG9yeS5sb2NhdGlvbik7XHJcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xyXG4gICAgICBpZiAoIW9rKSByZXR1cm47XHJcbiAgICAgIHZhciBwYXRoID0gY3JlYXRlUGF0aChsb2NhdGlvbik7XHJcbiAgICAgIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgoYmFzZW5hbWUgKyBwYXRoKTtcclxuICAgICAgdmFyIGhhc2hDaGFuZ2VkID0gZ2V0SGFzaFBhdGgoKSAhPT0gZW5jb2RlZFBhdGg7XHJcblxyXG4gICAgICBpZiAoaGFzaENoYW5nZWQpIHtcclxuICAgICAgICAvLyBXZSBjYW5ub3QgdGVsbCBpZiBhIGhhc2hjaGFuZ2Ugd2FzIGNhdXNlZCBieSBhIFJFUExBQ0UsIHNvIHdlJ2RcclxuICAgICAgICAvLyByYXRoZXIgc2V0U3RhdGUgaGVyZSBhbmQgaWdub3JlIHRoZSBoYXNoY2hhbmdlLiBUaGUgY2F2ZWF0IGhlcmVcclxuICAgICAgICAvLyBpcyB0aGF0IG90aGVyIGhhc2ggaGlzdG9yaWVzIGluIHRoZSBwYWdlIHdpbGwgY29uc2lkZXIgaXQgYSBQT1AuXHJcbiAgICAgICAgaWdub3JlUGF0aCA9IHBhdGg7XHJcbiAgICAgICAgcmVwbGFjZUhhc2hQYXRoKGVuY29kZWRQYXRoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHByZXZJbmRleCA9IGFsbFBhdGhzLmluZGV4T2YoY3JlYXRlUGF0aChoaXN0b3J5LmxvY2F0aW9uKSk7XHJcbiAgICAgIGlmIChwcmV2SW5kZXggIT09IC0xKSBhbGxQYXRoc1twcmV2SW5kZXhdID0gcGF0aDtcclxuICAgICAgc2V0U3RhdGUoe1xyXG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxyXG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ28obikge1xyXG4gICAgd2FybmluZyhjYW5Hb1dpdGhvdXRSZWxvYWQsICdIYXNoIGhpc3RvcnkgZ28obikgY2F1c2VzIGEgZnVsbCBwYWdlIHJlbG9hZCBpbiB0aGlzIGJyb3dzZXInKTtcclxuICAgIGdsb2JhbEhpc3RvcnkuZ28obik7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnb0JhY2soKSB7XHJcbiAgICBnbygtMSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XHJcbiAgICBnbygxKTtcclxuICB9XHJcblxyXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMDtcclxuXHJcbiAgZnVuY3Rpb24gY2hlY2tET01MaXN0ZW5lcnMoZGVsdGEpIHtcclxuICAgIGxpc3RlbmVyQ291bnQgKz0gZGVsdGE7XHJcblxyXG4gICAgaWYgKGxpc3RlbmVyQ291bnQgPT09IDEgJiYgZGVsdGEgPT09IDEpIHtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoSGFzaENoYW5nZUV2ZW50JDEsIGhhbmRsZUhhc2hDaGFuZ2UpO1xyXG4gICAgfSBlbHNlIGlmIChsaXN0ZW5lckNvdW50ID09PSAwKSB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudCQxLCBoYW5kbGVIYXNoQ2hhbmdlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHZhciBpc0Jsb2NrZWQgPSBmYWxzZTtcclxuXHJcbiAgZnVuY3Rpb24gYmxvY2socHJvbXB0KSB7XHJcbiAgICBpZiAocHJvbXB0ID09PSB2b2lkIDApIHtcclxuICAgICAgcHJvbXB0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHVuYmxvY2sgPSB0cmFuc2l0aW9uTWFuYWdlci5zZXRQcm9tcHQocHJvbXB0KTtcclxuXHJcbiAgICBpZiAoIWlzQmxvY2tlZCkge1xyXG4gICAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcclxuICAgICAgaXNCbG9ja2VkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoaXNCbG9ja2VkKSB7XHJcbiAgICAgICAgaXNCbG9ja2VkID0gZmFsc2U7XHJcbiAgICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdW5ibG9jaygpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xyXG4gICAgdmFyIHVubGlzdGVuID0gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XHJcbiAgICAgIHVubGlzdGVuKCk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgdmFyIGhpc3RvcnkgPSB7XHJcbiAgICBsZW5ndGg6IGdsb2JhbEhpc3RvcnkubGVuZ3RoLFxyXG4gICAgYWN0aW9uOiAnUE9QJyxcclxuICAgIGxvY2F0aW9uOiBpbml0aWFsTG9jYXRpb24sXHJcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxyXG4gICAgcHVzaDogcHVzaCxcclxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXHJcbiAgICBnbzogZ28sXHJcbiAgICBnb0JhY2s6IGdvQmFjayxcclxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxyXG4gICAgYmxvY2s6IGJsb2NrLFxyXG4gICAgbGlzdGVuOiBsaXN0ZW5cclxuICB9O1xyXG4gIHJldHVybiBoaXN0b3J5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbGFtcChuLCBsb3dlckJvdW5kLCB1cHBlckJvdW5kKSB7XHJcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG4sIGxvd2VyQm91bmQpLCB1cHBlckJvdW5kKTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIGhpc3Rvcnkgb2JqZWN0IHRoYXQgc3RvcmVzIGxvY2F0aW9ucyBpbiBtZW1vcnkuXHJcbiAqL1xyXG5cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUhpc3RvcnkocHJvcHMpIHtcclxuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xyXG4gICAgcHJvcHMgPSB7fTtcclxuICB9XHJcblxyXG4gIHZhciBfcHJvcHMgPSBwcm9wcyxcclxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxyXG4gICAgICBfcHJvcHMkaW5pdGlhbEVudHJpZXMgPSBfcHJvcHMuaW5pdGlhbEVudHJpZXMsXHJcbiAgICAgIGluaXRpYWxFbnRyaWVzID0gX3Byb3BzJGluaXRpYWxFbnRyaWVzID09PSB2b2lkIDAgPyBbJy8nXSA6IF9wcm9wcyRpbml0aWFsRW50cmllcyxcclxuICAgICAgX3Byb3BzJGluaXRpYWxJbmRleCA9IF9wcm9wcy5pbml0aWFsSW5kZXgsXHJcbiAgICAgIGluaXRpYWxJbmRleCA9IF9wcm9wcyRpbml0aWFsSW5kZXggPT09IHZvaWQgMCA/IDAgOiBfcHJvcHMkaW5pdGlhbEluZGV4LFxyXG4gICAgICBfcHJvcHMka2V5TGVuZ3RoID0gX3Byb3BzLmtleUxlbmd0aCxcclxuICAgICAga2V5TGVuZ3RoID0gX3Byb3BzJGtleUxlbmd0aCA9PT0gdm9pZCAwID8gNiA6IF9wcm9wcyRrZXlMZW5ndGg7XHJcbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKTtcclxuXHJcbiAgZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XHJcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xyXG5cclxuICAgIGhpc3RvcnkubGVuZ3RoID0gaGlzdG9yeS5lbnRyaWVzLmxlbmd0aDtcclxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGtleUxlbmd0aCk7XHJcbiAgfVxyXG5cclxuICB2YXIgaW5kZXggPSBjbGFtcChpbml0aWFsSW5kZXgsIDAsIGluaXRpYWxFbnRyaWVzLmxlbmd0aCAtIDEpO1xyXG4gIHZhciBlbnRyaWVzID0gaW5pdGlhbEVudHJpZXMubWFwKGZ1bmN0aW9uIChlbnRyeSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBlbnRyeSA9PT0gJ3N0cmluZycgPyBjcmVhdGVMb2NhdGlvbihlbnRyeSwgdW5kZWZpbmVkLCBjcmVhdGVLZXkoKSkgOiBjcmVhdGVMb2NhdGlvbihlbnRyeSwgdW5kZWZpbmVkLCBlbnRyeS5rZXkgfHwgY3JlYXRlS2V5KCkpO1xyXG4gIH0pOyAvLyBQdWJsaWMgaW50ZXJmYWNlXHJcblxyXG4gIHZhciBjcmVhdGVIcmVmID0gY3JlYXRlUGF0aDtcclxuXHJcbiAgZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xyXG4gICAgd2FybmluZyghKHR5cGVvZiBwYXRoID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byBwdXNoIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpO1xyXG4gICAgdmFyIGFjdGlvbiA9ICdQVVNIJztcclxuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XHJcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xyXG4gICAgICBpZiAoIW9rKSByZXR1cm47XHJcbiAgICAgIHZhciBwcmV2SW5kZXggPSBoaXN0b3J5LmluZGV4O1xyXG4gICAgICB2YXIgbmV4dEluZGV4ID0gcHJldkluZGV4ICsgMTtcclxuICAgICAgdmFyIG5leHRFbnRyaWVzID0gaGlzdG9yeS5lbnRyaWVzLnNsaWNlKDApO1xyXG5cclxuICAgICAgaWYgKG5leHRFbnRyaWVzLmxlbmd0aCA+IG5leHRJbmRleCkge1xyXG4gICAgICAgIG5leHRFbnRyaWVzLnNwbGljZShuZXh0SW5kZXgsIG5leHRFbnRyaWVzLmxlbmd0aCAtIG5leHRJbmRleCwgbG9jYXRpb24pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5leHRFbnRyaWVzLnB1c2gobG9jYXRpb24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRTdGF0ZSh7XHJcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXHJcbiAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxyXG4gICAgICAgIGluZGV4OiBuZXh0SW5kZXgsXHJcbiAgICAgICAgZW50cmllczogbmV4dEVudHJpZXNcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcclxuICAgIHdhcm5pbmcoISh0eXBlb2YgcGF0aCA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcmVwbGFjZSB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcclxuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XHJcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xyXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcclxuICAgICAgaWYgKCFvaykgcmV0dXJuO1xyXG4gICAgICBoaXN0b3J5LmVudHJpZXNbaGlzdG9yeS5pbmRleF0gPSBsb2NhdGlvbjtcclxuICAgICAgc2V0U3RhdGUoe1xyXG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxyXG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ28obikge1xyXG4gICAgdmFyIG5leHRJbmRleCA9IGNsYW1wKGhpc3RvcnkuaW5kZXggKyBuLCAwLCBoaXN0b3J5LmVudHJpZXMubGVuZ3RoIC0gMSk7XHJcbiAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XHJcbiAgICB2YXIgbG9jYXRpb24gPSBoaXN0b3J5LmVudHJpZXNbbmV4dEluZGV4XTtcclxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XHJcbiAgICAgIGlmIChvaykge1xyXG4gICAgICAgIHNldFN0YXRlKHtcclxuICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxyXG4gICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxyXG4gICAgICAgICAgaW5kZXg6IG5leHRJbmRleFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIE1pbWljIHRoZSBiZWhhdmlvciBvZiBET00gaGlzdG9yaWVzIGJ5XHJcbiAgICAgICAgLy8gY2F1c2luZyBhIHJlbmRlciBhZnRlciBhIGNhbmNlbGxlZCBQT1AuXHJcbiAgICAgICAgc2V0U3RhdGUoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnb0JhY2soKSB7XHJcbiAgICBnbygtMSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XHJcbiAgICBnbygxKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbkdvKG4pIHtcclxuICAgIHZhciBuZXh0SW5kZXggPSBoaXN0b3J5LmluZGV4ICsgbjtcclxuICAgIHJldHVybiBuZXh0SW5kZXggPj0gMCAmJiBuZXh0SW5kZXggPCBoaXN0b3J5LmVudHJpZXMubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYmxvY2socHJvbXB0KSB7XHJcbiAgICBpZiAocHJvbXB0ID09PSB2b2lkIDApIHtcclxuICAgICAgcHJvbXB0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XHJcbiAgICByZXR1cm4gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gIH1cclxuXHJcbiAgdmFyIGhpc3RvcnkgPSB7XHJcbiAgICBsZW5ndGg6IGVudHJpZXMubGVuZ3RoLFxyXG4gICAgYWN0aW9uOiAnUE9QJyxcclxuICAgIGxvY2F0aW9uOiBlbnRyaWVzW2luZGV4XSxcclxuICAgIGluZGV4OiBpbmRleCxcclxuICAgIGVudHJpZXM6IGVudHJpZXMsXHJcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxyXG4gICAgcHVzaDogcHVzaCxcclxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXHJcbiAgICBnbzogZ28sXHJcbiAgICBnb0JhY2s6IGdvQmFjayxcclxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxyXG4gICAgY2FuR286IGNhbkdvLFxyXG4gICAgYmxvY2s6IGJsb2NrLFxyXG4gICAgbGlzdGVuOiBsaXN0ZW5cclxuICB9O1xyXG4gIHJldHVybiBoaXN0b3J5O1xyXG59XHJcblxyXG5leHBvcnRzLmNyZWF0ZUJyb3dzZXJIaXN0b3J5ID0gY3JlYXRlQnJvd3Nlckhpc3Rvcnk7XHJcbmV4cG9ydHMuY3JlYXRlSGFzaEhpc3RvcnkgPSBjcmVhdGVIYXNoSGlzdG9yeTtcclxuZXhwb3J0cy5jcmVhdGVNZW1vcnlIaXN0b3J5ID0gY3JlYXRlTWVtb3J5SGlzdG9yeTtcclxuZXhwb3J0cy5jcmVhdGVMb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uO1xyXG5leHBvcnRzLmxvY2F0aW9uc0FyZUVxdWFsID0gbG9jYXRpb25zQXJlRXF1YWw7XHJcbmV4cG9ydHMucGFyc2VQYXRoID0gcGFyc2VQYXRoO1xyXG5leHBvcnRzLmNyZWF0ZVBhdGggPSBjcmVhdGVQYXRoO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQobil7cmV0dXJuIG4mJlwib2JqZWN0XCI9PXR5cGVvZiBuJiZcImRlZmF1bHRcImluIG4/bi5kZWZhdWx0Om59T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHJlc29sdmVQYXRobmFtZT1faW50ZXJvcERlZmF1bHQocmVxdWlyZShcInJlc29sdmUtcGF0aG5hbWVcIikpLHZhbHVlRXF1YWw9X2ludGVyb3BEZWZhdWx0KHJlcXVpcmUoXCJ2YWx1ZS1lcXVhbFwiKSk7cmVxdWlyZShcInRpbnktd2FybmluZ1wiKTt2YXIgaW52YXJpYW50PV9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKFwidGlueS1pbnZhcmlhbnRcIikpO2Z1bmN0aW9uIF9leHRlbmRzKCl7cmV0dXJuKF9leHRlbmRzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKG4pe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBlPWFyZ3VtZW50c1t0XTtmb3IodmFyIGEgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxhKSYmKG5bYV09ZVthXSl9cmV0dXJuIG59KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYWRkTGVhZGluZ1NsYXNoKG4pe3JldHVyblwiL1wiPT09bi5jaGFyQXQoMCk/bjpcIi9cIitufWZ1bmN0aW9uIHN0cmlwTGVhZGluZ1NsYXNoKG4pe3JldHVyblwiL1wiPT09bi5jaGFyQXQoMCk/bi5zdWJzdHIoMSk6bn1mdW5jdGlvbiBoYXNCYXNlbmFtZShuLHQpe3JldHVybiBuZXcgUmVnRXhwKFwiXlwiK3QrXCIoXFxcXC98XFxcXD98I3wkKVwiLFwiaVwiKS50ZXN0KG4pfWZ1bmN0aW9uIHN0cmlwQmFzZW5hbWUobix0KXtyZXR1cm4gaGFzQmFzZW5hbWUobix0KT9uLnN1YnN0cih0Lmxlbmd0aCk6bn1mdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gobil7cmV0dXJuXCIvXCI9PT1uLmNoYXJBdChuLmxlbmd0aC0xKT9uLnNsaWNlKDAsLTEpOm59ZnVuY3Rpb24gcGFyc2VQYXRoKG4pe3ZhciB0PW58fFwiL1wiLGU9XCJcIixhPVwiXCIsbz10LmluZGV4T2YoXCIjXCIpOy0xIT09byYmKGE9dC5zdWJzdHIobyksdD10LnN1YnN0cigwLG8pKTt2YXIgcj10LmluZGV4T2YoXCI/XCIpO3JldHVybi0xIT09ciYmKGU9dC5zdWJzdHIociksdD10LnN1YnN0cigwLHIpKSx7cGF0aG5hbWU6dCxzZWFyY2g6XCI/XCI9PT1lP1wiXCI6ZSxoYXNoOlwiI1wiPT09YT9cIlwiOmF9fWZ1bmN0aW9uIGNyZWF0ZVBhdGgobil7dmFyIHQ9bi5wYXRobmFtZSxlPW4uc2VhcmNoLGE9bi5oYXNoLG89dHx8XCIvXCI7cmV0dXJuIGUmJlwiP1wiIT09ZSYmKG8rPVwiP1wiPT09ZS5jaGFyQXQoMCk/ZTpcIj9cIitlKSxhJiZcIiNcIiE9PWEmJihvKz1cIiNcIj09PWEuY2hhckF0KDApP2E6XCIjXCIrYSksb31mdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihuLHQsZSxhKXt2YXIgbztcInN0cmluZ1wiPT10eXBlb2Ygbj8obz1wYXJzZVBhdGgobikpLnN0YXRlPXQ6KHZvaWQgMD09PShvPV9leHRlbmRzKHt9LG4pKS5wYXRobmFtZSYmKG8ucGF0aG5hbWU9XCJcIiksby5zZWFyY2g/XCI/XCIhPT1vLnNlYXJjaC5jaGFyQXQoMCkmJihvLnNlYXJjaD1cIj9cIitvLnNlYXJjaCk6by5zZWFyY2g9XCJcIixvLmhhc2g/XCIjXCIhPT1vLmhhc2guY2hhckF0KDApJiYoby5oYXNoPVwiI1wiK28uaGFzaCk6by5oYXNoPVwiXCIsdm9pZCAwIT09dCYmdm9pZCAwPT09by5zdGF0ZSYmKG8uc3RhdGU9dCkpO3RyeXtvLnBhdGhuYW1lPWRlY29kZVVSSShvLnBhdGhuYW1lKX1jYXRjaChuKXt0aHJvdyBuIGluc3RhbmNlb2YgVVJJRXJyb3I/bmV3IFVSSUVycm9yKCdQYXRobmFtZSBcIicrby5wYXRobmFtZSsnXCIgY291bGQgbm90IGJlIGRlY29kZWQuIFRoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBhbiBpbnZhbGlkIHBlcmNlbnQtZW5jb2RpbmcuJyk6bn1yZXR1cm4gZSYmKG8ua2V5PWUpLGE/by5wYXRobmFtZT9cIi9cIiE9PW8ucGF0aG5hbWUuY2hhckF0KDApJiYoby5wYXRobmFtZT1yZXNvbHZlUGF0aG5hbWUoby5wYXRobmFtZSxhLnBhdGhuYW1lKSk6by5wYXRobmFtZT1hLnBhdGhuYW1lOm8ucGF0aG5hbWV8fChvLnBhdGhuYW1lPVwiL1wiKSxvfWZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKG4sdCl7cmV0dXJuIG4ucGF0aG5hbWU9PT10LnBhdGhuYW1lJiZuLnNlYXJjaD09PXQuc2VhcmNoJiZuLmhhc2g9PT10Lmhhc2gmJm4ua2V5PT09dC5rZXkmJnZhbHVlRXF1YWwobi5zdGF0ZSx0LnN0YXRlKX1mdW5jdGlvbiBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpe3ZhciByPW51bGw7dmFyIGE9W107cmV0dXJue3NldFByb21wdDpmdW5jdGlvbihuKXtyZXR1cm4gcj1uLGZ1bmN0aW9uKCl7cj09PW4mJihyPW51bGwpfX0sY29uZmlybVRyYW5zaXRpb25UbzpmdW5jdGlvbihuLHQsZSxhKXtpZihudWxsIT1yKXt2YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByP3Iobix0KTpyO1wic3RyaW5nXCI9PXR5cGVvZiBvP1wiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZShvLGEpOmEoITApOmEoITEhPT1vKX1lbHNlIGEoITApfSxhcHBlbmRMaXN0ZW5lcjpmdW5jdGlvbihuKXt2YXIgdD0hMDtmdW5jdGlvbiBlKCl7dCYmbi5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX1yZXR1cm4gYS5wdXNoKGUpLGZ1bmN0aW9uKCl7dD0hMSxhPWEuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiBuIT09ZX0pfX0sbm90aWZ5TGlzdGVuZXJzOmZ1bmN0aW9uKCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkobiksZT0wO2U8bjtlKyspdFtlXT1hcmd1bWVudHNbZV07YS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBuLmFwcGx5KHZvaWQgMCx0KX0pfX19dmFyIGNhblVzZURPTT0hKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fCF3aW5kb3cuZG9jdW1lbnR8fCF3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7ZnVuY3Rpb24gZ2V0Q29uZmlybWF0aW9uKG4sdCl7dCh3aW5kb3cuY29uZmlybShuKSl9ZnVuY3Rpb24gc3VwcG9ydHNIaXN0b3J5KCl7dmFyIG49d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuKC0xPT09bi5pbmRleE9mKFwiQW5kcm9pZCAyLlwiKSYmLTE9PT1uLmluZGV4T2YoXCJBbmRyb2lkIDQuMFwiKXx8LTE9PT1uLmluZGV4T2YoXCJNb2JpbGUgU2FmYXJpXCIpfHwtMSE9PW4uaW5kZXhPZihcIkNocm9tZVwiKXx8LTEhPT1uLmluZGV4T2YoXCJXaW5kb3dzIFBob25lXCIpKSYmKHdpbmRvdy5oaXN0b3J5JiZcInB1c2hTdGF0ZVwiaW4gd2luZG93Lmhpc3RvcnkpfWZ1bmN0aW9uIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UoKXtyZXR1cm4tMT09PXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJUcmlkZW50XCIpfWZ1bmN0aW9uIHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCl7cmV0dXJuLTE9PT13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRmlyZWZveFwiKX1mdW5jdGlvbiBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KG4pe3ZvaWQgMD09PW4uc3RhdGUmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkNyaU9TXCIpfXZhciBQb3BTdGF0ZUV2ZW50PVwicG9wc3RhdGVcIixIYXNoQ2hhbmdlRXZlbnQ9XCJoYXNoY2hhbmdlXCI7ZnVuY3Rpb24gZ2V0SGlzdG9yeVN0YXRlKCl7dHJ5e3JldHVybiB3aW5kb3cuaGlzdG9yeS5zdGF0ZXx8e319Y2F0Y2gobil7cmV0dXJue319fWZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIaXN0b3J5KG4pe3ZvaWQgMD09PW4mJihuPXt9KSxjYW5Vc2VET018fGludmFyaWFudCghMSk7dmFyIGM9d2luZG93Lmhpc3Rvcnkscz1zdXBwb3J0c0hpc3RvcnkoKSx0PSFzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKCksZT1uLGE9ZS5mb3JjZVJlZnJlc2gsaD12b2lkIDAhPT1hJiZhLG89ZS5nZXRVc2VyQ29uZmlybWF0aW9uLHU9dm9pZCAwPT09bz9nZXRDb25maXJtYXRpb246byxyPWUua2V5TGVuZ3RoLGk9dm9pZCAwPT09cj82OnIsZj1uLmJhc2VuYW1lP3N0cmlwVHJhaWxpbmdTbGFzaChhZGRMZWFkaW5nU2xhc2gobi5iYXNlbmFtZSkpOlwiXCI7ZnVuY3Rpb24gbChuKXt2YXIgdD1ufHx7fSxlPXQua2V5LGE9dC5zdGF0ZSxvPXdpbmRvdy5sb2NhdGlvbixyPW8ucGF0aG5hbWUrby5zZWFyY2grby5oYXNoO3JldHVybiBmJiYocj1zdHJpcEJhc2VuYW1lKHIsZikpLGNyZWF0ZUxvY2F0aW9uKHIsYSxlKX1mdW5jdGlvbiBkKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLGkpfXZhciB2PWNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCk7ZnVuY3Rpb24gcChuKXtfZXh0ZW5kcyhULG4pLFQubGVuZ3RoPWMubGVuZ3RoLHYubm90aWZ5TGlzdGVuZXJzKFQubG9jYXRpb24sVC5hY3Rpb24pfWZ1bmN0aW9uIGcobil7aXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudChuKXx8dyhsKG4uc3RhdGUpKX1mdW5jdGlvbiBQKCl7dyhsKGdldEhpc3RvcnlTdGF0ZSgpKSl9dmFyIG09ITE7ZnVuY3Rpb24gdyh0KXtpZihtKW09ITEscCgpO2Vsc2V7di5jb25maXJtVHJhbnNpdGlvblRvKHQsXCJQT1BcIix1LGZ1bmN0aW9uKG4pe24/cCh7YWN0aW9uOlwiUE9QXCIsbG9jYXRpb246dH0pOmZ1bmN0aW9uKG4pe3ZhciB0PVQubG9jYXRpb24sZT1ILmluZGV4T2YodC5rZXkpOy0xPT09ZSYmKGU9MCk7dmFyIGE9SC5pbmRleE9mKG4ua2V5KTstMT09PWEmJihhPTApO3ZhciBvPWUtYTtvJiYobT0hMCxMKG8pKX0odCl9KX19dmFyIHk9bChnZXRIaXN0b3J5U3RhdGUoKSksSD1beS5rZXldO2Z1bmN0aW9uIHgobil7cmV0dXJuIGYrY3JlYXRlUGF0aChuKX1mdW5jdGlvbiBMKG4pe2MuZ28obil9dmFyIE89MDtmdW5jdGlvbiBFKG4pezE9PT0oTys9bikmJjE9PT1uPyh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihQb3BTdGF0ZUV2ZW50LGcpLHQmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudCxQKSk6MD09PU8mJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihQb3BTdGF0ZUV2ZW50LGcpLHQmJndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudCxQKSl9dmFyIFM9ITE7dmFyIFQ9e2xlbmd0aDpjLmxlbmd0aCxhY3Rpb246XCJQT1BcIixsb2NhdGlvbjp5LGNyZWF0ZUhyZWY6eCxwdXNoOmZ1bmN0aW9uKG4sdCl7dmFyIGk9Y3JlYXRlTG9jYXRpb24obix0LGQoKSxULmxvY2F0aW9uKTt2LmNvbmZpcm1UcmFuc2l0aW9uVG8oaSxcIlBVU0hcIix1LGZ1bmN0aW9uKG4pe2lmKG4pe3ZhciB0PXgoaSksZT1pLmtleSxhPWkuc3RhdGU7aWYocylpZihjLnB1c2hTdGF0ZSh7a2V5OmUsc3RhdGU6YX0sbnVsbCx0KSxoKXdpbmRvdy5sb2NhdGlvbi5ocmVmPXQ7ZWxzZXt2YXIgbz1ILmluZGV4T2YoVC5sb2NhdGlvbi5rZXkpLHI9SC5zbGljZSgwLC0xPT09bz8wOm8rMSk7ci5wdXNoKGkua2V5KSxIPXIscCh7YWN0aW9uOlwiUFVTSFwiLGxvY2F0aW9uOml9KX1lbHNlIHdpbmRvdy5sb2NhdGlvbi5ocmVmPXR9fSl9LHJlcGxhY2U6ZnVuY3Rpb24obix0KXt2YXIgcj1cIlJFUExBQ0VcIixpPWNyZWF0ZUxvY2F0aW9uKG4sdCxkKCksVC5sb2NhdGlvbik7di5jb25maXJtVHJhbnNpdGlvblRvKGkscix1LGZ1bmN0aW9uKG4pe2lmKG4pe3ZhciB0PXgoaSksZT1pLmtleSxhPWkuc3RhdGU7aWYocylpZihjLnJlcGxhY2VTdGF0ZSh7a2V5OmUsc3RhdGU6YX0sbnVsbCx0KSxoKXdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHQpO2Vsc2V7dmFyIG89SC5pbmRleE9mKFQubG9jYXRpb24ua2V5KTstMSE9PW8mJihIW29dPWkua2V5KSxwKHthY3Rpb246cixsb2NhdGlvbjppfSl9ZWxzZSB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh0KX19KX0sZ286TCxnb0JhY2s6ZnVuY3Rpb24oKXtMKC0xKX0sZ29Gb3J3YXJkOmZ1bmN0aW9uKCl7TCgxKX0sYmxvY2s6ZnVuY3Rpb24obil7dm9pZCAwPT09biYmKG49ITEpO3ZhciB0PXYuc2V0UHJvbXB0KG4pO3JldHVybiBTfHwoRSgxKSxTPSEwKSxmdW5jdGlvbigpe3JldHVybiBTJiYoUz0hMSxFKC0xKSksdCgpfX0sbGlzdGVuOmZ1bmN0aW9uKG4pe3ZhciB0PXYuYXBwZW5kTGlzdGVuZXIobik7cmV0dXJuIEUoMSksZnVuY3Rpb24oKXtFKC0xKSx0KCl9fX07cmV0dXJuIFR9dmFyIEhhc2hDaGFuZ2VFdmVudCQxPVwiaGFzaGNoYW5nZVwiLEhhc2hQYXRoQ29kZXJzPXtoYXNoYmFuZzp7ZW5jb2RlUGF0aDpmdW5jdGlvbihuKXtyZXR1cm5cIiFcIj09PW4uY2hhckF0KDApP246XCIhL1wiK3N0cmlwTGVhZGluZ1NsYXNoKG4pfSxkZWNvZGVQYXRoOmZ1bmN0aW9uKG4pe3JldHVyblwiIVwiPT09bi5jaGFyQXQoMCk/bi5zdWJzdHIoMSk6bn19LG5vc2xhc2g6e2VuY29kZVBhdGg6c3RyaXBMZWFkaW5nU2xhc2gsZGVjb2RlUGF0aDphZGRMZWFkaW5nU2xhc2h9LHNsYXNoOntlbmNvZGVQYXRoOmFkZExlYWRpbmdTbGFzaCxkZWNvZGVQYXRoOmFkZExlYWRpbmdTbGFzaH19O2Z1bmN0aW9uIGdldEhhc2hQYXRoKCl7dmFyIG49d2luZG93LmxvY2F0aW9uLmhyZWYsdD1uLmluZGV4T2YoXCIjXCIpO3JldHVybi0xPT09dD9cIlwiOm4uc3Vic3RyaW5nKHQrMSl9ZnVuY3Rpb24gcHVzaEhhc2hQYXRoKG4pe3dpbmRvdy5sb2NhdGlvbi5oYXNoPW59ZnVuY3Rpb24gcmVwbGFjZUhhc2hQYXRoKG4pe3ZhciB0PXdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCIjXCIpO3dpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNsaWNlKDAsMDw9dD90OjApK1wiI1wiK24pfWZ1bmN0aW9uIGNyZWF0ZUhhc2hIaXN0b3J5KG4pe3ZvaWQgMD09PW4mJihuPXt9KSxjYW5Vc2VET018fGludmFyaWFudCghMSk7dmFyIHQ9d2luZG93Lmhpc3RvcnksZT0oc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKSxuKSxhPWUuZ2V0VXNlckNvbmZpcm1hdGlvbixpPXZvaWQgMD09PWE/Z2V0Q29uZmlybWF0aW9uOmEsbz1lLmhhc2hUeXBlLHI9dm9pZCAwPT09bz9cInNsYXNoXCI6byxjPW4uYmFzZW5hbWU/c3RyaXBUcmFpbGluZ1NsYXNoKGFkZExlYWRpbmdTbGFzaChuLmJhc2VuYW1lKSk6XCJcIixzPUhhc2hQYXRoQ29kZXJzW3JdLGg9cy5lbmNvZGVQYXRoLHU9cy5kZWNvZGVQYXRoO2Z1bmN0aW9uIGYoKXt2YXIgbj11KGdldEhhc2hQYXRoKCkpO3JldHVybiBjJiYobj1zdHJpcEJhc2VuYW1lKG4sYykpLGNyZWF0ZUxvY2F0aW9uKG4pfXZhciBsPWNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCk7ZnVuY3Rpb24gZChuKXtfZXh0ZW5kcyhFLG4pLEUubGVuZ3RoPXQubGVuZ3RoLGwubm90aWZ5TGlzdGVuZXJzKEUubG9jYXRpb24sRS5hY3Rpb24pfXZhciB2PSExLHA9bnVsbDtmdW5jdGlvbiBnKCl7dmFyIG49Z2V0SGFzaFBhdGgoKSx0PWgobik7aWYobiE9PXQpcmVwbGFjZUhhc2hQYXRoKHQpO2Vsc2V7dmFyIGU9ZigpLGE9RS5sb2NhdGlvbjtpZighdiYmbG9jYXRpb25zQXJlRXF1YWwoYSxlKSlyZXR1cm47aWYocD09PWNyZWF0ZVBhdGgoZSkpcmV0dXJuO3A9bnVsbCxmdW5jdGlvbih0KXtpZih2KXY9ITEsZCgpO2Vsc2V7bC5jb25maXJtVHJhbnNpdGlvblRvKHQsXCJQT1BcIixpLGZ1bmN0aW9uKG4pe24/ZCh7YWN0aW9uOlwiUE9QXCIsbG9jYXRpb246dH0pOmZ1bmN0aW9uKG4pe3ZhciB0PUUubG9jYXRpb24sZT15Lmxhc3RJbmRleE9mKGNyZWF0ZVBhdGgodCkpOy0xPT09ZSYmKGU9MCk7dmFyIGE9eS5sYXN0SW5kZXhPZihjcmVhdGVQYXRoKG4pKTstMT09PWEmJihhPTApO3ZhciBvPWUtYTtvJiYodj0hMCxIKG8pKX0odCl9KX19KGUpfX12YXIgUD1nZXRIYXNoUGF0aCgpLG09aChQKTtQIT09bSYmcmVwbGFjZUhhc2hQYXRoKG0pO3ZhciB3PWYoKSx5PVtjcmVhdGVQYXRoKHcpXTtmdW5jdGlvbiBIKG4pe3QuZ28obil9dmFyIHg9MDtmdW5jdGlvbiBMKG4pezE9PT0oeCs9bikmJjE9PT1uP3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKEhhc2hDaGFuZ2VFdmVudCQxLGcpOjA9PT14JiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQkMSxnKX12YXIgTz0hMTt2YXIgRT17bGVuZ3RoOnQubGVuZ3RoLGFjdGlvbjpcIlBPUFwiLGxvY2F0aW9uOncsY3JlYXRlSHJlZjpmdW5jdGlvbihuKXtyZXR1cm5cIiNcIitoKGMrY3JlYXRlUGF0aChuKSl9LHB1c2g6ZnVuY3Rpb24obix0KXt2YXIgcj1jcmVhdGVMb2NhdGlvbihuLHZvaWQgMCx2b2lkIDAsRS5sb2NhdGlvbik7bC5jb25maXJtVHJhbnNpdGlvblRvKHIsXCJQVVNIXCIsaSxmdW5jdGlvbihuKXtpZihuKXt2YXIgdD1jcmVhdGVQYXRoKHIpLGU9aChjK3QpO2lmKGdldEhhc2hQYXRoKCkhPT1lKXtwPXQscHVzaEhhc2hQYXRoKGUpO3ZhciBhPXkubGFzdEluZGV4T2YoY3JlYXRlUGF0aChFLmxvY2F0aW9uKSksbz15LnNsaWNlKDAsLTE9PT1hPzA6YSsxKTtvLnB1c2godCkseT1vLGQoe2FjdGlvbjpcIlBVU0hcIixsb2NhdGlvbjpyfSl9ZWxzZSBkKCl9fSl9LHJlcGxhY2U6ZnVuY3Rpb24obix0KXt2YXIgbz1cIlJFUExBQ0VcIixyPWNyZWF0ZUxvY2F0aW9uKG4sdm9pZCAwLHZvaWQgMCxFLmxvY2F0aW9uKTtsLmNvbmZpcm1UcmFuc2l0aW9uVG8ocixvLGksZnVuY3Rpb24obil7aWYobil7dmFyIHQ9Y3JlYXRlUGF0aChyKSxlPWgoYyt0KTtnZXRIYXNoUGF0aCgpIT09ZSYmKHA9dCxyZXBsYWNlSGFzaFBhdGgoZSkpO3ZhciBhPXkuaW5kZXhPZihjcmVhdGVQYXRoKEUubG9jYXRpb24pKTstMSE9PWEmJih5W2FdPXQpLGQoe2FjdGlvbjpvLGxvY2F0aW9uOnJ9KX19KX0sZ286SCxnb0JhY2s6ZnVuY3Rpb24oKXtIKC0xKX0sZ29Gb3J3YXJkOmZ1bmN0aW9uKCl7SCgxKX0sYmxvY2s6ZnVuY3Rpb24obil7dm9pZCAwPT09biYmKG49ITEpO3ZhciB0PWwuc2V0UHJvbXB0KG4pO3JldHVybiBPfHwoTCgxKSxPPSEwKSxmdW5jdGlvbigpe3JldHVybiBPJiYoTz0hMSxMKC0xKSksdCgpfX0sbGlzdGVuOmZ1bmN0aW9uKG4pe3ZhciB0PWwuYXBwZW5kTGlzdGVuZXIobik7cmV0dXJuIEwoMSksZnVuY3Rpb24oKXtMKC0xKSx0KCl9fX07cmV0dXJuIEV9ZnVuY3Rpb24gY2xhbXAobix0LGUpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heChuLHQpLGUpfWZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUhpc3Rvcnkobil7dm9pZCAwPT09biYmKG49e30pO3ZhciB0PW4sbz10LmdldFVzZXJDb25maXJtYXRpb24sZT10LmluaXRpYWxFbnRyaWVzLGE9dm9pZCAwPT09ZT9bXCIvXCJdOmUscj10LmluaXRpYWxJbmRleCxpPXZvaWQgMD09PXI/MDpyLGM9dC5rZXlMZW5ndGgscz12b2lkIDA9PT1jPzY6YyxoPWNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCk7ZnVuY3Rpb24gdShuKXtfZXh0ZW5kcyhnLG4pLGcubGVuZ3RoPWcuZW50cmllcy5sZW5ndGgsaC5ub3RpZnlMaXN0ZW5lcnMoZy5sb2NhdGlvbixnLmFjdGlvbil9ZnVuY3Rpb24gZigpe3JldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMixzKX12YXIgbD1jbGFtcChpLDAsYS5sZW5ndGgtMSksZD1hLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gY3JlYXRlTG9jYXRpb24obix2b2lkIDAsXCJzdHJpbmdcIj09dHlwZW9mIG4/ZigpOm4ua2V5fHxmKCkpfSksdj1jcmVhdGVQYXRoO2Z1bmN0aW9uIHAobil7dmFyIHQ9Y2xhbXAoZy5pbmRleCtuLDAsZy5lbnRyaWVzLmxlbmd0aC0xKSxlPWcuZW50cmllc1t0XTtoLmNvbmZpcm1UcmFuc2l0aW9uVG8oZSxcIlBPUFwiLG8sZnVuY3Rpb24obil7bj91KHthY3Rpb246XCJQT1BcIixsb2NhdGlvbjplLGluZGV4OnR9KTp1KCl9KX12YXIgZz17bGVuZ3RoOmQubGVuZ3RoLGFjdGlvbjpcIlBPUFwiLGxvY2F0aW9uOmRbbF0saW5kZXg6bCxlbnRyaWVzOmQsY3JlYXRlSHJlZjp2LHB1c2g6ZnVuY3Rpb24obix0KXt2YXIgYT1jcmVhdGVMb2NhdGlvbihuLHQsZigpLGcubG9jYXRpb24pO2guY29uZmlybVRyYW5zaXRpb25UbyhhLFwiUFVTSFwiLG8sZnVuY3Rpb24obil7aWYobil7dmFyIHQ9Zy5pbmRleCsxLGU9Zy5lbnRyaWVzLnNsaWNlKDApO2UubGVuZ3RoPnQ/ZS5zcGxpY2UodCxlLmxlbmd0aC10LGEpOmUucHVzaChhKSx1KHthY3Rpb246XCJQVVNIXCIsbG9jYXRpb246YSxpbmRleDp0LGVudHJpZXM6ZX0pfX0pfSxyZXBsYWNlOmZ1bmN0aW9uKG4sdCl7dmFyIGU9XCJSRVBMQUNFXCIsYT1jcmVhdGVMb2NhdGlvbihuLHQsZigpLGcubG9jYXRpb24pO2guY29uZmlybVRyYW5zaXRpb25UbyhhLGUsbyxmdW5jdGlvbihuKXtuJiYoZy5lbnRyaWVzW2cuaW5kZXhdPWEsdSh7YWN0aW9uOmUsbG9jYXRpb246YX0pKX0pfSxnbzpwLGdvQmFjazpmdW5jdGlvbigpe3AoLTEpfSxnb0ZvcndhcmQ6ZnVuY3Rpb24oKXtwKDEpfSxjYW5HbzpmdW5jdGlvbihuKXt2YXIgdD1nLmluZGV4K247cmV0dXJuIDA8PXQmJnQ8Zy5lbnRyaWVzLmxlbmd0aH0sYmxvY2s6ZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PW4mJihuPSExKSxoLnNldFByb21wdChuKX0sbGlzdGVuOmZ1bmN0aW9uKG4pe3JldHVybiBoLmFwcGVuZExpc3RlbmVyKG4pfX07cmV0dXJuIGd9ZXhwb3J0cy5jcmVhdGVCcm93c2VySGlzdG9yeT1jcmVhdGVCcm93c2VySGlzdG9yeSxleHBvcnRzLmNyZWF0ZUhhc2hIaXN0b3J5PWNyZWF0ZUhhc2hIaXN0b3J5LGV4cG9ydHMuY3JlYXRlTWVtb3J5SGlzdG9yeT1jcmVhdGVNZW1vcnlIaXN0b3J5LGV4cG9ydHMuY3JlYXRlTG9jYXRpb249Y3JlYXRlTG9jYXRpb24sZXhwb3J0cy5sb2NhdGlvbnNBcmVFcXVhbD1sb2NhdGlvbnNBcmVFcXVhbCxleHBvcnRzLnBhcnNlUGF0aD1wYXJzZVBhdGgsZXhwb3J0cy5jcmVhdGVQYXRoPWNyZWF0ZVBhdGg7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9oaXN0b3J5Lm1pbi5qcycpO1xyXG59IGVsc2Uge1xyXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvaGlzdG9yeS5qcycpO1xyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbi8qKlxyXG4gKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cclxuICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxyXG4gKi9cclxudmFyIFJFQUNUX1NUQVRJQ1MgPSB7XHJcbiAgICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcclxuICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcclxuICAgIGRlZmF1bHRQcm9wczogdHJ1ZSxcclxuICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxyXG4gICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxyXG4gICAgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzOiB0cnVlLFxyXG4gICAgbWl4aW5zOiB0cnVlLFxyXG4gICAgcHJvcFR5cGVzOiB0cnVlLFxyXG4gICAgdHlwZTogdHJ1ZVxyXG59O1xyXG5cclxudmFyIEtOT1dOX1NUQVRJQ1MgPSB7XHJcbiAgICBuYW1lOiB0cnVlLFxyXG4gICAgbGVuZ3RoOiB0cnVlLFxyXG4gICAgcHJvdG90eXBlOiB0cnVlLFxyXG4gICAgY2FsbGVyOiB0cnVlLFxyXG4gICAgY2FsbGVlOiB0cnVlLFxyXG4gICAgYXJndW1lbnRzOiB0cnVlLFxyXG4gICAgYXJpdHk6IHRydWVcclxufTtcclxuXHJcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcclxudmFyIGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcclxudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XHJcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xyXG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XHJcbnZhciBvYmplY3RQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZiAmJiBnZXRQcm90b3R5cGVPZihPYmplY3QpO1xyXG5cclxuZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQsIGJsYWNrbGlzdCkge1xyXG4gICAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7IC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXHJcblxyXG4gICAgICAgIGlmIChvYmplY3RQcm90b3R5cGUpIHtcclxuICAgICAgICAgICAgdmFyIGluaGVyaXRlZENvbXBvbmVudCA9IGdldFByb3RvdHlwZU9mKHNvdXJjZUNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIGlmIChpbmhlcml0ZWRDb21wb25lbnQgJiYgaW5oZXJpdGVkQ29tcG9uZW50ICE9PSBvYmplY3RQcm90b3R5cGUpIHtcclxuICAgICAgICAgICAgICAgIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgaW5oZXJpdGVkQ29tcG9uZW50LCBibGFja2xpc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgaWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xyXG4gICAgICAgICAgICBrZXlzID0ga2V5cy5jb25jYXQoZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZUNvbXBvbmVudCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgICBpZiAoIVJFQUNUX1NUQVRJQ1Nba2V5XSAmJiAhS05PV05fU1RBVElDU1trZXldICYmICghYmxhY2tsaXN0IHx8ICFibGFja2xpc3Rba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZUNvbXBvbmVudCwga2V5KTtcclxuICAgICAgICAgICAgICAgIHRyeSB7IC8vIEF2b2lkIGZhaWx1cmVzIGZyb20gcmVhZC1vbmx5IHByb3BlcnRpZXNcclxuICAgICAgICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXRDb21wb25lbnQsIGtleSwgZGVzY3JpcHRvcik7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0YXJnZXRDb21wb25lbnQ7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gaG9pc3ROb25SZWFjdFN0YXRpY3M7XHJcbiIsIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cclxuICpcclxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXHJcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG4vKipcclxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxyXG4gKlxyXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xyXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcclxuICogZXhwZWN0aW5nLlxyXG4gKlxyXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxyXG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXHJcbiAqL1xyXG5cclxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XHJcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoIWNvbmRpdGlvbikge1xyXG4gICAgdmFyIGVycm9yO1xyXG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxyXG4gICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcclxuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcclxuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcclxuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXHJcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcclxuICAgICAgKTtcclxuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcclxuICAgIH1cclxuXHJcbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcclxuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcclxufTtcclxuIiwiLy8hIG1vbWVudC5qc1xyXG5cclxuOyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XHJcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XHJcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxyXG4gICAgZ2xvYmFsLm1vbWVudCA9IGZhY3RvcnkoKVxyXG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgaG9va0NhbGxiYWNrO1xyXG5cclxuICAgIGZ1bmN0aW9uIGhvb2tzICgpIHtcclxuICAgICAgICByZXR1cm4gaG9va0NhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGhpcyBpcyBkb25lIHRvIHJlZ2lzdGVyIHRoZSBtZXRob2QgY2FsbGVkIHdpdGggbW9tZW50KClcclxuICAgIC8vIHdpdGhvdXQgY3JlYXRpbmcgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxyXG4gICAgZnVuY3Rpb24gc2V0SG9va0NhbGxiYWNrIChjYWxsYmFjaykge1xyXG4gICAgICAgIGhvb2tDYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHtcclxuICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XHJcbiAgICAgICAgLy8gSUU4IHdpbGwgdHJlYXQgdW5kZWZpbmVkIGFuZCBudWxsIGFzIG9iamVjdCBpZiBpdCB3YXNuJ3QgZm9yXHJcbiAgICAgICAgLy8gaW5wdXQgIT0gbnVsbFxyXG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5sZW5ndGggPT09IDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBrO1xyXG4gICAgICAgICAgICBmb3IgKGsgaW4gb2JqKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc1VuZGVmaW5lZChpbnB1dCkge1xyXG4gICAgICAgIHJldHVybiBpbnB1dCA9PT0gdm9pZCAwO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKGlucHV0KSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNEYXRlKGlucHV0KSB7XHJcbiAgICAgICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRGF0ZSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBEYXRlXSc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbWFwKGFyciwgZm4pIHtcclxuICAgICAgICB2YXIgcmVzID0gW10sIGk7XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICByZXMucHVzaChmbihhcnJbaV0sIGkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYXNPd25Qcm9wKGEsIGIpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGV4dGVuZChhLCBiKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSBpbiBiKSB7XHJcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGIsIGkpKSB7XHJcbiAgICAgICAgICAgICAgICBhW2ldID0gYltpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhhc093blByb3AoYiwgJ3RvU3RyaW5nJykpIHtcclxuICAgICAgICAgICAgYS50b1N0cmluZyA9IGIudG9TdHJpbmc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaGFzT3duUHJvcChiLCAndmFsdWVPZicpKSB7XHJcbiAgICAgICAgICAgIGEudmFsdWVPZiA9IGIudmFsdWVPZjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBhO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgdHJ1ZSkudXRjKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVmYXVsdFBhcnNpbmdGbGFncygpIHtcclxuICAgICAgICAvLyBXZSBuZWVkIHRvIGRlZXAgY2xvbmUgdGhpcyBvYmplY3QuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZW1wdHkgICAgICAgICAgIDogZmFsc2UsXHJcbiAgICAgICAgICAgIHVudXNlZFRva2VucyAgICA6IFtdLFxyXG4gICAgICAgICAgICB1bnVzZWRJbnB1dCAgICAgOiBbXSxcclxuICAgICAgICAgICAgb3ZlcmZsb3cgICAgICAgIDogLTIsXHJcbiAgICAgICAgICAgIGNoYXJzTGVmdE92ZXIgICA6IDAsXHJcbiAgICAgICAgICAgIG51bGxJbnB1dCAgICAgICA6IGZhbHNlLFxyXG4gICAgICAgICAgICBpbnZhbGlkTW9udGggICAgOiBudWxsLFxyXG4gICAgICAgICAgICBpbnZhbGlkRm9ybWF0ICAgOiBmYWxzZSxcclxuICAgICAgICAgICAgdXNlckludmFsaWRhdGVkIDogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzbyAgICAgICAgICAgICA6IGZhbHNlLFxyXG4gICAgICAgICAgICBwYXJzZWREYXRlUGFydHMgOiBbXSxcclxuICAgICAgICAgICAgbWVyaWRpZW0gICAgICAgIDogbnVsbCxcclxuICAgICAgICAgICAgcmZjMjgyMiAgICAgICAgIDogZmFsc2UsXHJcbiAgICAgICAgICAgIHdlZWtkYXlNaXNtYXRjaCA6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRQYXJzaW5nRmxhZ3MobSkge1xyXG4gICAgICAgIGlmIChtLl9wZiA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIG0uX3BmID0gZGVmYXVsdFBhcnNpbmdGbGFncygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbS5fcGY7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNvbWU7XHJcbiAgICBpZiAoQXJyYXkucHJvdG90eXBlLnNvbWUpIHtcclxuICAgICAgICBzb21lID0gQXJyYXkucHJvdG90eXBlLnNvbWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNvbWUgPSBmdW5jdGlvbiAoZnVuKSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xyXG4gICAgICAgICAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSBpbiB0ICYmIGZ1bi5jYWxsKHRoaXMsIHRbaV0sIGksIHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzVmFsaWQobSkge1xyXG4gICAgICAgIGlmIChtLl9pc1ZhbGlkID09IG51bGwpIHtcclxuICAgICAgICAgICAgdmFyIGZsYWdzID0gZ2V0UGFyc2luZ0ZsYWdzKG0pO1xyXG4gICAgICAgICAgICB2YXIgcGFyc2VkUGFydHMgPSBzb21lLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGkgIT0gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBpc05vd1ZhbGlkID0gIWlzTmFOKG0uX2QuZ2V0VGltZSgpKSAmJlxyXG4gICAgICAgICAgICAgICAgZmxhZ3Mub3ZlcmZsb3cgPCAwICYmXHJcbiAgICAgICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiZcclxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkTW9udGggJiZcclxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkV2Vla2RheSAmJlxyXG4gICAgICAgICAgICAgICAgIWZsYWdzLndlZWtkYXlNaXNtYXRjaCAmJlxyXG4gICAgICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxyXG4gICAgICAgICAgICAgICAgIWZsYWdzLmludmFsaWRGb3JtYXQgJiZcclxuICAgICAgICAgICAgICAgICFmbGFncy51c2VySW52YWxpZGF0ZWQgJiZcclxuICAgICAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobS5fc3RyaWN0KSB7XHJcbiAgICAgICAgICAgICAgICBpc05vd1ZhbGlkID0gaXNOb3dWYWxpZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLmNoYXJzTGVmdE92ZXIgPT09IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICBmbGFncy51bnVzZWRUb2tlbnMubGVuZ3RoID09PSAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MuYmlnSG91ciA9PT0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuID09IG51bGwgfHwgIU9iamVjdC5pc0Zyb3plbihtKSkge1xyXG4gICAgICAgICAgICAgICAgbS5faXNWYWxpZCA9IGlzTm93VmFsaWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNOb3dWYWxpZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbS5faXNWYWxpZDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkIChmbGFncykge1xyXG4gICAgICAgIHZhciBtID0gY3JlYXRlVVRDKE5hTik7XHJcbiAgICAgICAgaWYgKGZsYWdzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKGdldFBhcnNpbmdGbGFncyhtKSwgZmxhZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLnVzZXJJbnZhbGlkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQbHVnaW5zIHRoYXQgYWRkIHByb3BlcnRpZXMgc2hvdWxkIGFsc28gYWRkIHRoZSBrZXkgaGVyZSAobnVsbCB2YWx1ZSksXHJcbiAgICAvLyBzbyB3ZSBjYW4gcHJvcGVybHkgY2xvbmUgb3Vyc2VsdmVzLlxyXG4gICAgdmFyIG1vbWVudFByb3BlcnRpZXMgPSBob29rcy5tb21lbnRQcm9wZXJ0aWVzID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gY29weUNvbmZpZyh0bywgZnJvbSkge1xyXG4gICAgICAgIHZhciBpLCBwcm9wLCB2YWw7XHJcblxyXG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNBTW9tZW50T2JqZWN0KSkge1xyXG4gICAgICAgICAgICB0by5faXNBTW9tZW50T2JqZWN0ID0gZnJvbS5faXNBTW9tZW50T2JqZWN0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2kpKSB7XHJcbiAgICAgICAgICAgIHRvLl9pID0gZnJvbS5faTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9mKSkge1xyXG4gICAgICAgICAgICB0by5fZiA9IGZyb20uX2Y7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbCkpIHtcclxuICAgICAgICAgICAgdG8uX2wgPSBmcm9tLl9sO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3N0cmljdCkpIHtcclxuICAgICAgICAgICAgdG8uX3N0cmljdCA9IGZyb20uX3N0cmljdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl90em0pKSB7XHJcbiAgICAgICAgICAgIHRvLl90em0gPSBmcm9tLl90em07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNVVEMpKSB7XHJcbiAgICAgICAgICAgIHRvLl9pc1VUQyA9IGZyb20uX2lzVVRDO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX29mZnNldCkpIHtcclxuICAgICAgICAgICAgdG8uX29mZnNldCA9IGZyb20uX29mZnNldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9wZikpIHtcclxuICAgICAgICAgICAgdG8uX3BmID0gZ2V0UGFyc2luZ0ZsYWdzKGZyb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2xvY2FsZSkpIHtcclxuICAgICAgICAgICAgdG8uX2xvY2FsZSA9IGZyb20uX2xvY2FsZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChtb21lbnRQcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG1vbWVudFByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHByb3AgPSBtb21lbnRQcm9wZXJ0aWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFsID0gZnJvbVtwcm9wXTtcclxuICAgICAgICAgICAgICAgIGlmICghaXNVbmRlZmluZWQodmFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvW3Byb3BdID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdG87XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBNb21lbnQgcHJvdG90eXBlIG9iamVjdFxyXG4gICAgZnVuY3Rpb24gTW9tZW50KGNvbmZpZykge1xyXG4gICAgICAgIGNvcHlDb25maWcodGhpcywgY29uZmlnKTtcclxuICAgICAgICB0aGlzLl9kID0gbmV3IERhdGUoY29uZmlnLl9kICE9IG51bGwgPyBjb25maWcuX2QuZ2V0VGltZSgpIDogTmFOKTtcclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShOYU4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQcmV2ZW50IGluZmluaXRlIGxvb3AgaW4gY2FzZSB1cGRhdGVPZmZzZXQgY3JlYXRlcyBuZXcgbW9tZW50XHJcbiAgICAgICAgLy8gb2JqZWN0cy5cclxuICAgICAgICBpZiAodXBkYXRlSW5Qcm9ncmVzcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzKTtcclxuICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc01vbWVudCAob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE1vbWVudCB8fCAob2JqICE9IG51bGwgJiYgb2JqLl9pc0FNb21lbnRPYmplY3QgIT0gbnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWJzRmxvb3IgKG51bWJlcikge1xyXG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XHJcbiAgICAgICAgICAgIC8vIC0wIC0+IDBcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpIHx8IDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG9JbnQoYXJndW1lbnRGb3JDb2VyY2lvbikge1xyXG4gICAgICAgIHZhciBjb2VyY2VkTnVtYmVyID0gK2FyZ3VtZW50Rm9yQ29lcmNpb24sXHJcbiAgICAgICAgICAgIHZhbHVlID0gMDtcclxuXHJcbiAgICAgICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBhYnNGbG9vcihjb2VyY2VkTnVtYmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb21wYXJlIHR3byBhcnJheXMsIHJldHVybiB0aGUgbnVtYmVyIG9mIGRpZmZlcmVuY2VzXHJcbiAgICBmdW5jdGlvbiBjb21wYXJlQXJyYXlzKGFycmF5MSwgYXJyYXkyLCBkb250Q29udmVydCkge1xyXG4gICAgICAgIHZhciBsZW4gPSBNYXRoLm1pbihhcnJheTEubGVuZ3RoLCBhcnJheTIubGVuZ3RoKSxcclxuICAgICAgICAgICAgbGVuZ3RoRGlmZiA9IE1hdGguYWJzKGFycmF5MS5sZW5ndGggLSBhcnJheTIubGVuZ3RoKSxcclxuICAgICAgICAgICAgZGlmZnMgPSAwLFxyXG4gICAgICAgICAgICBpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoKGRvbnRDb252ZXJ0ICYmIGFycmF5MVtpXSAhPT0gYXJyYXkyW2ldKSB8fFxyXG4gICAgICAgICAgICAgICAgKCFkb250Q29udmVydCAmJiB0b0ludChhcnJheTFbaV0pICE9PSB0b0ludChhcnJheTJbaV0pKSkge1xyXG4gICAgICAgICAgICAgICAgZGlmZnMrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGlmZnMgKyBsZW5ndGhEaWZmO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHdhcm4obXNnKSB7XHJcbiAgICAgICAgaWYgKGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiZcclxuICAgICAgICAgICAgICAgICh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiB3YXJuaW5nOiAnICsgbXNnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVwcmVjYXRlKG1zZywgZm4pIHtcclxuICAgICAgICB2YXIgZmlyc3RUaW1lID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyKG51bGwsIG1zZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZpcnN0VGltZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBhcmc7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzW2ldID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgKz0gJ1xcblsnICsgaSArICddICc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhcmd1bWVudHNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZyArPSBrZXkgKyAnOiAnICsgYXJndW1lbnRzWzBdW2tleV0gKyAnLCAnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZy5zbGljZSgwLCAtMik7IC8vIFJlbW92ZSB0cmFpbGluZyBjb21tYSBhbmQgc3BhY2VcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChhcmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgd2Fybihtc2cgKyAnXFxuQXJndW1lbnRzOiAnICsgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncykuam9pbignJykgKyAnXFxuJyArIChuZXcgRXJyb3IoKSkuc3RhY2spO1xyXG4gICAgICAgICAgICAgICAgZmlyc3RUaW1lID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfSwgZm4pO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkZXByZWNhdGlvbnMgPSB7fTtcclxuXHJcbiAgICBmdW5jdGlvbiBkZXByZWNhdGVTaW1wbGUobmFtZSwgbXNnKSB7XHJcbiAgICAgICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihuYW1lLCBtc2cpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWRlcHJlY2F0aW9uc1tuYW1lXSkge1xyXG4gICAgICAgICAgICB3YXJuKG1zZyk7XHJcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uc1tuYW1lXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9IGZhbHNlO1xyXG4gICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyID0gbnVsbDtcclxuXHJcbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKGlucHV0KSB7XHJcbiAgICAgICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRnVuY3Rpb24gfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXQgKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBwcm9wLCBpO1xyXG4gICAgICAgIGZvciAoaSBpbiBjb25maWcpIHtcclxuICAgICAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTtcclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXNbaV0gPSBwcm9wO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpc1snXycgKyBpXSA9IHByb3A7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xyXG4gICAgICAgIC8vIExlbmllbnQgb3JkaW5hbCBwYXJzaW5nIGFjY2VwdHMganVzdCBhIG51bWJlciBpbiBhZGRpdGlvbiB0b1xyXG4gICAgICAgIC8vIG51bWJlciArIChwb3NzaWJseSkgc3R1ZmYgY29taW5nIGZyb20gX2RheU9mTW9udGhPcmRpbmFsUGFyc2UuXHJcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIFwib3JkaW5hbFBhcnNlXCIgZmFsbGJhY2sgaW4gbmV4dCBtYWpvciByZWxlYXNlLlxyXG4gICAgICAgIHRoaXMuX2RheU9mTW9udGhPcmRpbmFsUGFyc2VMZW5pZW50ID0gbmV3IFJlZ0V4cChcclxuICAgICAgICAgICAgKHRoaXMuX2RheU9mTW9udGhPcmRpbmFsUGFyc2Uuc291cmNlIHx8IHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UpICtcclxuICAgICAgICAgICAgICAgICd8JyArICgvXFxkezEsMn0vKS5zb3VyY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNoaWxkQ29uZmlnKSB7XHJcbiAgICAgICAgdmFyIHJlcyA9IGV4dGVuZCh7fSwgcGFyZW50Q29uZmlnKSwgcHJvcDtcclxuICAgICAgICBmb3IgKHByb3AgaW4gY2hpbGRDb25maWcpIHtcclxuICAgICAgICAgICAgaWYgKGhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3QocGFyZW50Q29uZmlnW3Byb3BdKSAmJiBpc09iamVjdChjaGlsZENvbmZpZ1twcm9wXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBwYXJlbnRDb25maWdbcHJvcF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZChyZXNbcHJvcF0sIGNoaWxkQ29uZmlnW3Byb3BdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRDb25maWdbcHJvcF0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IGNoaWxkQ29uZmlnW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJvcCBpbiBwYXJlbnRDb25maWcpIHtcclxuICAgICAgICAgICAgaWYgKGhhc093blByb3AocGFyZW50Q29uZmlnLCBwcm9wKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGlzT2JqZWN0KHBhcmVudENvbmZpZ1twcm9wXSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBjaGFuZ2VzIHRvIHByb3BlcnRpZXMgZG9uJ3QgbW9kaWZ5IHBhcmVudCBjb25maWdcclxuICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IGV4dGVuZCh7fSwgcmVzW3Byb3BdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIExvY2FsZShjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXQoY29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGtleXM7XHJcblxyXG4gICAgaWYgKE9iamVjdC5rZXlzKSB7XHJcbiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBrZXlzID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICB2YXIgaSwgcmVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAoaSBpbiBvYmopIHtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKG9iaiwgaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMucHVzaChpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRlZmF1bHRDYWxlbmRhciA9IHtcclxuICAgICAgICBzYW1lRGF5IDogJ1tUb2RheSBhdF0gTFQnLFxyXG4gICAgICAgIG5leHREYXkgOiAnW1RvbW9ycm93IGF0XSBMVCcsXHJcbiAgICAgICAgbmV4dFdlZWsgOiAnZGRkZCBbYXRdIExUJyxcclxuICAgICAgICBsYXN0RGF5IDogJ1tZZXN0ZXJkYXkgYXRdIExUJyxcclxuICAgICAgICBsYXN0V2VlayA6ICdbTGFzdF0gZGRkZCBbYXRdIExUJyxcclxuICAgICAgICBzYW1lRWxzZSA6ICdMJ1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjYWxlbmRhciAoa2V5LCBtb20sIG5vdykge1xyXG4gICAgICAgIHZhciBvdXRwdXQgPSB0aGlzLl9jYWxlbmRhcltrZXldIHx8IHRoaXMuX2NhbGVuZGFyWydzYW1lRWxzZSddO1xyXG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG91dHB1dCkgPyBvdXRwdXQuY2FsbChtb20sIG5vdykgOiBvdXRwdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHtcclxuICAgICAgICBMVFMgIDogJ2g6bW06c3MgQScsXHJcbiAgICAgICAgTFQgICA6ICdoOm1tIEEnLFxyXG4gICAgICAgIEwgICAgOiAnTU0vREQvWVlZWScsXHJcbiAgICAgICAgTEwgICA6ICdNTU1NIEQsIFlZWVknLFxyXG4gICAgICAgIExMTCAgOiAnTU1NTSBELCBZWVlZIGg6bW0gQScsXHJcbiAgICAgICAgTExMTCA6ICdkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBJ1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBsb25nRGF0ZUZvcm1hdCAoa2V5KSB7XHJcbiAgICAgICAgdmFyIGZvcm1hdCA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0sXHJcbiAgICAgICAgICAgIGZvcm1hdFVwcGVyID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5LnRvVXBwZXJDYXNlKCldO1xyXG5cclxuICAgICAgICBpZiAoZm9ybWF0IHx8ICFmb3JtYXRVcHBlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSA9IGZvcm1hdFVwcGVyLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLCBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWwuc2xpY2UoMSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkZWZhdWx0SW52YWxpZERhdGUgPSAnSW52YWxpZCBkYXRlJztcclxuXHJcbiAgICBmdW5jdGlvbiBpbnZhbGlkRGF0ZSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludmFsaWREYXRlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkZWZhdWx0T3JkaW5hbCA9ICclZCc7XHJcbiAgICB2YXIgZGVmYXVsdERheU9mTW9udGhPcmRpbmFsUGFyc2UgPSAvXFxkezEsMn0vO1xyXG5cclxuICAgIGZ1bmN0aW9uIG9yZGluYWwgKG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vcmRpbmFsLnJlcGxhY2UoJyVkJywgbnVtYmVyKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGVmYXVsdFJlbGF0aXZlVGltZSA9IHtcclxuICAgICAgICBmdXR1cmUgOiAnaW4gJXMnLFxyXG4gICAgICAgIHBhc3QgICA6ICclcyBhZ28nLFxyXG4gICAgICAgIHMgIDogJ2EgZmV3IHNlY29uZHMnLFxyXG4gICAgICAgIHNzIDogJyVkIHNlY29uZHMnLFxyXG4gICAgICAgIG0gIDogJ2EgbWludXRlJyxcclxuICAgICAgICBtbSA6ICclZCBtaW51dGVzJyxcclxuICAgICAgICBoICA6ICdhbiBob3VyJyxcclxuICAgICAgICBoaCA6ICclZCBob3VycycsXHJcbiAgICAgICAgZCAgOiAnYSBkYXknLFxyXG4gICAgICAgIGRkIDogJyVkIGRheXMnLFxyXG4gICAgICAgIE0gIDogJ2EgbW9udGgnLFxyXG4gICAgICAgIE1NIDogJyVkIG1vbnRocycsXHJcbiAgICAgICAgeSAgOiAnYSB5ZWFyJyxcclxuICAgICAgICB5eSA6ICclZCB5ZWFycydcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gcmVsYXRpdmVUaW1lIChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIHtcclxuICAgICAgICB2YXIgb3V0cHV0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW3N0cmluZ107XHJcbiAgICAgICAgcmV0dXJuIChpc0Z1bmN0aW9uKG91dHB1dCkpID9cclxuICAgICAgICAgICAgb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkgOlxyXG4gICAgICAgICAgICBvdXRwdXQucmVwbGFjZSgvJWQvaSwgbnVtYmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXN0RnV0dXJlIChkaWZmLCBvdXRwdXQpIHtcclxuICAgICAgICB2YXIgZm9ybWF0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW2RpZmYgPiAwID8gJ2Z1dHVyZScgOiAncGFzdCddO1xyXG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKGZvcm1hdCkgPyBmb3JtYXQob3V0cHV0KSA6IGZvcm1hdC5yZXBsYWNlKC8lcy9pLCBvdXRwdXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBhbGlhc2VzID0ge307XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkVW5pdEFsaWFzICh1bml0LCBzaG9ydGhhbmQpIHtcclxuICAgICAgICB2YXIgbG93ZXJDYXNlID0gdW5pdC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGFsaWFzZXNbbG93ZXJDYXNlXSA9IGFsaWFzZXNbbG93ZXJDYXNlICsgJ3MnXSA9IGFsaWFzZXNbc2hvcnRoYW5kXSA9IHVuaXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplVW5pdHModW5pdHMpIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIHVuaXRzID09PSAnc3RyaW5nJyA/IGFsaWFzZXNbdW5pdHNdIHx8IGFsaWFzZXNbdW5pdHMudG9Mb3dlckNhc2UoKV0gOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplT2JqZWN0VW5pdHMoaW5wdXRPYmplY3QpIHtcclxuICAgICAgICB2YXIgbm9ybWFsaXplZElucHV0ID0ge30sXHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wLFxyXG4gICAgICAgICAgICBwcm9wO1xyXG5cclxuICAgICAgICBmb3IgKHByb3AgaW4gaW5wdXRPYmplY3QpIHtcclxuICAgICAgICAgICAgaWYgKGhhc093blByb3AoaW5wdXRPYmplY3QsIHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUHJvcCA9IG5vcm1hbGl6ZVVuaXRzKHByb3ApO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZElucHV0W25vcm1hbGl6ZWRQcm9wXSA9IGlucHV0T2JqZWN0W3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZElucHV0O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBwcmlvcml0aWVzID0ge307XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkVW5pdFByaW9yaXR5KHVuaXQsIHByaW9yaXR5KSB7XHJcbiAgICAgICAgcHJpb3JpdGllc1t1bml0XSA9IHByaW9yaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFByaW9yaXRpemVkVW5pdHModW5pdHNPYmopIHtcclxuICAgICAgICB2YXIgdW5pdHMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciB1IGluIHVuaXRzT2JqKSB7XHJcbiAgICAgICAgICAgIHVuaXRzLnB1c2goe3VuaXQ6IHUsIHByaW9yaXR5OiBwcmlvcml0aWVzW3VdfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVuaXRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEucHJpb3JpdHkgLSBiLnByaW9yaXR5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB1bml0cztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB6ZXJvRmlsbChudW1iZXIsIHRhcmdldExlbmd0aCwgZm9yY2VTaWduKSB7XHJcbiAgICAgICAgdmFyIGFic051bWJlciA9ICcnICsgTWF0aC5hYnMobnVtYmVyKSxcclxuICAgICAgICAgICAgemVyb3NUb0ZpbGwgPSB0YXJnZXRMZW5ndGggLSBhYnNOdW1iZXIubGVuZ3RoLFxyXG4gICAgICAgICAgICBzaWduID0gbnVtYmVyID49IDA7XHJcbiAgICAgICAgcmV0dXJuIChzaWduID8gKGZvcmNlU2lnbiA/ICcrJyA6ICcnKSA6ICctJykgK1xyXG4gICAgICAgICAgICBNYXRoLnBvdygxMCwgTWF0aC5tYXgoMCwgemVyb3NUb0ZpbGwpKS50b1N0cmluZygpLnN1YnN0cigxKSArIGFic051bWJlcjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhbSGhdbW0oc3MpP3xNb3xNTT9NP00/fERvfERERG98REQ/RD9EP3xkZGQ/ZD98ZG8/fHdbb3x3XT98V1tvfFddP3xRbz98WVlZWVlZfFlZWVlZfFlZWVl8WVl8Z2coZ2dnPyk/fEdHKEdHRz8pP3xlfEV8YXxBfGhoP3xISD98a2s/fG1tP3xzcz98U3sxLDl9fHh8WHx6ej98Wlo/fC4pL2c7XHJcblxyXG4gICAgdmFyIGxvY2FsRm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhMVFN8TFR8TEw/TD9MP3xsezEsNH0pL2c7XHJcblxyXG4gICAgdmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHt9O1xyXG5cclxuICAgIHZhciBmb3JtYXRUb2tlbkZ1bmN0aW9ucyA9IHt9O1xyXG5cclxuICAgIC8vIHRva2VuOiAgICAnTSdcclxuICAgIC8vIHBhZGRlZDogICBbJ01NJywgMl1cclxuICAgIC8vIG9yZGluYWw6ICAnTW8nXHJcbiAgICAvLyBjYWxsYmFjazogZnVuY3Rpb24gKCkgeyB0aGlzLm1vbnRoKCkgKyAxIH1cclxuICAgIGZ1bmN0aW9uIGFkZEZvcm1hdFRva2VuICh0b2tlbiwgcGFkZGVkLCBvcmRpbmFsLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBmdW5jID0gY2FsbGJhY2s7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgZnVuYyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2NhbGxiYWNrXSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dID0gZnVuYztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhZGRlZCkge1xyXG4gICAgICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1twYWRkZWRbMF1dID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHplcm9GaWxsKGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgcGFkZGVkWzFdLCBwYWRkZWRbMl0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3JkaW5hbCkge1xyXG4gICAgICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1tvcmRpbmFsXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5vcmRpbmFsKGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgdG9rZW4pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7XHJcbiAgICAgICAgaWYgKGlucHV0Lm1hdGNoKC9cXFtbXFxzXFxTXS8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9eXFxbfFxcXSQvZywgJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXFxcXC9nLCAnJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCkge1xyXG4gICAgICAgIHZhciBhcnJheSA9IGZvcm1hdC5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSwgaSwgbGVuZ3RoO1xyXG5cclxuICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dKSB7XHJcbiAgICAgICAgICAgICAgICBhcnJheVtpXSA9IGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFycmF5W2ldID0gcmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhhcnJheVtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAobW9tKSB7XHJcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSAnJywgaTtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gaXNGdW5jdGlvbihhcnJheVtpXSkgPyBhcnJheVtpXS5jYWxsKG1vbSwgZm9ybWF0KSA6IGFycmF5W2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBmb3JtYXQgZGF0ZSB1c2luZyBuYXRpdmUgZGF0ZSBvYmplY3RcclxuICAgIGZ1bmN0aW9uIGZvcm1hdE1vbWVudChtLCBmb3JtYXQpIHtcclxuICAgICAgICBpZiAoIW0uaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9ybWF0ID0gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbS5sb2NhbGVEYXRhKCkpO1xyXG4gICAgICAgIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdID0gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gfHwgbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCk7XHJcblxyXG4gICAgICAgIHJldHVybiBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XShtKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBleHBhbmRGb3JtYXQoZm9ybWF0LCBsb2NhbGUpIHtcclxuICAgICAgICB2YXIgaSA9IDU7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyhpbnB1dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlLmxvbmdEYXRlRm9ybWF0KGlucHV0KSB8fCBpbnB1dDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xyXG4gICAgICAgIHdoaWxlIChpID49IDAgJiYgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLnRlc3QoZm9ybWF0KSkge1xyXG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShsb2NhbEZvcm1hdHRpbmdUb2tlbnMsIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2Vucyk7XHJcbiAgICAgICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xyXG4gICAgICAgICAgICBpIC09IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZm9ybWF0O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBtYXRjaDEgICAgICAgICA9IC9cXGQvOyAgICAgICAgICAgIC8vICAgICAgIDAgLSA5XHJcbiAgICB2YXIgbWF0Y2gyICAgICAgICAgPSAvXFxkXFxkLzsgICAgICAgICAgLy8gICAgICAwMCAtIDk5XHJcbiAgICB2YXIgbWF0Y2gzICAgICAgICAgPSAvXFxkezN9LzsgICAgICAgICAvLyAgICAgMDAwIC0gOTk5XHJcbiAgICB2YXIgbWF0Y2g0ICAgICAgICAgPSAvXFxkezR9LzsgICAgICAgICAvLyAgICAwMDAwIC0gOTk5OVxyXG4gICAgdmFyIG1hdGNoNiAgICAgICAgID0gL1srLV0/XFxkezZ9LzsgICAgLy8gLTk5OTk5OSAtIDk5OTk5OVxyXG4gICAgdmFyIG1hdGNoMXRvMiAgICAgID0gL1xcZFxcZD8vOyAgICAgICAgIC8vICAgICAgIDAgLSA5OVxyXG4gICAgdmFyIG1hdGNoM3RvNCAgICAgID0gL1xcZFxcZFxcZFxcZD8vOyAgICAgLy8gICAgIDk5OSAtIDk5OTlcclxuICAgIHZhciBtYXRjaDV0bzYgICAgICA9IC9cXGRcXGRcXGRcXGRcXGRcXGQ/LzsgLy8gICA5OTk5OSAtIDk5OTk5OVxyXG4gICAgdmFyIG1hdGNoMXRvMyAgICAgID0gL1xcZHsxLDN9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OVxyXG4gICAgdmFyIG1hdGNoMXRvNCAgICAgID0gL1xcZHsxLDR9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OTlcclxuICAgIHZhciBtYXRjaDF0bzYgICAgICA9IC9bKy1dP1xcZHsxLDZ9LzsgIC8vIC05OTk5OTkgLSA5OTk5OTlcclxuXHJcbiAgICB2YXIgbWF0Y2hVbnNpZ25lZCAgPSAvXFxkKy87ICAgICAgICAgICAvLyAgICAgICAwIC0gaW5mXHJcbiAgICB2YXIgbWF0Y2hTaWduZWQgICAgPSAvWystXT9cXGQrLzsgICAgICAvLyAgICAtaW5mIC0gaW5mXHJcblxyXG4gICAgdmFyIG1hdGNoT2Zmc2V0ICAgID0gL1p8WystXVxcZFxcZDo/XFxkXFxkL2dpOyAvLyArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcclxuICAgIHZhciBtYXRjaFNob3J0T2Zmc2V0ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vZ2k7IC8vICswMCAtMDAgKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXHJcblxyXG4gICAgdmFyIG1hdGNoVGltZXN0YW1wID0gL1srLV0/XFxkKyhcXC5cXGR7MSwzfSk/LzsgLy8gMTIzNDU2Nzg5IDEyMzQ1Njc4OS4xMjNcclxuXHJcbiAgICAvLyBhbnkgd29yZCAob3IgdHdvKSBjaGFyYWN0ZXJzIG9yIG51bWJlcnMgaW5jbHVkaW5nIHR3by90aHJlZSB3b3JkIG1vbnRoIGluIGFyYWJpYy5cclxuICAgIC8vIGluY2x1ZGVzIHNjb3R0aXNoIGdhZWxpYyB0d28gd29yZCBhbmQgaHlwaGVuYXRlZCBtb250aHNcclxuICAgIHZhciBtYXRjaFdvcmQgPSAvWzAtOV17MCwyNTZ9WydhLXpcXHUwMEEwLVxcdTA1RkZcXHUwNzAwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGMDdcXHVGRjEwLVxcdUZGRUZdezEsMjU2fXxbXFx1MDYwMC1cXHUwNkZGXFwvXXsxLDI1Nn0oXFxzKj9bXFx1MDYwMC1cXHUwNkZGXXsxLDI1Nn0pezEsMn0vaTtcclxuXHJcbiAgICB2YXIgcmVnZXhlcyA9IHt9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFJlZ2V4VG9rZW4gKHRva2VuLCByZWdleCwgc3RyaWN0UmVnZXgpIHtcclxuICAgICAgICByZWdleGVzW3Rva2VuXSA9IGlzRnVuY3Rpb24ocmVnZXgpID8gcmVnZXggOiBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZURhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChpc1N0cmljdCAmJiBzdHJpY3RSZWdleCkgPyBzdHJpY3RSZWdleCA6IHJlZ2V4O1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UGFyc2VSZWdleEZvclRva2VuICh0b2tlbiwgY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHJlZ2V4ZXMsIHRva2VuKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh1bmVzY2FwZUZvcm1hdCh0b2tlbikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlZ2V4ZXNbdG9rZW5dKGNvbmZpZy5fc3RyaWN0LCBjb25maWcuX2xvY2FsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29kZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzU2MTQ5My9pcy10aGVyZS1hLXJlZ2V4cC1lc2NhcGUtZnVuY3Rpb24taW4tamF2YXNjcmlwdFxyXG4gICAgZnVuY3Rpb24gdW5lc2NhcGVGb3JtYXQocykge1xyXG4gICAgICAgIHJldHVybiByZWdleEVzY2FwZShzLnJlcGxhY2UoJ1xcXFwnLCAnJykucmVwbGFjZSgvXFxcXChcXFspfFxcXFwoXFxdKXxcXFsoW15cXF1cXFtdKilcXF18XFxcXCguKS9nLCBmdW5jdGlvbiAobWF0Y2hlZCwgcDEsIHAyLCBwMywgcDQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHAxIHx8IHAyIHx8IHAzIHx8IHA0O1xyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZWdleEVzY2FwZShzKSB7XHJcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRva2VucyA9IHt9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFBhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBpLCBmdW5jID0gY2FsbGJhY2s7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgdG9rZW4gPSBbdG9rZW5dO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNOdW1iZXIoY2FsbGJhY2spKSB7XHJcbiAgICAgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBhcnJheVtjYWxsYmFja10gPSB0b0ludChpbnB1dCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0b2tlbnNbdG9rZW5baV1dID0gZnVuYztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkV2Vla1BhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcclxuICAgICAgICAgICAgY29uZmlnLl93ID0gY29uZmlnLl93IHx8IHt9O1xyXG4gICAgICAgICAgICBjYWxsYmFjayhpbnB1dCwgY29uZmlnLl93LCBjb25maWcsIHRva2VuKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgaW5wdXQsIGNvbmZpZykge1xyXG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsICYmIGhhc093blByb3AodG9rZW5zLCB0b2tlbikpIHtcclxuICAgICAgICAgICAgdG9rZW5zW3Rva2VuXShpbnB1dCwgY29uZmlnLl9hLCBjb25maWcsIHRva2VuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIFlFQVIgPSAwO1xyXG4gICAgdmFyIE1PTlRIID0gMTtcclxuICAgIHZhciBEQVRFID0gMjtcclxuICAgIHZhciBIT1VSID0gMztcclxuICAgIHZhciBNSU5VVEUgPSA0O1xyXG4gICAgdmFyIFNFQ09ORCA9IDU7XHJcbiAgICB2YXIgTUlMTElTRUNPTkQgPSA2O1xyXG4gICAgdmFyIFdFRUsgPSA3O1xyXG4gICAgdmFyIFdFRUtEQVkgPSA4O1xyXG5cclxuICAgIC8vIEZPUk1BVFRJTkdcclxuXHJcbiAgICBhZGRGb3JtYXRUb2tlbignWScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgeSA9IHRoaXMueWVhcigpO1xyXG4gICAgICAgIHJldHVybiB5IDw9IDk5OTkgPyAnJyArIHkgOiAnKycgKyB5O1xyXG4gICAgfSk7XHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWScsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueWVhcigpICUgMTAwO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZJywgICA0XSwgICAgICAgMCwgJ3llYXInKTtcclxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVknLCAgNV0sICAgICAgIDAsICd5ZWFyJyk7XHJcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZWScsIDYsIHRydWVdLCAwLCAneWVhcicpO1xyXG5cclxuICAgIC8vIEFMSUFTRVNcclxuXHJcbiAgICBhZGRVbml0QWxpYXMoJ3llYXInLCAneScpO1xyXG5cclxuICAgIC8vIFBSSU9SSVRJRVNcclxuXHJcbiAgICBhZGRVbml0UHJpb3JpdHkoJ3llYXInLCAxKTtcclxuXHJcbiAgICAvLyBQQVJTSU5HXHJcblxyXG4gICAgYWRkUmVnZXhUb2tlbignWScsICAgICAgbWF0Y2hTaWduZWQpO1xyXG4gICAgYWRkUmVnZXhUb2tlbignWVknLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xyXG4gICAgYWRkUmVnZXhUb2tlbignWVlZWScsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xyXG4gICAgYWRkUmVnZXhUb2tlbignWVlZWVknLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xyXG4gICAgYWRkUmVnZXhUb2tlbignWVlZWVlZJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xyXG5cclxuICAgIGFkZFBhcnNlVG9rZW4oWydZWVlZWScsICdZWVlZWVknXSwgWUVBUik7XHJcbiAgICBhZGRQYXJzZVRva2VuKCdZWVlZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xyXG4gICAgICAgIGFycmF5W1lFQVJdID0gaW5wdXQubGVuZ3RoID09PSAyID8gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpIDogdG9JbnQoaW5wdXQpO1xyXG4gICAgfSk7XHJcbiAgICBhZGRQYXJzZVRva2VuKCdZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcclxuICAgICAgICBhcnJheVtZRUFSXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcclxuICAgIH0pO1xyXG4gICAgYWRkUGFyc2VUb2tlbignWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcclxuICAgICAgICBhcnJheVtZRUFSXSA9IHBhcnNlSW50KGlucHV0LCAxMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBIRUxQRVJTXHJcblxyXG4gICAgZnVuY3Rpb24gZGF5c0luWWVhcih5ZWFyKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzTGVhcFllYXIoeWVhcikgPyAzNjYgOiAzNjU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKSB7XHJcbiAgICAgICAgcmV0dXJuICh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEhPT0tTXHJcblxyXG4gICAgaG9va3MucGFyc2VUd29EaWdpdFllYXIgPSBmdW5jdGlvbiAoaW5wdXQpIHtcclxuICAgICAgICByZXR1cm4gdG9JbnQoaW5wdXQpICsgKHRvSW50KGlucHV0KSA+IDY4ID8gMTkwMCA6IDIwMDApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBNT01FTlRTXHJcblxyXG4gICAgdmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIHRydWUpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldElzTGVhcFllYXIgKCkge1xyXG4gICAgICAgIHJldHVybiBpc0xlYXBZZWFyKHRoaXMueWVhcigpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYWtlR2V0U2V0ICh1bml0LCBrZWVwVGltZSkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHNldCQxKHRoaXMsIHVuaXQsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCBrZWVwVGltZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXQodGhpcywgdW5pdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldCAobW9tLCB1bml0KSB7XHJcbiAgICAgICAgcmV0dXJuIG1vbS5pc1ZhbGlkKCkgP1xyXG4gICAgICAgICAgICBtb20uX2RbJ2dldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0oKSA6IE5hTjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXQkMSAobW9tLCB1bml0LCB2YWx1ZSkge1xyXG4gICAgICAgIGlmIChtb20uaXNWYWxpZCgpICYmICFpc05hTih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgaWYgKHVuaXQgPT09ICdGdWxsWWVhcicgJiYgaXNMZWFwWWVhcihtb20ueWVhcigpKSAmJiBtb20ubW9udGgoKSA9PT0gMSAmJiBtb20uZGF0ZSgpID09PSAyOSkge1xyXG4gICAgICAgICAgICAgICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKHZhbHVlLCBtb20ubW9udGgoKSwgZGF5c0luTW9udGgodmFsdWUsIG1vbS5tb250aCgpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE1PTUVOVFNcclxuXHJcbiAgICBmdW5jdGlvbiBzdHJpbmdHZXQgKHVuaXRzKSB7XHJcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gc3RyaW5nU2V0ICh1bml0cywgdmFsdWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHVuaXRzID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKHVuaXRzKTtcclxuICAgICAgICAgICAgdmFyIHByaW9yaXRpemVkID0gZ2V0UHJpb3JpdGl6ZWRVbml0cyh1bml0cyk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJpb3JpdGl6ZWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXNbcHJpb3JpdGl6ZWRbaV0udW5pdF0odW5pdHNbcHJpb3JpdGl6ZWRbaV0udW5pdF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb2QobiwgeCkge1xyXG4gICAgICAgIHJldHVybiAoKG4gJSB4KSArIHgpICUgeDtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgaW5kZXhPZjtcclxuXHJcbiAgICBpZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcclxuICAgICAgICBpbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2Y7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGluZGV4T2YgPSBmdW5jdGlvbiAobykge1xyXG4gICAgICAgICAgICAvLyBJIGtub3dcclxuICAgICAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1tpXSA9PT0gbykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XHJcbiAgICAgICAgaWYgKGlzTmFOKHllYXIpIHx8IGlzTmFOKG1vbnRoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gTmFOO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbW9kTW9udGggPSBtb2QobW9udGgsIDEyKTtcclxuICAgICAgICB5ZWFyICs9IChtb250aCAtIG1vZE1vbnRoKSAvIDEyO1xyXG4gICAgICAgIHJldHVybiBtb2RNb250aCA9PT0gMSA/IChpc0xlYXBZZWFyKHllYXIpID8gMjkgOiAyOCkgOiAoMzEgLSBtb2RNb250aCAlIDcgJSAyKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGT1JNQVRUSU5HXHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oJ00nLCBbJ01NJywgMl0sICdNbycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb250aCgpICsgMTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFkZEZvcm1hdFRva2VuKCdNTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRoc1Nob3J0KHRoaXMsIGZvcm1hdCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhZGRGb3JtYXRUb2tlbignTU1NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBTElBU0VTXHJcblxyXG4gICAgYWRkVW5pdEFsaWFzKCdtb250aCcsICdNJyk7XHJcblxyXG4gICAgLy8gUFJJT1JJVFlcclxuXHJcbiAgICBhZGRVbml0UHJpb3JpdHkoJ21vbnRoJywgOCk7XHJcblxyXG4gICAgLy8gUEFSU0lOR1xyXG5cclxuICAgIGFkZFJlZ2V4VG9rZW4oJ00nLCAgICBtYXRjaDF0bzIpO1xyXG4gICAgYWRkUmVnZXhUb2tlbignTU0nLCAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ01NTScsICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xyXG4gICAgICAgIHJldHVybiBsb2NhbGUubW9udGhzU2hvcnRSZWdleChpc1N0cmljdCk7XHJcbiAgICB9KTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ01NTU0nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xyXG4gICAgICAgIHJldHVybiBsb2NhbGUubW9udGhzUmVnZXgoaXNTdHJpY3QpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYWRkUGFyc2VUb2tlbihbJ00nLCAnTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xyXG4gICAgICAgIGFycmF5W01PTlRIXSA9IHRvSW50KGlucHV0KSAtIDE7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhZGRQYXJzZVRva2VuKFsnTU1NJywgJ01NTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xyXG4gICAgICAgIHZhciBtb250aCA9IGNvbmZpZy5fbG9jYWxlLm1vbnRoc1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xyXG4gICAgICAgIC8vIGlmIHdlIGRpZG4ndCBmaW5kIGEgbW9udGggbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkLlxyXG4gICAgICAgIGlmIChtb250aCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGFycmF5W01PTlRIXSA9IG1vbnRoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRNb250aCA9IGlucHV0O1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIExPQ0FMRVNcclxuXHJcbiAgICB2YXIgTU9OVEhTX0lOX0ZPUk1BVCA9IC9EW29EXT8oXFxbW15cXFtcXF1dKlxcXXxcXHMpK01NTU0/LztcclxuICAgIHZhciBkZWZhdWx0TG9jYWxlTW9udGhzID0gJ0phbnVhcnlfRmVicnVhcnlfTWFyY2hfQXByaWxfTWF5X0p1bmVfSnVseV9BdWd1c3RfU2VwdGVtYmVyX09jdG9iZXJfTm92ZW1iZXJfRGVjZW1iZXInLnNwbGl0KCdfJyk7XHJcbiAgICBmdW5jdGlvbiBsb2NhbGVNb250aHMgKG0sIGZvcm1hdCkge1xyXG4gICAgICAgIGlmICghbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHMpID8gdGhpcy5fbW9udGhzIDpcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1snc3RhbmRhbG9uZSddO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHMpID8gdGhpcy5fbW9udGhzW20ubW9udGgoKV0gOlxyXG4gICAgICAgICAgICB0aGlzLl9tb250aHNbKHRoaXMuX21vbnRocy5pc0Zvcm1hdCB8fCBNT05USFNfSU5fRk9STUFUKS50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ11bbS5tb250aCgpXTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0ID0gJ0phbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjJy5zcGxpdCgnXycpO1xyXG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzU2hvcnQgKG0sIGZvcm1hdCkge1xyXG4gICAgICAgIGlmICghbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHNTaG9ydCkgPyB0aGlzLl9tb250aHNTaG9ydCA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFsnc3RhbmRhbG9uZSddO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHNTaG9ydCkgPyB0aGlzLl9tb250aHNTaG9ydFttLm1vbnRoKCldIDpcclxuICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRbTU9OVEhTX0lOX0ZPUk1BVC50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ11bbS5tb250aCgpXTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZShtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XHJcbiAgICAgICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcclxuICAgICAgICAgICAgLy8gdGhpcyBpcyBub3QgdXNlZFxyXG4gICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN0cmljdCkge1xyXG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xyXG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ01NTScpIHtcclxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcclxuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsb2NhbGVNb250aHNQYXJzZSAobW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xyXG4gICAgICAgIHZhciBpLCBtb20sIHJlZ2V4O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UuY2FsbCh0aGlzLCBtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2UgPSBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGFkZCBzb3J0aW5nXHJcbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlclxyXG4gICAgICAgIC8vIHNlZSBzb3J0aW5nIGluIGNvbXB1dGVNb250aHNQYXJzZVxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxyXG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcclxuICAgICAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgIXRoaXMuX21vbnRoc1BhcnNlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxyXG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTU0nICYmIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU0nICYmIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX21vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTU9NRU5UU1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldE1vbnRoIChtb20sIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGRheU9mTW9udGg7XHJcblxyXG4gICAgICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICAvLyBObyBvcFxyXG4gICAgICAgICAgICByZXR1cm4gbW9tO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRvSW50KHZhbHVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tLmxvY2FsZURhdGEoKS5tb250aHNQYXJzZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBBbm90aGVyIHNpbGVudCBmYWlsdXJlP1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkYXlPZk1vbnRoID0gTWF0aC5taW4obW9tLmRhdGUoKSwgZGF5c0luTW9udGgobW9tLnllYXIoKSwgdmFsdWUpKTtcclxuICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgJ01vbnRoJ10odmFsdWUsIGRheU9mTW9udGgpO1xyXG4gICAgICAgIHJldHVybiBtb207XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0U2V0TW9udGggKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgc2V0TW9udGgodGhpcywgdmFsdWUpO1xyXG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXQodGhpcywgJ01vbnRoJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldERheXNJbk1vbnRoICgpIHtcclxuICAgICAgICByZXR1cm4gZGF5c0luTW9udGgodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkO1xyXG4gICAgZnVuY3Rpb24gbW9udGhzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcclxuICAgICAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xyXG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNTdHJpY3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNTaG9ydFJlZ2V4JykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSBkZWZhdWx0TW9udGhzU2hvcnRSZWdleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRlZmF1bHRNb250aHNSZWdleCA9IG1hdGNoV29yZDtcclxuICAgIGZ1bmN0aW9uIG1vbnRoc1JlZ2V4IChpc1N0cmljdCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XHJcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVNb250aHNQYXJzZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1JlZ2V4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzUmVnZXggPSBkZWZhdWx0TW9udGhzUmVnZXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cclxuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzUmVnZXg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXB1dGVNb250aHNQYXJzZSAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxyXG4gICAgICAgICAgICBpLCBtb207XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XHJcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xyXG4gICAgICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykpO1xyXG4gICAgICAgICAgICBsb25nUGllY2VzLnB1c2godGhpcy5tb250aHMobW9tLCAnJykpO1xyXG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcclxuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxyXG4gICAgICAgIC8vIHdpbGwgbWF0Y2ggdGhlIGxvbmdlciBwaWVjZS5cclxuICAgICAgICBzaG9ydFBpZWNlcy5zb3J0KGNtcExlblJldik7XHJcbiAgICAgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XHJcbiAgICAgICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xyXG4gICAgICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAyNDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG1peGVkUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobWl4ZWRQaWVjZXNbaV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fbW9udGhzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XHJcbiAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRSZWdleCA9IHRoaXMuX21vbnRoc1JlZ2V4O1xyXG4gICAgICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XHJcbiAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIHNob3J0UGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVEYXRlICh5LCBtLCBkLCBoLCBNLCBzLCBtcykge1xyXG4gICAgICAgIC8vIGNhbid0IGp1c3QgYXBwbHkoKSB0byBjcmVhdGUgYSBkYXRlOlxyXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xODEzNDhcclxuICAgICAgICB2YXIgZGF0ZTtcclxuICAgICAgICAvLyB0aGUgZGF0ZSBjb25zdHJ1Y3RvciByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcclxuICAgICAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcclxuICAgICAgICAgICAgLy8gcHJlc2VydmUgbGVhcCB5ZWFycyB1c2luZyBhIGZ1bGwgNDAwIHllYXIgY3ljbGUsIHRoZW4gcmVzZXRcclxuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHkgKyA0MDAsIG0sIGQsIGgsIE0sIHMsIG1zKTtcclxuICAgICAgICAgICAgaWYgKGlzRmluaXRlKGRhdGUuZ2V0RnVsbFllYXIoKSkpIHtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0RnVsbFllYXIoeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoeSwgbSwgZCwgaCwgTSwgcywgbXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlVVRDRGF0ZSAoeSkge1xyXG4gICAgICAgIHZhciBkYXRlO1xyXG4gICAgICAgIC8vIHRoZSBEYXRlLlVUQyBmdW5jdGlvbiByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcclxuICAgICAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAvLyBwcmVzZXJ2ZSBsZWFwIHllYXJzIHVzaW5nIGEgZnVsbCA0MDAgeWVhciBjeWNsZSwgdGhlbiByZXNldFxyXG4gICAgICAgICAgICBhcmdzWzBdID0geSArIDQwMDtcclxuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsIGFyZ3MpKTtcclxuICAgICAgICAgICAgaWYgKGlzRmluaXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSkpIHtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBzdGFydC1vZi1maXJzdC13ZWVrIC0gc3RhcnQtb2YteWVhclxyXG4gICAgZnVuY3Rpb24gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSB7XHJcbiAgICAgICAgdmFyIC8vIGZpcnN0LXdlZWsgZGF5IC0tIHdoaWNoIGphbnVhcnkgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCB3ZWVrICg0IGZvciBpc28sIDEgZm9yIG90aGVyKVxyXG4gICAgICAgICAgICBmd2QgPSA3ICsgZG93IC0gZG95LFxyXG4gICAgICAgICAgICAvLyBmaXJzdC13ZWVrIGRheSBsb2NhbCB3ZWVrZGF5IC0tIHdoaWNoIGxvY2FsIHdlZWtkYXkgaXMgZndkXHJcbiAgICAgICAgICAgIGZ3ZGx3ID0gKDcgKyBjcmVhdGVVVENEYXRlKHllYXIsIDAsIGZ3ZCkuZ2V0VVRDRGF5KCkgLSBkb3cpICUgNztcclxuXHJcbiAgICAgICAgcmV0dXJuIC1md2RsdyArIGZ3ZCAtIDE7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZSNDYWxjdWxhdGluZ19hX2RhdGVfZ2l2ZW5fdGhlX3llYXIuMkNfd2Vla19udW1iZXJfYW5kX3dlZWtkYXlcclxuICAgIGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrcyh5ZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xyXG4gICAgICAgIHZhciBsb2NhbFdlZWtkYXkgPSAoNyArIHdlZWtkYXkgLSBkb3cpICUgNyxcclxuICAgICAgICAgICAgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXHJcbiAgICAgICAgICAgIGRheU9mWWVhciA9IDEgKyA3ICogKHdlZWsgLSAxKSArIGxvY2FsV2Vla2RheSArIHdlZWtPZmZzZXQsXHJcbiAgICAgICAgICAgIHJlc1llYXIsIHJlc0RheU9mWWVhcjtcclxuXHJcbiAgICAgICAgaWYgKGRheU9mWWVhciA8PSAwKSB7XHJcbiAgICAgICAgICAgIHJlc1llYXIgPSB5ZWFyIC0gMTtcclxuICAgICAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5c0luWWVhcihyZXNZZWFyKSArIGRheU9mWWVhcjtcclxuICAgICAgICB9IGVsc2UgaWYgKGRheU9mWWVhciA+IGRheXNJblllYXIoeWVhcikpIHtcclxuICAgICAgICAgICAgcmVzWWVhciA9IHllYXIgKyAxO1xyXG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXIgLSBkYXlzSW5ZZWFyKHllYXIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc1llYXIgPSB5ZWFyO1xyXG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB5ZWFyOiByZXNZZWFyLFxyXG4gICAgICAgICAgICBkYXlPZlllYXI6IHJlc0RheU9mWWVhclxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gd2Vla09mWWVhcihtb20sIGRvdywgZG95KSB7XHJcbiAgICAgICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQobW9tLnllYXIoKSwgZG93LCBkb3kpLFxyXG4gICAgICAgICAgICB3ZWVrID0gTWF0aC5mbG9vcigobW9tLmRheU9mWWVhcigpIC0gd2Vla09mZnNldCAtIDEpIC8gNykgKyAxLFxyXG4gICAgICAgICAgICByZXNXZWVrLCByZXNZZWFyO1xyXG5cclxuICAgICAgICBpZiAod2VlayA8IDEpIHtcclxuICAgICAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgLSAxO1xyXG4gICAgICAgICAgICByZXNXZWVrID0gd2VlayArIHdlZWtzSW5ZZWFyKHJlc1llYXIsIGRvdywgZG95KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHdlZWsgPiB3ZWVrc0luWWVhcihtb20ueWVhcigpLCBkb3csIGRveSkpIHtcclxuICAgICAgICAgICAgcmVzV2VlayA9IHdlZWsgLSB3ZWVrc0luWWVhcihtb20ueWVhcigpLCBkb3csIGRveSk7XHJcbiAgICAgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpICsgMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKTtcclxuICAgICAgICAgICAgcmVzV2VlayA9IHdlZWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB3ZWVrOiByZXNXZWVrLFxyXG4gICAgICAgICAgICB5ZWFyOiByZXNZZWFyXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3ZWVrc0luWWVhcih5ZWFyLCBkb3csIGRveSkge1xyXG4gICAgICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcclxuICAgICAgICAgICAgd2Vla09mZnNldE5leHQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciArIDEsIGRvdywgZG95KTtcclxuICAgICAgICByZXR1cm4gKGRheXNJblllYXIoeWVhcikgLSB3ZWVrT2Zmc2V0ICsgd2Vla09mZnNldE5leHQpIC8gNztcclxuICAgIH1cclxuXHJcbiAgICAvLyBGT1JNQVRUSU5HXHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3cnLCBbJ3d3JywgMl0sICd3bycsICd3ZWVrJyk7XHJcbiAgICBhZGRGb3JtYXRUb2tlbignVycsIFsnV1cnLCAyXSwgJ1dvJywgJ2lzb1dlZWsnKTtcclxuXHJcbiAgICAvLyBBTElBU0VTXHJcblxyXG4gICAgYWRkVW5pdEFsaWFzKCd3ZWVrJywgJ3cnKTtcclxuICAgIGFkZFVuaXRBbGlhcygnaXNvV2VlaycsICdXJyk7XHJcblxyXG4gICAgLy8gUFJJT1JJVElFU1xyXG5cclxuICAgIGFkZFVuaXRQcmlvcml0eSgnd2VlaycsIDUpO1xyXG4gICAgYWRkVW5pdFByaW9yaXR5KCdpc29XZWVrJywgNSk7XHJcblxyXG4gICAgLy8gUEFSU0lOR1xyXG5cclxuICAgIGFkZFJlZ2V4VG9rZW4oJ3cnLCAgbWF0Y2gxdG8yKTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xyXG4gICAgYWRkUmVnZXhUb2tlbignVycsICBtYXRjaDF0bzIpO1xyXG4gICAgYWRkUmVnZXhUb2tlbignV1cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XHJcblxyXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWyd3JywgJ3d3JywgJ1cnLCAnV1cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XHJcbiAgICAgICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMSldID0gdG9JbnQoaW5wdXQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSEVMUEVSU1xyXG5cclxuICAgIC8vIExPQ0FMRVNcclxuXHJcbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrIChtb20pIHtcclxuICAgICAgICByZXR1cm4gd2Vla09mWWVhcihtb20sIHRoaXMuX3dlZWsuZG93LCB0aGlzLl93ZWVrLmRveSkud2VlaztcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWsgPSB7XHJcbiAgICAgICAgZG93IDogMCwgLy8gU3VuZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuXHJcbiAgICAgICAgZG95IDogNiAgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gNnRoIGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mV2VlayAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWsuZG93O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvY2FsZUZpcnN0RGF5T2ZZZWFyICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3k7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTU9NRU5UU1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldFNldFdlZWsgKGlucHV0KSB7XHJcbiAgICAgICAgdmFyIHdlZWsgPSB0aGlzLmxvY2FsZURhdGEoKS53ZWVrKHRoaXMpO1xyXG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRTZXRJU09XZWVrIChpbnB1dCkge1xyXG4gICAgICAgIHZhciB3ZWVrID0gd2Vla09mWWVhcih0aGlzLCAxLCA0KS53ZWVrO1xyXG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGT1JNQVRUSU5HXHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2QnLCAwLCAnZG8nLCAnZGF5Jyk7XHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2RkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c01pbih0aGlzLCBmb3JtYXQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2RkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNTaG9ydCh0aGlzLCBmb3JtYXQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2RkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhZGRGb3JtYXRUb2tlbignZScsIDAsIDAsICd3ZWVrZGF5Jyk7XHJcbiAgICBhZGRGb3JtYXRUb2tlbignRScsIDAsIDAsICdpc29XZWVrZGF5Jyk7XHJcblxyXG4gICAgLy8gQUxJQVNFU1xyXG5cclxuICAgIGFkZFVuaXRBbGlhcygnZGF5JywgJ2QnKTtcclxuICAgIGFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XHJcbiAgICBhZGRVbml0QWxpYXMoJ2lzb1dlZWtkYXknLCAnRScpO1xyXG5cclxuICAgIC8vIFBSSU9SSVRZXHJcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2RheScsIDExKTtcclxuICAgIGFkZFVuaXRQcmlvcml0eSgnd2Vla2RheScsIDExKTtcclxuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla2RheScsIDExKTtcclxuXHJcbiAgICAvLyBQQVJTSU5HXHJcblxyXG4gICAgYWRkUmVnZXhUb2tlbignZCcsICAgIG1hdGNoMXRvMik7XHJcbiAgICBhZGRSZWdleFRva2VuKCdlJywgICAgbWF0Y2gxdG8yKTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ0UnLCAgICBtYXRjaDF0bzIpO1xyXG4gICAgYWRkUmVnZXhUb2tlbignZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c01pblJlZ2V4KGlzU3RyaWN0KTtcclxuICAgIH0pO1xyXG4gICAgYWRkUmVnZXhUb2tlbignZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xyXG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcclxuICAgIH0pO1xyXG4gICAgYWRkUmVnZXhUb2tlbignZGRkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcclxuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUmVnZXgoaXNTdHJpY3QpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydkZCcsICdkZGQnLCAnZGRkZCddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcclxuICAgICAgICB2YXIgd2Vla2RheSA9IGNvbmZpZy5fbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XHJcbiAgICAgICAgLy8gaWYgd2UgZGlkbid0IGdldCBhIHdlZWtkYXkgbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkXHJcbiAgICAgICAgaWYgKHdlZWtkYXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB3ZWVrLmQgPSB3ZWVrZGF5O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRXZWVrZGF5ID0gaW5wdXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydkJywgJ2UnLCAnRSddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcclxuICAgICAgICB3ZWVrW3Rva2VuXSA9IHRvSW50KGlucHV0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEhFTFBFUlNcclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZVdlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaXNOYU4oaW5wdXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpbnB1dCwgMTApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5wdXQgPSBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGFyc2VJc29XZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpICUgNyB8fCA3O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXNOYU4oaW5wdXQpID8gbnVsbCA6IGlucHV0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExPQ0FMRVNcclxuICAgIGZ1bmN0aW9uIHNoaWZ0V2Vla2RheXMgKHdzLCBuKSB7XHJcbiAgICAgICAgcmV0dXJuIHdzLnNsaWNlKG4sIDcpLmNvbmNhdCh3cy5zbGljZSgwLCBuKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5cyA9ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoJ18nKTtcclxuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzIChtLCBmb3JtYXQpIHtcclxuICAgICAgICB2YXIgd2Vla2RheXMgPSBpc0FycmF5KHRoaXMuX3dlZWtkYXlzKSA/IHRoaXMuX3dlZWtkYXlzIDpcclxuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNbKG0gJiYgbSAhPT0gdHJ1ZSAmJiB0aGlzLl93ZWVrZGF5cy5pc0Zvcm1hdC50ZXN0KGZvcm1hdCkpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddO1xyXG4gICAgICAgIHJldHVybiAobSA9PT0gdHJ1ZSkgPyBzaGlmdFdlZWtkYXlzKHdlZWtkYXlzLCB0aGlzLl93ZWVrLmRvdylcclxuICAgICAgICAgICAgOiAobSkgPyB3ZWVrZGF5c1ttLmRheSgpXSA6IHdlZWtkYXlzO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCA9ICdTdW5fTW9uX1R1ZV9XZWRfVGh1X0ZyaV9TYXQnLnNwbGl0KCdfJyk7XHJcbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1Nob3J0IChtKSB7XHJcbiAgICAgICAgcmV0dXJuIChtID09PSB0cnVlKSA/IHNoaWZ0V2Vla2RheXModGhpcy5fd2Vla2RheXNTaG9ydCwgdGhpcy5fd2Vlay5kb3cpXHJcbiAgICAgICAgICAgIDogKG0pID8gdGhpcy5fd2Vla2RheXNTaG9ydFttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzU2hvcnQ7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbiA9ICdTdV9Nb19UdV9XZV9UaF9Gcl9TYScuc3BsaXQoJ18nKTtcclxuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzTWluIChtKSB7XHJcbiAgICAgICAgcmV0dXJuIChtID09PSB0cnVlKSA/IHNoaWZ0V2Vla2RheXModGhpcy5fd2Vla2RheXNNaW4sIHRoaXMuX3dlZWsuZG93KVxyXG4gICAgICAgICAgICA6IChtKSA/IHRoaXMuX3dlZWtkYXlzTWluW20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNNaW47XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGFuZGxlU3RyaWN0UGFyc2UkMSh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcclxuICAgICAgICB2YXIgaSwgaWksIG1vbSwgbGxjID0gd2Vla2RheU5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcclxuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN0cmljdCkge1xyXG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcclxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcclxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xyXG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcclxuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xyXG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1BhcnNlICh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcclxuICAgICAgICB2YXIgaSwgbW9tLCByZWdleDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UkMS5jYWxsKHRoaXMsIHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZSA9IFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcclxuXHJcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcclxuICAgICAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFxcXC4/JykgKyAnJCcsICdpJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcXFwuPycpICsgJyQnLCAnaScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5c01pbihtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcXFwuPycpICsgJyQnLCAnaScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZVtpXSkge1xyXG4gICAgICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxyXG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZGQnICYmIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkJyAmJiB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZCcgJiYgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBNT01FTlRTXHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0U2V0RGF5T2ZXZWVrIChpbnB1dCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZGF5ID0gdGhpcy5faXNVVEMgPyB0aGlzLl9kLmdldFVUQ0RheSgpIDogdGhpcy5fZC5nZXREYXkoKTtcclxuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpbnB1dCA9IHBhcnNlV2Vla2RheShpbnB1dCwgdGhpcy5sb2NhbGVEYXRhKCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZGQoaW5wdXQgLSBkYXksICdkJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRheTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrIChpbnB1dCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgd2Vla2RheSA9ICh0aGlzLmRheSgpICsgNyAtIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdykgJSA3O1xyXG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2Vla2RheSA6IHRoaXMuYWRkKGlucHV0IC0gd2Vla2RheSwgJ2QnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRTZXRJU09EYXlPZldlZWsgKGlucHV0KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBiZWhhdmVzIHRoZSBzYW1lIGFzIG1vbWVudCNkYXkgZXhjZXB0XHJcbiAgICAgICAgLy8gYXMgYSBnZXR0ZXIsIHJldHVybnMgNyBpbnN0ZWFkIG9mIDAgKDEtNyByYW5nZSBpbnN0ZWFkIG9mIDAtNilcclxuICAgICAgICAvLyBhcyBhIHNldHRlciwgc3VuZGF5IHNob3VsZCBiZWxvbmcgdG8gdGhlIHByZXZpb3VzIHdlZWsuXHJcblxyXG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhciB3ZWVrZGF5ID0gcGFyc2VJc29XZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRheSh0aGlzLmRheSgpICUgNyA/IHdlZWtkYXkgOiB3ZWVrZGF5IC0gNyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF5KCkgfHwgNztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRlZmF1bHRXZWVrZGF5c1JlZ2V4ID0gbWF0Y2hXb3JkO1xyXG4gICAgZnVuY3Rpb24gd2Vla2RheXNSZWdleCAoaXNTdHJpY3QpIHtcclxuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XHJcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNTdHJpY3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzUmVnZXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBkZWZhdWx0V2Vla2RheXNSZWdleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNSZWdleDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XHJcbiAgICBmdW5jdGlvbiB3ZWVrZGF5c1Nob3J0UmVnZXggKGlzU3RyaWN0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xyXG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzU2hvcnRSZWdleCcpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGVmYXVsdFdlZWtkYXlzTWluUmVnZXggPSBtYXRjaFdvcmQ7XHJcbiAgICBmdW5jdGlvbiB3ZWVrZGF5c01pblJlZ2V4IChpc1N0cmljdCkge1xyXG4gICAgICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcclxuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzTWluUmVnZXgnKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cclxuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gY29tcHV0ZVdlZWtkYXlzUGFyc2UgKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG1pblBpZWNlcyA9IFtdLCBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXHJcbiAgICAgICAgICAgIGksIG1vbSwgbWlucCwgc2hvcnRwLCBsb25ncDtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxyXG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XHJcbiAgICAgICAgICAgIG1pbnAgPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xyXG4gICAgICAgICAgICBzaG9ydHAgPSB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJyk7XHJcbiAgICAgICAgICAgIGxvbmdwID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKTtcclxuICAgICAgICAgICAgbWluUGllY2VzLnB1c2gobWlucCk7XHJcbiAgICAgICAgICAgIHNob3J0UGllY2VzLnB1c2goc2hvcnRwKTtcclxuICAgICAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKGxvbmdwKTtcclxuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChtaW5wKTtcclxuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChzaG9ydHApO1xyXG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKGxvbmdwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSB3ZWVrZGF5IChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XHJcbiAgICAgICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxyXG4gICAgICAgIG1pblBpZWNlcy5zb3J0KGNtcExlblJldik7XHJcbiAgICAgICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xyXG4gICAgICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xyXG4gICAgICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xyXG4gICAgICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XHJcbiAgICAgICAgICAgIG1peGVkUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobWl4ZWRQaWVjZXNbaV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcclxuICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xyXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xyXG5cclxuICAgICAgICB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XHJcbiAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xyXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaW5QaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZPUk1BVFRJTkdcclxuXHJcbiAgICBmdW5jdGlvbiBoRm9ybWF0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhvdXJzKCkgJSAxMiB8fCAxMjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBrRm9ybWF0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhvdXJzKCkgfHwgMjQ7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0gnLCBbJ0hIJywgMl0sIDAsICdob3VyJyk7XHJcbiAgICBhZGRGb3JtYXRUb2tlbignaCcsIFsnaGgnLCAyXSwgMCwgaEZvcm1hdCk7XHJcbiAgICBhZGRGb3JtYXRUb2tlbignaycsIFsna2snLCAyXSwgMCwga0Zvcm1hdCk7XHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJycgKyBoRm9ybWF0LmFwcGx5KHRoaXMpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAnJyArIGhGb3JtYXQuYXBwbHkodGhpcykgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xyXG4gICAgICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhZGRGb3JtYXRUb2tlbignSG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFkZEZvcm1hdFRva2VuKCdIbW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xyXG4gICAgICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBtZXJpZGllbSAodG9rZW4sIGxvd2VyY2FzZSkge1xyXG4gICAgICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tZXJpZGllbSh0aGlzLmhvdXJzKCksIHRoaXMubWludXRlcygpLCBsb3dlcmNhc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG1lcmlkaWVtKCdhJywgdHJ1ZSk7XHJcbiAgICBtZXJpZGllbSgnQScsIGZhbHNlKTtcclxuXHJcbiAgICAvLyBBTElBU0VTXHJcblxyXG4gICAgYWRkVW5pdEFsaWFzKCdob3VyJywgJ2gnKTtcclxuXHJcbiAgICAvLyBQUklPUklUWVxyXG4gICAgYWRkVW5pdFByaW9yaXR5KCdob3VyJywgMTMpO1xyXG5cclxuICAgIC8vIFBBUlNJTkdcclxuXHJcbiAgICBmdW5jdGlvbiBtYXRjaE1lcmlkaWVtIChpc1N0cmljdCwgbG9jYWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5fbWVyaWRpZW1QYXJzZTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRSZWdleFRva2VuKCdhJywgIG1hdGNoTWVyaWRpZW0pO1xyXG4gICAgYWRkUmVnZXhUb2tlbignQScsICBtYXRjaE1lcmlkaWVtKTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ0gnLCAgbWF0Y2gxdG8yKTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ2gnLCAgbWF0Y2gxdG8yKTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ2snLCAgbWF0Y2gxdG8yKTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ0hIJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xyXG4gICAgYWRkUmVnZXhUb2tlbignaGgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XHJcbiAgICBhZGRSZWdleFRva2VuKCdraycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcclxuXHJcbiAgICBhZGRSZWdleFRva2VuKCdobW0nLCBtYXRjaDN0bzQpO1xyXG4gICAgYWRkUmVnZXhUb2tlbignaG1tc3MnLCBtYXRjaDV0bzYpO1xyXG4gICAgYWRkUmVnZXhUb2tlbignSG1tJywgbWF0Y2gzdG80KTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ0htbXNzJywgbWF0Y2g1dG82KTtcclxuXHJcbiAgICBhZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcclxuICAgIGFkZFBhcnNlVG9rZW4oWydrJywgJ2trJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xyXG4gICAgICAgIHZhciBrSW5wdXQgPSB0b0ludChpbnB1dCk7XHJcbiAgICAgICAgYXJyYXlbSE9VUl0gPSBrSW5wdXQgPT09IDI0ID8gMCA6IGtJbnB1dDtcclxuICAgIH0pO1xyXG4gICAgYWRkUGFyc2VUb2tlbihbJ2EnLCAnQSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcclxuICAgICAgICBjb25maWcuX2lzUG0gPSBjb25maWcuX2xvY2FsZS5pc1BNKGlucHV0KTtcclxuICAgICAgICBjb25maWcuX21lcmlkaWVtID0gaW5wdXQ7XHJcbiAgICB9KTtcclxuICAgIGFkZFBhcnNlVG9rZW4oWydoJywgJ2hoJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xyXG4gICAgICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQpO1xyXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICBhZGRQYXJzZVRva2VuKCdobW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcclxuICAgICAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcclxuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcclxuICAgICAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xyXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICBhZGRQYXJzZVRva2VuKCdobW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xyXG4gICAgICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcclxuICAgICAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XHJcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xyXG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xyXG4gICAgICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xyXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICBhZGRQYXJzZVRva2VuKCdIbW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcclxuICAgICAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcclxuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcclxuICAgICAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xyXG4gICAgfSk7XHJcbiAgICBhZGRQYXJzZVRva2VuKCdIbW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xyXG4gICAgICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcclxuICAgICAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XHJcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xyXG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xyXG4gICAgICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gTE9DQUxFU1xyXG5cclxuICAgIGZ1bmN0aW9uIGxvY2FsZUlzUE0gKGlucHV0KSB7XHJcbiAgICAgICAgLy8gSUU4IFF1aXJrcyBNb2RlICYgSUU3IFN0YW5kYXJkcyBNb2RlIGRvIG5vdCBhbGxvdyBhY2Nlc3Npbmcgc3RyaW5ncyBsaWtlIGFycmF5c1xyXG4gICAgICAgIC8vIFVzaW5nIGNoYXJBdCBzaG91bGQgYmUgbW9yZSBjb21wYXRpYmxlLlxyXG4gICAgICAgIHJldHVybiAoKGlucHV0ICsgJycpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApID09PSAncCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSA9IC9bYXBdXFwuP20/XFwuPy9pO1xyXG4gICAgZnVuY3Rpb24gbG9jYWxlTWVyaWRpZW0gKGhvdXJzLCBtaW51dGVzLCBpc0xvd2VyKSB7XHJcbiAgICAgICAgaWYgKGhvdXJzID4gMTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAncG0nIDogJ1BNJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdhbScgOiAnQU0nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gTU9NRU5UU1xyXG5cclxuICAgIC8vIFNldHRpbmcgdGhlIGhvdXIgc2hvdWxkIGtlZXAgdGhlIHRpbWUsIGJlY2F1c2UgdGhlIHVzZXIgZXhwbGljaXRseVxyXG4gICAgLy8gc3BlY2lmaWVkIHdoaWNoIGhvdXIgdGhleSB3YW50LiBTbyB0cnlpbmcgdG8gbWFpbnRhaW4gdGhlIHNhbWUgaG91ciAoaW5cclxuICAgIC8vIGEgbmV3IHRpbWV6b25lKSBtYWtlcyBzZW5zZS4gQWRkaW5nL3N1YnRyYWN0aW5nIGhvdXJzIGRvZXMgbm90IGZvbGxvd1xyXG4gICAgLy8gdGhpcyBydWxlLlxyXG4gICAgdmFyIGdldFNldEhvdXIgPSBtYWtlR2V0U2V0KCdIb3VycycsIHRydWUpO1xyXG5cclxuICAgIHZhciBiYXNlQ29uZmlnID0ge1xyXG4gICAgICAgIGNhbGVuZGFyOiBkZWZhdWx0Q2FsZW5kYXIsXHJcbiAgICAgICAgbG9uZ0RhdGVGb3JtYXQ6IGRlZmF1bHRMb25nRGF0ZUZvcm1hdCxcclxuICAgICAgICBpbnZhbGlkRGF0ZTogZGVmYXVsdEludmFsaWREYXRlLFxyXG4gICAgICAgIG9yZGluYWw6IGRlZmF1bHRPcmRpbmFsLFxyXG4gICAgICAgIGRheU9mTW9udGhPcmRpbmFsUGFyc2U6IGRlZmF1bHREYXlPZk1vbnRoT3JkaW5hbFBhcnNlLFxyXG4gICAgICAgIHJlbGF0aXZlVGltZTogZGVmYXVsdFJlbGF0aXZlVGltZSxcclxuXHJcbiAgICAgICAgbW9udGhzOiBkZWZhdWx0TG9jYWxlTW9udGhzLFxyXG4gICAgICAgIG1vbnRoc1Nob3J0OiBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQsXHJcblxyXG4gICAgICAgIHdlZWs6IGRlZmF1bHRMb2NhbGVXZWVrLFxyXG5cclxuICAgICAgICB3ZWVrZGF5czogZGVmYXVsdExvY2FsZVdlZWtkYXlzLFxyXG4gICAgICAgIHdlZWtkYXlzTWluOiBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4sXHJcbiAgICAgICAgd2Vla2RheXNTaG9ydDogZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQsXHJcblxyXG4gICAgICAgIG1lcmlkaWVtUGFyc2U6IGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGludGVybmFsIHN0b3JhZ2UgZm9yIGxvY2FsZSBjb25maWcgZmlsZXNcclxuICAgIHZhciBsb2NhbGVzID0ge307XHJcbiAgICB2YXIgbG9jYWxlRmFtaWxpZXMgPSB7fTtcclxuICAgIHZhciBnbG9iYWxMb2NhbGU7XHJcblxyXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSkge1xyXG4gICAgICAgIHJldHVybiBrZXkgPyBrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdfJywgJy0nKSA6IGtleTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwaWNrIHRoZSBsb2NhbGUgZnJvbSB0aGUgYXJyYXlcclxuICAgIC8vIHRyeSBbJ2VuLWF1JywgJ2VuLWdiJ10gYXMgJ2VuLWF1JywgJ2VuLWdiJywgJ2VuJywgYXMgaW4gbW92ZSB0aHJvdWdoIHRoZSBsaXN0IHRyeWluZyBlYWNoXHJcbiAgICAvLyBzdWJzdHJpbmcgZnJvbSBtb3N0IHNwZWNpZmljIHRvIGxlYXN0LCBidXQgbW92ZSB0byB0aGUgbmV4dCBhcnJheSBpdGVtIGlmIGl0J3MgYSBtb3JlIHNwZWNpZmljIHZhcmlhbnQgdGhhbiB0aGUgY3VycmVudCByb290XHJcbiAgICBmdW5jdGlvbiBjaG9vc2VMb2NhbGUobmFtZXMpIHtcclxuICAgICAgICB2YXIgaSA9IDAsIGosIG5leHQsIGxvY2FsZSwgc3BsaXQ7XHJcblxyXG4gICAgICAgIHdoaWxlIChpIDwgbmFtZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHNwbGl0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2ldKS5zcGxpdCgnLScpO1xyXG4gICAgICAgICAgICBqID0gc3BsaXQubGVuZ3RoO1xyXG4gICAgICAgICAgICBuZXh0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2kgKyAxXSk7XHJcbiAgICAgICAgICAgIG5leHQgPSBuZXh0ID8gbmV4dC5zcGxpdCgnLScpIDogbnVsbDtcclxuICAgICAgICAgICAgd2hpbGUgKGogPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKHNwbGl0LnNsaWNlKDAsIGopLmpvaW4oJy0nKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQubGVuZ3RoID49IGogJiYgY29tcGFyZUFycmF5cyhzcGxpdCwgbmV4dCwgdHJ1ZSkgPj0gaiAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZSBuZXh0IGFycmF5IGl0ZW0gaXMgYmV0dGVyIHRoYW4gYSBzaGFsbG93ZXIgc3Vic3RyaW5nIG9mIHRoaXMgb25lXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBqLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZ2xvYmFsTG9jYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWRMb2NhbGUobmFtZSkge1xyXG4gICAgICAgIHZhciBvbGRMb2NhbGUgPSBudWxsO1xyXG4gICAgICAgIC8vIFRPRE86IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIHJlZ2lzdGVyIGFuZCBsb2FkIGFsbCB0aGUgbG9jYWxlcyBpbiBOb2RlXHJcbiAgICAgICAgaWYgKCFsb2NhbGVzW25hbWVdICYmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgJiZcclxuICAgICAgICAgICAgICAgIG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgb2xkTG9jYWxlID0gZ2xvYmFsTG9jYWxlLl9hYmJyO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFsaWFzZWRSZXF1aXJlID0gcmVxdWlyZTtcclxuICAgICAgICAgICAgICAgIGFsaWFzZWRSZXF1aXJlKCcuL2xvY2FsZS8nICsgbmFtZSk7XHJcbiAgICAgICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUob2xkTG9jYWxlKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmXHJcbiAgICAvLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IGdsb2JhbFxyXG4gICAgLy8gbG9jYWxlIGtleS5cclxuICAgIGZ1bmN0aW9uIGdldFNldEdsb2JhbExvY2FsZSAoa2V5LCB2YWx1ZXMpIHtcclxuICAgICAgICB2YXIgZGF0YTtcclxuICAgICAgICBpZiAoa2V5KSB7XHJcbiAgICAgICAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZXMpKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhID0gZGVmaW5lTG9jYWxlKGtleSwgdmFsdWVzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIC8vIG1vbWVudC5kdXJhdGlvbi5fbG9jYWxlID0gbW9tZW50Ll9sb2NhbGUgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgZ2xvYmFsTG9jYWxlID0gZGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIGNvbnNvbGUgIT09ICAndW5kZWZpbmVkJykgJiYgY29uc29sZS53YXJuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy93YXJuIHVzZXIgaWYgYXJndW1lbnRzIGFyZSBwYXNzZWQgYnV0IHRoZSBsb2NhbGUgY291bGQgbm90IGJlIHNldFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTG9jYWxlICcgKyBrZXkgKyAgJyBub3QgZm91bmQuIERpZCB5b3UgZm9yZ2V0IHRvIGxvYWQgaXQ/Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVmaW5lTG9jYWxlIChuYW1lLCBjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhciBsb2NhbGUsIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XHJcbiAgICAgICAgICAgIGNvbmZpZy5hYmJyID0gbmFtZTtcclxuICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKCdkZWZpbmVMb2NhbGVPdmVycmlkZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd1c2UgbW9tZW50LnVwZGF0ZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHRvIGNoYW5nZSAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FuIGV4aXN0aW5nIGxvY2FsZS4gbW9tZW50LmRlZmluZUxvY2FsZShsb2NhbGVOYW1lLCAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbmZpZykgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZGVmaW5lLWxvY2FsZS8gZm9yIG1vcmUgaW5mby4nKTtcclxuICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbbmFtZV0uX2NvbmZpZztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjb25maWcucGFyZW50TG9jYWxlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLl9jb25maWc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoY29uZmlnLnBhcmVudExvY2FsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZS5fY29uZmlnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbmV3IExvY2FsZShtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsb2NhbGVGYW1pbGllc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbbmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmluZUxvY2FsZSh4Lm5hbWUsIHguY29uZmlnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcclxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHNldCB0aGUgbG9jYWxlIEFGVEVSIGFsbCBjaGlsZCBsb2NhbGVzIGhhdmUgYmVlblxyXG4gICAgICAgICAgICAvLyBjcmVhdGVkLCBzbyB3ZSB3b24ndCBlbmQgdXAgd2l0aCB0aGUgY2hpbGQgbG9jYWxlIHNldC5cclxuICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHVzZWZ1bCBmb3IgdGVzdGluZ1xyXG4gICAgICAgICAgICBkZWxldGUgbG9jYWxlc1tuYW1lXTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUxvY2FsZShuYW1lLCBjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdmFyIGxvY2FsZSwgdG1wTG9jYWxlLCBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xyXG4gICAgICAgICAgICAvLyBNRVJHRVxyXG4gICAgICAgICAgICB0bXBMb2NhbGUgPSBsb2FkTG9jYWxlKG5hbWUpO1xyXG4gICAgICAgICAgICBpZiAodG1wTG9jYWxlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IHRtcExvY2FsZS5fY29uZmlnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZyk7XHJcbiAgICAgICAgICAgIGxvY2FsZSA9IG5ldyBMb2NhbGUoY29uZmlnKTtcclxuICAgICAgICAgICAgbG9jYWxlLnBhcmVudExvY2FsZSA9IGxvY2FsZXNbbmFtZV07XHJcbiAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGU7XHJcblxyXG4gICAgICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcclxuICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHBhc3MgbnVsbCBmb3IgY29uZmlnIHRvIHVudXBkYXRlLCB1c2VmdWwgZm9yIHRlc3RzXHJcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbG9jYWxlc1tuYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZXR1cm5zIGxvY2FsZSBkYXRhXHJcbiAgICBmdW5jdGlvbiBnZXRMb2NhbGUgKGtleSkge1xyXG4gICAgICAgIHZhciBsb2NhbGU7XHJcblxyXG4gICAgICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcclxuICAgICAgICAgICAga2V5ID0ga2V5Ll9sb2NhbGUuX2FiYnI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsTG9jYWxlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFpc0FycmF5KGtleSkpIHtcclxuICAgICAgICAgICAgLy9zaG9ydC1jaXJjdWl0IGV2ZXJ5dGhpbmcgZWxzZVxyXG4gICAgICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKGtleSk7XHJcbiAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAga2V5ID0gW2tleV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY2hvb3NlTG9jYWxlKGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbGlzdExvY2FsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleXMobG9jYWxlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyAobSkge1xyXG4gICAgICAgIHZhciBvdmVyZmxvdztcclxuICAgICAgICB2YXIgYSA9IG0uX2E7XHJcblxyXG4gICAgICAgIGlmIChhICYmIGdldFBhcnNpbmdGbGFncyhtKS5vdmVyZmxvdyA9PT0gLTIpIHtcclxuICAgICAgICAgICAgb3ZlcmZsb3cgPVxyXG4gICAgICAgICAgICAgICAgYVtNT05USF0gICAgICAgPCAwIHx8IGFbTU9OVEhdICAgICAgID4gMTEgID8gTU9OVEggOlxyXG4gICAgICAgICAgICAgICAgYVtEQVRFXSAgICAgICAgPCAxIHx8IGFbREFURV0gICAgICAgID4gZGF5c0luTW9udGgoYVtZRUFSXSwgYVtNT05USF0pID8gREFURSA6XHJcbiAgICAgICAgICAgICAgICBhW0hPVVJdICAgICAgICA8IDAgfHwgYVtIT1VSXSAgICAgICAgPiAyNCB8fCAoYVtIT1VSXSA9PT0gMjQgJiYgKGFbTUlOVVRFXSAhPT0gMCB8fCBhW1NFQ09ORF0gIT09IDAgfHwgYVtNSUxMSVNFQ09ORF0gIT09IDApKSA/IEhPVVIgOlxyXG4gICAgICAgICAgICAgICAgYVtNSU5VVEVdICAgICAgPCAwIHx8IGFbTUlOVVRFXSAgICAgID4gNTkgID8gTUlOVVRFIDpcclxuICAgICAgICAgICAgICAgIGFbU0VDT05EXSAgICAgIDwgMCB8fCBhW1NFQ09ORF0gICAgICA+IDU5ICA/IFNFQ09ORCA6XHJcbiAgICAgICAgICAgICAgICBhW01JTExJU0VDT05EXSA8IDAgfHwgYVtNSUxMSVNFQ09ORF0gPiA5OTkgPyBNSUxMSVNFQ09ORCA6XHJcbiAgICAgICAgICAgICAgICAtMTtcclxuXHJcbiAgICAgICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93RGF5T2ZZZWFyICYmIChvdmVyZmxvdyA8IFlFQVIgfHwgb3ZlcmZsb3cgPiBEQVRFKSkge1xyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93V2Vla3MgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrZGF5ICYmIG92ZXJmbG93ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBtO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cclxuICAgIGZ1bmN0aW9uIGRlZmF1bHRzKGEsIGIsIGMpIHtcclxuICAgICAgICBpZiAoYSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZykge1xyXG4gICAgICAgIC8vIGhvb2tzIGlzIGFjdHVhbGx5IHRoZSBleHBvcnRlZCBtb21lbnQgb2JqZWN0XHJcbiAgICAgICAgdmFyIG5vd1ZhbHVlID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xyXG4gICAgICAgIGlmIChjb25maWcuX3VzZVVUQykge1xyXG4gICAgICAgICAgICByZXR1cm4gW25vd1ZhbHVlLmdldFVUQ0Z1bGxZZWFyKCksIG5vd1ZhbHVlLmdldFVUQ01vbnRoKCksIG5vd1ZhbHVlLmdldFVUQ0RhdGUoKV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbbm93VmFsdWUuZ2V0RnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0TW9udGgoKSwgbm93VmFsdWUuZ2V0RGF0ZSgpXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb252ZXJ0IGFuIGFycmF5IHRvIGEgZGF0ZS5cclxuICAgIC8vIHRoZSBhcnJheSBzaG91bGQgbWlycm9yIHRoZSBwYXJhbWV0ZXJzIGJlbG93XHJcbiAgICAvLyBub3RlOiBhbGwgdmFsdWVzIHBhc3QgdGhlIHllYXIgYXJlIG9wdGlvbmFsIGFuZCB3aWxsIGRlZmF1bHQgdG8gdGhlIGxvd2VzdCBwb3NzaWJsZSB2YWx1ZS5cclxuICAgIC8vIFt5ZWFyLCBtb250aCwgZGF5ICwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kXVxyXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUFycmF5IChjb25maWcpIHtcclxuICAgICAgICB2YXIgaSwgZGF0ZSwgaW5wdXQgPSBbXSwgY3VycmVudERhdGUsIGV4cGVjdGVkV2Vla2RheSwgeWVhclRvVXNlO1xyXG5cclxuICAgICAgICBpZiAoY29uZmlnLl9kKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN1cnJlbnREYXRlID0gY3VycmVudERhdGVBcnJheShjb25maWcpO1xyXG5cclxuICAgICAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXHJcbiAgICAgICAgaWYgKGNvbmZpZy5fdyAmJiBjb25maWcuX2FbREFURV0gPT0gbnVsbCAmJiBjb25maWcuX2FbTU9OVEhdID09IG51bGwpIHtcclxuICAgICAgICAgICAgZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2lmIHRoZSBkYXkgb2YgdGhlIHllYXIgaXMgc2V0LCBmaWd1cmUgb3V0IHdoYXQgaXQgaXNcclxuICAgICAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB5ZWFyVG9Vc2UgPSBkZWZhdWx0cyhjb25maWcuX2FbWUVBUl0sIGN1cnJlbnREYXRlW1lFQVJdKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciA+IGRheXNJblllYXIoeWVhclRvVXNlKSB8fCBjb25maWcuX2RheU9mWWVhciA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93RGF5T2ZZZWFyID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGF0ZSA9IGNyZWF0ZVVUQ0RhdGUoeWVhclRvVXNlLCAwLCBjb25maWcuX2RheU9mWWVhcik7XHJcbiAgICAgICAgICAgIGNvbmZpZy5fYVtNT05USF0gPSBkYXRlLmdldFVUQ01vbnRoKCk7XHJcbiAgICAgICAgICAgIGNvbmZpZy5fYVtEQVRFXSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IGRhdGUuXHJcbiAgICAgICAgLy8gKiBpZiBubyB5ZWFyLCBtb250aCwgZGF5IG9mIG1vbnRoIGFyZSBnaXZlbiwgZGVmYXVsdCB0byB0b2RheVxyXG4gICAgICAgIC8vICogaWYgZGF5IG9mIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG1vbnRoIGFuZCB5ZWFyXHJcbiAgICAgICAgLy8gKiBpZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBvbmx5IHllYXJcclxuICAgICAgICAvLyAqIGlmIHllYXIgaXMgZ2l2ZW4sIGRvbid0IGRlZmF1bHQgYW55dGhpbmdcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMyAmJiBjb25maWcuX2FbaV0gPT0gbnVsbDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gY3VycmVudERhdGVbaV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcclxuICAgICAgICBmb3IgKDsgaSA8IDc7IGkrKykge1xyXG4gICAgICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IChjb25maWcuX2FbaV0gPT0gbnVsbCkgPyAoaSA9PT0gMiA/IDEgOiAwKSA6IGNvbmZpZy5fYVtpXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciAyNDowMDowMC4wMDBcclxuICAgICAgICBpZiAoY29uZmlnLl9hW0hPVVJdID09PSAyNCAmJlxyXG4gICAgICAgICAgICAgICAgY29uZmlnLl9hW01JTlVURV0gPT09IDAgJiZcclxuICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtTRUNPTkRdID09PSAwICYmXHJcbiAgICAgICAgICAgICAgICBjb25maWcuX2FbTUlMTElTRUNPTkRdID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZy5fbmV4dERheSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25maWcuX2QgPSAoY29uZmlnLl91c2VVVEMgPyBjcmVhdGVVVENEYXRlIDogY3JlYXRlRGF0ZSkuYXBwbHkobnVsbCwgaW5wdXQpO1xyXG4gICAgICAgIGV4cGVjdGVkV2Vla2RheSA9IGNvbmZpZy5fdXNlVVRDID8gY29uZmlnLl9kLmdldFVUQ0RheSgpIDogY29uZmlnLl9kLmdldERheSgpO1xyXG5cclxuICAgICAgICAvLyBBcHBseSB0aW1lem9uZSBvZmZzZXQgZnJvbSBpbnB1dC4gVGhlIGFjdHVhbCB1dGNPZmZzZXQgY2FuIGJlIGNoYW5nZWRcclxuICAgICAgICAvLyB3aXRoIHBhcnNlWm9uZS5cclxuICAgICAgICBpZiAoY29uZmlnLl90em0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25maWcuX2Quc2V0VVRDTWludXRlcyhjb25maWcuX2QuZ2V0VVRDTWludXRlcygpIC0gY29uZmlnLl90em0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbmZpZy5fbmV4dERheSkge1xyXG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAyNDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGNoZWNrIGZvciBtaXNtYXRjaGluZyBkYXkgb2Ygd2Vla1xyXG4gICAgICAgIGlmIChjb25maWcuX3cgJiYgdHlwZW9mIGNvbmZpZy5fdy5kICE9PSAndW5kZWZpbmVkJyAmJiBjb25maWcuX3cuZCAhPT0gZXhwZWN0ZWRXZWVrZGF5KSB7XHJcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLndlZWtkYXlNaXNtYXRjaCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpIHtcclxuICAgICAgICB2YXIgdywgd2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95LCB0ZW1wLCB3ZWVrZGF5T3ZlcmZsb3c7XHJcblxyXG4gICAgICAgIHcgPSBjb25maWcuX3c7XHJcbiAgICAgICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBkb3cgPSAxO1xyXG4gICAgICAgICAgICBkb3kgPSA0O1xyXG5cclxuICAgICAgICAgICAgLy8gVE9ETzogV2UgbmVlZCB0byB0YWtlIHRoZSBjdXJyZW50IGlzb1dlZWtZZWFyLCBidXQgdGhhdCBkZXBlbmRzIG9uXHJcbiAgICAgICAgICAgIC8vIGhvdyB3ZSBpbnRlcnByZXQgbm93IChsb2NhbCwgdXRjLCBmaXhlZCBvZmZzZXQpLiBTbyBjcmVhdGVcclxuICAgICAgICAgICAgLy8gYSBub3cgdmVyc2lvbiBvZiBjdXJyZW50IGNvbmZpZyAodGFrZSBsb2NhbC91dGMvb2Zmc2V0IGZsYWdzLCBhbmRcclxuICAgICAgICAgICAgLy8gY3JlYXRlIG5vdykuXHJcbiAgICAgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5HRywgY29uZmlnLl9hW1lFQVJdLCB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXIpO1xyXG4gICAgICAgICAgICB3ZWVrID0gZGVmYXVsdHMody5XLCAxKTtcclxuICAgICAgICAgICAgd2Vla2RheSA9IGRlZmF1bHRzKHcuRSwgMSk7XHJcbiAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgMSB8fCB3ZWVrZGF5ID4gNykge1xyXG4gICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRvdyA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRvdztcclxuICAgICAgICAgICAgZG95ID0gY29uZmlnLl9sb2NhbGUuX3dlZWsuZG95O1xyXG5cclxuICAgICAgICAgICAgdmFyIGN1cldlZWsgPSB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIGRvdywgZG95KTtcclxuXHJcbiAgICAgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5nZywgY29uZmlnLl9hW1lFQVJdLCBjdXJXZWVrLnllYXIpO1xyXG5cclxuICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IHdlZWsuXHJcbiAgICAgICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LncsIGN1cldlZWsud2Vlayk7XHJcblxyXG4gICAgICAgICAgICBpZiAody5kICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdlZWtkYXkgLS0gbG93IGRheSBudW1iZXJzIGFyZSBjb25zaWRlcmVkIG5leHQgd2Vla1xyXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IHcuZDtcclxuICAgICAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgMCB8fCB3ZWVrZGF5ID4gNikge1xyXG4gICAgICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAody5lICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIGxvY2FsIHdlZWtkYXkgLS0gY291bnRpbmcgc3RhcnRzIGZyb20gYmVnaW5uaW5nIG9mIHdlZWtcclxuICAgICAgICAgICAgICAgIHdlZWtkYXkgPSB3LmUgKyBkb3c7XHJcbiAgICAgICAgICAgICAgICBpZiAody5lIDwgMCB8fCB3LmUgPiA2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8gYmVnaW5uaW5nIG9mIHdlZWtcclxuICAgICAgICAgICAgICAgIHdlZWtkYXkgPSBkb3c7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHdlZWsgPCAxIHx8IHdlZWsgPiB3ZWVrc0luWWVhcih3ZWVrWWVhciwgZG93LCBkb3kpKSB7XHJcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtzID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKHdlZWtkYXlPdmVyZmxvdyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtkYXkgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRlbXAgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcclxuICAgICAgICAgICAgY29uZmlnLl9hW1lFQVJdID0gdGVtcC55ZWFyO1xyXG4gICAgICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBpc28gODYwMSByZWdleFxyXG4gICAgLy8gMDAwMC0wMC0wMCAwMDAwLVcwMCBvciAwMDAwLVcwMC0wICsgVCArIDAwIG9yIDAwOjAwIG9yIDAwOjAwOjAwIG9yIDAwOjAwOjAwLjAwMCArICswMDowMCBvciArMDAwMCBvciArMDApXHJcbiAgICB2YXIgZXh0ZW5kZWRJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSktKD86XFxkXFxkLVxcZFxcZHxXXFxkXFxkLVxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OjpcXGRcXGQoPzo6XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLztcclxuICAgIHZhciBiYXNpY0lzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KSg/OlxcZFxcZFxcZFxcZHxXXFxkXFxkXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86XFxkXFxkKD86XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLztcclxuXHJcbiAgICB2YXIgdHpSZWdleCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/LztcclxuXHJcbiAgICB2YXIgaXNvRGF0ZXMgPSBbXHJcbiAgICAgICAgWydZWVlZWVktTU0tREQnLCAvWystXVxcZHs2fS1cXGRcXGQtXFxkXFxkL10sXHJcbiAgICAgICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGRcXGQtXFxkXFxkL10sXHJcbiAgICAgICAgWydHR0dHLVtXXVdXLUUnLCAvXFxkezR9LVdcXGRcXGQtXFxkL10sXHJcbiAgICAgICAgWydHR0dHLVtXXVdXJywgL1xcZHs0fS1XXFxkXFxkLywgZmFsc2VdLFxyXG4gICAgICAgIFsnWVlZWS1EREQnLCAvXFxkezR9LVxcZHszfS9dLFxyXG4gICAgICAgIFsnWVlZWS1NTScsIC9cXGR7NH0tXFxkXFxkLywgZmFsc2VdLFxyXG4gICAgICAgIFsnWVlZWVlZTU1ERCcsIC9bKy1dXFxkezEwfS9dLFxyXG4gICAgICAgIFsnWVlZWU1NREQnLCAvXFxkezh9L10sXHJcbiAgICAgICAgLy8gWVlZWU1NIGlzIE5PVCBhbGxvd2VkIGJ5IHRoZSBzdGFuZGFyZFxyXG4gICAgICAgIFsnR0dHR1tXXVdXRScsIC9cXGR7NH1XXFxkezN9L10sXHJcbiAgICAgICAgWydHR0dHW1ddV1cnLCAvXFxkezR9V1xcZHsyfS8sIGZhbHNlXSxcclxuICAgICAgICBbJ1lZWVlEREQnLCAvXFxkezd9L11cclxuICAgIF07XHJcblxyXG4gICAgLy8gaXNvIHRpbWUgZm9ybWF0cyBhbmQgcmVnZXhlc1xyXG4gICAgdmFyIGlzb1RpbWVzID0gW1xyXG4gICAgICAgIFsnSEg6bW06c3MuU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZFxcLlxcZCsvXSxcclxuICAgICAgICBbJ0hIOm1tOnNzLFNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGQsXFxkKy9dLFxyXG4gICAgICAgIFsnSEg6bW06c3MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGQvXSxcclxuICAgICAgICBbJ0hIOm1tJywgL1xcZFxcZDpcXGRcXGQvXSxcclxuICAgICAgICBbJ0hIbW1zcy5TU1NTJywgL1xcZFxcZFxcZFxcZFxcZFxcZFxcLlxcZCsvXSxcclxuICAgICAgICBbJ0hIbW1zcyxTU1NTJywgL1xcZFxcZFxcZFxcZFxcZFxcZCxcXGQrL10sXHJcbiAgICAgICAgWydISG1tc3MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkL10sXHJcbiAgICAgICAgWydISG1tJywgL1xcZFxcZFxcZFxcZC9dLFxyXG4gICAgICAgIFsnSEgnLCAvXFxkXFxkL11cclxuICAgIF07XHJcblxyXG4gICAgdmFyIGFzcE5ldEpzb25SZWdleCA9IC9eXFwvP0RhdGVcXCgoXFwtP1xcZCspL2k7XHJcblxyXG4gICAgLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXRcclxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21JU08oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIGksIGwsXHJcbiAgICAgICAgICAgIHN0cmluZyA9IGNvbmZpZy5faSxcclxuICAgICAgICAgICAgbWF0Y2ggPSBleHRlbmRlZElzb1JlZ2V4LmV4ZWMoc3RyaW5nKSB8fCBiYXNpY0lzb1JlZ2V4LmV4ZWMoc3RyaW5nKSxcclxuICAgICAgICAgICAgYWxsb3dUaW1lLCBkYXRlRm9ybWF0LCB0aW1lRm9ybWF0LCB0ekZvcm1hdDtcclxuXHJcbiAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmlzbyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvRGF0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhtYXRjaFsxXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlRm9ybWF0ID0gaXNvRGF0ZXNbaV1bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dUaW1lID0gaXNvRGF0ZXNbaV1bMl0gIT09IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtYXRjaFszXSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb1RpbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYXRjaFsyXSBzaG91bGQgYmUgJ1QnIG9yIHNwYWNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVGb3JtYXQgPSAobWF0Y2hbMl0gfHwgJyAnKSArIGlzb1RpbWVzW2ldWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghYWxsb3dUaW1lICYmIHRpbWVGb3JtYXQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1hdGNoWzRdKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHpSZWdleC5leGVjKG1hdGNoWzRdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHR6Rm9ybWF0ID0gJ1onO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uZmlnLl9mID0gZGF0ZUZvcm1hdCArICh0aW1lRm9ybWF0IHx8ICcnKSArICh0ekZvcm1hdCB8fCAnJyk7XHJcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUkZDIDI4MjIgcmVnZXg6IEZvciBkZXRhaWxzIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMjgyMiNzZWN0aW9uLTMuM1xyXG4gICAgdmFyIHJmYzI4MjIgPSAvXig/OihNb258VHVlfFdlZHxUaHV8RnJpfFNhdHxTdW4pLD9cXHMpPyhcXGR7MSwyfSlcXHMoSmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpXFxzKFxcZHsyLDR9KVxccyhcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKT9cXHMoPzooVVR8R01UfFtFQ01QXVtTRF1UKXwoW1p6XSl8KFsrLV1cXGR7NH0pKSQvO1xyXG5cclxuICAgIGZ1bmN0aW9uIGV4dHJhY3RGcm9tUkZDMjgyMlN0cmluZ3MoeWVhclN0ciwgbW9udGhTdHIsIGRheVN0ciwgaG91clN0ciwgbWludXRlU3RyLCBzZWNvbmRTdHIpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW1xyXG4gICAgICAgICAgICB1bnRydW5jYXRlWWVhcih5ZWFyU3RyKSxcclxuICAgICAgICAgICAgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LmluZGV4T2YobW9udGhTdHIpLFxyXG4gICAgICAgICAgICBwYXJzZUludChkYXlTdHIsIDEwKSxcclxuICAgICAgICAgICAgcGFyc2VJbnQoaG91clN0ciwgMTApLFxyXG4gICAgICAgICAgICBwYXJzZUludChtaW51dGVTdHIsIDEwKVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGlmIChzZWNvbmRTdHIpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFyc2VJbnQoc2Vjb25kU3RyLCAxMCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bnRydW5jYXRlWWVhcih5ZWFyU3RyKSB7XHJcbiAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludCh5ZWFyU3RyLCAxMCk7XHJcbiAgICAgICAgaWYgKHllYXIgPD0gNDkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDIwMDAgKyB5ZWFyO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoeWVhciA8PSA5OTkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE5MDAgKyB5ZWFyO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geWVhcjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcmVwcm9jZXNzUkZDMjgyMihzKSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlIGNvbW1lbnRzIGFuZCBmb2xkaW5nIHdoaXRlc3BhY2UgYW5kIHJlcGxhY2UgbXVsdGlwbGUtc3BhY2VzIHdpdGggYSBzaW5nbGUgc3BhY2VcclxuICAgICAgICByZXR1cm4gcy5yZXBsYWNlKC9cXChbXildKlxcKXxbXFxuXFx0XS9nLCAnICcpLnJlcGxhY2UoLyhcXHNcXHMrKS9nLCAnICcpLnJlcGxhY2UoL15cXHNcXHMqLywgJycpLnJlcGxhY2UoL1xcc1xccyokLywgJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNoZWNrV2Vla2RheSh3ZWVrZGF5U3RyLCBwYXJzZWRJbnB1dCwgY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKHdlZWtkYXlTdHIpIHtcclxuICAgICAgICAgICAgLy8gVE9ETzogUmVwbGFjZSB0aGUgdmFuaWxsYSBKUyBEYXRlIG9iamVjdCB3aXRoIGFuIGluZGVwZW50ZW50IGRheS1vZi13ZWVrIGNoZWNrLlxyXG4gICAgICAgICAgICB2YXIgd2Vla2RheVByb3ZpZGVkID0gZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQuaW5kZXhPZih3ZWVrZGF5U3RyKSxcclxuICAgICAgICAgICAgICAgIHdlZWtkYXlBY3R1YWwgPSBuZXcgRGF0ZShwYXJzZWRJbnB1dFswXSwgcGFyc2VkSW5wdXRbMV0sIHBhcnNlZElucHV0WzJdKS5nZXREYXkoKTtcclxuICAgICAgICAgICAgaWYgKHdlZWtkYXlQcm92aWRlZCAhPT0gd2Vla2RheUFjdHVhbCkge1xyXG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykud2Vla2RheU1pc21hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBvYnNPZmZzZXRzID0ge1xyXG4gICAgICAgIFVUOiAwLFxyXG4gICAgICAgIEdNVDogMCxcclxuICAgICAgICBFRFQ6IC00ICogNjAsXHJcbiAgICAgICAgRVNUOiAtNSAqIDYwLFxyXG4gICAgICAgIENEVDogLTUgKiA2MCxcclxuICAgICAgICBDU1Q6IC02ICogNjAsXHJcbiAgICAgICAgTURUOiAtNiAqIDYwLFxyXG4gICAgICAgIE1TVDogLTcgKiA2MCxcclxuICAgICAgICBQRFQ6IC03ICogNjAsXHJcbiAgICAgICAgUFNUOiAtOCAqIDYwXHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZU9mZnNldChvYnNPZmZzZXQsIG1pbGl0YXJ5T2Zmc2V0LCBudW1PZmZzZXQpIHtcclxuICAgICAgICBpZiAob2JzT2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYnNPZmZzZXRzW29ic09mZnNldF07XHJcbiAgICAgICAgfSBlbHNlIGlmIChtaWxpdGFyeU9mZnNldCkge1xyXG4gICAgICAgICAgICAvLyB0aGUgb25seSBhbGxvd2VkIG1pbGl0YXJ5IHR6IGlzIFpcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGhtID0gcGFyc2VJbnQobnVtT2Zmc2V0LCAxMCk7XHJcbiAgICAgICAgICAgIHZhciBtID0gaG0gJSAxMDAsIGggPSAoaG0gLSBtKSAvIDEwMDtcclxuICAgICAgICAgICAgcmV0dXJuIGggKiA2MCArIG07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGRhdGUgYW5kIHRpbWUgZnJvbSByZWYgMjgyMiBmb3JtYXRcclxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBtYXRjaCA9IHJmYzI4MjIuZXhlYyhwcmVwcm9jZXNzUkZDMjgyMihjb25maWcuX2kpKTtcclxuICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgdmFyIHBhcnNlZEFycmF5ID0gZXh0cmFjdEZyb21SRkMyODIyU3RyaW5ncyhtYXRjaFs0XSwgbWF0Y2hbM10sIG1hdGNoWzJdLCBtYXRjaFs1XSwgbWF0Y2hbNl0sIG1hdGNoWzddKTtcclxuICAgICAgICAgICAgaWYgKCFjaGVja1dlZWtkYXkobWF0Y2hbMV0sIHBhcnNlZEFycmF5LCBjb25maWcpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbmZpZy5fYSA9IHBhcnNlZEFycmF5O1xyXG4gICAgICAgICAgICBjb25maWcuX3R6bSA9IGNhbGN1bGF0ZU9mZnNldChtYXRjaFs4XSwgbWF0Y2hbOV0sIG1hdGNoWzEwXSk7XHJcblxyXG4gICAgICAgICAgICBjb25maWcuX2QgPSBjcmVhdGVVVENEYXRlLmFwcGx5KG51bGwsIGNvbmZpZy5fYSk7XHJcbiAgICAgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XHJcblxyXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5yZmMyODIyID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXQgb3IgZmFsbGJhY2tcclxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIG1hdGNoZWQgPSBhc3BOZXRKc29uUmVnZXguZXhlYyhjb25maWcuX2kpO1xyXG5cclxuICAgICAgICBpZiAobWF0Y2hlZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSgrbWF0Y2hlZFsxXSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcclxuICAgICAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZyk7XHJcbiAgICAgICAgaWYgKGNvbmZpZy5faXNWYWxpZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGaW5hbCBhdHRlbXB0LCB1c2UgSW5wdXQgRmFsbGJhY2tcclxuICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrID0gZGVwcmVjYXRlKFxyXG4gICAgICAgICd2YWx1ZSBwcm92aWRlZCBpcyBub3QgaW4gYSByZWNvZ25pemVkIFJGQzI4MjIgb3IgSVNPIGZvcm1hdC4gbW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUoKSwgJyArXHJcbiAgICAgICAgJ3doaWNoIGlzIG5vdCByZWxpYWJsZSBhY3Jvc3MgYWxsIGJyb3dzZXJzIGFuZCB2ZXJzaW9ucy4gTm9uIFJGQzI4MjIvSVNPIGRhdGUgZm9ybWF0cyBhcmUgJyArXHJcbiAgICAgICAgJ2Rpc2NvdXJhZ2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYW4gdXBjb21pbmcgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHJlZmVyIHRvICcgK1xyXG4gICAgICAgICdodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2pzLWRhdGUvIGZvciBtb3JlIGluZm8uJyxcclxuICAgICAgICBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5faSArIChjb25maWcuX3VzZVVUQyA/ICcgVVRDJyA6ICcnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgSVNPIHN0YW5kYXJkXHJcbiAgICBob29rcy5JU09fODYwMSA9IGZ1bmN0aW9uICgpIHt9O1xyXG5cclxuICAgIC8vIGNvbnN0YW50IHRoYXQgcmVmZXJzIHRvIHRoZSBSRkMgMjgyMiBmb3JtXHJcbiAgICBob29rcy5SRkNfMjgyMiA9IGZ1bmN0aW9uICgpIHt9O1xyXG5cclxuICAgIC8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGZvcm1hdCBzdHJpbmdcclxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKSB7XHJcbiAgICAgICAgLy8gVE9ETzogTW92ZSB0aGlzIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgY3JlYXRpb24gZmxvdyB0byBwcmV2ZW50IGNpcmN1bGFyIGRlcHNcclxuICAgICAgICBpZiAoY29uZmlnLl9mID09PSBob29rcy5JU09fODYwMSkge1xyXG4gICAgICAgICAgICBjb25maWdGcm9tSVNPKGNvbmZpZyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbmZpZy5fZiA9PT0gaG9va3MuUkZDXzI4MjIpIHtcclxuICAgICAgICAgICAgY29uZmlnRnJvbVJGQzI4MjIoY29uZmlnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25maWcuX2EgPSBbXTtcclxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgYXJyYXkgaXMgdXNlZCB0byBtYWtlIGEgRGF0ZSwgZWl0aGVyIHdpdGggYG5ldyBEYXRlYCBvciBgRGF0ZS5VVENgXHJcbiAgICAgICAgdmFyIHN0cmluZyA9ICcnICsgY29uZmlnLl9pLFxyXG4gICAgICAgICAgICBpLCBwYXJzZWRJbnB1dCwgdG9rZW5zLCB0b2tlbiwgc2tpcHBlZCxcclxuICAgICAgICAgICAgc3RyaW5nTGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcclxuICAgICAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCA9IDA7XHJcblxyXG4gICAgICAgIHRva2VucyA9IGV4cGFuZEZvcm1hdChjb25maWcuX2YsIGNvbmZpZy5fbG9jYWxlKS5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSB8fCBbXTtcclxuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcclxuICAgICAgICAgICAgcGFyc2VkSW5wdXQgPSAoc3RyaW5nLm1hdGNoKGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSkgfHwgW10pWzBdO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndG9rZW4nLCB0b2tlbiwgJ3BhcnNlZElucHV0JywgcGFyc2VkSW5wdXQsXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgJ3JlZ2V4JywgZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKTtcclxuICAgICAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XHJcbiAgICAgICAgICAgICAgICBza2lwcGVkID0gc3RyaW5nLnN1YnN0cigwLCBzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNraXBwZWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc2tpcHBlZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc2xpY2Uoc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpICsgcGFyc2VkSW5wdXQubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggKz0gcGFyc2VkSW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGRvbid0IHBhcnNlIGlmIGl0J3Mgbm90IGEga25vd24gdG9rZW5cclxuICAgICAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBwYXJzZWRJbnB1dCwgY29uZmlnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb25maWcuX3N0cmljdCAmJiAhcGFyc2VkSW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gYWRkIHJlbWFpbmluZyB1bnBhcnNlZCBpbnB1dCBsZW5ndGggdG8gdGhlIHN0cmluZ1xyXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmNoYXJzTGVmdE92ZXIgPSBzdHJpbmdMZW5ndGggLSB0b3RhbFBhcnNlZElucHV0TGVuZ3RoO1xyXG4gICAgICAgIGlmIChzdHJpbmcubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHN0cmluZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjbGVhciBfMTJoIGZsYWcgaWYgaG91ciBpcyA8PSAxMlxyXG4gICAgICAgIGlmIChjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcclxuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9PT0gdHJ1ZSAmJlxyXG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPiAwKSB7XHJcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5wYXJzZWREYXRlUGFydHMgPSBjb25maWcuX2Euc2xpY2UoMCk7XHJcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykubWVyaWRpZW0gPSBjb25maWcuX21lcmlkaWVtO1xyXG4gICAgICAgIC8vIGhhbmRsZSBtZXJpZGllbVxyXG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IG1lcmlkaWVtRml4V3JhcChjb25maWcuX2xvY2FsZSwgY29uZmlnLl9hW0hPVVJdLCBjb25maWcuX21lcmlkaWVtKTtcclxuXHJcbiAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XHJcbiAgICAgICAgY2hlY2tPdmVyZmxvdyhjb25maWcpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBtZXJpZGllbUZpeFdyYXAgKGxvY2FsZSwgaG91ciwgbWVyaWRpZW0pIHtcclxuICAgICAgICB2YXIgaXNQbTtcclxuXHJcbiAgICAgICAgaWYgKG1lcmlkaWVtID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gbm90aGluZyB0byBkb1xyXG4gICAgICAgICAgICByZXR1cm4gaG91cjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxvY2FsZS5tZXJpZGllbUhvdXIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlLm1lcmlkaWVtSG91cihob3VyLCBtZXJpZGllbSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChsb2NhbGUuaXNQTSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrXHJcbiAgICAgICAgICAgIGlzUG0gPSBsb2NhbGUuaXNQTShtZXJpZGllbSk7XHJcbiAgICAgICAgICAgIGlmIChpc1BtICYmIGhvdXIgPCAxMikge1xyXG4gICAgICAgICAgICAgICAgaG91ciArPSAxMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWlzUG0gJiYgaG91ciA9PT0gMTIpIHtcclxuICAgICAgICAgICAgICAgIGhvdXIgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBob3VyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbm90IHN1cHBvc2VkIHRvIGhhcHBlblxyXG4gICAgICAgICAgICByZXR1cm4gaG91cjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgYXJyYXkgb2YgZm9ybWF0IHN0cmluZ3NcclxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpIHtcclxuICAgICAgICB2YXIgdGVtcENvbmZpZyxcclxuICAgICAgICAgICAgYmVzdE1vbWVudCxcclxuXHJcbiAgICAgICAgICAgIHNjb3JlVG9CZWF0LFxyXG4gICAgICAgICAgICBpLFxyXG4gICAgICAgICAgICBjdXJyZW50U2NvcmU7XHJcblxyXG4gICAgICAgIGlmIChjb25maWcuX2YubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRGb3JtYXQgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShOYU4pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29uZmlnLl9mLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTY29yZSA9IDA7XHJcbiAgICAgICAgICAgIHRlbXBDb25maWcgPSBjb3B5Q29uZmlnKHt9LCBjb25maWcpO1xyXG4gICAgICAgICAgICBpZiAoY29uZmlnLl91c2VVVEMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGVtcENvbmZpZy5fdXNlVVRDID0gY29uZmlnLl91c2VVVEM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGVtcENvbmZpZy5fZiA9IGNvbmZpZy5fZltpXTtcclxuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdCh0ZW1wQ29uZmlnKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghaXNWYWxpZCh0ZW1wQ29uZmlnKSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueSBpbnB1dCB0aGF0IHdhcyBub3QgcGFyc2VkIGFkZCBhIHBlbmFsdHkgZm9yIHRoYXQgZm9ybWF0XHJcbiAgICAgICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuY2hhcnNMZWZ0T3ZlcjtcclxuXHJcbiAgICAgICAgICAgIC8vb3IgdG9rZW5zXHJcbiAgICAgICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykudW51c2VkVG9rZW5zLmxlbmd0aCAqIDEwO1xyXG5cclxuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnNjb3JlID0gY3VycmVudFNjb3JlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNjb3JlVG9CZWF0ID09IG51bGwgfHwgY3VycmVudFNjb3JlIDwgc2NvcmVUb0JlYXQpIHtcclxuICAgICAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xyXG4gICAgICAgICAgICAgICAgYmVzdE1vbWVudCA9IHRlbXBDb25maWc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4dGVuZChjb25maWcsIGJlc3RNb21lbnQgfHwgdGVtcENvbmZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbU9iamVjdChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnLl9kKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBpID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoY29uZmlnLl9pKTtcclxuICAgICAgICBjb25maWcuX2EgPSBtYXAoW2kueWVhciwgaS5tb250aCwgaS5kYXkgfHwgaS5kYXRlLCBpLmhvdXIsIGkubWludXRlLCBpLnNlY29uZCwgaS5taWxsaXNlY29uZF0sIGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iaiAmJiBwYXJzZUludChvYmosIDEwKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlRnJvbUNvbmZpZyAoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIHJlcyA9IG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhwcmVwYXJlQ29uZmlnKGNvbmZpZykpKTtcclxuICAgICAgICBpZiAocmVzLl9uZXh0RGF5KSB7XHJcbiAgICAgICAgICAgIC8vIEFkZGluZyBpcyBzbWFydCBlbm91Z2ggYXJvdW5kIERTVFxyXG4gICAgICAgICAgICByZXMuYWRkKDEsICdkJyk7XHJcbiAgICAgICAgICAgIHJlcy5fbmV4dERheSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcHJlcGFyZUNvbmZpZyAoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gY29uZmlnLl9pLFxyXG4gICAgICAgICAgICBmb3JtYXQgPSBjb25maWcuX2Y7XHJcblxyXG4gICAgICAgIGNvbmZpZy5fbG9jYWxlID0gY29uZmlnLl9sb2NhbGUgfHwgZ2V0TG9jYWxlKGNvbmZpZy5fbCk7XHJcblxyXG4gICAgICAgIGlmIChpbnB1dCA9PT0gbnVsbCB8fCAoZm9ybWF0ID09PSB1bmRlZmluZWQgJiYgaW5wdXQgPT09ICcnKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCh7bnVsbElucHV0OiB0cnVlfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBjb25maWcuX2kgPSBpbnB1dCA9IGNvbmZpZy5fbG9jYWxlLnByZXBhcnNlKGlucHV0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc01vbWVudChpbnB1dCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhpbnB1dCkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xyXG4gICAgICAgICAgICBjb25maWcuX2QgPSBpbnB1dDtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZm9ybWF0KSkge1xyXG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCkge1xyXG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XHJcbiAgICAgICAgfSAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFpc1ZhbGlkKGNvbmZpZykpIHtcclxuICAgICAgICAgICAgY29uZmlnLl9kID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb25maWc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUlucHV0KGNvbmZpZykge1xyXG4gICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faTtcclxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoaW5wdXQpKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcclxuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaW5wdXQudmFsdWVPZigpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZyhjb25maWcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgICAgICAgY29uZmlnLl9hID0gbWFwKGlucHV0LnNsaWNlKDApLCBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQob2JqLCAxMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGlucHV0KSkge1xyXG4gICAgICAgICAgICBjb25maWdGcm9tT2JqZWN0KGNvbmZpZyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihpbnB1dCkpIHtcclxuICAgICAgICAgICAgLy8gZnJvbSBtaWxsaXNlY29uZHNcclxuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaW5wdXQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUxvY2FsT3JVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBpc1VUQykge1xyXG4gICAgICAgIHZhciBjID0ge307XHJcblxyXG4gICAgICAgIGlmIChsb2NhbGUgPT09IHRydWUgfHwgbG9jYWxlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBzdHJpY3QgPSBsb2NhbGU7XHJcbiAgICAgICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgoaXNPYmplY3QoaW5wdXQpICYmIGlzT2JqZWN0RW1wdHkoaW5wdXQpKSB8fFxyXG4gICAgICAgICAgICAgICAgKGlzQXJyYXkoaW5wdXQpICYmIGlucHV0Lmxlbmd0aCA9PT0gMCkpIHtcclxuICAgICAgICAgICAgaW5wdXQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIG9iamVjdCBjb25zdHJ1Y3Rpb24gbXVzdCBiZSBkb25lIHRoaXMgd2F5LlxyXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNDIzXHJcbiAgICAgICAgYy5faXNBTW9tZW50T2JqZWN0ID0gdHJ1ZTtcclxuICAgICAgICBjLl91c2VVVEMgPSBjLl9pc1VUQyA9IGlzVVRDO1xyXG4gICAgICAgIGMuX2wgPSBsb2NhbGU7XHJcbiAgICAgICAgYy5faSA9IGlucHV0O1xyXG4gICAgICAgIGMuX2YgPSBmb3JtYXQ7XHJcbiAgICAgICAgYy5fc3RyaWN0ID0gc3RyaWN0O1xyXG5cclxuICAgICAgICByZXR1cm4gY3JlYXRlRnJvbUNvbmZpZyhjKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVMb2NhbCAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBwcm90b3R5cGVNaW4gPSBkZXByZWNhdGUoXHJcbiAgICAgICAgJ21vbWVudCgpLm1pbiBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcclxuICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvdGhlciA8IHRoaXMgPyB0aGlzIDogb3RoZXI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICB2YXIgcHJvdG90eXBlTWF4ID0gZGVwcmVjYXRlKFxyXG4gICAgICAgICdtb21lbnQoKS5tYXggaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5taW4gaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXHJcbiAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3RoZXIgPiB0aGlzID8gdGhpcyA6IG90aGVyO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgLy8gUGljayBhIG1vbWVudCBtIGZyb20gbW9tZW50cyBzbyB0aGF0IG1bZm5dKG90aGVyKSBpcyB0cnVlIGZvciBhbGxcclxuICAgIC8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cclxuICAgIC8vXHJcbiAgICAvLyBtb21lbnRzIHNob3VsZCBlaXRoZXIgYmUgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMgb3IgYW4gYXJyYXksIHdob3NlXHJcbiAgICAvLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxyXG4gICAgZnVuY3Rpb24gcGlja0J5KGZuLCBtb21lbnRzKSB7XHJcbiAgICAgICAgdmFyIHJlcywgaTtcclxuICAgICAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xyXG4gICAgICAgICAgICBtb21lbnRzID0gbW9tZW50c1swXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzID0gbW9tZW50c1swXTtcclxuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbW9tZW50cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBpZiAoIW1vbWVudHNbaV0uaXNWYWxpZCgpIHx8IG1vbWVudHNbaV1bZm5dKHJlcykpIHtcclxuICAgICAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBVc2UgW10uc29ydCBpbnN0ZWFkP1xyXG4gICAgZnVuY3Rpb24gbWluICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBpY2tCeSgnaXNCZWZvcmUnLCBhcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYXggKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xyXG5cclxuICAgICAgICByZXR1cm4gcGlja0J5KCdpc0FmdGVyJywgYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG5vdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gRGF0ZS5ub3cgPyBEYXRlLm5vdygpIDogKyhuZXcgRGF0ZSgpKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIG9yZGVyaW5nID0gWyd5ZWFyJywgJ3F1YXJ0ZXInLCAnbW9udGgnLCAnd2VlaycsICdkYXknLCAnaG91cicsICdtaW51dGUnLCAnc2Vjb25kJywgJ21pbGxpc2Vjb25kJ107XHJcblxyXG4gICAgZnVuY3Rpb24gaXNEdXJhdGlvblZhbGlkKG0pIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gbSkge1xyXG4gICAgICAgICAgICBpZiAoIShpbmRleE9mLmNhbGwob3JkZXJpbmcsIGtleSkgIT09IC0xICYmIChtW2tleV0gPT0gbnVsbCB8fCAhaXNOYU4obVtrZXldKSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB1bml0SGFzRGVjaW1hbCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JkZXJpbmcubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgaWYgKG1bb3JkZXJpbmdbaV1dKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodW5pdEhhc0RlY2ltYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG9ubHkgYWxsb3cgbm9uLWludGVnZXJzIGZvciBzbWFsbGVzdCB1bml0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VGbG9hdChtW29yZGVyaW5nW2ldXSkgIT09IHRvSW50KG1bb3JkZXJpbmdbaV1dKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVuaXRIYXNEZWNpbWFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNWYWxpZCQxKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc1ZhbGlkO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmFsaWQkMSgpIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oTmFOKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBEdXJhdGlvbiAoZHVyYXRpb24pIHtcclxuICAgICAgICB2YXIgbm9ybWFsaXplZElucHV0ID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoZHVyYXRpb24pLFxyXG4gICAgICAgICAgICB5ZWFycyA9IG5vcm1hbGl6ZWRJbnB1dC55ZWFyIHx8IDAsXHJcbiAgICAgICAgICAgIHF1YXJ0ZXJzID0gbm9ybWFsaXplZElucHV0LnF1YXJ0ZXIgfHwgMCxcclxuICAgICAgICAgICAgbW9udGhzID0gbm9ybWFsaXplZElucHV0Lm1vbnRoIHx8IDAsXHJcbiAgICAgICAgICAgIHdlZWtzID0gbm9ybWFsaXplZElucHV0LndlZWsgfHwgbm9ybWFsaXplZElucHV0Lmlzb1dlZWsgfHwgMCxcclxuICAgICAgICAgICAgZGF5cyA9IG5vcm1hbGl6ZWRJbnB1dC5kYXkgfHwgMCxcclxuICAgICAgICAgICAgaG91cnMgPSBub3JtYWxpemVkSW5wdXQuaG91ciB8fCAwLFxyXG4gICAgICAgICAgICBtaW51dGVzID0gbm9ybWFsaXplZElucHV0Lm1pbnV0ZSB8fCAwLFxyXG4gICAgICAgICAgICBzZWNvbmRzID0gbm9ybWFsaXplZElucHV0LnNlY29uZCB8fCAwLFxyXG4gICAgICAgICAgICBtaWxsaXNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQubWlsbGlzZWNvbmQgfHwgMDtcclxuXHJcbiAgICAgICAgdGhpcy5faXNWYWxpZCA9IGlzRHVyYXRpb25WYWxpZChub3JtYWxpemVkSW5wdXQpO1xyXG5cclxuICAgICAgICAvLyByZXByZXNlbnRhdGlvbiBmb3IgZGF0ZUFkZFJlbW92ZVxyXG4gICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9ICttaWxsaXNlY29uZHMgK1xyXG4gICAgICAgICAgICBzZWNvbmRzICogMWUzICsgLy8gMTAwMFxyXG4gICAgICAgICAgICBtaW51dGVzICogNmU0ICsgLy8gMTAwMCAqIDYwXHJcbiAgICAgICAgICAgIGhvdXJzICogMTAwMCAqIDYwICogNjA7IC8vdXNpbmcgMTAwMCAqIDYwICogNjAgaW5zdGVhZCBvZiAzNmU1IHRvIGF2b2lkIGZsb2F0aW5nIHBvaW50IHJvdW5kaW5nIGVycm9ycyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjk3OFxyXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgZGF0ZUFkZFJlbW92ZSB0cmVhdHMgMjQgaG91cnMgYXMgZGlmZmVyZW50IGZyb20gYVxyXG4gICAgICAgIC8vIGRheSB3aGVuIHdvcmtpbmcgYXJvdW5kIERTVCwgd2UgbmVlZCB0byBzdG9yZSB0aGVtIHNlcGFyYXRlbHlcclxuICAgICAgICB0aGlzLl9kYXlzID0gK2RheXMgK1xyXG4gICAgICAgICAgICB3ZWVrcyAqIDc7XHJcbiAgICAgICAgLy8gSXQgaXMgaW1wb3NzaWJsZSB0byB0cmFuc2xhdGUgbW9udGhzIGludG8gZGF5cyB3aXRob3V0IGtub3dpbmdcclxuICAgICAgICAvLyB3aGljaCBtb250aHMgeW91IGFyZSBhcmUgdGFsa2luZyBhYm91dCwgc28gd2UgaGF2ZSB0byBzdG9yZVxyXG4gICAgICAgIC8vIGl0IHNlcGFyYXRlbHkuXHJcbiAgICAgICAgdGhpcy5fbW9udGhzID0gK21vbnRocyArXHJcbiAgICAgICAgICAgIHF1YXJ0ZXJzICogMyArXHJcbiAgICAgICAgICAgIHllYXJzICogMTI7XHJcblxyXG4gICAgICAgIHRoaXMuX2RhdGEgPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2J1YmJsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzRHVyYXRpb24gKG9iaikge1xyXG4gICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBEdXJhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhYnNSb3VuZCAobnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKG51bWJlciA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTEgKiBudW1iZXIpICogLTE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQobnVtYmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRk9STUFUVElOR1xyXG5cclxuICAgIGZ1bmN0aW9uIG9mZnNldCAodG9rZW4sIHNlcGFyYXRvcikge1xyXG4gICAgICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLnV0Y09mZnNldCgpO1xyXG4gICAgICAgICAgICB2YXIgc2lnbiA9ICcrJztcclxuICAgICAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcclxuICAgICAgICAgICAgICAgIG9mZnNldCA9IC1vZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICBzaWduID0gJy0nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaWduICsgemVyb0ZpbGwofn4ob2Zmc2V0IC8gNjApLCAyKSArIHNlcGFyYXRvciArIHplcm9GaWxsKH5+KG9mZnNldCkgJSA2MCwgMik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb2Zmc2V0KCdaJywgJzonKTtcclxuICAgIG9mZnNldCgnWlonLCAnJyk7XHJcblxyXG4gICAgLy8gUEFSU0lOR1xyXG5cclxuICAgIGFkZFJlZ2V4VG9rZW4oJ1onLCAgbWF0Y2hTaG9ydE9mZnNldCk7XHJcbiAgICBhZGRSZWdleFRva2VuKCdaWicsIG1hdGNoU2hvcnRPZmZzZXQpO1xyXG4gICAgYWRkUGFyc2VUb2tlbihbJ1onLCAnWlonXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XHJcbiAgICAgICAgY29uZmlnLl91c2VVVEMgPSB0cnVlO1xyXG4gICAgICAgIGNvbmZpZy5fdHptID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBIRUxQRVJTXHJcblxyXG4gICAgLy8gdGltZXpvbmUgY2h1bmtlclxyXG4gICAgLy8gJysxMDowMCcgPiBbJzEwJywgICcwMCddXHJcbiAgICAvLyAnLTE1MzAnICA+IFsnLTE1JywgJzMwJ11cclxuICAgIHZhciBjaHVua09mZnNldCA9IC8oW1xcK1xcLV18XFxkXFxkKS9naTtcclxuXHJcbiAgICBmdW5jdGlvbiBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoZXIsIHN0cmluZykge1xyXG4gICAgICAgIHZhciBtYXRjaGVzID0gKHN0cmluZyB8fCAnJykubWF0Y2gobWF0Y2hlcik7XHJcblxyXG4gICAgICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGNodW5rICAgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0gfHwgW107XHJcbiAgICAgICAgdmFyIHBhcnRzICAgPSAoY2h1bmsgKyAnJykubWF0Y2goY2h1bmtPZmZzZXQpIHx8IFsnLScsIDAsIDBdO1xyXG4gICAgICAgIHZhciBtaW51dGVzID0gKyhwYXJ0c1sxXSAqIDYwKSArIHRvSW50KHBhcnRzWzJdKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG1pbnV0ZXMgPT09IDAgP1xyXG4gICAgICAgICAgMCA6XHJcbiAgICAgICAgICBwYXJ0c1swXSA9PT0gJysnID8gbWludXRlcyA6IC1taW51dGVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXHJcbiAgICBmdW5jdGlvbiBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIG1vZGVsKSB7XHJcbiAgICAgICAgdmFyIHJlcywgZGlmZjtcclxuICAgICAgICBpZiAobW9kZWwuX2lzVVRDKSB7XHJcbiAgICAgICAgICAgIHJlcyA9IG1vZGVsLmNsb25lKCk7XHJcbiAgICAgICAgICAgIGRpZmYgPSAoaXNNb21lbnQoaW5wdXQpIHx8IGlzRGF0ZShpbnB1dCkgPyBpbnB1dC52YWx1ZU9mKCkgOiBjcmVhdGVMb2NhbChpbnB1dCkudmFsdWVPZigpKSAtIHJlcy52YWx1ZU9mKCk7XHJcbiAgICAgICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cclxuICAgICAgICAgICAgcmVzLl9kLnNldFRpbWUocmVzLl9kLnZhbHVlT2YoKSArIGRpZmYpO1xyXG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0KS5sb2NhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXREYXRlT2Zmc2V0IChtKSB7XHJcbiAgICAgICAgLy8gT24gRmlyZWZveC4yNCBEYXRlI2dldFRpbWV6b25lT2Zmc2V0IHJldHVybnMgYSBmbG9hdGluZyBwb2ludC5cclxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9wdWxsLzE4NzFcclxuICAgICAgICByZXR1cm4gLU1hdGgucm91bmQobS5fZC5nZXRUaW1lem9uZU9mZnNldCgpIC8gMTUpICogMTU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSE9PS1NcclxuXHJcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIGEgbW9tZW50IGlzIG11dGF0ZWQuXHJcbiAgICAvLyBJdCBpcyBpbnRlbmRlZCB0byBrZWVwIHRoZSBvZmZzZXQgaW4gc3luYyB3aXRoIHRoZSB0aW1lem9uZS5cclxuICAgIGhvb2tzLnVwZGF0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHt9O1xyXG5cclxuICAgIC8vIE1PTUVOVFNcclxuXHJcbiAgICAvLyBrZWVwTG9jYWxUaW1lID0gdHJ1ZSBtZWFucyBvbmx5IGNoYW5nZSB0aGUgdGltZXpvbmUsIHdpdGhvdXRcclxuICAgIC8vIGFmZmVjdGluZyB0aGUgbG9jYWwgaG91ci4gU28gNTozMToyNiArMDMwMCAtLVt1dGNPZmZzZXQoMiwgdHJ1ZSldLS0+XHJcbiAgICAvLyA1OjMxOjI2ICswMjAwIEl0IGlzIHBvc3NpYmxlIHRoYXQgNTozMToyNiBkb2Vzbid0IGV4aXN0IHdpdGggb2Zmc2V0XHJcbiAgICAvLyArMDIwMCwgc28gd2UgYWRqdXN0IHRoZSB0aW1lIGFzIG5lZWRlZCwgdG8gYmUgdmFsaWQuXHJcbiAgICAvL1xyXG4gICAgLy8gS2VlcGluZyB0aGUgdGltZSBhY3R1YWxseSBhZGRzL3N1YnRyYWN0cyAob25lIGhvdXIpXHJcbiAgICAvLyBmcm9tIHRoZSBhY3R1YWwgcmVwcmVzZW50ZWQgdGltZS4gVGhhdCBpcyB3aHkgd2UgY2FsbCB1cGRhdGVPZmZzZXRcclxuICAgIC8vIGEgc2Vjb25kIHRpbWUuIEluIGNhc2UgaXQgd2FudHMgdXMgdG8gY2hhbmdlIHRoZSBvZmZzZXQgYWdhaW5cclxuICAgIC8vIF9jaGFuZ2VJblByb2dyZXNzID09IHRydWUgY2FzZSwgdGhlbiB3ZSBoYXZlIHRvIGFkanVzdCwgYmVjYXVzZVxyXG4gICAgLy8gdGhlcmUgaXMgbm8gc3VjaCB0aW1lIGluIHRoZSBnaXZlbiB0aW1lem9uZS5cclxuICAgIGZ1bmN0aW9uIGdldFNldE9mZnNldCAoaW5wdXQsIGtlZXBMb2NhbFRpbWUsIGtlZXBNaW51dGVzKSB7XHJcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuX29mZnNldCB8fCAwLFxyXG4gICAgICAgICAgICBsb2NhbEFkanVzdDtcclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbnB1dCkgPCAxNiAmJiAha2VlcE1pbnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gaW5wdXQgKiA2MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzVVRDICYmIGtlZXBMb2NhbFRpbWUpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsQWRqdXN0ID0gZ2V0RGF0ZU9mZnNldCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbnB1dDtcclxuICAgICAgICAgICAgdGhpcy5faXNVVEMgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAobG9jYWxBZGp1c3QgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQobG9jYWxBZGp1c3QsICdtJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9mZnNldCAhPT0gaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgha2VlcExvY2FsVGltZSB8fCB0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkU3VidHJhY3QodGhpcywgY3JlYXRlRHVyYXRpb24oaW5wdXQgLSBvZmZzZXQsICdtJyksIDEsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gb2Zmc2V0IDogZ2V0RGF0ZU9mZnNldCh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0U2V0Wm9uZSAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcclxuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgaW5wdXQgPSAtaW5wdXQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KGlucHV0LCBrZWVwTG9jYWxUaW1lKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9VVEMgKGtlZXBMb2NhbFRpbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9Mb2NhbCAoa2VlcExvY2FsVGltZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc1VUQykge1xyXG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTtcclxuICAgICAgICAgICAgdGhpcy5faXNVVEMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChrZWVwTG9jYWxUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnRyYWN0KGdldERhdGVPZmZzZXQodGhpcyksICdtJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQgKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl90em0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCh0aGlzLl90em0sIGZhbHNlLCB0cnVlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLl9pID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcclxuICAgICAgICAgICAgaWYgKHRab25lICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRab25lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGhhc0FsaWduZWRIb3VyT2Zmc2V0IChpbnB1dCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnB1dCA9IGlucHV0ID8gY3JlYXRlTG9jYWwoaW5wdXQpLnV0Y09mZnNldCgpIDogMDtcclxuXHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnV0Y09mZnNldCgpIC0gaW5wdXQpICUgNjAgPT09IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWUgKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoMCkudXRjT2Zmc2V0KCkgfHxcclxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkICgpIHtcclxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX2lzRFNUU2hpZnRlZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBjID0ge307XHJcblxyXG4gICAgICAgIGNvcHlDb25maWcoYywgdGhpcyk7XHJcbiAgICAgICAgYyA9IHByZXBhcmVDb25maWcoYyk7XHJcblxyXG4gICAgICAgIGlmIChjLl9hKSB7XHJcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGMuX2lzVVRDID8gY3JlYXRlVVRDKGMuX2EpIDogY3JlYXRlTG9jYWwoYy5fYSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IHRoaXMuaXNWYWxpZCgpICYmXHJcbiAgICAgICAgICAgICAgICBjb21wYXJlQXJyYXlzKGMuX2EsIG90aGVyLnRvQXJyYXkoKSkgPiAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc0xvY2FsICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyAhdGhpcy5faXNVVEMgOiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc1V0Y09mZnNldCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgOiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc1V0YyAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgJiYgdGhpcy5fb2Zmc2V0ID09PSAwIDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XHJcbiAgICB2YXIgYXNwTmV0UmVnZXggPSAvXihcXC18XFwrKT8oPzooXFxkKilbLiBdKT8oXFxkKylcXDooXFxkKykoPzpcXDooXFxkKykoXFwuXFxkKik/KT8kLztcclxuXHJcbiAgICAvLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbFxyXG4gICAgLy8gc29tZXdoYXQgbW9yZSBpbiBsaW5lIHdpdGggNC40LjMuMiAyMDA0IHNwZWMsIGJ1dCBhbGxvd3MgZGVjaW1hbCBhbnl3aGVyZVxyXG4gICAgLy8gYW5kIGZ1cnRoZXIgbW9kaWZpZWQgdG8gYWxsb3cgZm9yIHN0cmluZ3MgY29udGFpbmluZyBib3RoIHdlZWsgYW5kIGRheVxyXG4gICAgdmFyIGlzb1JlZ2V4ID0gL14oLXxcXCspP1AoPzooWy0rXT9bMC05LC5dKilZKT8oPzooWy0rXT9bMC05LC5dKilNKT8oPzooWy0rXT9bMC05LC5dKilXKT8oPzooWy0rXT9bMC05LC5dKilEKT8oPzpUKD86KFstK10/WzAtOSwuXSopSCk/KD86KFstK10/WzAtOSwuXSopTSk/KD86KFstK10/WzAtOSwuXSopUyk/KT8kLztcclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVEdXJhdGlvbiAoaW5wdXQsIGtleSkge1xyXG4gICAgICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LFxyXG4gICAgICAgICAgICAvLyBtYXRjaGluZyBhZ2FpbnN0IHJlZ2V4cCBpcyBleHBlbnNpdmUsIGRvIGl0IG9uIGRlbWFuZFxyXG4gICAgICAgICAgICBtYXRjaCA9IG51bGwsXHJcbiAgICAgICAgICAgIHNpZ24sXHJcbiAgICAgICAgICAgIHJldCxcclxuICAgICAgICAgICAgZGlmZlJlcztcclxuXHJcbiAgICAgICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpKSB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgbXMgOiBpbnB1dC5fbWlsbGlzZWNvbmRzLFxyXG4gICAgICAgICAgICAgICAgZCAgOiBpbnB1dC5fZGF5cyxcclxuICAgICAgICAgICAgICAgIE0gIDogaW5wdXQuX21vbnRoc1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpKSB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge307XHJcbiAgICAgICAgICAgIGlmIChrZXkpIHtcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uW2tleV0gPSBpbnB1dDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uLm1pbGxpc2Vjb25kcyA9IGlucHV0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGFzcE5ldFJlZ2V4LmV4ZWMoaW5wdXQpKSkge1xyXG4gICAgICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xyXG4gICAgICAgICAgICBkdXJhdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgIHkgIDogMCxcclxuICAgICAgICAgICAgICAgIGQgIDogdG9JbnQobWF0Y2hbREFURV0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcclxuICAgICAgICAgICAgICAgIGggIDogdG9JbnQobWF0Y2hbSE9VUl0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcclxuICAgICAgICAgICAgICAgIG0gIDogdG9JbnQobWF0Y2hbTUlOVVRFXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcclxuICAgICAgICAgICAgICAgIHMgIDogdG9JbnQobWF0Y2hbU0VDT05EXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcclxuICAgICAgICAgICAgICAgIG1zIDogdG9JbnQoYWJzUm91bmQobWF0Y2hbTUlMTElTRUNPTkRdICogMTAwMCkpICogc2lnbiAvLyB0aGUgbWlsbGlzZWNvbmQgZGVjaW1hbCBwb2ludCBpcyBpbmNsdWRlZCBpbiB0aGUgbWF0Y2hcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gaXNvUmVnZXguZXhlYyhpbnB1dCkpKSB7XHJcbiAgICAgICAgICAgIHNpZ24gPSAobWF0Y2hbMV0gPT09ICctJykgPyAtMSA6IDE7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgeSA6IHBhcnNlSXNvKG1hdGNoWzJdLCBzaWduKSxcclxuICAgICAgICAgICAgICAgIE0gOiBwYXJzZUlzbyhtYXRjaFszXSwgc2lnbiksXHJcbiAgICAgICAgICAgICAgICB3IDogcGFyc2VJc28obWF0Y2hbNF0sIHNpZ24pLFxyXG4gICAgICAgICAgICAgICAgZCA6IHBhcnNlSXNvKG1hdGNoWzVdLCBzaWduKSxcclxuICAgICAgICAgICAgICAgIGggOiBwYXJzZUlzbyhtYXRjaFs2XSwgc2lnbiksXHJcbiAgICAgICAgICAgICAgICBtIDogcGFyc2VJc28obWF0Y2hbN10sIHNpZ24pLFxyXG4gICAgICAgICAgICAgICAgcyA6IHBhcnNlSXNvKG1hdGNoWzhdLCBzaWduKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZHVyYXRpb24gPT0gbnVsbCkgey8vIGNoZWNrcyBmb3IgbnVsbCBvciB1bmRlZmluZWRcclxuICAgICAgICAgICAgZHVyYXRpb24gPSB7fTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ29iamVjdCcgJiYgKCdmcm9tJyBpbiBkdXJhdGlvbiB8fCAndG8nIGluIGR1cmF0aW9uKSkge1xyXG4gICAgICAgICAgICBkaWZmUmVzID0gbW9tZW50c0RpZmZlcmVuY2UoY3JlYXRlTG9jYWwoZHVyYXRpb24uZnJvbSksIGNyZWF0ZUxvY2FsKGR1cmF0aW9uLnRvKSk7XHJcblxyXG4gICAgICAgICAgICBkdXJhdGlvbiA9IHt9O1xyXG4gICAgICAgICAgICBkdXJhdGlvbi5tcyA9IGRpZmZSZXMubWlsbGlzZWNvbmRzO1xyXG4gICAgICAgICAgICBkdXJhdGlvbi5NID0gZGlmZlJlcy5tb250aHM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXQgPSBuZXcgRHVyYXRpb24oZHVyYXRpb24pO1xyXG5cclxuICAgICAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkgJiYgaGFzT3duUHJvcChpbnB1dCwgJ19sb2NhbGUnKSkge1xyXG4gICAgICAgICAgICByZXQuX2xvY2FsZSA9IGlucHV0Ll9sb2NhbGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUR1cmF0aW9uLmZuID0gRHVyYXRpb24ucHJvdG90eXBlO1xyXG4gICAgY3JlYXRlRHVyYXRpb24uaW52YWxpZCA9IGNyZWF0ZUludmFsaWQkMTtcclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZUlzbyAoaW5wLCBzaWduKSB7XHJcbiAgICAgICAgLy8gV2UnZCBub3JtYWxseSB1c2Ugfn5pbnAgZm9yIHRoaXMsIGJ1dCB1bmZvcnR1bmF0ZWx5IGl0IGFsc29cclxuICAgICAgICAvLyBjb252ZXJ0cyBmbG9hdHMgdG8gaW50cy5cclxuICAgICAgICAvLyBpbnAgbWF5IGJlIHVuZGVmaW5lZCwgc28gY2FyZWZ1bCBjYWxsaW5nIHJlcGxhY2Ugb24gaXQuXHJcbiAgICAgICAgdmFyIHJlcyA9IGlucCAmJiBwYXJzZUZsb2F0KGlucC5yZXBsYWNlKCcsJywgJy4nKSk7XHJcbiAgICAgICAgLy8gYXBwbHkgc2lnbiB3aGlsZSB3ZSdyZSBhdCBpdFxyXG4gICAgICAgIHJldHVybiAoaXNOYU4ocmVzKSA/IDAgOiByZXMpICogc2lnbjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XHJcbiAgICAgICAgdmFyIHJlcyA9IHt9O1xyXG5cclxuICAgICAgICByZXMubW9udGhzID0gb3RoZXIubW9udGgoKSAtIGJhc2UubW9udGgoKSArXHJcbiAgICAgICAgICAgIChvdGhlci55ZWFyKCkgLSBiYXNlLnllYXIoKSkgKiAxMjtcclxuICAgICAgICBpZiAoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpLmlzQWZ0ZXIob3RoZXIpKSB7XHJcbiAgICAgICAgICAgIC0tcmVzLm1vbnRocztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSArb3RoZXIgLSArKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcclxuICAgICAgICB2YXIgcmVzO1xyXG4gICAgICAgIGlmICghKGJhc2UuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvdGhlciA9IGNsb25lV2l0aE9mZnNldChvdGhlciwgYmFzZSk7XHJcbiAgICAgICAgaWYgKGJhc2UuaXNCZWZvcmUob3RoZXIpKSB7XHJcbiAgICAgICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2Uob3RoZXIsIGJhc2UpO1xyXG4gICAgICAgICAgICByZXMubWlsbGlzZWNvbmRzID0gLXJlcy5taWxsaXNlY29uZHM7XHJcbiAgICAgICAgICAgIHJlcy5tb250aHMgPSAtcmVzLm1vbnRocztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogcmVtb3ZlICduYW1lJyBhcmcgYWZ0ZXIgZGVwcmVjYXRpb24gaXMgcmVtb3ZlZFxyXG4gICAgZnVuY3Rpb24gY3JlYXRlQWRkZXIoZGlyZWN0aW9uLCBuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwsIHBlcmlvZCkge1xyXG4gICAgICAgICAgICB2YXIgZHVyLCB0bXA7XHJcbiAgICAgICAgICAgIC8vaW52ZXJ0IHRoZSBhcmd1bWVudHMsIGJ1dCBjb21wbGFpbiBhYm91dCBpdFxyXG4gICAgICAgICAgICBpZiAocGVyaW9kICE9PSBudWxsICYmICFpc05hTigrcGVyaW9kKSkge1xyXG4gICAgICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKG5hbWUsICdtb21lbnQoKS4nICsgbmFtZSAgKyAnKHBlcmlvZCwgbnVtYmVyKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG1vbWVudCgpLicgKyBuYW1lICsgJyhudW1iZXIsIHBlcmlvZCkuICcgK1xyXG4gICAgICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2FkZC1pbnZlcnRlZC1wYXJhbS8gZm9yIG1vcmUgaW5mby4nKTtcclxuICAgICAgICAgICAgICAgIHRtcCA9IHZhbDsgdmFsID0gcGVyaW9kOyBwZXJpb2QgPSB0bXA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gK3ZhbCA6IHZhbDtcclxuICAgICAgICAgICAgZHVyID0gY3JlYXRlRHVyYXRpb24odmFsLCBwZXJpb2QpO1xyXG4gICAgICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBkdXIsIGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkU3VidHJhY3QgKG1vbSwgZHVyYXRpb24sIGlzQWRkaW5nLCB1cGRhdGVPZmZzZXQpIHtcclxuICAgICAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcclxuICAgICAgICAgICAgZGF5cyA9IGFic1JvdW5kKGR1cmF0aW9uLl9kYXlzKSxcclxuICAgICAgICAgICAgbW9udGhzID0gYWJzUm91bmQoZHVyYXRpb24uX21vbnRocyk7XHJcblxyXG4gICAgICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICAvLyBObyBvcFxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB1cGRhdGVPZmZzZXQgPSB1cGRhdGVPZmZzZXQgPT0gbnVsbCA/IHRydWUgOiB1cGRhdGVPZmZzZXQ7XHJcblxyXG4gICAgICAgIGlmIChtb250aHMpIHtcclxuICAgICAgICAgICAgc2V0TW9udGgobW9tLCBnZXQobW9tLCAnTW9udGgnKSArIG1vbnRocyAqIGlzQWRkaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRheXMpIHtcclxuICAgICAgICAgICAgc2V0JDEobW9tLCAnRGF0ZScsIGdldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobWlsbGlzZWNvbmRzKSB7XHJcbiAgICAgICAgICAgIG1vbS5fZC5zZXRUaW1lKG1vbS5fZC52YWx1ZU9mKCkgKyBtaWxsaXNlY29uZHMgKiBpc0FkZGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh1cGRhdGVPZmZzZXQpIHtcclxuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KG1vbSwgZGF5cyB8fCBtb250aHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgYWRkICAgICAgPSBjcmVhdGVBZGRlcigxLCAnYWRkJyk7XHJcbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVBZGRlcigtMSwgJ3N1YnRyYWN0Jyk7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Q2FsZW5kYXJGb3JtYXQobXlNb21lbnQsIG5vdykge1xyXG4gICAgICAgIHZhciBkaWZmID0gbXlNb21lbnQuZGlmZihub3csICdkYXlzJywgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIGRpZmYgPCAtNiA/ICdzYW1lRWxzZScgOlxyXG4gICAgICAgICAgICAgICAgZGlmZiA8IC0xID8gJ2xhc3RXZWVrJyA6XHJcbiAgICAgICAgICAgICAgICBkaWZmIDwgMCA/ICdsYXN0RGF5JyA6XHJcbiAgICAgICAgICAgICAgICBkaWZmIDwgMSA/ICdzYW1lRGF5JyA6XHJcbiAgICAgICAgICAgICAgICBkaWZmIDwgMiA/ICduZXh0RGF5JyA6XHJcbiAgICAgICAgICAgICAgICBkaWZmIDwgNyA/ICduZXh0V2VlaycgOiAnc2FtZUVsc2UnO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNhbGVuZGFyJDEgKHRpbWUsIGZvcm1hdHMpIHtcclxuICAgICAgICAvLyBXZSB3YW50IHRvIGNvbXBhcmUgdGhlIHN0YXJ0IG9mIHRvZGF5LCB2cyB0aGlzLlxyXG4gICAgICAgIC8vIEdldHRpbmcgc3RhcnQtb2YtdG9kYXkgZGVwZW5kcyBvbiB3aGV0aGVyIHdlJ3JlIGxvY2FsL3V0Yy9vZmZzZXQgb3Igbm90LlxyXG4gICAgICAgIHZhciBub3cgPSB0aW1lIHx8IGNyZWF0ZUxvY2FsKCksXHJcbiAgICAgICAgICAgIHNvZCA9IGNsb25lV2l0aE9mZnNldChub3csIHRoaXMpLnN0YXJ0T2YoJ2RheScpLFxyXG4gICAgICAgICAgICBmb3JtYXQgPSBob29rcy5jYWxlbmRhckZvcm1hdCh0aGlzLCBzb2QpIHx8ICdzYW1lRWxzZSc7XHJcblxyXG4gICAgICAgIHZhciBvdXRwdXQgPSBmb3JtYXRzICYmIChpc0Z1bmN0aW9uKGZvcm1hdHNbZm9ybWF0XSkgPyBmb3JtYXRzW2Zvcm1hdF0uY2FsbCh0aGlzLCBub3cpIDogZm9ybWF0c1tmb3JtYXRdKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KG91dHB1dCB8fCB0aGlzLmxvY2FsZURhdGEoKS5jYWxlbmRhcihmb3JtYXQsIHRoaXMsIGNyZWF0ZUxvY2FsKG5vdykpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbG9uZSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNBZnRlciAoaW5wdXQsIHVuaXRzKSB7XHJcbiAgICAgICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcclxuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xyXG4gICAgICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPiBsb2NhbElucHV0LnZhbHVlT2YoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxJbnB1dC52YWx1ZU9mKCkgPCB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc0JlZm9yZSAoaW5wdXQsIHVuaXRzKSB7XHJcbiAgICAgICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcclxuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xyXG4gICAgICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNCZXR3ZWVuIChmcm9tLCB0bywgdW5pdHMsIGluY2x1c2l2aXR5KSB7XHJcbiAgICAgICAgdmFyIGxvY2FsRnJvbSA9IGlzTW9tZW50KGZyb20pID8gZnJvbSA6IGNyZWF0ZUxvY2FsKGZyb20pLFxyXG4gICAgICAgICAgICBsb2NhbFRvID0gaXNNb21lbnQodG8pID8gdG8gOiBjcmVhdGVMb2NhbCh0byk7XHJcbiAgICAgICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxGcm9tLmlzVmFsaWQoKSAmJiBsb2NhbFRvLmlzVmFsaWQoKSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmNsdXNpdml0eSA9IGluY2x1c2l2aXR5IHx8ICcoKSc7XHJcbiAgICAgICAgcmV0dXJuIChpbmNsdXNpdml0eVswXSA9PT0gJygnID8gdGhpcy5pc0FmdGVyKGxvY2FsRnJvbSwgdW5pdHMpIDogIXRoaXMuaXNCZWZvcmUobG9jYWxGcm9tLCB1bml0cykpICYmXHJcbiAgICAgICAgICAgIChpbmNsdXNpdml0eVsxXSA9PT0gJyknID8gdGhpcy5pc0JlZm9yZShsb2NhbFRvLCB1bml0cykgOiAhdGhpcy5pc0FmdGVyKGxvY2FsVG8sIHVuaXRzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNTYW1lIChpbnB1dCwgdW5pdHMpIHtcclxuICAgICAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpLFxyXG4gICAgICAgICAgICBpbnB1dE1zO1xyXG4gICAgICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpIHx8ICdtaWxsaXNlY29uZCc7XHJcbiAgICAgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA9PT0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW5wdXRNcyA9IGxvY2FsSW5wdXQudmFsdWVPZigpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKSA8PSBpbnB1dE1zICYmIGlucHV0TXMgPD0gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzU2FtZU9yQWZ0ZXIgKGlucHV0LCB1bml0cykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzU2FtZShpbnB1dCwgdW5pdHMpIHx8IHRoaXMuaXNBZnRlcihpbnB1dCwgdW5pdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzU2FtZU9yQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQmVmb3JlKGlucHV0LCB1bml0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGlmZiAoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XHJcbiAgICAgICAgdmFyIHRoYXQsXHJcbiAgICAgICAgICAgIHpvbmVEZWx0YSxcclxuICAgICAgICAgICAgb3V0cHV0O1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOYU47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0ID0gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCB0aGlzKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGF0LmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gTmFOO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgem9uZURlbHRhID0gKHRoYXQudXRjT2Zmc2V0KCkgLSB0aGlzLnV0Y09mZnNldCgpKSAqIDZlNDtcclxuXHJcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodW5pdHMpIHtcclxuICAgICAgICAgICAgY2FzZSAneWVhcic6IG91dHB1dCA9IG1vbnRoRGlmZih0aGlzLCB0aGF0KSAvIDEyOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbW9udGgnOiBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdxdWFydGVyJzogb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpIC8gMzsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3NlY29uZCc6IG91dHB1dCA9ICh0aGlzIC0gdGhhdCkgLyAxZTM7IGJyZWFrOyAvLyAxMDAwXHJcbiAgICAgICAgICAgIGNhc2UgJ21pbnV0ZSc6IG91dHB1dCA9ICh0aGlzIC0gdGhhdCkgLyA2ZTQ7IGJyZWFrOyAvLyAxMDAwICogNjBcclxuICAgICAgICAgICAgY2FzZSAnaG91cic6IG91dHB1dCA9ICh0aGlzIC0gdGhhdCkgLyAzNmU1OyBicmVhazsgLy8gMTAwMCAqIDYwICogNjBcclxuICAgICAgICAgICAgY2FzZSAnZGF5Jzogb3V0cHV0ID0gKHRoaXMgLSB0aGF0IC0gem9uZURlbHRhKSAvIDg2NGU1OyBicmVhazsgLy8gMTAwMCAqIDYwICogNjAgKiAyNCwgbmVnYXRlIGRzdFxyXG4gICAgICAgICAgICBjYXNlICd3ZWVrJzogb3V0cHV0ID0gKHRoaXMgLSB0aGF0IC0gem9uZURlbHRhKSAvIDYwNDhlNTsgYnJlYWs7IC8vIDEwMDAgKiA2MCAqIDYwICogMjQgKiA3LCBuZWdhdGUgZHN0XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG91dHB1dCA9IHRoaXMgLSB0aGF0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGFzRmxvYXQgPyBvdXRwdXQgOiBhYnNGbG9vcihvdXRwdXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vbnRoRGlmZiAoYSwgYikge1xyXG4gICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gbW9udGhzXHJcbiAgICAgICAgdmFyIHdob2xlTW9udGhEaWZmID0gKChiLnllYXIoKSAtIGEueWVhcigpKSAqIDEyKSArIChiLm1vbnRoKCkgLSBhLm1vbnRoKCkpLFxyXG4gICAgICAgICAgICAvLyBiIGlzIGluIChhbmNob3IgLSAxIG1vbnRoLCBhbmNob3IgKyAxIG1vbnRoKVxyXG4gICAgICAgICAgICBhbmNob3IgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmLCAnbW9udGhzJyksXHJcbiAgICAgICAgICAgIGFuY2hvcjIsIGFkanVzdDtcclxuXHJcbiAgICAgICAgaWYgKGIgLSBhbmNob3IgPCAwKSB7XHJcbiAgICAgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmIC0gMSwgJ21vbnRocycpO1xyXG4gICAgICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aFxyXG4gICAgICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yIC0gYW5jaG9yMik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYW5jaG9yMiA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYgKyAxLCAnbW9udGhzJyk7XHJcbiAgICAgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXHJcbiAgICAgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IyIC0gYW5jaG9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY2hlY2sgZm9yIG5lZ2F0aXZlIHplcm8sIHJldHVybiB6ZXJvIGlmIG5lZ2F0aXZlIHplcm9cclxuICAgICAgICByZXR1cm4gLSh3aG9sZU1vbnRoRGlmZiArIGFkanVzdCkgfHwgMDtcclxuICAgIH1cclxuXHJcbiAgICBob29rcy5kZWZhdWx0Rm9ybWF0ID0gJ1lZWVktTU0tRERUSEg6bW06c3NaJztcclxuICAgIGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgPSAnWVlZWS1NTS1ERFRISDptbTpzc1taXSc7XHJcblxyXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkubG9jYWxlKCdlbicpLmZvcm1hdCgnZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFtHTVRdWlonKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b0lTT1N0cmluZyhrZWVwT2Zmc2V0KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHV0YyA9IGtlZXBPZmZzZXQgIT09IHRydWU7XHJcbiAgICAgICAgdmFyIG0gPSB1dGMgPyB0aGlzLmNsb25lKCkudXRjKCkgOiB0aGlzO1xyXG4gICAgICAgIGlmIChtLnllYXIoKSA8IDAgfHwgbS55ZWFyKCkgPiA5OTk5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgdXRjID8gJ1lZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScgOiAnWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTWicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZykpIHtcclxuICAgICAgICAgICAgLy8gbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIH41MHggZmFzdGVyLCB1c2UgaXQgd2hlbiB3ZSBjYW5cclxuICAgICAgICAgICAgaWYgKHV0Yykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9EYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSArIHRoaXMudXRjT2Zmc2V0KCkgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgnWicsIGZvcm1hdE1vbWVudChtLCAnWicpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sIHV0YyA/ICdZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyA6ICdZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTWicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGEgaHVtYW4gcmVhZGFibGUgcmVwcmVzZW50YXRpb24gb2YgYSBtb21lbnQgdGhhdCBjYW5cclxuICAgICAqIGFsc28gYmUgZXZhbHVhdGVkIHRvIGdldCBhIG5ldyBtb21lbnQgd2hpY2ggaXMgdGhlIHNhbWVcclxuICAgICAqXHJcbiAgICAgKiBAbGluayBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QvZG9jcy9hcGkvdXRpbC5odG1sI3V0aWxfY3VzdG9tX2luc3BlY3RfZnVuY3Rpb25fb25fb2JqZWN0c1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnbW9tZW50LmludmFsaWQoLyogJyArIHRoaXMuX2kgKyAnICovKSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBmdW5jID0gJ21vbWVudCc7XHJcbiAgICAgICAgdmFyIHpvbmUgPSAnJztcclxuICAgICAgICBpZiAoIXRoaXMuaXNMb2NhbCgpKSB7XHJcbiAgICAgICAgICAgIGZ1bmMgPSB0aGlzLnV0Y09mZnNldCgpID09PSAwID8gJ21vbWVudC51dGMnIDogJ21vbWVudC5wYXJzZVpvbmUnO1xyXG4gICAgICAgICAgICB6b25lID0gJ1onO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcHJlZml4ID0gJ1snICsgZnVuYyArICcoXCJdJztcclxuICAgICAgICB2YXIgeWVhciA9ICgwIDw9IHRoaXMueWVhcigpICYmIHRoaXMueWVhcigpIDw9IDk5OTkpID8gJ1lZWVknIDogJ1lZWVlZWSc7XHJcbiAgICAgICAgdmFyIGRhdGV0aW1lID0gJy1NTS1ERFtUXUhIOm1tOnNzLlNTUyc7XHJcbiAgICAgICAgdmFyIHN1ZmZpeCA9IHpvbmUgKyAnW1wiKV0nO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQocHJlZml4ICsgeWVhciArIGRhdGV0aW1lICsgc3VmZml4KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmb3JtYXQgKGlucHV0U3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKCFpbnB1dFN0cmluZykge1xyXG4gICAgICAgICAgICBpbnB1dFN0cmluZyA9IHRoaXMuaXNVdGMoKSA/IGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgOiBob29rcy5kZWZhdWx0Rm9ybWF0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb3V0cHV0ID0gZm9ybWF0TW9tZW50KHRoaXMsIGlucHV0U3RyaW5nKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkucG9zdGZvcm1hdChvdXRwdXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZyb20gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcclxuICAgICAgICAgICAgICAgICgoaXNNb21lbnQodGltZSkgJiYgdGltZS5pc1ZhbGlkKCkpIHx8XHJcbiAgICAgICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe3RvOiB0aGlzLCBmcm9tOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZnJvbU5vdyAod2l0aG91dFN1ZmZpeCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZyb20oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG8gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcclxuICAgICAgICAgICAgICAgICgoaXNNb21lbnQodGltZSkgJiYgdGltZS5pc1ZhbGlkKCkpIHx8XHJcbiAgICAgICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe2Zyb206IHRoaXMsIHRvOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG9Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50byhjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBwYXNzZWQgYSBsb2NhbGUga2V5LCBpdCB3aWxsIHNldCB0aGUgbG9jYWxlIGZvciB0aGlzXHJcbiAgICAvLyBpbnN0YW5jZS4gIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIGxvY2FsZSBjb25maWd1cmF0aW9uXHJcbiAgICAvLyB2YXJpYWJsZXMgZm9yIHRoaXMgaW5zdGFuY2UuXHJcbiAgICBmdW5jdGlvbiBsb2NhbGUgKGtleSkge1xyXG4gICAgICAgIHZhciBuZXdMb2NhbGVEYXRhO1xyXG5cclxuICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZS5fYWJicjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuZXdMb2NhbGVEYXRhID0gZ2V0TG9jYWxlKGtleSk7XHJcbiAgICAgICAgICAgIGlmIChuZXdMb2NhbGVEYXRhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsZSA9IG5ld0xvY2FsZURhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBsYW5nID0gZGVwcmVjYXRlKFxyXG4gICAgICAgICdtb21lbnQoKS5sYW5nKCkgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCwgdXNlIG1vbWVudCgpLmxvY2FsZURhdGEoKSB0byBnZXQgdGhlIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24uIFVzZSBtb21lbnQoKS5sb2NhbGUoKSB0byBjaGFuZ2UgbGFuZ3VhZ2VzLicsXHJcbiAgICAgICAgZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZShrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBmdW5jdGlvbiBsb2NhbGVEYXRhICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBNU19QRVJfU0VDT05EID0gMTAwMDtcclxuICAgIHZhciBNU19QRVJfTUlOVVRFID0gNjAgKiBNU19QRVJfU0VDT05EO1xyXG4gICAgdmFyIE1TX1BFUl9IT1VSID0gNjAgKiBNU19QRVJfTUlOVVRFO1xyXG4gICAgdmFyIE1TX1BFUl80MDBfWUVBUlMgPSAoMzY1ICogNDAwICsgOTcpICogMjQgKiBNU19QRVJfSE9VUjtcclxuXHJcbiAgICAvLyBhY3R1YWwgbW9kdWxvIC0gaGFuZGxlcyBuZWdhdGl2ZSBudW1iZXJzIChmb3IgZGF0ZXMgYmVmb3JlIDE5NzApOlxyXG4gICAgZnVuY3Rpb24gbW9kJDEoZGl2aWRlbmQsIGRpdmlzb3IpIHtcclxuICAgICAgICByZXR1cm4gKGRpdmlkZW5kICUgZGl2aXNvciArIGRpdmlzb3IpICUgZGl2aXNvcjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsb2NhbFN0YXJ0T2ZEYXRlKHksIG0sIGQpIHtcclxuICAgICAgICAvLyB0aGUgZGF0ZSBjb25zdHJ1Y3RvciByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcclxuICAgICAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcclxuICAgICAgICAgICAgLy8gcHJlc2VydmUgbGVhcCB5ZWFycyB1c2luZyBhIGZ1bGwgNDAwIHllYXIgY3ljbGUsIHRoZW4gcmVzZXRcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHkgKyA0MDAsIG0sIGQpIC0gTVNfUEVSXzQwMF9ZRUFSUztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoeSwgbSwgZCkudmFsdWVPZigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1dGNTdGFydE9mRGF0ZSh5LCBtLCBkKSB7XHJcbiAgICAgICAgLy8gRGF0ZS5VVEMgcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XHJcbiAgICAgICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIHByZXNlcnZlIGxlYXAgeWVhcnMgdXNpbmcgYSBmdWxsIDQwMCB5ZWFyIGN5Y2xlLCB0aGVuIHJlc2V0XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlLlVUQyh5ICsgNDAwLCBtLCBkKSAtIE1TX1BFUl80MDBfWUVBUlM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIERhdGUuVVRDKHksIG0sIGQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzdGFydE9mICh1bml0cykge1xyXG4gICAgICAgIHZhciB0aW1lO1xyXG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xyXG4gICAgICAgIGlmICh1bml0cyA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzID09PSAnbWlsbGlzZWNvbmQnIHx8ICF0aGlzLmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBzdGFydE9mRGF0ZSA9IHRoaXMuX2lzVVRDID8gdXRjU3RhcnRPZkRhdGUgOiBsb2NhbFN0YXJ0T2ZEYXRlO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3llYXInOlxyXG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCAwLCAxKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdxdWFydGVyJzpcclxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpIC0gdGhpcy5tb250aCgpICUgMywgMSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxyXG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIDEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3dlZWsnOlxyXG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpIC0gdGhpcy53ZWVrZGF5KCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2lzb1dlZWsnOlxyXG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpIC0gKHRoaXMuaXNvV2Vla2RheSgpIC0gMSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2RheSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxyXG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdob3VyJzpcclxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcclxuICAgICAgICAgICAgICAgIHRpbWUgLT0gbW9kJDEodGltZSArICh0aGlzLl9pc1VUQyA/IDAgOiB0aGlzLnV0Y09mZnNldCgpICogTVNfUEVSX01JTlVURSksIE1TX1BFUl9IT1VSKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdtaW51dGUnOlxyXG4gICAgICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xyXG4gICAgICAgICAgICAgICAgdGltZSAtPSBtb2QkMSh0aW1lLCBNU19QRVJfTUlOVVRFKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzZWNvbmQnOlxyXG4gICAgICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xyXG4gICAgICAgICAgICAgICAgdGltZSAtPSBtb2QkMSh0aW1lLCBNU19QRVJfU0VDT05EKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fZC5zZXRUaW1lKHRpbWUpO1xyXG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBlbmRPZiAodW5pdHMpIHtcclxuICAgICAgICB2YXIgdGltZTtcclxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcclxuICAgICAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJyB8fCAhdGhpcy5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgc3RhcnRPZkRhdGUgPSB0aGlzLl9pc1VUQyA/IHV0Y1N0YXJ0T2ZEYXRlIDogbG9jYWxTdGFydE9mRGF0ZTtcclxuXHJcbiAgICAgICAgc3dpdGNoICh1bml0cykge1xyXG4gICAgICAgICAgICBjYXNlICd5ZWFyJzpcclxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSArIDEsIDAsIDEpIC0gMTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdxdWFydGVyJzpcclxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpIC0gdGhpcy5tb250aCgpICUgMyArIDMsIDEpIC0gMTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdtb250aCc6XHJcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSArIDEsIDEpIC0gMTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd3ZWVrJzpcclxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpLCB0aGlzLmRhdGUoKSAtIHRoaXMud2Vla2RheSgpICsgNykgLSAxO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2lzb1dlZWsnOlxyXG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpIC0gKHRoaXMuaXNvV2Vla2RheSgpIC0gMSkgKyA3KSAtIDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZGF5JzpcclxuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XHJcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgKyAxKSAtIDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnaG91cic6XHJcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XHJcbiAgICAgICAgICAgICAgICB0aW1lICs9IE1TX1BFUl9IT1VSIC0gbW9kJDEodGltZSArICh0aGlzLl9pc1VUQyA/IDAgOiB0aGlzLnV0Y09mZnNldCgpICogTVNfUEVSX01JTlVURSksIE1TX1BFUl9IT1VSKSAtIDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbWludXRlJzpcclxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcclxuICAgICAgICAgICAgICAgIHRpbWUgKz0gTVNfUEVSX01JTlVURSAtIG1vZCQxKHRpbWUsIE1TX1BFUl9NSU5VVEUpIC0gMTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzZWNvbmQnOlxyXG4gICAgICAgICAgICAgICAgdGltZSA9IHRoaXMuX2QudmFsdWVPZigpO1xyXG4gICAgICAgICAgICAgICAgdGltZSArPSBNU19QRVJfU0VDT05EIC0gbW9kJDEodGltZSwgTVNfUEVSX1NFQ09ORCkgLSAxO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9kLnNldFRpbWUodGltZSk7XHJcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHZhbHVlT2YgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kLnZhbHVlT2YoKSAtICgodGhpcy5fb2Zmc2V0IHx8IDApICogNjAwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVuaXggKCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMudmFsdWVPZigpIC8gMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG9EYXRlICgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvQXJyYXkgKCkge1xyXG4gICAgICAgIHZhciBtID0gdGhpcztcclxuICAgICAgICByZXR1cm4gW20ueWVhcigpLCBtLm1vbnRoKCksIG0uZGF0ZSgpLCBtLmhvdXIoKSwgbS5taW51dGUoKSwgbS5zZWNvbmQoKSwgbS5taWxsaXNlY29uZCgpXTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b09iamVjdCAoKSB7XHJcbiAgICAgICAgdmFyIG0gPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHllYXJzOiBtLnllYXIoKSxcclxuICAgICAgICAgICAgbW9udGhzOiBtLm1vbnRoKCksXHJcbiAgICAgICAgICAgIGRhdGU6IG0uZGF0ZSgpLFxyXG4gICAgICAgICAgICBob3VyczogbS5ob3VycygpLFxyXG4gICAgICAgICAgICBtaW51dGVzOiBtLm1pbnV0ZXMoKSxcclxuICAgICAgICAgICAgc2Vjb25kczogbS5zZWNvbmRzKCksXHJcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kczogbS5taWxsaXNlY29uZHMoKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG9KU09OICgpIHtcclxuICAgICAgICAvLyBuZXcgRGF0ZShOYU4pLnRvSlNPTigpID09PSBudWxsXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy50b0lTT1N0cmluZygpIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc1ZhbGlkJDIgKCkge1xyXG4gICAgICAgIHJldHVybiBpc1ZhbGlkKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBhcnNpbmdGbGFncyAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZCh7fSwgZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbnZhbGlkQXQgKCkge1xyXG4gICAgICAgIHJldHVybiBnZXRQYXJzaW5nRmxhZ3ModGhpcykub3ZlcmZsb3c7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRpb25EYXRhKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlucHV0OiB0aGlzLl9pLFxyXG4gICAgICAgICAgICBmb3JtYXQ6IHRoaXMuX2YsXHJcbiAgICAgICAgICAgIGxvY2FsZTogdGhpcy5fbG9jYWxlLFxyXG4gICAgICAgICAgICBpc1VUQzogdGhpcy5faXNVVEMsXHJcbiAgICAgICAgICAgIHN0cmljdDogdGhpcy5fc3RyaWN0XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGT1JNQVRUSU5HXHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydnZycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2Vla1llYXIoKSAlIDEwMDtcclxuICAgIH0pO1xyXG5cclxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzb1dlZWtZZWFyKCkgJSAxMDA7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBhZGRXZWVrWWVhckZvcm1hdFRva2VuICh0b2tlbiwgZ2V0dGVyKSB7XHJcbiAgICAgICAgYWRkRm9ybWF0VG9rZW4oMCwgW3Rva2VuLCB0b2tlbi5sZW5ndGhdLCAwLCBnZXR0ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2cnLCAgICAgJ3dlZWtZZWFyJyk7XHJcbiAgICBhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnZycsICAgICd3ZWVrWWVhcicpO1xyXG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHRycsICAnaXNvV2Vla1llYXInKTtcclxuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0dHJywgJ2lzb1dlZWtZZWFyJyk7XHJcblxyXG4gICAgLy8gQUxJQVNFU1xyXG5cclxuICAgIGFkZFVuaXRBbGlhcygnd2Vla1llYXInLCAnZ2cnKTtcclxuICAgIGFkZFVuaXRBbGlhcygnaXNvV2Vla1llYXInLCAnR0cnKTtcclxuXHJcbiAgICAvLyBQUklPUklUWVxyXG5cclxuICAgIGFkZFVuaXRQcmlvcml0eSgnd2Vla1llYXInLCAxKTtcclxuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla1llYXInLCAxKTtcclxuXHJcblxyXG4gICAgLy8gUEFSU0lOR1xyXG5cclxuICAgIGFkZFJlZ2V4VG9rZW4oJ0cnLCAgICAgIG1hdGNoU2lnbmVkKTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ2cnLCAgICAgIG1hdGNoU2lnbmVkKTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ0dHJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ2dnJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ0dHR0cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ2dnZ2cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ0dHR0dHJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ2dnZ2dnJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcclxuXHJcbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2dnZ2cnLCAnZ2dnZ2cnLCAnR0dHRycsICdHR0dHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcclxuICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAyKV0gPSB0b0ludChpbnB1dCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2dnJywgJ0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xyXG4gICAgICAgIHdlZWtbdG9rZW5dID0gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gTU9NRU5UU1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldFNldFdlZWtZZWFyIChpbnB1dCkge1xyXG4gICAgICAgIHJldHVybiBnZXRTZXRXZWVrWWVhckhlbHBlci5jYWxsKHRoaXMsXHJcbiAgICAgICAgICAgICAgICBpbnB1dCxcclxuICAgICAgICAgICAgICAgIHRoaXMud2VlaygpLFxyXG4gICAgICAgICAgICAgICAgdGhpcy53ZWVrZGF5KCksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3csXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3kpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFNldElTT1dlZWtZZWFyIChpbnB1dCkge1xyXG4gICAgICAgIHJldHVybiBnZXRTZXRXZWVrWWVhckhlbHBlci5jYWxsKHRoaXMsXHJcbiAgICAgICAgICAgICAgICBpbnB1dCwgdGhpcy5pc29XZWVrKCksIHRoaXMuaXNvV2Vla2RheSgpLCAxLCA0KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRJU09XZWVrc0luWWVhciAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCAxLCA0KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRXZWVrc0luWWVhciAoKSB7XHJcbiAgICAgICAgdmFyIHdlZWtJbmZvID0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWs7XHJcbiAgICAgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCB3ZWVrSW5mby5kb3csIHdlZWtJbmZvLmRveSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0U2V0V2Vla1llYXJIZWxwZXIoaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XHJcbiAgICAgICAgdmFyIHdlZWtzVGFyZ2V0O1xyXG4gICAgICAgIGlmIChpbnB1dCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB3ZWVrT2ZZZWFyKHRoaXMsIGRvdywgZG95KS55ZWFyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdlZWtzVGFyZ2V0ID0gd2Vla3NJblllYXIoaW5wdXQsIGRvdywgZG95KTtcclxuICAgICAgICAgICAgaWYgKHdlZWsgPiB3ZWVrc1RhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgd2VlayA9IHdlZWtzVGFyZ2V0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzZXRXZWVrQWxsLmNhbGwodGhpcywgaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcclxuICAgICAgICB2YXIgZGF5T2ZZZWFyRGF0YSA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpLFxyXG4gICAgICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZShkYXlPZlllYXJEYXRhLnllYXIsIDAsIGRheU9mWWVhckRhdGEuZGF5T2ZZZWFyKTtcclxuXHJcbiAgICAgICAgdGhpcy55ZWFyKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSk7XHJcbiAgICAgICAgdGhpcy5tb250aChkYXRlLmdldFVUQ01vbnRoKCkpO1xyXG4gICAgICAgIHRoaXMuZGF0ZShkYXRlLmdldFVUQ0RhdGUoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRk9STUFUVElOR1xyXG5cclxuICAgIGFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcclxuXHJcbiAgICAvLyBBTElBU0VTXHJcblxyXG4gICAgYWRkVW5pdEFsaWFzKCdxdWFydGVyJywgJ1EnKTtcclxuXHJcbiAgICAvLyBQUklPUklUWVxyXG5cclxuICAgIGFkZFVuaXRQcmlvcml0eSgncXVhcnRlcicsIDcpO1xyXG5cclxuICAgIC8vIFBBUlNJTkdcclxuXHJcbiAgICBhZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcclxuICAgIGFkZFBhcnNlVG9rZW4oJ1EnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XHJcbiAgICAgICAgYXJyYXlbTU9OVEhdID0gKHRvSW50KGlucHV0KSAtIDEpICogMztcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIE1PTUVOVFNcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRTZXRRdWFydGVyIChpbnB1dCkge1xyXG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gTWF0aC5jZWlsKCh0aGlzLm1vbnRoKCkgKyAxKSAvIDMpIDogdGhpcy5tb250aCgoaW5wdXQgLSAxKSAqIDMgKyB0aGlzLm1vbnRoKCkgJSAzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGT1JNQVRUSU5HXHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0QnLCBbJ0REJywgMl0sICdEbycsICdkYXRlJyk7XHJcblxyXG4gICAgLy8gQUxJQVNFU1xyXG5cclxuICAgIGFkZFVuaXRBbGlhcygnZGF0ZScsICdEJyk7XHJcblxyXG4gICAgLy8gUFJJT1JJVFlcclxuICAgIGFkZFVuaXRQcmlvcml0eSgnZGF0ZScsIDkpO1xyXG5cclxuICAgIC8vIFBBUlNJTkdcclxuXHJcbiAgICBhZGRSZWdleFRva2VuKCdEJywgIG1hdGNoMXRvMik7XHJcbiAgICBhZGRSZWdleFRva2VuKCdERCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcclxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgXCJvcmRpbmFsUGFyc2VcIiBmYWxsYmFjayBpbiBuZXh0IG1ham9yIHJlbGVhc2UuXHJcbiAgICAgICAgcmV0dXJuIGlzU3RyaWN0ID9cclxuICAgICAgICAgIChsb2NhbGUuX2RheU9mTW9udGhPcmRpbmFsUGFyc2UgfHwgbG9jYWxlLl9vcmRpbmFsUGFyc2UpIDpcclxuICAgICAgICAgIGxvY2FsZS5fZGF5T2ZNb250aE9yZGluYWxQYXJzZUxlbmllbnQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhZGRQYXJzZVRva2VuKFsnRCcsICdERCddLCBEQVRFKTtcclxuICAgIGFkZFBhcnNlVG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xyXG4gICAgICAgIGFycmF5W0RBVEVdID0gdG9JbnQoaW5wdXQubWF0Y2gobWF0Y2gxdG8yKVswXSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBNT01FTlRTXHJcblxyXG4gICAgdmFyIGdldFNldERheU9mTW9udGggPSBtYWtlR2V0U2V0KCdEYXRlJywgdHJ1ZSk7XHJcblxyXG4gICAgLy8gRk9STUFUVElOR1xyXG5cclxuICAgIGFkZEZvcm1hdFRva2VuKCdEREQnLCBbJ0REREQnLCAzXSwgJ0RERG8nLCAnZGF5T2ZZZWFyJyk7XHJcblxyXG4gICAgLy8gQUxJQVNFU1xyXG5cclxuICAgIGFkZFVuaXRBbGlhcygnZGF5T2ZZZWFyJywgJ0RERCcpO1xyXG5cclxuICAgIC8vIFBSSU9SSVRZXHJcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2RheU9mWWVhcicsIDQpO1xyXG5cclxuICAgIC8vIFBBUlNJTkdcclxuXHJcbiAgICBhZGRSZWdleFRva2VuKCdEREQnLCAgbWF0Y2gxdG8zKTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ0REREQnLCBtYXRjaDMpO1xyXG4gICAgYWRkUGFyc2VUb2tlbihbJ0RERCcsICdEREREJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xyXG4gICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdG9JbnQoaW5wdXQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSEVMUEVSU1xyXG5cclxuICAgIC8vIE1PTUVOVFNcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRTZXREYXlPZlllYXIgKGlucHV0KSB7XHJcbiAgICAgICAgdmFyIGRheU9mWWVhciA9IE1hdGgucm91bmQoKHRoaXMuY2xvbmUoKS5zdGFydE9mKCdkYXknKSAtIHRoaXMuY2xvbmUoKS5zdGFydE9mKCd5ZWFyJykpIC8gODY0ZTUpICsgMTtcclxuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IGRheU9mWWVhciA6IHRoaXMuYWRkKChpbnB1dCAtIGRheU9mWWVhciksICdkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRk9STUFUVElOR1xyXG5cclxuICAgIGFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XHJcblxyXG4gICAgLy8gQUxJQVNFU1xyXG5cclxuICAgIGFkZFVuaXRBbGlhcygnbWludXRlJywgJ20nKTtcclxuXHJcbiAgICAvLyBQUklPUklUWVxyXG5cclxuICAgIGFkZFVuaXRQcmlvcml0eSgnbWludXRlJywgMTQpO1xyXG5cclxuICAgIC8vIFBBUlNJTkdcclxuXHJcbiAgICBhZGRSZWdleFRva2VuKCdtJywgIG1hdGNoMXRvMik7XHJcbiAgICBhZGRSZWdleFRva2VuKCdtbScsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcclxuICAgIGFkZFBhcnNlVG9rZW4oWydtJywgJ21tJ10sIE1JTlVURSk7XHJcblxyXG4gICAgLy8gTU9NRU5UU1xyXG5cclxuICAgIHZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xyXG5cclxuICAgIC8vIEZPUk1BVFRJTkdcclxuXHJcbiAgICBhZGRGb3JtYXRUb2tlbigncycsIFsnc3MnLCAyXSwgMCwgJ3NlY29uZCcpO1xyXG5cclxuICAgIC8vIEFMSUFTRVNcclxuXHJcbiAgICBhZGRVbml0QWxpYXMoJ3NlY29uZCcsICdzJyk7XHJcblxyXG4gICAgLy8gUFJJT1JJVFlcclxuXHJcbiAgICBhZGRVbml0UHJpb3JpdHkoJ3NlY29uZCcsIDE1KTtcclxuXHJcbiAgICAvLyBQQVJTSU5HXHJcblxyXG4gICAgYWRkUmVnZXhUb2tlbigncycsICBtYXRjaDF0bzIpO1xyXG4gICAgYWRkUmVnZXhUb2tlbignc3MnLCBtYXRjaDF0bzIsIG1hdGNoMik7XHJcbiAgICBhZGRQYXJzZVRva2VuKFsncycsICdzcyddLCBTRUNPTkQpO1xyXG5cclxuICAgIC8vIE1PTUVOVFNcclxuXHJcbiAgICB2YXIgZ2V0U2V0U2Vjb25kID0gbWFrZUdldFNldCgnU2Vjb25kcycsIGZhbHNlKTtcclxuXHJcbiAgICAvLyBGT1JNQVRUSU5HXHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oJ1MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gfn4odGhpcy5taWxsaXNlY29uZCgpIC8gMTApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1MnLCAzXSwgMCwgJ21pbGxpc2Vjb25kJyk7XHJcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1MnLCA0XSwgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDtcclxuICAgIH0pO1xyXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTUycsIDVdLCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDtcclxuICAgIH0pO1xyXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1MnLCA2XSwgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwO1xyXG4gICAgfSk7XHJcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1MnLCA3XSwgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDtcclxuICAgIH0pO1xyXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTUycsIDhdLCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDtcclxuICAgIH0pO1xyXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTU1MnLCA5XSwgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDAwO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vIEFMSUFTRVNcclxuXHJcbiAgICBhZGRVbml0QWxpYXMoJ21pbGxpc2Vjb25kJywgJ21zJyk7XHJcblxyXG4gICAgLy8gUFJJT1JJVFlcclxuXHJcbiAgICBhZGRVbml0UHJpb3JpdHkoJ21pbGxpc2Vjb25kJywgMTYpO1xyXG5cclxuICAgIC8vIFBBUlNJTkdcclxuXHJcbiAgICBhZGRSZWdleFRva2VuKCdTJywgICAgbWF0Y2gxdG8zLCBtYXRjaDEpO1xyXG4gICAgYWRkUmVnZXhUb2tlbignU1MnLCAgIG1hdGNoMXRvMywgbWF0Y2gyKTtcclxuICAgIGFkZFJlZ2V4VG9rZW4oJ1NTUycsICBtYXRjaDF0bzMsIG1hdGNoMyk7XHJcblxyXG4gICAgdmFyIHRva2VuO1xyXG4gICAgZm9yICh0b2tlbiA9ICdTU1NTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xyXG4gICAgICAgIGFkZFJlZ2V4VG9rZW4odG9rZW4sIG1hdGNoVW5zaWduZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBhcnNlTXMoaW5wdXQsIGFycmF5KSB7XHJcbiAgICAgICAgYXJyYXlbTUlMTElTRUNPTkRdID0gdG9JbnQoKCcwLicgKyBpbnB1dCkgKiAxMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHRva2VuID0gJ1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XHJcbiAgICAgICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgcGFyc2VNcyk7XHJcbiAgICB9XHJcbiAgICAvLyBNT01FTlRTXHJcblxyXG4gICAgdmFyIGdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpO1xyXG5cclxuICAgIC8vIEZPUk1BVFRJTkdcclxuXHJcbiAgICBhZGRGb3JtYXRUb2tlbigneicsICAwLCAwLCAnem9uZUFiYnInKTtcclxuICAgIGFkZEZvcm1hdFRva2VuKCd6eicsIDAsIDAsICd6b25lTmFtZScpO1xyXG5cclxuICAgIC8vIE1PTUVOVFNcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRab25lQWJiciAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ1VUQycgOiAnJztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRab25lTmFtZSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ0Nvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lJyA6ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBwcm90byA9IE1vbWVudC5wcm90b3R5cGU7XHJcblxyXG4gICAgcHJvdG8uYWRkICAgICAgICAgICAgICAgPSBhZGQ7XHJcbiAgICBwcm90by5jYWxlbmRhciAgICAgICAgICA9IGNhbGVuZGFyJDE7XHJcbiAgICBwcm90by5jbG9uZSAgICAgICAgICAgICA9IGNsb25lO1xyXG4gICAgcHJvdG8uZGlmZiAgICAgICAgICAgICAgPSBkaWZmO1xyXG4gICAgcHJvdG8uZW5kT2YgICAgICAgICAgICAgPSBlbmRPZjtcclxuICAgIHByb3RvLmZvcm1hdCAgICAgICAgICAgID0gZm9ybWF0O1xyXG4gICAgcHJvdG8uZnJvbSAgICAgICAgICAgICAgPSBmcm9tO1xyXG4gICAgcHJvdG8uZnJvbU5vdyAgICAgICAgICAgPSBmcm9tTm93O1xyXG4gICAgcHJvdG8udG8gICAgICAgICAgICAgICAgPSB0bztcclxuICAgIHByb3RvLnRvTm93ICAgICAgICAgICAgID0gdG9Ob3c7XHJcbiAgICBwcm90by5nZXQgICAgICAgICAgICAgICA9IHN0cmluZ0dldDtcclxuICAgIHByb3RvLmludmFsaWRBdCAgICAgICAgID0gaW52YWxpZEF0O1xyXG4gICAgcHJvdG8uaXNBZnRlciAgICAgICAgICAgPSBpc0FmdGVyO1xyXG4gICAgcHJvdG8uaXNCZWZvcmUgICAgICAgICAgPSBpc0JlZm9yZTtcclxuICAgIHByb3RvLmlzQmV0d2VlbiAgICAgICAgID0gaXNCZXR3ZWVuO1xyXG4gICAgcHJvdG8uaXNTYW1lICAgICAgICAgICAgPSBpc1NhbWU7XHJcbiAgICBwcm90by5pc1NhbWVPckFmdGVyICAgICA9IGlzU2FtZU9yQWZ0ZXI7XHJcbiAgICBwcm90by5pc1NhbWVPckJlZm9yZSAgICA9IGlzU2FtZU9yQmVmb3JlO1xyXG4gICAgcHJvdG8uaXNWYWxpZCAgICAgICAgICAgPSBpc1ZhbGlkJDI7XHJcbiAgICBwcm90by5sYW5nICAgICAgICAgICAgICA9IGxhbmc7XHJcbiAgICBwcm90by5sb2NhbGUgICAgICAgICAgICA9IGxvY2FsZTtcclxuICAgIHByb3RvLmxvY2FsZURhdGEgICAgICAgID0gbG9jYWxlRGF0YTtcclxuICAgIHByb3RvLm1heCAgICAgICAgICAgICAgID0gcHJvdG90eXBlTWF4O1xyXG4gICAgcHJvdG8ubWluICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNaW47XHJcbiAgICBwcm90by5wYXJzaW5nRmxhZ3MgICAgICA9IHBhcnNpbmdGbGFncztcclxuICAgIHByb3RvLnNldCAgICAgICAgICAgICAgID0gc3RyaW5nU2V0O1xyXG4gICAgcHJvdG8uc3RhcnRPZiAgICAgICAgICAgPSBzdGFydE9mO1xyXG4gICAgcHJvdG8uc3VidHJhY3QgICAgICAgICAgPSBzdWJ0cmFjdDtcclxuICAgIHByb3RvLnRvQXJyYXkgICAgICAgICAgID0gdG9BcnJheTtcclxuICAgIHByb3RvLnRvT2JqZWN0ICAgICAgICAgID0gdG9PYmplY3Q7XHJcbiAgICBwcm90by50b0RhdGUgICAgICAgICAgICA9IHRvRGF0ZTtcclxuICAgIHByb3RvLnRvSVNPU3RyaW5nICAgICAgID0gdG9JU09TdHJpbmc7XHJcbiAgICBwcm90by5pbnNwZWN0ICAgICAgICAgICA9IGluc3BlY3Q7XHJcbiAgICBwcm90by50b0pTT04gICAgICAgICAgICA9IHRvSlNPTjtcclxuICAgIHByb3RvLnRvU3RyaW5nICAgICAgICAgID0gdG9TdHJpbmc7XHJcbiAgICBwcm90by51bml4ICAgICAgICAgICAgICA9IHVuaXg7XHJcbiAgICBwcm90by52YWx1ZU9mICAgICAgICAgICA9IHZhbHVlT2Y7XHJcbiAgICBwcm90by5jcmVhdGlvbkRhdGEgICAgICA9IGNyZWF0aW9uRGF0YTtcclxuICAgIHByb3RvLnllYXIgICAgICAgPSBnZXRTZXRZZWFyO1xyXG4gICAgcHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XHJcbiAgICBwcm90by53ZWVrWWVhciAgICA9IGdldFNldFdlZWtZZWFyO1xyXG4gICAgcHJvdG8uaXNvV2Vla1llYXIgPSBnZXRTZXRJU09XZWVrWWVhcjtcclxuICAgIHByb3RvLnF1YXJ0ZXIgPSBwcm90by5xdWFydGVycyA9IGdldFNldFF1YXJ0ZXI7XHJcbiAgICBwcm90by5tb250aCAgICAgICA9IGdldFNldE1vbnRoO1xyXG4gICAgcHJvdG8uZGF5c0luTW9udGggPSBnZXREYXlzSW5Nb250aDtcclxuICAgIHByb3RvLndlZWsgICAgICAgICAgID0gcHJvdG8ud2Vla3MgICAgICAgID0gZ2V0U2V0V2VlaztcclxuICAgIHByb3RvLmlzb1dlZWsgICAgICAgID0gcHJvdG8uaXNvV2Vla3MgICAgID0gZ2V0U2V0SVNPV2VlaztcclxuICAgIHByb3RvLndlZWtzSW5ZZWFyICAgID0gZ2V0V2Vla3NJblllYXI7XHJcbiAgICBwcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xyXG4gICAgcHJvdG8uZGF0ZSAgICAgICA9IGdldFNldERheU9mTW9udGg7XHJcbiAgICBwcm90by5kYXkgICAgICAgID0gcHJvdG8uZGF5cyAgICAgICAgICAgICA9IGdldFNldERheU9mV2VlaztcclxuICAgIHByb3RvLndlZWtkYXkgICAgPSBnZXRTZXRMb2NhbGVEYXlPZldlZWs7XHJcbiAgICBwcm90by5pc29XZWVrZGF5ID0gZ2V0U2V0SVNPRGF5T2ZXZWVrO1xyXG4gICAgcHJvdG8uZGF5T2ZZZWFyICA9IGdldFNldERheU9mWWVhcjtcclxuICAgIHByb3RvLmhvdXIgPSBwcm90by5ob3VycyA9IGdldFNldEhvdXI7XHJcbiAgICBwcm90by5taW51dGUgPSBwcm90by5taW51dGVzID0gZ2V0U2V0TWludXRlO1xyXG4gICAgcHJvdG8uc2Vjb25kID0gcHJvdG8uc2Vjb25kcyA9IGdldFNldFNlY29uZDtcclxuICAgIHByb3RvLm1pbGxpc2Vjb25kID0gcHJvdG8ubWlsbGlzZWNvbmRzID0gZ2V0U2V0TWlsbGlzZWNvbmQ7XHJcbiAgICBwcm90by51dGNPZmZzZXQgICAgICAgICAgICA9IGdldFNldE9mZnNldDtcclxuICAgIHByb3RvLnV0YyAgICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9VVEM7XHJcbiAgICBwcm90by5sb2NhbCAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvTG9jYWw7XHJcbiAgICBwcm90by5wYXJzZVpvbmUgICAgICAgICAgICA9IHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0O1xyXG4gICAgcHJvdG8uaGFzQWxpZ25lZEhvdXJPZmZzZXQgPSBoYXNBbGlnbmVkSG91ck9mZnNldDtcclxuICAgIHByb3RvLmlzRFNUICAgICAgICAgICAgICAgID0gaXNEYXlsaWdodFNhdmluZ1RpbWU7XHJcbiAgICBwcm90by5pc0xvY2FsICAgICAgICAgICAgICA9IGlzTG9jYWw7XHJcbiAgICBwcm90by5pc1V0Y09mZnNldCAgICAgICAgICA9IGlzVXRjT2Zmc2V0O1xyXG4gICAgcHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0YztcclxuICAgIHByb3RvLmlzVVRDICAgICAgICAgICAgICAgID0gaXNVdGM7XHJcbiAgICBwcm90by56b25lQWJiciA9IGdldFpvbmVBYmJyO1xyXG4gICAgcHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTtcclxuICAgIHByb3RvLmRhdGVzICA9IGRlcHJlY2F0ZSgnZGF0ZXMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIGRhdGUgaW5zdGVhZC4nLCBnZXRTZXREYXlPZk1vbnRoKTtcclxuICAgIHByb3RvLm1vbnRocyA9IGRlcHJlY2F0ZSgnbW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkJywgZ2V0U2V0TW9udGgpO1xyXG4gICAgcHJvdG8ueWVhcnMgID0gZGVwcmVjYXRlKCd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJywgZ2V0U2V0WWVhcik7XHJcbiAgICBwcm90by56b25lICAgPSBkZXByZWNhdGUoJ21vbWVudCgpLnpvbmUgaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudCgpLnV0Y09mZnNldCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL3pvbmUvJywgZ2V0U2V0Wm9uZSk7XHJcbiAgICBwcm90by5pc0RTVFNoaWZ0ZWQgPSBkZXByZWNhdGUoJ2lzRFNUU2hpZnRlZCBpcyBkZXByZWNhdGVkLiBTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kc3Qtc2hpZnRlZC8gZm9yIG1vcmUgaW5mb3JtYXRpb24nLCBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVVuaXggKGlucHV0KSB7XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0ICogMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlSW5ab25lICgpIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcmVQYXJzZVBvc3RGb3JtYXQgKHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHByb3RvJDEgPSBMb2NhbGUucHJvdG90eXBlO1xyXG5cclxuICAgIHByb3RvJDEuY2FsZW5kYXIgICAgICAgID0gY2FsZW5kYXI7XHJcbiAgICBwcm90byQxLmxvbmdEYXRlRm9ybWF0ICA9IGxvbmdEYXRlRm9ybWF0O1xyXG4gICAgcHJvdG8kMS5pbnZhbGlkRGF0ZSAgICAgPSBpbnZhbGlkRGF0ZTtcclxuICAgIHByb3RvJDEub3JkaW5hbCAgICAgICAgID0gb3JkaW5hbDtcclxuICAgIHByb3RvJDEucHJlcGFyc2UgICAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xyXG4gICAgcHJvdG8kMS5wb3N0Zm9ybWF0ICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XHJcbiAgICBwcm90byQxLnJlbGF0aXZlVGltZSAgICA9IHJlbGF0aXZlVGltZTtcclxuICAgIHByb3RvJDEucGFzdEZ1dHVyZSAgICAgID0gcGFzdEZ1dHVyZTtcclxuICAgIHByb3RvJDEuc2V0ICAgICAgICAgICAgID0gc2V0O1xyXG5cclxuICAgIHByb3RvJDEubW9udGhzICAgICAgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzO1xyXG4gICAgcHJvdG8kMS5tb250aHNTaG9ydCAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHNTaG9ydDtcclxuICAgIHByb3RvJDEubW9udGhzUGFyc2UgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzUGFyc2U7XHJcbiAgICBwcm90byQxLm1vbnRoc1JlZ2V4ICAgICAgID0gbW9udGhzUmVnZXg7XHJcbiAgICBwcm90byQxLm1vbnRoc1Nob3J0UmVnZXggID0gbW9udGhzU2hvcnRSZWdleDtcclxuICAgIHByb3RvJDEud2VlayA9IGxvY2FsZVdlZWs7XHJcbiAgICBwcm90byQxLmZpcnN0RGF5T2ZZZWFyID0gbG9jYWxlRmlyc3REYXlPZlllYXI7XHJcbiAgICBwcm90byQxLmZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRmlyc3REYXlPZldlZWs7XHJcblxyXG4gICAgcHJvdG8kMS53ZWVrZGF5cyAgICAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5cztcclxuICAgIHByb3RvJDEud2Vla2RheXNNaW4gICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNNaW47XHJcbiAgICBwcm90byQxLndlZWtkYXlzU2hvcnQgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzU2hvcnQ7XHJcbiAgICBwcm90byQxLndlZWtkYXlzUGFyc2UgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzUGFyc2U7XHJcblxyXG4gICAgcHJvdG8kMS53ZWVrZGF5c1JlZ2V4ICAgICAgID0gICAgICAgIHdlZWtkYXlzUmVnZXg7XHJcbiAgICBwcm90byQxLndlZWtkYXlzU2hvcnRSZWdleCAgPSAgICAgICAgd2Vla2RheXNTaG9ydFJlZ2V4O1xyXG4gICAgcHJvdG8kMS53ZWVrZGF5c01pblJlZ2V4ICAgID0gICAgICAgIHdlZWtkYXlzTWluUmVnZXg7XHJcblxyXG4gICAgcHJvdG8kMS5pc1BNID0gbG9jYWxlSXNQTTtcclxuICAgIHByb3RvJDEubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXQkMSAoZm9ybWF0LCBpbmRleCwgZmllbGQsIHNldHRlcikge1xyXG4gICAgICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKTtcclxuICAgICAgICB2YXIgdXRjID0gY3JlYXRlVVRDKCkuc2V0KHNldHRlciwgaW5kZXgpO1xyXG4gICAgICAgIHJldHVybiBsb2NhbGVbZmllbGRdKHV0YywgZm9ybWF0KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsaXN0TW9udGhzSW1wbCAoZm9ybWF0LCBpbmRleCwgZmllbGQpIHtcclxuICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xyXG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcclxuICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xyXG5cclxuICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCBpbmRleCwgZmllbGQsICdtb250aCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgdmFyIG91dCA9IFtdO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XHJcbiAgICAgICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgaSwgZmllbGQsICdtb250aCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vICgpXHJcbiAgICAvLyAoNSlcclxuICAgIC8vIChmbXQsIDUpXHJcbiAgICAvLyAoZm10KVxyXG4gICAgLy8gKHRydWUpXHJcbiAgICAvLyAodHJ1ZSwgNSlcclxuICAgIC8vICh0cnVlLCBmbXQsIDUpXHJcbiAgICAvLyAodHJ1ZSwgZm10KVxyXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzSW1wbCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xyXG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9ybWF0ID0gbG9jYWxlU29ydGVkO1xyXG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcclxuICAgICAgICAgICAgbG9jYWxlU29ydGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKSxcclxuICAgICAgICAgICAgc2hpZnQgPSBsb2NhbGVTb3J0ZWQgPyBsb2NhbGUuX3dlZWsuZG93IDogMDtcclxuXHJcbiAgICAgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgKGluZGV4ICsgc2hpZnQpICUgNywgZmllbGQsICdkYXknKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBpO1xyXG4gICAgICAgIHZhciBvdXQgPSBbXTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICAgICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgKGkgKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxpc3RNb250aHMgKGZvcm1hdCwgaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRocycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxpc3RNb250aHNTaG9ydCAoZm9ybWF0LCBpbmRleCkge1xyXG4gICAgICAgIHJldHVybiBsaXN0TW9udGhzSW1wbChmb3JtYXQsIGluZGV4LCAnbW9udGhzU2hvcnQnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXMgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xyXG4gICAgICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzU2hvcnQgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xyXG4gICAgICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzU2hvcnQnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNNaW4gKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xyXG4gICAgICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzTWluJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2V0R2xvYmFsTG9jYWxlKCdlbicsIHtcclxuICAgICAgICBkYXlPZk1vbnRoT3JkaW5hbFBhcnNlOiAvXFxkezEsMn0odGh8c3R8bmR8cmQpLyxcclxuICAgICAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikge1xyXG4gICAgICAgICAgICB2YXIgYiA9IG51bWJlciAlIDEwLFxyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gKHRvSW50KG51bWJlciAlIDEwMCAvIDEwKSA9PT0gMSkgPyAndGgnIDpcclxuICAgICAgICAgICAgICAgIChiID09PSAxKSA/ICdzdCcgOlxyXG4gICAgICAgICAgICAgICAgKGIgPT09IDIpID8gJ25kJyA6XHJcbiAgICAgICAgICAgICAgICAoYiA9PT0gMykgPyAncmQnIDogJ3RoJztcclxuICAgICAgICAgICAgcmV0dXJuIG51bWJlciArIG91dHB1dDtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTaWRlIGVmZmVjdCBpbXBvcnRzXHJcblxyXG4gICAgaG9va3MubGFuZyA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmcgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGUgaW5zdGVhZC4nLCBnZXRTZXRHbG9iYWxMb2NhbGUpO1xyXG4gICAgaG9va3MubGFuZ0RhdGEgPSBkZXByZWNhdGUoJ21vbWVudC5sYW5nRGF0YSBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZURhdGEgaW5zdGVhZC4nLCBnZXRMb2NhbGUpO1xyXG5cclxuICAgIHZhciBtYXRoQWJzID0gTWF0aC5hYnM7XHJcblxyXG4gICAgZnVuY3Rpb24gYWJzICgpIHtcclxuICAgICAgICB2YXIgZGF0YSAgICAgICAgICAgPSB0aGlzLl9kYXRhO1xyXG5cclxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgPSBtYXRoQWJzKHRoaXMuX21pbGxpc2Vjb25kcyk7XHJcbiAgICAgICAgdGhpcy5fZGF5cyAgICAgICAgID0gbWF0aEFicyh0aGlzLl9kYXlzKTtcclxuICAgICAgICB0aGlzLl9tb250aHMgICAgICAgPSBtYXRoQWJzKHRoaXMuX21vbnRocyk7XHJcblxyXG4gICAgICAgIGRhdGEubWlsbGlzZWNvbmRzICA9IG1hdGhBYnMoZGF0YS5taWxsaXNlY29uZHMpO1xyXG4gICAgICAgIGRhdGEuc2Vjb25kcyAgICAgICA9IG1hdGhBYnMoZGF0YS5zZWNvbmRzKTtcclxuICAgICAgICBkYXRhLm1pbnV0ZXMgICAgICAgPSBtYXRoQWJzKGRhdGEubWludXRlcyk7XHJcbiAgICAgICAgZGF0YS5ob3VycyAgICAgICAgID0gbWF0aEFicyhkYXRhLmhvdXJzKTtcclxuICAgICAgICBkYXRhLm1vbnRocyAgICAgICAgPSBtYXRoQWJzKGRhdGEubW9udGhzKTtcclxuICAgICAgICBkYXRhLnllYXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEueWVhcnMpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRTdWJ0cmFjdCQxIChkdXJhdGlvbiwgaW5wdXQsIHZhbHVlLCBkaXJlY3Rpb24pIHtcclxuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVEdXJhdGlvbihpbnB1dCwgdmFsdWUpO1xyXG5cclxuICAgICAgICBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzICs9IGRpcmVjdGlvbiAqIG90aGVyLl9taWxsaXNlY29uZHM7XHJcbiAgICAgICAgZHVyYXRpb24uX2RheXMgICAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fZGF5cztcclxuICAgICAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XHJcblxyXG4gICAgICAgIHJldHVybiBkdXJhdGlvbi5fYnViYmxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgYWRkKDEsICdzJykgb3IgYWRkKGR1cmF0aW9uKVxyXG4gICAgZnVuY3Rpb24gYWRkJDEgKGlucHV0LCB2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgc3VidHJhY3QoMSwgJ3MnKSBvciBzdWJ0cmFjdChkdXJhdGlvbilcclxuICAgIGZ1bmN0aW9uIHN1YnRyYWN0JDEgKGlucHV0LCB2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFic0NlaWwgKG51bWJlcikge1xyXG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBidWJibGUgKCkge1xyXG4gICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XHJcbiAgICAgICAgdmFyIGRheXMgICAgICAgICA9IHRoaXMuX2RheXM7XHJcbiAgICAgICAgdmFyIG1vbnRocyAgICAgICA9IHRoaXMuX21vbnRocztcclxuICAgICAgICB2YXIgZGF0YSAgICAgICAgID0gdGhpcy5fZGF0YTtcclxuICAgICAgICB2YXIgc2Vjb25kcywgbWludXRlcywgaG91cnMsIHllYXJzLCBtb250aHNGcm9tRGF5cztcclxuXHJcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxyXG4gICAgICAgIC8vIGNoZWNrOiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjE2NlxyXG4gICAgICAgIGlmICghKChtaWxsaXNlY29uZHMgPj0gMCAmJiBkYXlzID49IDAgJiYgbW9udGhzID49IDApIHx8XHJcbiAgICAgICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcclxuICAgICAgICAgICAgbWlsbGlzZWNvbmRzICs9IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRocykgKyBkYXlzKSAqIDg2NGU1O1xyXG4gICAgICAgICAgICBkYXlzID0gMDtcclxuICAgICAgICAgICAgbW9udGhzID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3JcclxuICAgICAgICAvLyBleGFtcGxlcyBvZiB3aGF0IHRoYXQgbWVhbnMuXHJcbiAgICAgICAgZGF0YS5taWxsaXNlY29uZHMgPSBtaWxsaXNlY29uZHMgJSAxMDAwO1xyXG5cclxuICAgICAgICBzZWNvbmRzICAgICAgICAgICA9IGFic0Zsb29yKG1pbGxpc2Vjb25kcyAvIDEwMDApO1xyXG4gICAgICAgIGRhdGEuc2Vjb25kcyAgICAgID0gc2Vjb25kcyAlIDYwO1xyXG5cclxuICAgICAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XHJcbiAgICAgICAgZGF0YS5taW51dGVzICAgICAgPSBtaW51dGVzICUgNjA7XHJcblxyXG4gICAgICAgIGhvdXJzICAgICAgICAgICAgID0gYWJzRmxvb3IobWludXRlcyAvIDYwKTtcclxuICAgICAgICBkYXRhLmhvdXJzICAgICAgICA9IGhvdXJzICUgMjQ7XHJcblxyXG4gICAgICAgIGRheXMgKz0gYWJzRmxvb3IoaG91cnMgLyAyNCk7XHJcblxyXG4gICAgICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcclxuICAgICAgICBtb250aHNGcm9tRGF5cyA9IGFic0Zsb29yKGRheXNUb01vbnRocyhkYXlzKSk7XHJcbiAgICAgICAgbW9udGhzICs9IG1vbnRoc0Zyb21EYXlzO1xyXG4gICAgICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcclxuXHJcbiAgICAgICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxyXG4gICAgICAgIHllYXJzID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xyXG4gICAgICAgIG1vbnRocyAlPSAxMjtcclxuXHJcbiAgICAgICAgZGF0YS5kYXlzICAgPSBkYXlzO1xyXG4gICAgICAgIGRhdGEubW9udGhzID0gbW9udGhzO1xyXG4gICAgICAgIGRhdGEueWVhcnMgID0geWVhcnM7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRheXNUb01vbnRocyAoZGF5cykge1xyXG4gICAgICAgIC8vIDQwMCB5ZWFycyBoYXZlIDE0NjA5NyBkYXlzICh0YWtpbmcgaW50byBhY2NvdW50IGxlYXAgeWVhciBydWxlcylcclxuICAgICAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxMiBtb250aHMgPT09IDQ4MDBcclxuICAgICAgICByZXR1cm4gZGF5cyAqIDQ4MDAgLyAxNDYwOTc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbW9udGhzVG9EYXlzIChtb250aHMpIHtcclxuICAgICAgICAvLyB0aGUgcmV2ZXJzZSBvZiBkYXlzVG9Nb250aHNcclxuICAgICAgICByZXR1cm4gbW9udGhzICogMTQ2MDk3IC8gNDgwMDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcyAodW5pdHMpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOYU47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkYXlzO1xyXG4gICAgICAgIHZhciBtb250aHM7XHJcbiAgICAgICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcclxuXHJcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XHJcblxyXG4gICAgICAgIGlmICh1bml0cyA9PT0gJ21vbnRoJyB8fCB1bml0cyA9PT0gJ3F1YXJ0ZXInIHx8IHVuaXRzID09PSAneWVhcicpIHtcclxuICAgICAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBtaWxsaXNlY29uZHMgLyA4NjRlNTtcclxuICAgICAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzICsgZGF5c1RvTW9udGhzKGRheXMpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdtb250aCc6ICAgcmV0dXJuIG1vbnRocztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3F1YXJ0ZXInOiByZXR1cm4gbW9udGhzIC8gMztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3llYXInOiAgICByZXR1cm4gbW9udGhzIC8gMTI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBoYW5kbGUgbWlsbGlzZWNvbmRzIHNlcGFyYXRlbHkgYmVjYXVzZSBvZiBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyAoaXNzdWUgIzE4NjcpXHJcbiAgICAgICAgICAgIGRheXMgPSB0aGlzLl9kYXlzICsgTWF0aC5yb3VuZChtb250aHNUb0RheXModGhpcy5fbW9udGhzKSk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodW5pdHMpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3dlZWsnICAgOiByZXR1cm4gZGF5cyAvIDcgICAgICsgbWlsbGlzZWNvbmRzIC8gNjA0OGU1O1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGF5JyAgICA6IHJldHVybiBkYXlzICAgICAgICAgKyBtaWxsaXNlY29uZHMgLyA4NjRlNTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2hvdXInICAgOiByZXR1cm4gZGF5cyAqIDI0ICAgICsgbWlsbGlzZWNvbmRzIC8gMzZlNTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ21pbnV0ZScgOiByZXR1cm4gZGF5cyAqIDE0NDAgICsgbWlsbGlzZWNvbmRzIC8gNmU0O1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc2Vjb25kJyA6IHJldHVybiBkYXlzICogODY0MDAgKyBtaWxsaXNlY29uZHMgLyAxMDAwO1xyXG4gICAgICAgICAgICAgICAgLy8gTWF0aC5mbG9vciBwcmV2ZW50cyBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyBoZXJlXHJcbiAgICAgICAgICAgICAgICBjYXNlICdtaWxsaXNlY29uZCc6IHJldHVybiBNYXRoLmZsb29yKGRheXMgKiA4NjRlNSkgKyBtaWxsaXNlY29uZHM7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdW5pdCAnICsgdW5pdHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE86IFVzZSB0aGlzLmFzKCdtcycpP1xyXG4gICAgZnVuY3Rpb24gdmFsdWVPZiQxICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOYU47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyArXHJcbiAgICAgICAgICAgIHRoaXMuX2RheXMgKiA4NjRlNSArXHJcbiAgICAgICAgICAgICh0aGlzLl9tb250aHMgJSAxMikgKiAyNTkyZTYgK1xyXG4gICAgICAgICAgICB0b0ludCh0aGlzLl9tb250aHMgLyAxMikgKiAzMTUzNmU2XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYWtlQXMgKGFsaWFzKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXMoYWxpYXMpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGFzTWlsbGlzZWNvbmRzID0gbWFrZUFzKCdtcycpO1xyXG4gICAgdmFyIGFzU2Vjb25kcyAgICAgID0gbWFrZUFzKCdzJyk7XHJcbiAgICB2YXIgYXNNaW51dGVzICAgICAgPSBtYWtlQXMoJ20nKTtcclxuICAgIHZhciBhc0hvdXJzICAgICAgICA9IG1ha2VBcygnaCcpO1xyXG4gICAgdmFyIGFzRGF5cyAgICAgICAgID0gbWFrZUFzKCdkJyk7XHJcbiAgICB2YXIgYXNXZWVrcyAgICAgICAgPSBtYWtlQXMoJ3cnKTtcclxuICAgIHZhciBhc01vbnRocyAgICAgICA9IG1ha2VBcygnTScpO1xyXG4gICAgdmFyIGFzUXVhcnRlcnMgICAgID0gbWFrZUFzKCdRJyk7XHJcbiAgICB2YXIgYXNZZWFycyAgICAgICAgPSBtYWtlQXMoJ3knKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjbG9uZSQxICgpIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24odGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0JDIgKHVuaXRzKSB7XHJcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpc1t1bml0cyArICdzJ10oKSA6IE5hTjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYWtlR2V0dGVyKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9kYXRhW25hbWVdIDogTmFOO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IG1ha2VHZXR0ZXIoJ21pbGxpc2Vjb25kcycpO1xyXG4gICAgdmFyIHNlY29uZHMgICAgICA9IG1ha2VHZXR0ZXIoJ3NlY29uZHMnKTtcclxuICAgIHZhciBtaW51dGVzICAgICAgPSBtYWtlR2V0dGVyKCdtaW51dGVzJyk7XHJcbiAgICB2YXIgaG91cnMgICAgICAgID0gbWFrZUdldHRlcignaG91cnMnKTtcclxuICAgIHZhciBkYXlzICAgICAgICAgPSBtYWtlR2V0dGVyKCdkYXlzJyk7XHJcbiAgICB2YXIgbW9udGhzICAgICAgID0gbWFrZUdldHRlcignbW9udGhzJyk7XHJcbiAgICB2YXIgeWVhcnMgICAgICAgID0gbWFrZUdldHRlcigneWVhcnMnKTtcclxuXHJcbiAgICBmdW5jdGlvbiB3ZWVrcyAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGFic0Zsb29yKHRoaXMuZGF5cygpIC8gNyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcclxuICAgIHZhciB0aHJlc2hvbGRzID0ge1xyXG4gICAgICAgIHNzOiA0NCwgICAgICAgICAvLyBhIGZldyBzZWNvbmRzIHRvIHNlY29uZHNcclxuICAgICAgICBzIDogNDUsICAgICAgICAgLy8gc2Vjb25kcyB0byBtaW51dGVcclxuICAgICAgICBtIDogNDUsICAgICAgICAgLy8gbWludXRlcyB0byBob3VyXHJcbiAgICAgICAgaCA6IDIyLCAgICAgICAgIC8vIGhvdXJzIHRvIGRheVxyXG4gICAgICAgIGQgOiAyNiwgICAgICAgICAvLyBkYXlzIHRvIG1vbnRoXHJcbiAgICAgICAgTSA6IDExICAgICAgICAgIC8vIG1vbnRocyB0byB5ZWFyXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGhlbHBlciBmdW5jdGlvbiBmb3IgbW9tZW50LmZuLmZyb20sIG1vbWVudC5mbi5mcm9tTm93LCBhbmQgbW9tZW50LmR1cmF0aW9uLmZuLmh1bWFuaXplXHJcbiAgICBmdW5jdGlvbiBzdWJzdGl0dXRlVGltZUFnbyhzdHJpbmcsIG51bWJlciwgd2l0aG91dFN1ZmZpeCwgaXNGdXR1cmUsIGxvY2FsZSkge1xyXG4gICAgICAgIHJldHVybiBsb2NhbGUucmVsYXRpdmVUaW1lKG51bWJlciB8fCAxLCAhIXdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbGF0aXZlVGltZSQxIChwb3NOZWdEdXJhdGlvbiwgd2l0aG91dFN1ZmZpeCwgbG9jYWxlKSB7XHJcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gY3JlYXRlRHVyYXRpb24ocG9zTmVnRHVyYXRpb24pLmFicygpO1xyXG4gICAgICAgIHZhciBzZWNvbmRzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdzJykpO1xyXG4gICAgICAgIHZhciBtaW51dGVzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdtJykpO1xyXG4gICAgICAgIHZhciBob3VycyAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdoJykpO1xyXG4gICAgICAgIHZhciBkYXlzICAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdkJykpO1xyXG4gICAgICAgIHZhciBtb250aHMgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdNJykpO1xyXG4gICAgICAgIHZhciB5ZWFycyAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCd5JykpO1xyXG5cclxuICAgICAgICB2YXIgYSA9IHNlY29uZHMgPD0gdGhyZXNob2xkcy5zcyAmJiBbJ3MnLCBzZWNvbmRzXSAgfHxcclxuICAgICAgICAgICAgICAgIHNlY29uZHMgPCB0aHJlc2hvbGRzLnMgICAmJiBbJ3NzJywgc2Vjb25kc10gfHxcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPD0gMSAgICAgICAgICAgICAmJiBbJ20nXSAgICAgICAgICAgfHxcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPCB0aHJlc2hvbGRzLm0gICAmJiBbJ21tJywgbWludXRlc10gfHxcclxuICAgICAgICAgICAgICAgIGhvdXJzICAgPD0gMSAgICAgICAgICAgICAmJiBbJ2gnXSAgICAgICAgICAgfHxcclxuICAgICAgICAgICAgICAgIGhvdXJzICAgPCB0aHJlc2hvbGRzLmggICAmJiBbJ2hoJywgaG91cnNdICAgfHxcclxuICAgICAgICAgICAgICAgIGRheXMgICAgPD0gMSAgICAgICAgICAgICAmJiBbJ2QnXSAgICAgICAgICAgfHxcclxuICAgICAgICAgICAgICAgIGRheXMgICAgPCB0aHJlc2hvbGRzLmQgICAmJiBbJ2RkJywgZGF5c10gICAgfHxcclxuICAgICAgICAgICAgICAgIG1vbnRocyAgPD0gMSAgICAgICAgICAgICAmJiBbJ00nXSAgICAgICAgICAgfHxcclxuICAgICAgICAgICAgICAgIG1vbnRocyAgPCB0aHJlc2hvbGRzLk0gICAmJiBbJ01NJywgbW9udGhzXSAgfHxcclxuICAgICAgICAgICAgICAgIHllYXJzICAgPD0gMSAgICAgICAgICAgICAmJiBbJ3knXSAgICAgICAgICAgfHwgWyd5eScsIHllYXJzXTtcclxuXHJcbiAgICAgICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7XHJcbiAgICAgICAgYVszXSA9ICtwb3NOZWdEdXJhdGlvbiA+IDA7XHJcbiAgICAgICAgYVs0XSA9IGxvY2FsZTtcclxuICAgICAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCB0aGUgcm91bmRpbmcgZnVuY3Rpb24gZm9yIHJlbGF0aXZlIHRpbWUgc3RyaW5nc1xyXG4gICAgZnVuY3Rpb24gZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmcgKHJvdW5kaW5nRnVuY3Rpb24pIHtcclxuICAgICAgICBpZiAocm91bmRpbmdGdW5jdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb3VuZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZihyb3VuZGluZ0Z1bmN0aW9uKSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICByb3VuZCA9IHJvdW5kaW5nRnVuY3Rpb247XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXHJcbiAgICBmdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQgKHRocmVzaG9sZCwgbGltaXQpIHtcclxuICAgICAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhyZXNob2xkc1t0aHJlc2hvbGRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcclxuICAgICAgICBpZiAodGhyZXNob2xkID09PSAncycpIHtcclxuICAgICAgICAgICAgdGhyZXNob2xkcy5zcyA9IGxpbWl0IC0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaHVtYW5pemUgKHdpdGhTdWZmaXgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMubG9jYWxlRGF0YSgpO1xyXG4gICAgICAgIHZhciBvdXRwdXQgPSByZWxhdGl2ZVRpbWUkMSh0aGlzLCAhd2l0aFN1ZmZpeCwgbG9jYWxlKTtcclxuXHJcbiAgICAgICAgaWYgKHdpdGhTdWZmaXgpIHtcclxuICAgICAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbG9jYWxlLnBvc3Rmb3JtYXQob3V0cHV0KTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYWJzJDEgPSBNYXRoLmFicztcclxuXHJcbiAgICBmdW5jdGlvbiBzaWduKHgpIHtcclxuICAgICAgICByZXR1cm4gKCh4ID4gMCkgLSAoeCA8IDApKSB8fCAreDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b0lTT1N0cmluZyQxKCkge1xyXG4gICAgICAgIC8vIGZvciBJU08gc3RyaW5ncyB3ZSBkbyBub3QgdXNlIHRoZSBub3JtYWwgYnViYmxpbmcgcnVsZXM6XHJcbiAgICAgICAgLy8gICogbWlsbGlzZWNvbmRzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSBob3Vyc1xyXG4gICAgICAgIC8vICAqIGRheXMgZG8gbm90IGJ1YmJsZSBhdCBhbGxcclxuICAgICAgICAvLyAgKiBtb250aHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIHllYXJzXHJcbiAgICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZXJlIGlzIG5vIGNvbnRleHQtZnJlZSBjb252ZXJzaW9uIGJldHdlZW4gaG91cnMgYW5kIGRheXNcclxuICAgICAgICAvLyAodGhpbmsgb2YgY2xvY2sgY2hhbmdlcylcclxuICAgICAgICAvLyBhbmQgYWxzbyBub3QgYmV0d2VlbiBkYXlzIGFuZCBtb250aHMgKDI4LTMxIGRheXMgcGVyIG1vbnRoKVxyXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgc2Vjb25kcyA9IGFicyQxKHRoaXMuX21pbGxpc2Vjb25kcykgLyAxMDAwO1xyXG4gICAgICAgIHZhciBkYXlzICAgICAgICAgPSBhYnMkMSh0aGlzLl9kYXlzKTtcclxuICAgICAgICB2YXIgbW9udGhzICAgICAgID0gYWJzJDEodGhpcy5fbW9udGhzKTtcclxuICAgICAgICB2YXIgbWludXRlcywgaG91cnMsIHllYXJzO1xyXG5cclxuICAgICAgICAvLyAzNjAwIHNlY29uZHMgLT4gNjAgbWludXRlcyAtPiAxIGhvdXJcclxuICAgICAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XHJcbiAgICAgICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xyXG4gICAgICAgIHNlY29uZHMgJT0gNjA7XHJcbiAgICAgICAgbWludXRlcyAlPSA2MDtcclxuXHJcbiAgICAgICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxyXG4gICAgICAgIHllYXJzICA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcclxuICAgICAgICBtb250aHMgJT0gMTI7XHJcblxyXG5cclxuICAgICAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZG9yZGlsbGUvbW9tZW50LWlzb2R1cmF0aW9uL2Jsb2IvbWFzdGVyL21vbWVudC5pc29kdXJhdGlvbi5qc1xyXG4gICAgICAgIHZhciBZID0geWVhcnM7XHJcbiAgICAgICAgdmFyIE0gPSBtb250aHM7XHJcbiAgICAgICAgdmFyIEQgPSBkYXlzO1xyXG4gICAgICAgIHZhciBoID0gaG91cnM7XHJcbiAgICAgICAgdmFyIG0gPSBtaW51dGVzO1xyXG4gICAgICAgIHZhciBzID0gc2Vjb25kcyA/IHNlY29uZHMudG9GaXhlZCgzKS5yZXBsYWNlKC9cXC4/MCskLywgJycpIDogJyc7XHJcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy5hc1NlY29uZHMoKTtcclxuXHJcbiAgICAgICAgaWYgKCF0b3RhbCkge1xyXG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRoZSBzYW1lIGFzIEMjJ3MgKE5vZGEpIGFuZCBweXRob24gKGlzb2RhdGUpLi4uXHJcbiAgICAgICAgICAgIC8vIGJ1dCBub3Qgb3RoZXIgSlMgKGdvb2cuZGF0ZSlcclxuICAgICAgICAgICAgcmV0dXJuICdQMEQnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRvdGFsU2lnbiA9IHRvdGFsIDwgMCA/ICctJyA6ICcnO1xyXG4gICAgICAgIHZhciB5bVNpZ24gPSBzaWduKHRoaXMuX21vbnRocykgIT09IHNpZ24odG90YWwpID8gJy0nIDogJyc7XHJcbiAgICAgICAgdmFyIGRheXNTaWduID0gc2lnbih0aGlzLl9kYXlzKSAhPT0gc2lnbih0b3RhbCkgPyAnLScgOiAnJztcclxuICAgICAgICB2YXIgaG1zU2lnbiA9IHNpZ24odGhpcy5fbWlsbGlzZWNvbmRzKSAhPT0gc2lnbih0b3RhbCkgPyAnLScgOiAnJztcclxuXHJcbiAgICAgICAgcmV0dXJuIHRvdGFsU2lnbiArICdQJyArXHJcbiAgICAgICAgICAgIChZID8geW1TaWduICsgWSArICdZJyA6ICcnKSArXHJcbiAgICAgICAgICAgIChNID8geW1TaWduICsgTSArICdNJyA6ICcnKSArXHJcbiAgICAgICAgICAgIChEID8gZGF5c1NpZ24gKyBEICsgJ0QnIDogJycpICtcclxuICAgICAgICAgICAgKChoIHx8IG0gfHwgcykgPyAnVCcgOiAnJykgK1xyXG4gICAgICAgICAgICAoaCA/IGhtc1NpZ24gKyBoICsgJ0gnIDogJycpICtcclxuICAgICAgICAgICAgKG0gPyBobXNTaWduICsgbSArICdNJyA6ICcnKSArXHJcbiAgICAgICAgICAgIChzID8gaG1zU2lnbiArIHMgKyAnUycgOiAnJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHByb3RvJDIgPSBEdXJhdGlvbi5wcm90b3R5cGU7XHJcblxyXG4gICAgcHJvdG8kMi5pc1ZhbGlkICAgICAgICA9IGlzVmFsaWQkMTtcclxuICAgIHByb3RvJDIuYWJzICAgICAgICAgICAgPSBhYnM7XHJcbiAgICBwcm90byQyLmFkZCAgICAgICAgICAgID0gYWRkJDE7XHJcbiAgICBwcm90byQyLnN1YnRyYWN0ICAgICAgID0gc3VidHJhY3QkMTtcclxuICAgIHByb3RvJDIuYXMgICAgICAgICAgICAgPSBhcztcclxuICAgIHByb3RvJDIuYXNNaWxsaXNlY29uZHMgPSBhc01pbGxpc2Vjb25kcztcclxuICAgIHByb3RvJDIuYXNTZWNvbmRzICAgICAgPSBhc1NlY29uZHM7XHJcbiAgICBwcm90byQyLmFzTWludXRlcyAgICAgID0gYXNNaW51dGVzO1xyXG4gICAgcHJvdG8kMi5hc0hvdXJzICAgICAgICA9IGFzSG91cnM7XHJcbiAgICBwcm90byQyLmFzRGF5cyAgICAgICAgID0gYXNEYXlzO1xyXG4gICAgcHJvdG8kMi5hc1dlZWtzICAgICAgICA9IGFzV2Vla3M7XHJcbiAgICBwcm90byQyLmFzTW9udGhzICAgICAgID0gYXNNb250aHM7XHJcbiAgICBwcm90byQyLmFzUXVhcnRlcnMgICAgID0gYXNRdWFydGVycztcclxuICAgIHByb3RvJDIuYXNZZWFycyAgICAgICAgPSBhc1llYXJzO1xyXG4gICAgcHJvdG8kMi52YWx1ZU9mICAgICAgICA9IHZhbHVlT2YkMTtcclxuICAgIHByb3RvJDIuX2J1YmJsZSAgICAgICAgPSBidWJibGU7XHJcbiAgICBwcm90byQyLmNsb25lICAgICAgICAgID0gY2xvbmUkMTtcclxuICAgIHByb3RvJDIuZ2V0ICAgICAgICAgICAgPSBnZXQkMjtcclxuICAgIHByb3RvJDIubWlsbGlzZWNvbmRzICAgPSBtaWxsaXNlY29uZHM7XHJcbiAgICBwcm90byQyLnNlY29uZHMgICAgICAgID0gc2Vjb25kcztcclxuICAgIHByb3RvJDIubWludXRlcyAgICAgICAgPSBtaW51dGVzO1xyXG4gICAgcHJvdG8kMi5ob3VycyAgICAgICAgICA9IGhvdXJzO1xyXG4gICAgcHJvdG8kMi5kYXlzICAgICAgICAgICA9IGRheXM7XHJcbiAgICBwcm90byQyLndlZWtzICAgICAgICAgID0gd2Vla3M7XHJcbiAgICBwcm90byQyLm1vbnRocyAgICAgICAgID0gbW9udGhzO1xyXG4gICAgcHJvdG8kMi55ZWFycyAgICAgICAgICA9IHllYXJzO1xyXG4gICAgcHJvdG8kMi5odW1hbml6ZSAgICAgICA9IGh1bWFuaXplO1xyXG4gICAgcHJvdG8kMi50b0lTT1N0cmluZyAgICA9IHRvSVNPU3RyaW5nJDE7XHJcbiAgICBwcm90byQyLnRvU3RyaW5nICAgICAgID0gdG9JU09TdHJpbmckMTtcclxuICAgIHByb3RvJDIudG9KU09OICAgICAgICAgPSB0b0lTT1N0cmluZyQxO1xyXG4gICAgcHJvdG8kMi5sb2NhbGUgICAgICAgICA9IGxvY2FsZTtcclxuICAgIHByb3RvJDIubG9jYWxlRGF0YSAgICAgPSBsb2NhbGVEYXRhO1xyXG5cclxuICAgIHByb3RvJDIudG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoJ3RvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpJywgdG9JU09TdHJpbmckMSk7XHJcbiAgICBwcm90byQyLmxhbmcgPSBsYW5nO1xyXG5cclxuICAgIC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcclxuXHJcbiAgICAvLyBGT1JNQVRUSU5HXHJcblxyXG4gICAgYWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpO1xyXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3gnLCAwLCAwLCAndmFsdWVPZicpO1xyXG5cclxuICAgIC8vIFBBUlNJTkdcclxuXHJcbiAgICBhZGRSZWdleFRva2VuKCd4JywgbWF0Y2hTaWduZWQpO1xyXG4gICAgYWRkUmVnZXhUb2tlbignWCcsIG1hdGNoVGltZXN0YW1wKTtcclxuICAgIGFkZFBhcnNlVG9rZW4oJ1gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcclxuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShwYXJzZUZsb2F0KGlucHV0LCAxMCkgKiAxMDAwKTtcclxuICAgIH0pO1xyXG4gICAgYWRkUGFyc2VUb2tlbigneCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xyXG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHRvSW50KGlucHV0KSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTaWRlIGVmZmVjdCBpbXBvcnRzXHJcblxyXG5cclxuICAgIGhvb2tzLnZlcnNpb24gPSAnMi4yNC4wJztcclxuXHJcbiAgICBzZXRIb29rQ2FsbGJhY2soY3JlYXRlTG9jYWwpO1xyXG5cclxuICAgIGhvb2tzLmZuICAgICAgICAgICAgICAgICAgICA9IHByb3RvO1xyXG4gICAgaG9va3MubWluICAgICAgICAgICAgICAgICAgID0gbWluO1xyXG4gICAgaG9va3MubWF4ICAgICAgICAgICAgICAgICAgID0gbWF4O1xyXG4gICAgaG9va3Mubm93ICAgICAgICAgICAgICAgICAgID0gbm93O1xyXG4gICAgaG9va3MudXRjICAgICAgICAgICAgICAgICAgID0gY3JlYXRlVVRDO1xyXG4gICAgaG9va3MudW5peCAgICAgICAgICAgICAgICAgID0gY3JlYXRlVW5peDtcclxuICAgIGhvb2tzLm1vbnRocyAgICAgICAgICAgICAgICA9IGxpc3RNb250aHM7XHJcbiAgICBob29rcy5pc0RhdGUgICAgICAgICAgICAgICAgPSBpc0RhdGU7XHJcbiAgICBob29rcy5sb2NhbGUgICAgICAgICAgICAgICAgPSBnZXRTZXRHbG9iYWxMb2NhbGU7XHJcbiAgICBob29rcy5pbnZhbGlkICAgICAgICAgICAgICAgPSBjcmVhdGVJbnZhbGlkO1xyXG4gICAgaG9va3MuZHVyYXRpb24gICAgICAgICAgICAgID0gY3JlYXRlRHVyYXRpb247XHJcbiAgICBob29rcy5pc01vbWVudCAgICAgICAgICAgICAgPSBpc01vbWVudDtcclxuICAgIGhvb2tzLndlZWtkYXlzICAgICAgICAgICAgICA9IGxpc3RXZWVrZGF5cztcclxuICAgIGhvb2tzLnBhcnNlWm9uZSAgICAgICAgICAgICA9IGNyZWF0ZUluWm9uZTtcclxuICAgIGhvb2tzLmxvY2FsZURhdGEgICAgICAgICAgICA9IGdldExvY2FsZTtcclxuICAgIGhvb2tzLmlzRHVyYXRpb24gICAgICAgICAgICA9IGlzRHVyYXRpb247XHJcbiAgICBob29rcy5tb250aHNTaG9ydCAgICAgICAgICAgPSBsaXN0TW9udGhzU2hvcnQ7XHJcbiAgICBob29rcy53ZWVrZGF5c01pbiAgICAgICAgICAgPSBsaXN0V2Vla2RheXNNaW47XHJcbiAgICBob29rcy5kZWZpbmVMb2NhbGUgICAgICAgICAgPSBkZWZpbmVMb2NhbGU7XHJcbiAgICBob29rcy51cGRhdGVMb2NhbGUgICAgICAgICAgPSB1cGRhdGVMb2NhbGU7XHJcbiAgICBob29rcy5sb2NhbGVzICAgICAgICAgICAgICAgPSBsaXN0TG9jYWxlcztcclxuICAgIGhvb2tzLndlZWtkYXlzU2hvcnQgICAgICAgICA9IGxpc3RXZWVrZGF5c1Nob3J0O1xyXG4gICAgaG9va3Mubm9ybWFsaXplVW5pdHMgICAgICAgID0gbm9ybWFsaXplVW5pdHM7XHJcbiAgICBob29rcy5yZWxhdGl2ZVRpbWVSb3VuZGluZyAgPSBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZztcclxuICAgIGhvb2tzLnJlbGF0aXZlVGltZVRocmVzaG9sZCA9IGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZDtcclxuICAgIGhvb2tzLmNhbGVuZGFyRm9ybWF0ICAgICAgICA9IGdldENhbGVuZGFyRm9ybWF0O1xyXG4gICAgaG9va3MucHJvdG90eXBlICAgICAgICAgICAgID0gcHJvdG87XHJcblxyXG4gICAgLy8gY3VycmVudGx5IEhUTUw1IGlucHV0IHR5cGUgb25seSBzdXBwb3J0cyAyNC1ob3VyIGZvcm1hdHNcclxuICAgIGhvb2tzLkhUTUw1X0ZNVCA9IHtcclxuICAgICAgICBEQVRFVElNRV9MT0NBTDogJ1lZWVktTU0tRERUSEg6bW0nLCAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgLz5cclxuICAgICAgICBEQVRFVElNRV9MT0NBTF9TRUNPTkRTOiAnWVlZWS1NTS1ERFRISDptbTpzcycsICAvLyA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgc3RlcD1cIjFcIiAvPlxyXG4gICAgICAgIERBVEVUSU1FX0xPQ0FMX01TOiAnWVlZWS1NTS1ERFRISDptbTpzcy5TU1MnLCAgIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiBzdGVwPVwiMC4wMDFcIiAvPlxyXG4gICAgICAgIERBVEU6ICdZWVlZLU1NLUREJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIC8+XHJcbiAgICAgICAgVElNRTogJ0hIOm1tJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJ0aW1lXCIgLz5cclxuICAgICAgICBUSU1FX1NFQ09ORFM6ICdISDptbTpzcycsICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiBzdGVwPVwiMVwiIC8+XHJcbiAgICAgICAgVElNRV9NUzogJ0hIOm1tOnNzLlNTUycsICAgICAgICAgICAgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJ0aW1lXCIgc3RlcD1cIjAuMDAxXCIgLz5cclxuICAgICAgICBXRUVLOiAnR0dHRy1bV11XVycsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cIndlZWtcIiAvPlxyXG4gICAgICAgIE1PTlRIOiAnWVlZWS1NTScgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwibW9udGhcIiAvPlxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gaG9va3M7XHJcblxyXG59KSkpO1xyXG4iLCJleHBvcnRzLmVuZGlhbm5lc3MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnTEUnIH07XHJcblxyXG5leHBvcnRzLmhvc3RuYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gbG9jYXRpb24uaG9zdG5hbWVcclxuICAgIH1cclxuICAgIGVsc2UgcmV0dXJuICcnO1xyXG59O1xyXG5cclxuZXhwb3J0cy5sb2FkYXZnID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW10gfTtcclxuXHJcbmV4cG9ydHMudXB0aW1lID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gMCB9O1xyXG5cclxuZXhwb3J0cy5mcmVlbWVtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIE51bWJlci5NQVhfVkFMVUU7XHJcbn07XHJcblxyXG5leHBvcnRzLnRvdGFsbWVtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIE51bWJlci5NQVhfVkFMVUU7XHJcbn07XHJcblxyXG5leHBvcnRzLmNwdXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbXSB9O1xyXG5cclxuZXhwb3J0cy50eXBlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0Jyb3dzZXInIH07XHJcblxyXG5leHBvcnRzLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gbmF2aWdhdG9yLmFwcFZlcnNpb247XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJyc7XHJcbn07XHJcblxyXG5leHBvcnRzLm5ldHdvcmtJbnRlcmZhY2VzXHJcbj0gZXhwb3J0cy5nZXROZXR3b3JrSW50ZXJmYWNlc1xyXG49IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHt9IH07XHJcblxyXG5leHBvcnRzLmFyY2ggPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnamF2YXNjcmlwdCcgfTtcclxuXHJcbmV4cG9ydHMucGxhdGZvcm0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnYnJvd3NlcicgfTtcclxuXHJcbmV4cG9ydHMudG1wZGlyID0gZXhwb3J0cy50bXBEaXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gJy90bXAnO1xyXG59O1xyXG5cclxuZXhwb3J0cy5FT0wgPSAnXFxuJztcclxuIiwidmFyIGlzYXJyYXkgPSByZXF1aXJlKCdpc2FycmF5JylcclxuXHJcbi8qKlxyXG4gKiBFeHBvc2UgYHBhdGhUb1JlZ2V4cGAuXHJcbiAqL1xyXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGhUb1JlZ2V4cFxyXG5tb2R1bGUuZXhwb3J0cy5wYXJzZSA9IHBhcnNlXHJcbm1vZHVsZS5leHBvcnRzLmNvbXBpbGUgPSBjb21waWxlXHJcbm1vZHVsZS5leHBvcnRzLnRva2Vuc1RvRnVuY3Rpb24gPSB0b2tlbnNUb0Z1bmN0aW9uXHJcbm1vZHVsZS5leHBvcnRzLnRva2Vuc1RvUmVnRXhwID0gdG9rZW5zVG9SZWdFeHBcclxuXHJcbi8qKlxyXG4gKiBUaGUgbWFpbiBwYXRoIG1hdGNoaW5nIHJlZ2V4cCB1dGlsaXR5LlxyXG4gKlxyXG4gKiBAdHlwZSB7UmVnRXhwfVxyXG4gKi9cclxudmFyIFBBVEhfUkVHRVhQID0gbmV3IFJlZ0V4cChbXHJcbiAgLy8gTWF0Y2ggZXNjYXBlZCBjaGFyYWN0ZXJzIHRoYXQgd291bGQgb3RoZXJ3aXNlIGFwcGVhciBpbiBmdXR1cmUgbWF0Y2hlcy5cclxuICAvLyBUaGlzIGFsbG93cyB0aGUgdXNlciB0byBlc2NhcGUgc3BlY2lhbCBjaGFyYWN0ZXJzIHRoYXQgd29uJ3QgdHJhbnNmb3JtLlxyXG4gICcoXFxcXFxcXFwuKScsXHJcbiAgLy8gTWF0Y2ggRXhwcmVzcy1zdHlsZSBwYXJhbWV0ZXJzIGFuZCB1bi1uYW1lZCBwYXJhbWV0ZXJzIHdpdGggYSBwcmVmaXhcclxuICAvLyBhbmQgb3B0aW9uYWwgc3VmZml4ZXMuIE1hdGNoZXMgYXBwZWFyIGFzOlxyXG4gIC8vXHJcbiAgLy8gXCIvOnRlc3QoXFxcXGQrKT9cIiA9PiBbXCIvXCIsIFwidGVzdFwiLCBcIlxcZCtcIiwgdW5kZWZpbmVkLCBcIj9cIiwgdW5kZWZpbmVkXVxyXG4gIC8vIFwiL3JvdXRlKFxcXFxkKylcIiAgPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFwiXFxkK1wiLCB1bmRlZmluZWQsIHVuZGVmaW5lZF1cclxuICAvLyBcIi8qXCIgICAgICAgICAgICA9PiBbXCIvXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXCIqXCJdXHJcbiAgJyhbXFxcXC8uXSk/KD86KD86XFxcXDooXFxcXHcrKSg/OlxcXFwoKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKCldKSspXFxcXCkpP3xcXFxcKCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpXSkrKVxcXFwpKShbKyo/XSk/fChcXFxcKikpJ1xyXG5dLmpvaW4oJ3wnKSwgJ2cnKVxyXG5cclxuLyoqXHJcbiAqIFBhcnNlIGEgc3RyaW5nIGZvciB0aGUgcmF3IHRva2Vucy5cclxuICpcclxuICogQHBhcmFtICB7c3RyaW5nfSAgc3RyXHJcbiAqIEBwYXJhbSAge09iamVjdD19IG9wdGlvbnNcclxuICogQHJldHVybiB7IUFycmF5fVxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2UgKHN0ciwgb3B0aW9ucykge1xyXG4gIHZhciB0b2tlbnMgPSBbXVxyXG4gIHZhciBrZXkgPSAwXHJcbiAgdmFyIGluZGV4ID0gMFxyXG4gIHZhciBwYXRoID0gJydcclxuICB2YXIgZGVmYXVsdERlbGltaXRlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kZWxpbWl0ZXIgfHwgJy8nXHJcbiAgdmFyIHJlc1xyXG5cclxuICB3aGlsZSAoKHJlcyA9IFBBVEhfUkVHRVhQLmV4ZWMoc3RyKSkgIT0gbnVsbCkge1xyXG4gICAgdmFyIG0gPSByZXNbMF1cclxuICAgIHZhciBlc2NhcGVkID0gcmVzWzFdXHJcbiAgICB2YXIgb2Zmc2V0ID0gcmVzLmluZGV4XHJcbiAgICBwYXRoICs9IHN0ci5zbGljZShpbmRleCwgb2Zmc2V0KVxyXG4gICAgaW5kZXggPSBvZmZzZXQgKyBtLmxlbmd0aFxyXG5cclxuICAgIC8vIElnbm9yZSBhbHJlYWR5IGVzY2FwZWQgc2VxdWVuY2VzLlxyXG4gICAgaWYgKGVzY2FwZWQpIHtcclxuICAgICAgcGF0aCArPSBlc2NhcGVkWzFdXHJcbiAgICAgIGNvbnRpbnVlXHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG5leHQgPSBzdHJbaW5kZXhdXHJcbiAgICB2YXIgcHJlZml4ID0gcmVzWzJdXHJcbiAgICB2YXIgbmFtZSA9IHJlc1szXVxyXG4gICAgdmFyIGNhcHR1cmUgPSByZXNbNF1cclxuICAgIHZhciBncm91cCA9IHJlc1s1XVxyXG4gICAgdmFyIG1vZGlmaWVyID0gcmVzWzZdXHJcbiAgICB2YXIgYXN0ZXJpc2sgPSByZXNbN11cclxuXHJcbiAgICAvLyBQdXNoIHRoZSBjdXJyZW50IHBhdGggb250byB0aGUgdG9rZW5zLlxyXG4gICAgaWYgKHBhdGgpIHtcclxuICAgICAgdG9rZW5zLnB1c2gocGF0aClcclxuICAgICAgcGF0aCA9ICcnXHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHBhcnRpYWwgPSBwcmVmaXggIT0gbnVsbCAmJiBuZXh0ICE9IG51bGwgJiYgbmV4dCAhPT0gcHJlZml4XHJcbiAgICB2YXIgcmVwZWF0ID0gbW9kaWZpZXIgPT09ICcrJyB8fCBtb2RpZmllciA9PT0gJyonXHJcbiAgICB2YXIgb3B0aW9uYWwgPSBtb2RpZmllciA9PT0gJz8nIHx8IG1vZGlmaWVyID09PSAnKidcclxuICAgIHZhciBkZWxpbWl0ZXIgPSByZXNbMl0gfHwgZGVmYXVsdERlbGltaXRlclxyXG4gICAgdmFyIHBhdHRlcm4gPSBjYXB0dXJlIHx8IGdyb3VwXHJcblxyXG4gICAgdG9rZW5zLnB1c2goe1xyXG4gICAgICBuYW1lOiBuYW1lIHx8IGtleSsrLFxyXG4gICAgICBwcmVmaXg6IHByZWZpeCB8fCAnJyxcclxuICAgICAgZGVsaW1pdGVyOiBkZWxpbWl0ZXIsXHJcbiAgICAgIG9wdGlvbmFsOiBvcHRpb25hbCxcclxuICAgICAgcmVwZWF0OiByZXBlYXQsXHJcbiAgICAgIHBhcnRpYWw6IHBhcnRpYWwsXHJcbiAgICAgIGFzdGVyaXNrOiAhIWFzdGVyaXNrLFxyXG4gICAgICBwYXR0ZXJuOiBwYXR0ZXJuID8gZXNjYXBlR3JvdXAocGF0dGVybikgOiAoYXN0ZXJpc2sgPyAnLionIDogJ1teJyArIGVzY2FwZVN0cmluZyhkZWxpbWl0ZXIpICsgJ10rPycpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLy8gTWF0Y2ggYW55IGNoYXJhY3RlcnMgc3RpbGwgcmVtYWluaW5nLlxyXG4gIGlmIChpbmRleCA8IHN0ci5sZW5ndGgpIHtcclxuICAgIHBhdGggKz0gc3RyLnN1YnN0cihpbmRleClcclxuICB9XHJcblxyXG4gIC8vIElmIHRoZSBwYXRoIGV4aXN0cywgcHVzaCBpdCBvbnRvIHRoZSBlbmQuXHJcbiAgaWYgKHBhdGgpIHtcclxuICAgIHRva2Vucy5wdXNoKHBhdGgpXHJcbiAgfVxyXG5cclxuICByZXR1cm4gdG9rZW5zXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb21waWxlIGEgc3RyaW5nIHRvIGEgdGVtcGxhdGUgZnVuY3Rpb24gZm9yIHRoZSBwYXRoLlxyXG4gKlxyXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgIHN0clxyXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSAgICAgICAgICAgIG9wdGlvbnNcclxuICogQHJldHVybiB7IWZ1bmN0aW9uKE9iamVjdD0sIE9iamVjdD0pfVxyXG4gKi9cclxuZnVuY3Rpb24gY29tcGlsZSAoc3RyLCBvcHRpb25zKSB7XHJcbiAgcmV0dXJuIHRva2Vuc1RvRnVuY3Rpb24ocGFyc2Uoc3RyLCBvcHRpb25zKSlcclxufVxyXG5cclxuLyoqXHJcbiAqIFByZXR0aWVyIGVuY29kaW5nIG9mIFVSSSBwYXRoIHNlZ21lbnRzLlxyXG4gKlxyXG4gKiBAcGFyYW0gIHtzdHJpbmd9XHJcbiAqIEByZXR1cm4ge3N0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIGVuY29kZVVSSUNvbXBvbmVudFByZXR0eSAoc3RyKSB7XHJcbiAgcmV0dXJuIGVuY29kZVVSSShzdHIpLnJlcGxhY2UoL1tcXC8/I10vZywgZnVuY3Rpb24gKGMpIHtcclxuICAgIHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcclxuICB9KVxyXG59XHJcblxyXG4vKipcclxuICogRW5jb2RlIHRoZSBhc3RlcmlzayBwYXJhbWV0ZXIuIFNpbWlsYXIgdG8gYHByZXR0eWAsIGJ1dCBhbGxvd3Mgc2xhc2hlcy5cclxuICpcclxuICogQHBhcmFtICB7c3RyaW5nfVxyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XHJcbiAqL1xyXG5mdW5jdGlvbiBlbmNvZGVBc3RlcmlzayAoc3RyKSB7XHJcbiAgcmV0dXJuIGVuY29kZVVSSShzdHIpLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24gKGMpIHtcclxuICAgIHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcclxuICB9KVxyXG59XHJcblxyXG4vKipcclxuICogRXhwb3NlIGEgbWV0aG9kIGZvciB0cmFuc2Zvcm1pbmcgdG9rZW5zIGludG8gdGhlIHBhdGggZnVuY3Rpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiB0b2tlbnNUb0Z1bmN0aW9uICh0b2tlbnMpIHtcclxuICAvLyBDb21waWxlIGFsbCB0aGUgdG9rZW5zIGludG8gcmVnZXhwcy5cclxuICB2YXIgbWF0Y2hlcyA9IG5ldyBBcnJheSh0b2tlbnMubGVuZ3RoKVxyXG5cclxuICAvLyBDb21waWxlIGFsbCB0aGUgcGF0dGVybnMgYmVmb3JlIGNvbXBpbGF0aW9uLlxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAodHlwZW9mIHRva2Vuc1tpXSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgbWF0Y2hlc1tpXSA9IG5ldyBSZWdFeHAoJ14oPzonICsgdG9rZW5zW2ldLnBhdHRlcm4gKyAnKSQnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZ1bmN0aW9uIChvYmosIG9wdHMpIHtcclxuICAgIHZhciBwYXRoID0gJydcclxuICAgIHZhciBkYXRhID0gb2JqIHx8IHt9XHJcbiAgICB2YXIgb3B0aW9ucyA9IG9wdHMgfHwge31cclxuICAgIHZhciBlbmNvZGUgPSBvcHRpb25zLnByZXR0eSA/IGVuY29kZVVSSUNvbXBvbmVudFByZXR0eSA6IGVuY29kZVVSSUNvbXBvbmVudFxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXVxyXG5cclxuICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBwYXRoICs9IHRva2VuXHJcblxyXG4gICAgICAgIGNvbnRpbnVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciB2YWx1ZSA9IGRhdGFbdG9rZW4ubmFtZV1cclxuICAgICAgdmFyIHNlZ21lbnRcclxuXHJcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgaWYgKHRva2VuLm9wdGlvbmFsKSB7XHJcbiAgICAgICAgICAvLyBQcmVwZW5kIHBhcnRpYWwgc2VnbWVudCBwcmVmaXhlcy5cclxuICAgICAgICAgIGlmICh0b2tlbi5wYXJ0aWFsKSB7XHJcbiAgICAgICAgICAgIHBhdGggKz0gdG9rZW4ucHJlZml4XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29udGludWVcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBiZSBkZWZpbmVkJylcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpc2FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIGlmICghdG9rZW4ucmVwZWF0KSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG5vdCByZXBlYXQsIGJ1dCByZWNlaXZlZCBgJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKSArICdgJylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIGlmICh0b2tlbi5vcHRpb25hbCkge1xyXG4gICAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBub3QgYmUgZW1wdHknKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWx1ZS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgc2VnbWVudCA9IGVuY29kZSh2YWx1ZVtqXSlcclxuXHJcbiAgICAgICAgICBpZiAoIW1hdGNoZXNbaV0udGVzdChzZWdtZW50KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhbGwgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBtYXRjaCBcIicgKyB0b2tlbi5wYXR0ZXJuICsgJ1wiLCBidXQgcmVjZWl2ZWQgYCcgKyBKU09OLnN0cmluZ2lmeShzZWdtZW50KSArICdgJylcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBwYXRoICs9IChqID09PSAwID8gdG9rZW4ucHJlZml4IDogdG9rZW4uZGVsaW1pdGVyKSArIHNlZ21lbnRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnRpbnVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlZ21lbnQgPSB0b2tlbi5hc3RlcmlzayA/IGVuY29kZUFzdGVyaXNrKHZhbHVlKSA6IGVuY29kZSh2YWx1ZSlcclxuXHJcbiAgICAgIGlmICghbWF0Y2hlc1tpXS50ZXN0KHNlZ21lbnQpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBtYXRjaCBcIicgKyB0b2tlbi5wYXR0ZXJuICsgJ1wiLCBidXQgcmVjZWl2ZWQgXCInICsgc2VnbWVudCArICdcIicpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHBhdGggKz0gdG9rZW4ucHJlZml4ICsgc2VnbWVudFxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBwYXRoXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogRXNjYXBlIGEgcmVndWxhciBleHByZXNzaW9uIHN0cmluZy5cclxuICpcclxuICogQHBhcmFtICB7c3RyaW5nfSBzdHJcclxuICogQHJldHVybiB7c3RyaW5nfVxyXG4gKi9cclxuZnVuY3Rpb24gZXNjYXBlU3RyaW5nIChzdHIpIHtcclxuICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLisqPz1eIToke30oKVtcXF18XFwvXFxcXF0pL2csICdcXFxcJDEnKVxyXG59XHJcblxyXG4vKipcclxuICogRXNjYXBlIHRoZSBjYXB0dXJpbmcgZ3JvdXAgYnkgZXNjYXBpbmcgc3BlY2lhbCBjaGFyYWN0ZXJzIGFuZCBtZWFuaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGdyb3VwXHJcbiAqIEByZXR1cm4ge3N0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIGVzY2FwZUdyb3VwIChncm91cCkge1xyXG4gIHJldHVybiBncm91cC5yZXBsYWNlKC8oWz0hOiRcXC8oKV0pL2csICdcXFxcJDEnKVxyXG59XHJcblxyXG4vKipcclxuICogQXR0YWNoIHRoZSBrZXlzIGFzIGEgcHJvcGVydHkgb2YgdGhlIHJlZ2V4cC5cclxuICpcclxuICogQHBhcmFtICB7IVJlZ0V4cH0gcmVcclxuICogQHBhcmFtICB7QXJyYXl9ICAga2V5c1xyXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxyXG4gKi9cclxuZnVuY3Rpb24gYXR0YWNoS2V5cyAocmUsIGtleXMpIHtcclxuICByZS5rZXlzID0ga2V5c1xyXG4gIHJldHVybiByZVxyXG59XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBmbGFncyBmb3IgYSByZWdleHAgZnJvbSB0aGUgb3B0aW9ucy5cclxuICpcclxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXHJcbiAqIEByZXR1cm4ge3N0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIGZsYWdzIChvcHRpb25zKSB7XHJcbiAgcmV0dXJuIG9wdGlvbnMuc2Vuc2l0aXZlID8gJycgOiAnaSdcclxufVxyXG5cclxuLyoqXHJcbiAqIFB1bGwgb3V0IGtleXMgZnJvbSBhIHJlZ2V4cC5cclxuICpcclxuICogQHBhcmFtICB7IVJlZ0V4cH0gcGF0aFxyXG4gKiBAcGFyYW0gIHshQXJyYXl9ICBrZXlzXHJcbiAqIEByZXR1cm4geyFSZWdFeHB9XHJcbiAqL1xyXG5mdW5jdGlvbiByZWdleHBUb1JlZ2V4cCAocGF0aCwga2V5cykge1xyXG4gIC8vIFVzZSBhIG5lZ2F0aXZlIGxvb2thaGVhZCB0byBtYXRjaCBvbmx5IGNhcHR1cmluZyBncm91cHMuXHJcbiAgdmFyIGdyb3VwcyA9IHBhdGguc291cmNlLm1hdGNoKC9cXCgoPyFcXD8pL2cpXHJcblxyXG4gIGlmIChncm91cHMpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGtleXMucHVzaCh7XHJcbiAgICAgICAgbmFtZTogaSxcclxuICAgICAgICBwcmVmaXg6IG51bGwsXHJcbiAgICAgICAgZGVsaW1pdGVyOiBudWxsLFxyXG4gICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcclxuICAgICAgICByZXBlYXQ6IGZhbHNlLFxyXG4gICAgICAgIHBhcnRpYWw6IGZhbHNlLFxyXG4gICAgICAgIGFzdGVyaXNrOiBmYWxzZSxcclxuICAgICAgICBwYXR0ZXJuOiBudWxsXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXR0YWNoS2V5cyhwYXRoLCBrZXlzKVxyXG59XHJcblxyXG4vKipcclxuICogVHJhbnNmb3JtIGFuIGFycmF5IGludG8gYSByZWdleHAuXHJcbiAqXHJcbiAqIEBwYXJhbSAgeyFBcnJheX0gIHBhdGhcclxuICogQHBhcmFtICB7QXJyYXl9ICAga2V5c1xyXG4gKiBAcGFyYW0gIHshT2JqZWN0fSBvcHRpb25zXHJcbiAqIEByZXR1cm4geyFSZWdFeHB9XHJcbiAqL1xyXG5mdW5jdGlvbiBhcnJheVRvUmVnZXhwIChwYXRoLCBrZXlzLCBvcHRpb25zKSB7XHJcbiAgdmFyIHBhcnRzID0gW11cclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBwYXJ0cy5wdXNoKHBhdGhUb1JlZ2V4cChwYXRoW2ldLCBrZXlzLCBvcHRpb25zKS5zb3VyY2UpXHJcbiAgfVxyXG5cclxuICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgnKD86JyArIHBhcnRzLmpvaW4oJ3wnKSArICcpJywgZmxhZ3Mob3B0aW9ucykpXHJcblxyXG4gIHJldHVybiBhdHRhY2hLZXlzKHJlZ2V4cCwga2V5cylcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIHBhdGggcmVnZXhwIGZyb20gc3RyaW5nIGlucHV0LlxyXG4gKlxyXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBwYXRoXHJcbiAqIEBwYXJhbSAgeyFBcnJheX0gIGtleXNcclxuICogQHBhcmFtICB7IU9iamVjdH0gb3B0aW9uc1xyXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxyXG4gKi9cclxuZnVuY3Rpb24gc3RyaW5nVG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcclxuICByZXR1cm4gdG9rZW5zVG9SZWdFeHAocGFyc2UocGF0aCwgb3B0aW9ucyksIGtleXMsIG9wdGlvbnMpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFeHBvc2UgYSBmdW5jdGlvbiBmb3IgdGFraW5nIHRva2VucyBhbmQgcmV0dXJuaW5nIGEgUmVnRXhwLlxyXG4gKlxyXG4gKiBAcGFyYW0gIHshQXJyYXl9ICAgICAgICAgIHRva2Vuc1xyXG4gKiBAcGFyYW0gIHsoQXJyYXl8T2JqZWN0KT19IGtleXNcclxuICogQHBhcmFtICB7T2JqZWN0PX0gICAgICAgICBvcHRpb25zXHJcbiAqIEByZXR1cm4geyFSZWdFeHB9XHJcbiAqL1xyXG5mdW5jdGlvbiB0b2tlbnNUb1JlZ0V4cCAodG9rZW5zLCBrZXlzLCBvcHRpb25zKSB7XHJcbiAgaWYgKCFpc2FycmF5KGtleXMpKSB7XHJcbiAgICBvcHRpb25zID0gLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoa2V5cyB8fCBvcHRpb25zKVxyXG4gICAga2V5cyA9IFtdXHJcbiAgfVxyXG5cclxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxyXG5cclxuICB2YXIgc3RyaWN0ID0gb3B0aW9ucy5zdHJpY3RcclxuICB2YXIgZW5kID0gb3B0aW9ucy5lbmQgIT09IGZhbHNlXHJcbiAgdmFyIHJvdXRlID0gJydcclxuXHJcbiAgLy8gSXRlcmF0ZSBvdmVyIHRoZSB0b2tlbnMgYW5kIGNyZWF0ZSBvdXIgcmVnZXhwIHN0cmluZy5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xyXG4gICAgdmFyIHRva2VuID0gdG9rZW5zW2ldXHJcblxyXG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgcm91dGUgKz0gZXNjYXBlU3RyaW5nKHRva2VuKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIHByZWZpeCA9IGVzY2FwZVN0cmluZyh0b2tlbi5wcmVmaXgpXHJcbiAgICAgIHZhciBjYXB0dXJlID0gJyg/OicgKyB0b2tlbi5wYXR0ZXJuICsgJyknXHJcblxyXG4gICAgICBrZXlzLnB1c2godG9rZW4pXHJcblxyXG4gICAgICBpZiAodG9rZW4ucmVwZWF0KSB7XHJcbiAgICAgICAgY2FwdHVyZSArPSAnKD86JyArIHByZWZpeCArIGNhcHR1cmUgKyAnKSonXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0b2tlbi5vcHRpb25hbCkge1xyXG4gICAgICAgIGlmICghdG9rZW4ucGFydGlhbCkge1xyXG4gICAgICAgICAgY2FwdHVyZSA9ICcoPzonICsgcHJlZml4ICsgJygnICsgY2FwdHVyZSArICcpKT8nXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNhcHR1cmUgPSBwcmVmaXggKyAnKCcgKyBjYXB0dXJlICsgJyk/J1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjYXB0dXJlID0gcHJlZml4ICsgJygnICsgY2FwdHVyZSArICcpJ1xyXG4gICAgICB9XHJcblxyXG4gICAgICByb3V0ZSArPSBjYXB0dXJlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB2YXIgZGVsaW1pdGVyID0gZXNjYXBlU3RyaW5nKG9wdGlvbnMuZGVsaW1pdGVyIHx8ICcvJylcclxuICB2YXIgZW5kc1dpdGhEZWxpbWl0ZXIgPSByb3V0ZS5zbGljZSgtZGVsaW1pdGVyLmxlbmd0aCkgPT09IGRlbGltaXRlclxyXG5cclxuICAvLyBJbiBub24tc3RyaWN0IG1vZGUgd2UgYWxsb3cgYSBzbGFzaCBhdCB0aGUgZW5kIG9mIG1hdGNoLiBJZiB0aGUgcGF0aCB0b1xyXG4gIC8vIG1hdGNoIGFscmVhZHkgZW5kcyB3aXRoIGEgc2xhc2gsIHdlIHJlbW92ZSBpdCBmb3IgY29uc2lzdGVuY3kuIFRoZSBzbGFzaFxyXG4gIC8vIGlzIHZhbGlkIGF0IHRoZSBlbmQgb2YgYSBwYXRoIG1hdGNoLCBub3QgaW4gdGhlIG1pZGRsZS4gVGhpcyBpcyBpbXBvcnRhbnRcclxuICAvLyBpbiBub24tZW5kaW5nIG1vZGUsIHdoZXJlIFwiL3Rlc3QvXCIgc2hvdWxkbid0IG1hdGNoIFwiL3Rlc3QvL3JvdXRlXCIuXHJcbiAgaWYgKCFzdHJpY3QpIHtcclxuICAgIHJvdXRlID0gKGVuZHNXaXRoRGVsaW1pdGVyID8gcm91dGUuc2xpY2UoMCwgLWRlbGltaXRlci5sZW5ndGgpIDogcm91dGUpICsgJyg/OicgKyBkZWxpbWl0ZXIgKyAnKD89JCkpPydcclxuICB9XHJcblxyXG4gIGlmIChlbmQpIHtcclxuICAgIHJvdXRlICs9ICckJ1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBJbiBub24tZW5kaW5nIG1vZGUsIHdlIG5lZWQgdGhlIGNhcHR1cmluZyBncm91cHMgdG8gbWF0Y2ggYXMgbXVjaCBhc1xyXG4gICAgLy8gcG9zc2libGUgYnkgdXNpbmcgYSBwb3NpdGl2ZSBsb29rYWhlYWQgdG8gdGhlIGVuZCBvciBuZXh0IHBhdGggc2VnbWVudC5cclxuICAgIHJvdXRlICs9IHN0cmljdCAmJiBlbmRzV2l0aERlbGltaXRlciA/ICcnIDogJyg/PScgKyBkZWxpbWl0ZXIgKyAnfCQpJ1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGF0dGFjaEtleXMobmV3IFJlZ0V4cCgnXicgKyByb3V0ZSwgZmxhZ3Mob3B0aW9ucykpLCBrZXlzKVxyXG59XHJcblxyXG4vKipcclxuICogTm9ybWFsaXplIHRoZSBnaXZlbiBwYXRoIHN0cmluZywgcmV0dXJuaW5nIGEgcmVndWxhciBleHByZXNzaW9uLlxyXG4gKlxyXG4gKiBBbiBlbXB0eSBhcnJheSBjYW4gYmUgcGFzc2VkIGluIGZvciB0aGUga2V5cywgd2hpY2ggd2lsbCBob2xkIHRoZVxyXG4gKiBwbGFjZWhvbGRlciBrZXkgZGVzY3JpcHRpb25zLiBGb3IgZXhhbXBsZSwgdXNpbmcgYC91c2VyLzppZGAsIGBrZXlzYCB3aWxsXHJcbiAqIGNvbnRhaW4gYFt7IG5hbWU6ICdpZCcsIGRlbGltaXRlcjogJy8nLCBvcHRpb25hbDogZmFsc2UsIHJlcGVhdDogZmFsc2UgfV1gLlxyXG4gKlxyXG4gKiBAcGFyYW0gIHsoc3RyaW5nfFJlZ0V4cHxBcnJheSl9IHBhdGhcclxuICogQHBhcmFtICB7KEFycmF5fE9iamVjdCk9fSAgICAgICBrZXlzXHJcbiAqIEBwYXJhbSAge09iamVjdD19ICAgICAgICAgICAgICAgb3B0aW9uc1xyXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxyXG4gKi9cclxuZnVuY3Rpb24gcGF0aFRvUmVnZXhwIChwYXRoLCBrZXlzLCBvcHRpb25zKSB7XHJcbiAgaWYgKCFpc2FycmF5KGtleXMpKSB7XHJcbiAgICBvcHRpb25zID0gLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoa2V5cyB8fCBvcHRpb25zKVxyXG4gICAga2V5cyA9IFtdXHJcbiAgfVxyXG5cclxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxyXG5cclxuICBpZiAocGF0aCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xyXG4gICAgcmV0dXJuIHJlZ2V4cFRvUmVnZXhwKHBhdGgsIC8qKiBAdHlwZSB7IUFycmF5fSAqLyAoa2V5cykpXHJcbiAgfVxyXG5cclxuICBpZiAoaXNhcnJheShwYXRoKSkge1xyXG4gICAgcmV0dXJuIGFycmF5VG9SZWdleHAoLyoqIEB0eXBlIHshQXJyYXl9ICovIChwYXRoKSwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSwgb3B0aW9ucylcclxuICB9XHJcblxyXG4gIHJldHVybiBzdHJpbmdUb1JlZ2V4cCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHBhdGgpLCAvKiogQHR5cGUgeyFBcnJheX0gKi8gKGtleXMpLCBvcHRpb25zKVxyXG59XHJcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XHJcblxyXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcclxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXHJcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcclxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cclxuXHJcbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xyXG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xyXG5cclxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xyXG59XHJcbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcclxufVxyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcclxuICAgIH1cclxufSAoKSlcclxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcclxuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XHJcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXHJcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcclxuICAgIH1cclxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXHJcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcclxuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcclxuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXHJcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcclxuICAgIH0gY2F0Y2goZSl7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XHJcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcclxuICAgICAgICB9IGNhdGNoKGUpe1xyXG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxyXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xyXG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XHJcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXHJcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xyXG4gICAgfVxyXG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxyXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XHJcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xyXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xyXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcclxuICAgIH0gY2F0Y2ggKGUpe1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XHJcbiAgICAgICAgfSBjYXRjaCAoZSl7XHJcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxyXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XHJcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxufVxyXG52YXIgcXVldWUgPSBbXTtcclxudmFyIGRyYWluaW5nID0gZmFsc2U7XHJcbnZhciBjdXJyZW50UXVldWU7XHJcbnZhciBxdWV1ZUluZGV4ID0gLTE7XHJcblxyXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XHJcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xyXG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XHJcbiAgICB9XHJcbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XHJcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xyXG4gICAgaWYgKGRyYWluaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XHJcbiAgICBkcmFpbmluZyA9IHRydWU7XHJcblxyXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcclxuICAgIHdoaWxlKGxlbikge1xyXG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xyXG4gICAgICAgIHF1ZXVlID0gW107XHJcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xyXG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcclxuICAgIH1cclxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XHJcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xyXG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG59XHJcblxyXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xyXG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcclxuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XHJcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcclxuICAgIH1cclxufTtcclxuXHJcbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcclxuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XHJcbiAgICB0aGlzLmZ1biA9IGZ1bjtcclxuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcclxufVxyXG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcclxufTtcclxucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcclxucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcclxucHJvY2Vzcy5lbnYgPSB7fTtcclxucHJvY2Vzcy5hcmd2ID0gW107XHJcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xyXG5wcm9jZXNzLnZlcnNpb25zID0ge307XHJcblxyXG5mdW5jdGlvbiBub29wKCkge31cclxuXHJcbnByb2Nlc3Mub24gPSBub29wO1xyXG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcclxucHJvY2Vzcy5vbmNlID0gbm9vcDtcclxucHJvY2Vzcy5vZmYgPSBub29wO1xyXG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcclxucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xyXG5wcm9jZXNzLmVtaXQgPSBub29wO1xyXG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XHJcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XHJcblxyXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XHJcblxyXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xyXG59O1xyXG5cclxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcclxucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XHJcbn07XHJcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XHJcbiIsIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cclxuICpcclxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXHJcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG52YXIgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24oKSB7fTtcclxuXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgdmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gcmVxdWlyZSgnLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQnKTtcclxuICB2YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XHJcbiAgdmFyIGhhcyA9IEZ1bmN0aW9uLmNhbGwuYmluZChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KTtcclxuXHJcbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24odGV4dCkge1xyXG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIHRleHQ7XHJcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXHJcbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xyXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgfSBjYXRjaCAoeCkge31cclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxyXG4gKiBFcnJvciBtZXNzYWdlcyBhcmUgbWVtb3JpemVkIGFuZCB3aWxsIG9ubHkgYmUgc2hvd24gb25jZS5cclxuICpcclxuICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcclxuICogQHBhcmFtIHtvYmplY3R9IHZhbHVlcyBSdW50aW1lIHZhbHVlcyB0aGF0IG5lZWQgdG8gYmUgdHlwZS1jaGVja2VkXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiBlLmcuIFwicHJvcFwiLCBcImNvbnRleHRcIiwgXCJjaGlsZCBjb250ZXh0XCJcclxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cclxuICogQHBhcmFtIHs/RnVuY3Rpb259IGdldFN0YWNrIFJldHVybnMgdGhlIGNvbXBvbmVudCBzdGFjay5cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKHR5cGVTcGVjcywgdmFsdWVzLCBsb2NhdGlvbiwgY29tcG9uZW50TmFtZSwgZ2V0U3RhY2spIHtcclxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgZm9yICh2YXIgdHlwZVNwZWNOYW1lIGluIHR5cGVTcGVjcykge1xyXG4gICAgICBpZiAoaGFzKHR5cGVTcGVjcywgdHlwZVNwZWNOYW1lKSkge1xyXG4gICAgICAgIHZhciBlcnJvcjtcclxuICAgICAgICAvLyBQcm9wIHR5cGUgdmFsaWRhdGlvbiBtYXkgdGhyb3cuIEluIGNhc2UgdGhleSBkbywgd2UgZG9uJ3Qgd2FudCB0b1xyXG4gICAgICAgIC8vIGZhaWwgdGhlIHJlbmRlciBwaGFzZSB3aGVyZSBpdCBkaWRuJ3QgZmFpbCBiZWZvcmUuIFNvIHdlIGxvZyBpdC5cclxuICAgICAgICAvLyBBZnRlciB0aGVzZSBoYXZlIGJlZW4gY2xlYW5lZCB1cCwgd2UnbGwgbGV0IHRoZW0gdGhyb3cuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBhbiBpbnZhcmlhbnQgdGhhdCBnZXRzIGNhdWdodC4gSXQncyB0aGUgc2FtZVxyXG4gICAgICAgICAgLy8gYmVoYXZpb3IgYXMgd2l0aG91dCB0aGlzIHN0YXRlbWVudCBleGNlcHQgd2l0aCBhIGJldHRlciBtZXNzYWdlLlxyXG4gICAgICAgICAgaWYgKHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB2YXIgZXJyID0gRXJyb3IoXHJcbiAgICAgICAgICAgICAgKGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJykgKyAnOiAnICsgbG9jYXRpb24gKyAnIHR5cGUgYCcgKyB0eXBlU3BlY05hbWUgKyAnYCBpcyBpbnZhbGlkOyAnICtcclxuICAgICAgICAgICAgICAnaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCcgKyB0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gKyAnYC4nXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xyXG4gICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlcnJvciA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICBlcnJvciA9IGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXJyb3IgJiYgIShlcnJvciBpbnN0YW5jZW9mIEVycm9yKSkge1xyXG4gICAgICAgICAgcHJpbnRXYXJuaW5nKFxyXG4gICAgICAgICAgICAoY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnKSArICc6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAnICtcclxuICAgICAgICAgICAgbG9jYXRpb24gKyAnIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICtcclxuICAgICAgICAgICAgJ2Z1bmN0aW9uIG11c3QgcmV0dXJuIGBudWxsYCBvciBhbiBgRXJyb3JgIGJ1dCByZXR1cm5lZCBhICcgKyB0eXBlb2YgZXJyb3IgKyAnLiAnICtcclxuICAgICAgICAgICAgJ1lvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gcGFzcyBhbiBhcmd1bWVudCB0byB0aGUgdHlwZSBjaGVja2VyICcgK1xyXG4gICAgICAgICAgICAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICtcclxuICAgICAgICAgICAgJ3NoYXBlIGFsbCByZXF1aXJlIGFuIGFyZ3VtZW50KS4nXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xyXG4gICAgICAgICAgLy8gT25seSBtb25pdG9yIHRoaXMgZmFpbHVyZSBvbmNlIGJlY2F1c2UgdGhlcmUgdGVuZHMgdG8gYmUgYSBsb3Qgb2YgdGhlXHJcbiAgICAgICAgICAvLyBzYW1lIGVycm9yLlxyXG4gICAgICAgICAgbG9nZ2VkVHlwZUZhaWx1cmVzW2Vycm9yLm1lc3NhZ2VdID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICB2YXIgc3RhY2sgPSBnZXRTdGFjayA/IGdldFN0YWNrKCkgOiAnJztcclxuXHJcbiAgICAgICAgICBwcmludFdhcm5pbmcoXHJcbiAgICAgICAgICAgICdGYWlsZWQgJyArIGxvY2F0aW9uICsgJyB0eXBlOiAnICsgZXJyb3IubWVzc2FnZSArIChzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJylcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUmVzZXRzIHdhcm5pbmcgY2FjaGUgd2hlbiB0ZXN0aW5nLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY2hlY2tQcm9wVHlwZXMucmVzZXRXYXJuaW5nQ2FjaGUgPSBmdW5jdGlvbigpIHtcclxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGNoZWNrUHJvcFR5cGVzO1xyXG4iLCIvKipcclxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXHJcbiAqXHJcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxyXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gcmVxdWlyZSgnLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQnKTtcclxuXHJcbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fVxyXG5mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uV2l0aFJlc2V0KCkge31cclxuZW1wdHlGdW5jdGlvbldpdGhSZXNldC5yZXNldFdhcm5pbmdDYWNoZSA9IGVtcHR5RnVuY3Rpb247XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG4gIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcclxuICAgIGlmIChzZWNyZXQgPT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XHJcbiAgICAgIC8vIEl0IGlzIHN0aWxsIHNhZmUgd2hlbiBjYWxsZWQgZnJvbSBSZWFjdC5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcihcclxuICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xyXG4gICAgICAnVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gJyArXHJcbiAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xyXG4gICAgKTtcclxuICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xyXG4gICAgdGhyb3cgZXJyO1xyXG4gIH07XHJcbiAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcclxuICBmdW5jdGlvbiBnZXRTaGltKCkge1xyXG4gICAgcmV0dXJuIHNoaW07XHJcbiAgfTtcclxuICAvLyBJbXBvcnRhbnQhXHJcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXHJcbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xyXG4gICAgYXJyYXk6IHNoaW0sXHJcbiAgICBib29sOiBzaGltLFxyXG4gICAgZnVuYzogc2hpbSxcclxuICAgIG51bWJlcjogc2hpbSxcclxuICAgIG9iamVjdDogc2hpbSxcclxuICAgIHN0cmluZzogc2hpbSxcclxuICAgIHN5bWJvbDogc2hpbSxcclxuXHJcbiAgICBhbnk6IHNoaW0sXHJcbiAgICBhcnJheU9mOiBnZXRTaGltLFxyXG4gICAgZWxlbWVudDogc2hpbSxcclxuICAgIGVsZW1lbnRUeXBlOiBzaGltLFxyXG4gICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcclxuICAgIG5vZGU6IHNoaW0sXHJcbiAgICBvYmplY3RPZjogZ2V0U2hpbSxcclxuICAgIG9uZU9mOiBnZXRTaGltLFxyXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxyXG4gICAgc2hhcGU6IGdldFNoaW0sXHJcbiAgICBleGFjdDogZ2V0U2hpbSxcclxuXHJcbiAgICBjaGVja1Byb3BUeXBlczogZW1wdHlGdW5jdGlvbldpdGhSZXNldCxcclxuICAgIHJlc2V0V2FybmluZ0NhY2hlOiBlbXB0eUZ1bmN0aW9uXHJcbiAgfTtcclxuXHJcbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XHJcblxyXG4gIHJldHVybiBSZWFjdFByb3BUeXBlcztcclxufTtcclxuIiwiLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxyXG4gKlxyXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcclxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBSZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcclxudmFyIGFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcclxuXHJcbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XHJcbnZhciBjaGVja1Byb3BUeXBlcyA9IHJlcXVpcmUoJy4vY2hlY2tQcm9wVHlwZXMnKTtcclxuXHJcbnZhciBoYXMgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XHJcbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xyXG5cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICBwcmludFdhcm5pbmcgPSBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgdGV4dDtcclxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cclxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXHJcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XHJcbiAgICB9IGNhdGNoICh4KSB7fVxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGwoKSB7XHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpIHtcclxuICAvKiBnbG9iYWwgU3ltYm9sICovXHJcbiAgdmFyIElURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xyXG4gIHZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJzsgLy8gQmVmb3JlIFN5bWJvbCBzcGVjLlxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBpdGVyYXRvciBtZXRob2QgZnVuY3Rpb24gY29udGFpbmVkIG9uIHRoZSBpdGVyYWJsZSBvYmplY3QuXHJcbiAgICpcclxuICAgKiBCZSBzdXJlIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgaXRlcmFibGUgYXMgY29udGV4dDpcclxuICAgKlxyXG4gICAqICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obXlJdGVyYWJsZSk7XHJcbiAgICogICAgIGlmIChpdGVyYXRvckZuKSB7XHJcbiAgICogICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG15SXRlcmFibGUpO1xyXG4gICAqICAgICAgIC4uLlxyXG4gICAqICAgICB9XHJcbiAgICpcclxuICAgKiBAcGFyYW0gez9vYmplY3R9IG1heWJlSXRlcmFibGVcclxuICAgKiBAcmV0dXJuIHs/ZnVuY3Rpb259XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XHJcbiAgICB2YXIgaXRlcmF0b3JGbiA9IG1heWJlSXRlcmFibGUgJiYgKElURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF0pO1xyXG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHJldHVybiBpdGVyYXRvckZuO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIHRoYXQgYWxsb3cgZGVjbGFyYXRpb24gYW5kIHZhbGlkYXRpb24gb2YgcHJvcHMgdGhhdCBhcmVcclxuICAgKiBzdXBwbGllZCB0byBSZWFjdCBjb21wb25lbnRzLiBFeGFtcGxlIHVzYWdlOlxyXG4gICAqXHJcbiAgICogICB2YXIgUHJvcHMgPSByZXF1aXJlKCdSZWFjdFByb3BUeXBlcycpO1xyXG4gICAqICAgdmFyIE15QXJ0aWNsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgKiAgICAgcHJvcFR5cGVzOiB7XHJcbiAgICogICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIHByb3AgbmFtZWQgXCJkZXNjcmlwdGlvblwiLlxyXG4gICAqICAgICAgIGRlc2NyaXB0aW9uOiBQcm9wcy5zdHJpbmcsXHJcbiAgICpcclxuICAgKiAgICAgICAvLyBBIHJlcXVpcmVkIGVudW0gcHJvcCBuYW1lZCBcImNhdGVnb3J5XCIuXHJcbiAgICogICAgICAgY2F0ZWdvcnk6IFByb3BzLm9uZU9mKFsnTmV3cycsJ1Bob3RvcyddKS5pc1JlcXVpcmVkLFxyXG4gICAqXHJcbiAgICogICAgICAgLy8gQSBwcm9wIG5hbWVkIFwiZGlhbG9nXCIgdGhhdCByZXF1aXJlcyBhbiBpbnN0YW5jZSBvZiBEaWFsb2cuXHJcbiAgICogICAgICAgZGlhbG9nOiBQcm9wcy5pbnN0YW5jZU9mKERpYWxvZykuaXNSZXF1aXJlZFxyXG4gICAqICAgICB9LFxyXG4gICAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkgeyAuLi4gfVxyXG4gICAqICAgfSk7XHJcbiAgICpcclxuICAgKiBBIG1vcmUgZm9ybWFsIHNwZWNpZmljYXRpb24gb2YgaG93IHRoZXNlIG1ldGhvZHMgYXJlIHVzZWQ6XHJcbiAgICpcclxuICAgKiAgIHR5cGUgOj0gYXJyYXl8Ym9vbHxmdW5jfG9iamVjdHxudW1iZXJ8c3RyaW5nfG9uZU9mKFsuLi5dKXxpbnN0YW5jZU9mKC4uLilcclxuICAgKiAgIGRlY2wgOj0gUmVhY3RQcm9wVHlwZXMue3R5cGV9KC5pc1JlcXVpcmVkKT9cclxuICAgKlxyXG4gICAqIEVhY2ggYW5kIGV2ZXJ5IGRlY2xhcmF0aW9uIHByb2R1Y2VzIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBzaWduYXR1cmUuIFRoaXNcclxuICAgKiBhbGxvd3MgdGhlIGNyZWF0aW9uIG9mIGN1c3RvbSB2YWxpZGF0aW9uIGZ1bmN0aW9ucy4gRm9yIGV4YW1wbGU6XHJcbiAgICpcclxuICAgKiAgdmFyIE15TGluayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgKiAgICBwcm9wVHlwZXM6IHtcclxuICAgKiAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBvciBVUkkgcHJvcCBuYW1lZCBcImhyZWZcIi5cclxuICAgKiAgICAgIGhyZWY6IGZ1bmN0aW9uKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xyXG4gICAqICAgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xyXG4gICAqICAgICAgICBpZiAocHJvcFZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHByb3BWYWx1ZSAhPT0gJ3N0cmluZycgJiZcclxuICAgKiAgICAgICAgICAgICEocHJvcFZhbHVlIGluc3RhbmNlb2YgVVJJKSkge1xyXG4gICAqICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoXHJcbiAgICogICAgICAgICAgICAnRXhwZWN0ZWQgYSBzdHJpbmcgb3IgYW4gVVJJIGZvciAnICsgcHJvcE5hbWUgKyAnIGluICcgK1xyXG4gICAqICAgICAgICAgICAgY29tcG9uZW50TmFtZVxyXG4gICAqICAgICAgICAgICk7XHJcbiAgICogICAgICAgIH1cclxuICAgKiAgICAgIH1cclxuICAgKiAgICB9LFxyXG4gICAqICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7Li4ufVxyXG4gICAqICB9KTtcclxuICAgKlxyXG4gICAqIEBpbnRlcm5hbFxyXG4gICAqL1xyXG5cclxuICB2YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xyXG5cclxuICAvLyBJbXBvcnRhbnQhXHJcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanNgLlxyXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcclxuICAgIGFycmF5OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYXJyYXknKSxcclxuICAgIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXHJcbiAgICBmdW5jOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignZnVuY3Rpb24nKSxcclxuICAgIG51bWJlcjogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ251bWJlcicpLFxyXG4gICAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXHJcbiAgICBzdHJpbmc6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzdHJpbmcnKSxcclxuICAgIHN5bWJvbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ3N5bWJvbCcpLFxyXG5cclxuICAgIGFueTogY3JlYXRlQW55VHlwZUNoZWNrZXIoKSxcclxuICAgIGFycmF5T2Y6IGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcixcclxuICAgIGVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpLFxyXG4gICAgZWxlbWVudFR5cGU6IGNyZWF0ZUVsZW1lbnRUeXBlVHlwZUNoZWNrZXIoKSxcclxuICAgIGluc3RhbmNlT2Y6IGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIsXHJcbiAgICBub2RlOiBjcmVhdGVOb2RlQ2hlY2tlcigpLFxyXG4gICAgb2JqZWN0T2Y6IGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIsXHJcbiAgICBvbmVPZjogY3JlYXRlRW51bVR5cGVDaGVja2VyLFxyXG4gICAgb25lT2ZUeXBlOiBjcmVhdGVVbmlvblR5cGVDaGVja2VyLFxyXG4gICAgc2hhcGU6IGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIsXHJcbiAgICBleGFjdDogY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcixcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXHJcbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXHJcbiAgICovXHJcbiAgLyplc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xyXG4gIGZ1bmN0aW9uIGlzKHgsIHkpIHtcclxuICAgIC8vIFNhbWVWYWx1ZSBhbGdvcml0aG1cclxuICAgIGlmICh4ID09PSB5KSB7XHJcbiAgICAgIC8vIFN0ZXBzIDEtNSwgNy0xMFxyXG4gICAgICAvLyBTdGVwcyA2LmItNi5lOiArMCAhPSAtMFxyXG4gICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBTdGVwIDYuYTogTmFOID09IE5hTlxyXG4gICAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xyXG4gICAgfVxyXG4gIH1cclxuICAvKmVzbGludC1lbmFibGUgbm8tc2VsZi1jb21wYXJlKi9cclxuXHJcbiAgLyoqXHJcbiAgICogV2UgdXNlIGFuIEVycm9yLWxpa2Ugb2JqZWN0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFzIHBlb3BsZSBtYXkgY2FsbFxyXG4gICAqIFByb3BUeXBlcyBkaXJlY3RseSBhbmQgaW5zcGVjdCB0aGVpciBvdXRwdXQuIEhvd2V2ZXIsIHdlIGRvbid0IHVzZSByZWFsXHJcbiAgICogRXJyb3JzIGFueW1vcmUuIFdlIGRvbid0IGluc3BlY3QgdGhlaXIgc3RhY2sgYW55d2F5LCBhbmQgY3JlYXRpbmcgdGhlbVxyXG4gICAqIGlzIHByb2hpYml0aXZlbHkgZXhwZW5zaXZlIGlmIHRoZXkgYXJlIGNyZWF0ZWQgdG9vIG9mdGVuLCBzdWNoIGFzIHdoYXRcclxuICAgKiBoYXBwZW5zIGluIG9uZU9mVHlwZSgpIGZvciBhbnkgdHlwZSBiZWZvcmUgdGhlIG9uZSB0aGF0IG1hdGNoZWQuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gUHJvcFR5cGVFcnJvcihtZXNzYWdlKSB7XHJcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xyXG4gICAgdGhpcy5zdGFjayA9ICcnO1xyXG4gIH1cclxuICAvLyBNYWtlIGBpbnN0YW5jZW9mIEVycm9yYCBzdGlsbCB3b3JrIGZvciByZXR1cm5lZCBlcnJvcnMuXHJcbiAgUHJvcFR5cGVFcnJvci5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICB2YXIgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGUgPSB7fTtcclxuICAgICAgdmFyIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50ID0gMDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNoZWNrVHlwZShpc1JlcXVpcmVkLCBwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xyXG4gICAgICBjb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZSB8fCBBTk9OWU1PVVM7XHJcbiAgICAgIHByb3BGdWxsTmFtZSA9IHByb3BGdWxsTmFtZSB8fCBwcm9wTmFtZTtcclxuXHJcbiAgICAgIGlmIChzZWNyZXQgIT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XHJcbiAgICAgICAgaWYgKHRocm93T25EaXJlY3RBY2Nlc3MpIHtcclxuICAgICAgICAgIC8vIE5ldyBiZWhhdmlvciBvbmx5IGZvciB1c2VycyBvZiBgcHJvcC10eXBlc2AgcGFja2FnZVxyXG4gICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcihcclxuICAgICAgICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xyXG4gICAgICAgICAgICAnVXNlIGBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKWAgdG8gY2FsbCB0aGVtLiAnICtcclxuICAgICAgICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XHJcbiAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgLy8gT2xkIGJlaGF2aW9yIGZvciBwZW9wbGUgdXNpbmcgUmVhY3QuUHJvcFR5cGVzXHJcbiAgICAgICAgICB2YXIgY2FjaGVLZXkgPSBjb21wb25lbnROYW1lICsgJzonICsgcHJvcE5hbWU7XHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICFtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gJiZcclxuICAgICAgICAgICAgLy8gQXZvaWQgc3BhbW1pbmcgdGhlIGNvbnNvbGUgYmVjYXVzZSB0aGV5IGFyZSBvZnRlbiBub3QgYWN0aW9uYWJsZSBleGNlcHQgZm9yIGxpYiBhdXRob3JzXHJcbiAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50IDwgM1xyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHByaW50V2FybmluZyhcclxuICAgICAgICAgICAgICAnWW91IGFyZSBtYW51YWxseSBjYWxsaW5nIGEgUmVhY3QuUHJvcFR5cGVzIHZhbGlkYXRpb24gJyArXHJcbiAgICAgICAgICAgICAgJ2Z1bmN0aW9uIGZvciB0aGUgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBwcm9wIG9uIGAnICsgY29tcG9uZW50TmFtZSAgKyAnYC4gVGhpcyBpcyBkZXByZWNhdGVkICcgK1xyXG4gICAgICAgICAgICAgICdhbmQgd2lsbCB0aHJvdyBpbiB0aGUgc3RhbmRhbG9uZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXHJcbiAgICAgICAgICAgICAgJ1lvdSBtYXkgYmUgc2VlaW5nIHRoaXMgd2FybmluZyBkdWUgdG8gYSB0aGlyZC1wYXJ0eSBQcm9wVHlwZXMgJyArXHJcbiAgICAgICAgICAgICAgJ2xpYnJhcnkuIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmctZG9udC1jYWxsLXByb3B0eXBlcyAnICsgJ2ZvciBkZXRhaWxzLidcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGVbY2FjaGVLZXldID0gdHJ1ZTtcclxuICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQrKztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XHJcbiAgICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcclxuICAgICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCAnICsgKCdpbiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgbnVsbGAuJykpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgdW5kZWZpbmVkYC4nKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGNoYWluZWRDaGVja1R5cGUgPSBjaGVja1R5cGUuYmluZChudWxsLCBmYWxzZSk7XHJcbiAgICBjaGFpbmVkQ2hlY2tUeXBlLmlzUmVxdWlyZWQgPSBjaGVja1R5cGUuYmluZChudWxsLCB0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2hhaW5lZENoZWNrVHlwZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKGV4cGVjdGVkVHlwZSkge1xyXG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcclxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcclxuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcclxuICAgICAgaWYgKHByb3BUeXBlICE9PSBleHBlY3RlZFR5cGUpIHtcclxuICAgICAgICAvLyBgcHJvcFZhbHVlYCBiZWluZyBpbnN0YW5jZSBvZiwgc2F5LCBkYXRlL3JlZ2V4cCwgcGFzcyB0aGUgJ29iamVjdCdcclxuICAgICAgICAvLyBjaGVjaywgYnV0IHdlIGNhbiBvZmZlciBhIG1vcmUgcHJlY2lzZSBlcnJvciBtZXNzYWdlIGhlcmUgcmF0aGVyIHRoYW5cclxuICAgICAgICAvLyAnb2YgdHlwZSBgb2JqZWN0YCcuXHJcbiAgICAgICAgdmFyIHByZWNpc2VUeXBlID0gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJlY2lzZVR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2AnICsgZXhwZWN0ZWRUeXBlICsgJ2AuJykpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUFueVR5cGVDaGVja2VyKCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGwpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XHJcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcclxuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIGFycmF5T2YuJyk7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcclxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcclxuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcclxuICAgICAgfVxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcclxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSB7XHJcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcclxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcclxuICAgICAgaWYgKCFpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XHJcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQuJykpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRUeXBlVHlwZUNoZWNrZXIoKSB7XHJcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcclxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcclxuICAgICAgaWYgKCFSZWFjdElzLmlzVmFsaWRFbGVtZW50VHlwZShwcm9wVmFsdWUpKSB7XHJcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQgdHlwZS4nKSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcihleHBlY3RlZENsYXNzKSB7XHJcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcclxuICAgICAgaWYgKCEocHJvcHNbcHJvcE5hbWVdIGluc3RhbmNlb2YgZXhwZWN0ZWRDbGFzcykpIHtcclxuICAgICAgICB2YXIgZXhwZWN0ZWRDbGFzc05hbWUgPSBleHBlY3RlZENsYXNzLm5hbWUgfHwgQU5PTllNT1VTO1xyXG4gICAgICAgIHZhciBhY3R1YWxDbGFzc05hbWUgPSBnZXRDbGFzc05hbWUocHJvcHNbcHJvcE5hbWVdKTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBhY3R1YWxDbGFzc05hbWUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2luc3RhbmNlIG9mIGAnICsgZXhwZWN0ZWRDbGFzc05hbWUgKyAnYC4nKSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlRW51bVR5cGVDaGVja2VyKGV4cGVjdGVkVmFsdWVzKSB7XHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhwZWN0ZWRWYWx1ZXMpKSB7XHJcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICBwcmludFdhcm5pbmcoXHJcbiAgICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50cyBzdXBwbGllZCB0byBvbmVPZiwgZXhwZWN0ZWQgYW4gYXJyYXksIGdvdCAnICsgYXJndW1lbnRzLmxlbmd0aCArICcgYXJndW1lbnRzLiAnICtcclxuICAgICAgICAgICAgJ0EgY29tbW9uIG1pc3Rha2UgaXMgdG8gd3JpdGUgb25lT2YoeCwgeSwgeikgaW5zdGVhZCBvZiBvbmVPZihbeCwgeSwgel0pLidcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHByaW50V2FybmluZygnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZiwgZXhwZWN0ZWQgYW4gYXJyYXkuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xyXG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGlzKHByb3BWYWx1ZSwgZXhwZWN0ZWRWYWx1ZXNbaV0pKSB7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcywgZnVuY3Rpb24gcmVwbGFjZXIoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHZhciB0eXBlID0gZ2V0UHJlY2lzZVR5cGUodmFsdWUpO1xyXG4gICAgICAgIGlmICh0eXBlID09PSAnc3ltYm9sJykge1xyXG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdmFsdWUgYCcgKyBTdHJpbmcocHJvcFZhbHVlKSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBvbmUgb2YgJyArIHZhbHVlc1N0cmluZyArICcuJykpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcclxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xyXG4gICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgb2JqZWN0T2YuJyk7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcclxuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcclxuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIG9iamVjdC4nKSk7XHJcbiAgICAgIH1cclxuICAgICAgZm9yICh2YXIga2V5IGluIHByb3BWYWx1ZSkge1xyXG4gICAgICAgIGlmIChoYXMocHJvcFZhbHVlLCBrZXkpKSB7XHJcbiAgICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xyXG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVVbmlvblR5cGVDaGVja2VyKGFycmF5T2ZUeXBlQ2hlY2tlcnMpIHtcclxuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheU9mVHlwZUNoZWNrZXJzKSkge1xyXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gcHJpbnRXYXJuaW5nKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJykgOiB2b2lkIDA7XHJcbiAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XHJcbiAgICAgIGlmICh0eXBlb2YgY2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHByaW50V2FybmluZyhcclxuICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZS4gRXhwZWN0ZWQgYW4gYXJyYXkgb2YgY2hlY2sgZnVuY3Rpb25zLCBidXQgJyArXHJcbiAgICAgICAgICAncmVjZWl2ZWQgJyArIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyhjaGVja2VyKSArICcgYXQgaW5kZXggJyArIGkgKyAnLidcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcclxuICAgICAgICBpZiAoY2hlY2tlcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KSA9PSBudWxsKSB7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJykpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZU5vZGVDaGVja2VyKCkge1xyXG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XHJcbiAgICAgIGlmICghaXNOb2RlKHByb3BzW3Byb3BOYW1lXSkpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIFJlYWN0Tm9kZS4nKSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XHJcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcclxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcclxuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcclxuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcclxuICAgICAgfVxyXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc2hhcGVUeXBlcykge1xyXG4gICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xyXG4gICAgICAgIGlmICghY2hlY2tlcikge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcclxuICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XHJcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcclxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcclxuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcclxuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcclxuICAgICAgfVxyXG4gICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGFsbCBrZXlzIGluIGNhc2Ugc29tZSBhcmUgcmVxdWlyZWQgYnV0IG1pc3NpbmcgZnJvbVxyXG4gICAgICAvLyBwcm9wcy5cclxuICAgICAgdmFyIGFsbEtleXMgPSBhc3NpZ24oe30sIHByb3BzW3Byb3BOYW1lXSwgc2hhcGVUeXBlcyk7XHJcbiAgICAgIGZvciAodmFyIGtleSBpbiBhbGxLZXlzKSB7XHJcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XHJcbiAgICAgICAgaWYgKCFjaGVja2VyKSB7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoXHJcbiAgICAgICAgICAgICdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nICtcclxuICAgICAgICAgICAgJ1xcbkJhZCBvYmplY3Q6ICcgKyBKU09OLnN0cmluZ2lmeShwcm9wc1twcm9wTmFtZV0sIG51bGwsICcgICcpICtcclxuICAgICAgICAgICAgJ1xcblZhbGlkIGtleXM6ICcgKyAgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmtleXMoc2hhcGVUeXBlcyksIG51bGwsICcgICcpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc05vZGUocHJvcFZhbHVlKSB7XHJcbiAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wVmFsdWUpIHtcclxuICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgY2FzZSAnc3RyaW5nJzpcclxuICAgICAgY2FzZSAndW5kZWZpbmVkJzpcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgY2FzZSAnYm9vbGVhbic6XHJcbiAgICAgICAgcmV0dXJuICFwcm9wVmFsdWU7XHJcbiAgICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xyXG4gICAgICAgICAgcmV0dXJuIHByb3BWYWx1ZS5ldmVyeShpc05vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8IGlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKHByb3BWYWx1ZSk7XHJcbiAgICAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcclxuICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xyXG4gICAgICAgICAgdmFyIHN0ZXA7XHJcbiAgICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gcHJvcFZhbHVlLmVudHJpZXMpIHtcclxuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xyXG4gICAgICAgICAgICAgIGlmICghaXNOb2RlKHN0ZXAudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJdGVyYXRvciB3aWxsIHByb3ZpZGUgZW50cnkgW2ssdl0gdHVwbGVzIHJhdGhlciB0aGFuIHZhbHVlcy5cclxuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xyXG4gICAgICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XHJcbiAgICAgICAgICAgICAgaWYgKGVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTm9kZShlbnRyeVsxXSkpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSB7XHJcbiAgICAvLyBOYXRpdmUgU3ltYm9sLlxyXG4gICAgaWYgKHByb3BUeXBlID09PSAnc3ltYm9sJykge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBmYWxzeSB2YWx1ZSBjYW4ndCBiZSBhIFN5bWJvbFxyXG4gICAgaWYgKCFwcm9wVmFsdWUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnXHJcbiAgICBpZiAocHJvcFZhbHVlWydAQHRvU3RyaW5nVGFnJ10gPT09ICdTeW1ib2wnKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZhbGxiYWNrIGZvciBub24tc3BlYyBjb21wbGlhbnQgU3ltYm9scyB3aGljaCBhcmUgcG9seWZpbGxlZC5cclxuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHByb3BWYWx1ZSBpbnN0YW5jZW9mIFN5bWJvbCkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvLyBFcXVpdmFsZW50IG9mIGB0eXBlb2ZgIGJ1dCB3aXRoIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGFycmF5IGFuZCByZWdleHAuXHJcbiAgZnVuY3Rpb24gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKSB7XHJcbiAgICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xyXG4gICAgICByZXR1cm4gJ2FycmF5JztcclxuICAgIH1cclxuICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcclxuICAgICAgLy8gT2xkIHdlYmtpdHMgKGF0IGxlYXN0IHVudGlsIEFuZHJvaWQgNC4wKSByZXR1cm4gJ2Z1bmN0aW9uJyByYXRoZXIgdGhhblxyXG4gICAgICAvLyAnb2JqZWN0JyBmb3IgdHlwZW9mIGEgUmVnRXhwLiBXZSdsbCBub3JtYWxpemUgdGhpcyBoZXJlIHNvIHRoYXQgL2JsYS9cclxuICAgICAgLy8gcGFzc2VzIFByb3BUeXBlcy5vYmplY3QuXHJcbiAgICAgIHJldHVybiAnb2JqZWN0JztcclxuICAgIH1cclxuICAgIGlmIChpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSkge1xyXG4gICAgICByZXR1cm4gJ3N5bWJvbCc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJvcFR5cGU7XHJcbiAgfVxyXG5cclxuICAvLyBUaGlzIGhhbmRsZXMgbW9yZSB0eXBlcyB0aGFuIGBnZXRQcm9wVHlwZWAuIE9ubHkgdXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMuXHJcbiAgLy8gU2VlIGBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcmAuXHJcbiAgZnVuY3Rpb24gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgcHJvcFZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgIHJldHVybiAnJyArIHByb3BWYWx1ZTtcclxuICAgIH1cclxuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XHJcbiAgICBpZiAocHJvcFR5cGUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuICdkYXRlJztcclxuICAgICAgfSBlbHNlIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcclxuICAgICAgICByZXR1cm4gJ3JlZ2V4cCc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwcm9wVHlwZTtcclxuICB9XHJcblxyXG4gIC8vIFJldHVybnMgYSBzdHJpbmcgdGhhdCBpcyBwb3N0Zml4ZWQgdG8gYSB3YXJuaW5nIGFib3V0IGFuIGludmFsaWQgdHlwZS5cclxuICAvLyBGb3IgZXhhbXBsZSwgXCJ1bmRlZmluZWRcIiBvciBcIm9mIHR5cGUgYXJyYXlcIlxyXG4gIGZ1bmN0aW9uIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyh2YWx1ZSkge1xyXG4gICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSAnYXJyYXknOlxyXG4gICAgICBjYXNlICdvYmplY3QnOlxyXG4gICAgICAgIHJldHVybiAnYW4gJyArIHR5cGU7XHJcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxyXG4gICAgICBjYXNlICdkYXRlJzpcclxuICAgICAgY2FzZSAncmVnZXhwJzpcclxuICAgICAgICByZXR1cm4gJ2EgJyArIHR5cGU7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIHR5cGU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBSZXR1cm5zIGNsYXNzIG5hbWUgb2YgdGhlIG9iamVjdCwgaWYgYW55LlxyXG4gIGZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcclxuICAgIGlmICghcHJvcFZhbHVlLmNvbnN0cnVjdG9yIHx8ICFwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZSkge1xyXG4gICAgICByZXR1cm4gQU5PTllNT1VTO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lO1xyXG4gIH1cclxuXHJcbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBjaGVja1Byb3BUeXBlcztcclxuICBSZWFjdFByb3BUeXBlcy5yZXNldFdhcm5pbmdDYWNoZSA9IGNoZWNrUHJvcFR5cGVzLnJlc2V0V2FybmluZ0NhY2hlO1xyXG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xyXG5cclxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XHJcbn07XHJcbiIsIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cclxuICpcclxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXHJcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cclxuICovXHJcblxyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gIHZhciBSZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcclxuXHJcbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXHJcbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxyXG4gIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcclxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShSZWFjdElzLmlzRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XHJcbn0gZWxzZSB7XHJcbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cclxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXHJcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcycpKCk7XHJcbn1cclxuIiwiLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxyXG4gKlxyXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcclxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xyXG4iLCIvKlxyXG5vYmplY3QtYXNzaWduXHJcbihjKSBTaW5kcmUgU29yaHVzXHJcbkBsaWNlbnNlIE1JVFxyXG4qL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xyXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcclxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcclxudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xyXG5cclxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XHJcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBPYmplY3QodmFsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xyXG5cdHRyeSB7XHJcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cclxuXHJcblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XHJcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXHJcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XHJcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcclxuXHRcdHZhciB0ZXN0MiA9IHt9O1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XHJcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcclxuXHRcdH1cclxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XHJcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcclxuXHRcdH0pO1xyXG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XHJcblx0XHR2YXIgdGVzdDMgPSB7fTtcclxuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xyXG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xyXG5cdFx0fSk7XHJcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cclxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xyXG5cdHZhciBmcm9tO1xyXG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XHJcblx0dmFyIHN5bWJvbHM7XHJcblxyXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XHJcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XHJcblxyXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcclxuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xyXG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XHJcblx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcclxuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiB0bztcclxufTtcclxuIiwiLy8gTG9hZCBtb2R1bGVzXHJcblxyXG52YXIgU3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9zdHJpbmdpZnknKTtcclxudmFyIFBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpO1xyXG5cclxuXHJcbi8vIERlY2xhcmUgaW50ZXJuYWxzXHJcblxyXG52YXIgaW50ZXJuYWxzID0ge307XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBzdHJpbmdpZnk6IFN0cmluZ2lmeSxcclxuICAgIHBhcnNlOiBQYXJzZVxyXG59O1xyXG4iLCIvLyBMb2FkIG1vZHVsZXNcclxuXHJcbnZhciBVdGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcclxuXHJcblxyXG4vLyBEZWNsYXJlIGludGVybmFsc1xyXG5cclxudmFyIGludGVybmFscyA9IHtcclxuICAgIGRlbGltaXRlcjogJyYnLFxyXG4gICAgZGVwdGg6IDUsXHJcbiAgICBhcnJheUxpbWl0OiAyMCxcclxuICAgIHBhcmFtZXRlckxpbWl0OiAxMDAwLFxyXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOiBmYWxzZSxcclxuICAgIHBsYWluT2JqZWN0czogZmFsc2UsXHJcbiAgICBhbGxvd1Byb3RvdHlwZXM6IGZhbHNlXHJcbn07XHJcblxyXG5cclxuaW50ZXJuYWxzLnBhcnNlVmFsdWVzID0gZnVuY3Rpb24gKHN0ciwgb3B0aW9ucykge1xyXG5cclxuICAgIHZhciBvYmogPSB7fTtcclxuICAgIHZhciBwYXJ0cyA9IHN0ci5zcGxpdChvcHRpb25zLmRlbGltaXRlciwgb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdCA9PT0gSW5maW5pdHkgPyB1bmRlZmluZWQgOiBvcHRpb25zLnBhcmFtZXRlckxpbWl0KTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBwYXJ0cy5sZW5ndGg7IGkgPCBpbDsgKytpKSB7XHJcbiAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTtcclxuICAgICAgICB2YXIgcG9zID0gcGFydC5pbmRleE9mKCddPScpID09PSAtMSA/IHBhcnQuaW5kZXhPZignPScpIDogcGFydC5pbmRleE9mKCddPScpICsgMTtcclxuXHJcbiAgICAgICAgaWYgKHBvcyA9PT0gLTEpIHtcclxuICAgICAgICAgICAgb2JqW1V0aWxzLmRlY29kZShwYXJ0KV0gPSAnJztcclxuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZykge1xyXG4gICAgICAgICAgICAgICAgb2JqW1V0aWxzLmRlY29kZShwYXJ0KV0gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIga2V5ID0gVXRpbHMuZGVjb2RlKHBhcnQuc2xpY2UoMCwgcG9zKSk7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSBVdGlscy5kZWNvZGUocGFydC5zbGljZShwb3MgKyAxKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIG9ialtrZXldID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb2JqW2tleV0gPSBbXS5jb25jYXQob2JqW2tleV0pLmNvbmNhdCh2YWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvYmo7XHJcbn07XHJcblxyXG5cclxuaW50ZXJuYWxzLnBhcnNlT2JqZWN0ID0gZnVuY3Rpb24gKGNoYWluLCB2YWwsIG9wdGlvbnMpIHtcclxuXHJcbiAgICBpZiAoIWNoYWluLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHJvb3QgPSBjaGFpbi5zaGlmdCgpO1xyXG5cclxuICAgIHZhciBvYmo7XHJcbiAgICBpZiAocm9vdCA9PT0gJ1tdJykge1xyXG4gICAgICAgIG9iaiA9IFtdO1xyXG4gICAgICAgIG9iaiA9IG9iai5jb25jYXQoaW50ZXJuYWxzLnBhcnNlT2JqZWN0KGNoYWluLCB2YWwsIG9wdGlvbnMpKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG9iaiA9IG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xyXG4gICAgICAgIHZhciBjbGVhblJvb3QgPSByb290WzBdID09PSAnWycgJiYgcm9vdFtyb290Lmxlbmd0aCAtIDFdID09PSAnXScgPyByb290LnNsaWNlKDEsIHJvb3QubGVuZ3RoIC0gMSkgOiByb290O1xyXG4gICAgICAgIHZhciBpbmRleCA9IHBhcnNlSW50KGNsZWFuUm9vdCwgMTApO1xyXG4gICAgICAgIHZhciBpbmRleFN0cmluZyA9ICcnICsgaW5kZXg7XHJcbiAgICAgICAgaWYgKCFpc05hTihpbmRleCkgJiZcclxuICAgICAgICAgICAgcm9vdCAhPT0gY2xlYW5Sb290ICYmXHJcbiAgICAgICAgICAgIGluZGV4U3RyaW5nID09PSBjbGVhblJvb3QgJiZcclxuICAgICAgICAgICAgaW5kZXggPj0gMCAmJlxyXG4gICAgICAgICAgICAob3B0aW9ucy5wYXJzZUFycmF5cyAmJlxyXG4gICAgICAgICAgICAgaW5kZXggPD0gb3B0aW9ucy5hcnJheUxpbWl0KSkge1xyXG5cclxuICAgICAgICAgICAgb2JqID0gW107XHJcbiAgICAgICAgICAgIG9ialtpbmRleF0gPSBpbnRlcm5hbHMucGFyc2VPYmplY3QoY2hhaW4sIHZhbCwgb3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBvYmpbY2xlYW5Sb290XSA9IGludGVybmFscy5wYXJzZU9iamVjdChjaGFpbiwgdmFsLCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG9iajtcclxufTtcclxuXHJcblxyXG5pbnRlcm5hbHMucGFyc2VLZXlzID0gZnVuY3Rpb24gKGtleSwgdmFsLCBvcHRpb25zKSB7XHJcblxyXG4gICAgaWYgKCFrZXkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVHJhbnNmb3JtIGRvdCBub3RhdGlvbiB0byBicmFja2V0IG5vdGF0aW9uXHJcblxyXG4gICAgaWYgKG9wdGlvbnMuYWxsb3dEb3RzKSB7XHJcbiAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoL1xcLihbXlxcLlxcW10rKS9nLCAnWyQxXScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRoZSByZWdleCBjaHVua3NcclxuXHJcbiAgICB2YXIgcGFyZW50ID0gL14oW15cXFtcXF1dKikvO1xyXG4gICAgdmFyIGNoaWxkID0gLyhcXFtbXlxcW1xcXV0qXFxdKS9nO1xyXG5cclxuICAgIC8vIEdldCB0aGUgcGFyZW50XHJcblxyXG4gICAgdmFyIHNlZ21lbnQgPSBwYXJlbnQuZXhlYyhrZXkpO1xyXG5cclxuICAgIC8vIFN0YXNoIHRoZSBwYXJlbnQgaWYgaXQgZXhpc3RzXHJcblxyXG4gICAgdmFyIGtleXMgPSBbXTtcclxuICAgIGlmIChzZWdtZW50WzFdKSB7XHJcbiAgICAgICAgLy8gSWYgd2UgYXJlbid0IHVzaW5nIHBsYWluIG9iamVjdHMsIG9wdGlvbmFsbHkgcHJlZml4IGtleXNcclxuICAgICAgICAvLyB0aGF0IHdvdWxkIG92ZXJ3cml0ZSBvYmplY3QgcHJvdG90eXBlIHByb3BlcnRpZXNcclxuICAgICAgICBpZiAoIW9wdGlvbnMucGxhaW5PYmplY3RzICYmXHJcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoc2VnbWVudFsxXSkpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAga2V5cy5wdXNoKHNlZ21lbnRbMV0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExvb3AgdGhyb3VnaCBjaGlsZHJlbiBhcHBlbmRpbmcgdG8gdGhlIGFycmF5IHVudGlsIHdlIGhpdCBkZXB0aFxyXG5cclxuICAgIHZhciBpID0gMDtcclxuICAgIHdoaWxlICgoc2VnbWVudCA9IGNoaWxkLmV4ZWMoa2V5KSkgIT09IG51bGwgJiYgaSA8IG9wdGlvbnMuZGVwdGgpIHtcclxuXHJcbiAgICAgICAgKytpO1xyXG4gICAgICAgIGlmICghb3B0aW9ucy5wbGFpbk9iamVjdHMgJiZcclxuICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShzZWdtZW50WzFdLnJlcGxhY2UoL1xcW3xcXF0vZywgJycpKSkge1xyXG5cclxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmFsbG93UHJvdG90eXBlcykge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAga2V5cy5wdXNoKHNlZ21lbnRbMV0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHRoZXJlJ3MgYSByZW1haW5kZXIsIGp1c3QgYWRkIHdoYXRldmVyIGlzIGxlZnRcclxuXHJcbiAgICBpZiAoc2VnbWVudCkge1xyXG4gICAgICAgIGtleXMucHVzaCgnWycgKyBrZXkuc2xpY2Uoc2VnbWVudC5pbmRleCkgKyAnXScpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpbnRlcm5hbHMucGFyc2VPYmplY3Qoa2V5cywgdmFsLCBvcHRpb25zKTtcclxufTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIsIG9wdGlvbnMpIHtcclxuXHJcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgIG9wdGlvbnMuZGVsaW1pdGVyID0gdHlwZW9mIG9wdGlvbnMuZGVsaW1pdGVyID09PSAnc3RyaW5nJyB8fCBVdGlscy5pc1JlZ0V4cChvcHRpb25zLmRlbGltaXRlcikgPyBvcHRpb25zLmRlbGltaXRlciA6IGludGVybmFscy5kZWxpbWl0ZXI7XHJcbiAgICBvcHRpb25zLmRlcHRoID0gdHlwZW9mIG9wdGlvbnMuZGVwdGggPT09ICdudW1iZXInID8gb3B0aW9ucy5kZXB0aCA6IGludGVybmFscy5kZXB0aDtcclxuICAgIG9wdGlvbnMuYXJyYXlMaW1pdCA9IHR5cGVvZiBvcHRpb25zLmFycmF5TGltaXQgPT09ICdudW1iZXInID8gb3B0aW9ucy5hcnJheUxpbWl0IDogaW50ZXJuYWxzLmFycmF5TGltaXQ7XHJcbiAgICBvcHRpb25zLnBhcnNlQXJyYXlzID0gb3B0aW9ucy5wYXJzZUFycmF5cyAhPT0gZmFsc2U7XHJcbiAgICBvcHRpb25zLmFsbG93RG90cyA9IG9wdGlvbnMuYWxsb3dEb3RzICE9PSBmYWxzZTtcclxuICAgIG9wdGlvbnMucGxhaW5PYmplY3RzID0gdHlwZW9mIG9wdGlvbnMucGxhaW5PYmplY3RzID09PSAnYm9vbGVhbicgPyBvcHRpb25zLnBsYWluT2JqZWN0cyA6IGludGVybmFscy5wbGFpbk9iamVjdHM7XHJcbiAgICBvcHRpb25zLmFsbG93UHJvdG90eXBlcyA9IHR5cGVvZiBvcHRpb25zLmFsbG93UHJvdG90eXBlcyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMgOiBpbnRlcm5hbHMuYWxsb3dQcm90b3R5cGVzO1xyXG4gICAgb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnBhcmFtZXRlckxpbWl0ID09PSAnbnVtYmVyJyA/IG9wdGlvbnMucGFyYW1ldGVyTGltaXQgOiBpbnRlcm5hbHMucGFyYW1ldGVyTGltaXQ7XHJcbiAgICBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyA9IHR5cGVvZiBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBpbnRlcm5hbHMuc3RyaWN0TnVsbEhhbmRsaW5nO1xyXG5cclxuICAgIGlmIChzdHIgPT09ICcnIHx8XHJcbiAgICAgICAgc3RyID09PSBudWxsIHx8XHJcbiAgICAgICAgdHlwZW9mIHN0ciA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0ZW1wT2JqID0gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBpbnRlcm5hbHMucGFyc2VWYWx1ZXMoc3RyLCBvcHRpb25zKSA6IHN0cjtcclxuICAgIHZhciBvYmogPSBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcclxuXHJcbiAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIGtleXMgYW5kIHNldHVwIHRoZSBuZXcgb2JqZWN0XHJcblxyXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0ZW1wT2JqKTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGtleXMubGVuZ3RoOyBpIDwgaWw7ICsraSkge1xyXG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgIHZhciBuZXdPYmogPSBpbnRlcm5hbHMucGFyc2VLZXlzKGtleSwgdGVtcE9ialtrZXldLCBvcHRpb25zKTtcclxuICAgICAgICBvYmogPSBVdGlscy5tZXJnZShvYmosIG5ld09iaiwgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFV0aWxzLmNvbXBhY3Qob2JqKTtcclxufTtcclxuIiwiLy8gTG9hZCBtb2R1bGVzXHJcblxyXG52YXIgVXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XHJcblxyXG5cclxuLy8gRGVjbGFyZSBpbnRlcm5hbHNcclxuXHJcbnZhciBpbnRlcm5hbHMgPSB7XHJcbiAgICBkZWxpbWl0ZXI6ICcmJyxcclxuICAgIGFycmF5UHJlZml4R2VuZXJhdG9yczoge1xyXG4gICAgICAgIGJyYWNrZXRzOiBmdW5jdGlvbiAocHJlZml4LCBrZXkpIHtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyAnW10nO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5kaWNlczogZnVuY3Rpb24gKHByZWZpeCwga2V5KSB7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcHJlZml4ICsgJ1snICsga2V5ICsgJ10nO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVwZWF0OiBmdW5jdGlvbiAocHJlZml4LCBrZXkpIHtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwcmVmaXg7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHN0cmljdE51bGxIYW5kbGluZzogZmFsc2VcclxufTtcclxuXHJcblxyXG5pbnRlcm5hbHMuc3RyaW5naWZ5ID0gZnVuY3Rpb24gKG9iaiwgcHJlZml4LCBnZW5lcmF0ZUFycmF5UHJlZml4LCBzdHJpY3ROdWxsSGFuZGxpbmcsIGZpbHRlcikge1xyXG5cclxuICAgIGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgb2JqID0gZmlsdGVyKHByZWZpeCwgb2JqKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKFV0aWxzLmlzQnVmZmVyKG9iaikpIHtcclxuICAgICAgICBvYmogPSBvYmoudG9TdHJpbmcoKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIERhdGUpIHtcclxuICAgICAgICBvYmogPSBvYmoudG9JU09TdHJpbmcoKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG9iaiA9PT0gbnVsbCkge1xyXG4gICAgICAgIGlmIChzdHJpY3ROdWxsSGFuZGxpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFV0aWxzLmVuY29kZShwcmVmaXgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb2JqID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnIHx8XHJcbiAgICAgICAgdHlwZW9mIG9iaiA9PT0gJ251bWJlcicgfHxcclxuICAgICAgICB0eXBlb2Ygb2JqID09PSAnYm9vbGVhbicpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtVdGlscy5lbmNvZGUocHJlZml4KSArICc9JyArIFV0aWxzLmVuY29kZShvYmopXTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgdmFsdWVzID0gW107XHJcblxyXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICB2YXIgb2JqS2V5cyA9IEFycmF5LmlzQXJyYXkoZmlsdGVyKSA/IGZpbHRlciA6IE9iamVjdC5rZXlzKG9iaik7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBvYmpLZXlzLmxlbmd0aDsgaSA8IGlsOyArK2kpIHtcclxuICAgICAgICB2YXIga2V5ID0gb2JqS2V5c1tpXTtcclxuXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xyXG4gICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuY29uY2F0KGludGVybmFscy5zdHJpbmdpZnkob2JqW2tleV0sIGdlbmVyYXRlQXJyYXlQcmVmaXgocHJlZml4LCBrZXkpLCBnZW5lcmF0ZUFycmF5UHJlZml4LCBzdHJpY3ROdWxsSGFuZGxpbmcsIGZpbHRlcikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLmNvbmNhdChpbnRlcm5hbHMuc3RyaW5naWZ5KG9ialtrZXldLCBwcmVmaXggKyAnWycgKyBrZXkgKyAnXScsIGdlbmVyYXRlQXJyYXlQcmVmaXgsIHN0cmljdE51bGxIYW5kbGluZywgZmlsdGVyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbn07XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqLCBvcHRpb25zKSB7XHJcblxyXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICB2YXIgZGVsaW1pdGVyID0gdHlwZW9mIG9wdGlvbnMuZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/IGludGVybmFscy5kZWxpbWl0ZXIgOiBvcHRpb25zLmRlbGltaXRlcjtcclxuICAgIHZhciBzdHJpY3ROdWxsSGFuZGxpbmcgPSB0eXBlb2Ygb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nIDogaW50ZXJuYWxzLnN0cmljdE51bGxIYW5kbGluZztcclxuICAgIHZhciBvYmpLZXlzO1xyXG4gICAgdmFyIGZpbHRlcjtcclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcclxuICAgICAgICBvYmogPSBmaWx0ZXIoJycsIG9iaik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuZmlsdGVyKSkge1xyXG4gICAgICAgIG9iaktleXMgPSBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIga2V5cyA9IFtdO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fFxyXG4gICAgICAgIG9iaiA9PT0gbnVsbCkge1xyXG5cclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGFycmF5Rm9ybWF0O1xyXG4gICAgaWYgKG9wdGlvbnMuYXJyYXlGb3JtYXQgaW4gaW50ZXJuYWxzLmFycmF5UHJlZml4R2VuZXJhdG9ycykge1xyXG4gICAgICAgIGFycmF5Rm9ybWF0ID0gb3B0aW9ucy5hcnJheUZvcm1hdDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCdpbmRpY2VzJyBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgYXJyYXlGb3JtYXQgPSBvcHRpb25zLmluZGljZXMgPyAnaW5kaWNlcycgOiAncmVwZWF0JztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFycmF5Rm9ybWF0ID0gJ2luZGljZXMnO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBnZW5lcmF0ZUFycmF5UHJlZml4ID0gaW50ZXJuYWxzLmFycmF5UHJlZml4R2VuZXJhdG9yc1thcnJheUZvcm1hdF07XHJcblxyXG4gICAgaWYgKCFvYmpLZXlzKSB7XHJcbiAgICAgICAgb2JqS2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBvYmpLZXlzLmxlbmd0aDsgaSA8IGlsOyArK2kpIHtcclxuICAgICAgICB2YXIga2V5ID0gb2JqS2V5c1tpXTtcclxuICAgICAgICBrZXlzID0ga2V5cy5jb25jYXQoaW50ZXJuYWxzLnN0cmluZ2lmeShvYmpba2V5XSwga2V5LCBnZW5lcmF0ZUFycmF5UHJlZml4LCBzdHJpY3ROdWxsSGFuZGxpbmcsIGZpbHRlcikpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBrZXlzLmpvaW4oZGVsaW1pdGVyKTtcclxufTtcclxuIiwiLy8gTG9hZCBtb2R1bGVzXHJcblxyXG5cclxuLy8gRGVjbGFyZSBpbnRlcm5hbHNcclxuXHJcbnZhciBpbnRlcm5hbHMgPSB7fTtcclxuaW50ZXJuYWxzLmhleFRhYmxlID0gbmV3IEFycmF5KDI1Nik7XHJcbmZvciAodmFyIGggPSAwOyBoIDwgMjU2OyArK2gpIHtcclxuICAgIGludGVybmFscy5oZXhUYWJsZVtoXSA9ICclJyArICgoaCA8IDE2ID8gJzAnIDogJycpICsgaC50b1N0cmluZygxNikpLnRvVXBwZXJDYXNlKCk7XHJcbn1cclxuXHJcblxyXG5leHBvcnRzLmFycmF5VG9PYmplY3QgPSBmdW5jdGlvbiAoc291cmNlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgdmFyIG9iaiA9IG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gc291cmNlLmxlbmd0aDsgaSA8IGlsOyArK2kpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZVtpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgICAgIG9ialtpXSA9IHNvdXJjZVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG9iajtcclxufTtcclxuXHJcblxyXG5leHBvcnRzLm1lcmdlID0gZnVuY3Rpb24gKHRhcmdldCwgc291cmNlLCBvcHRpb25zKSB7XHJcblxyXG4gICAgaWYgKCFzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygc291cmNlICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgdGFyZ2V0LnB1c2goc291cmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgdGFyZ2V0W3NvdXJjZV0gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gW3RhcmdldCwgc291cmNlXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgdGFyZ2V0ID0gW3RhcmdldF0uY29uY2F0KHNvdXJjZSk7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpICYmXHJcbiAgICAgICAgIUFycmF5LmlzQXJyYXkoc291cmNlKSkge1xyXG5cclxuICAgICAgICB0YXJnZXQgPSBleHBvcnRzLmFycmF5VG9PYmplY3QodGFyZ2V0LCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XHJcbiAgICBmb3IgKHZhciBrID0gMCwga2wgPSBrZXlzLmxlbmd0aDsgayA8IGtsOyArK2spIHtcclxuICAgICAgICB2YXIga2V5ID0ga2V5c1trXTtcclxuICAgICAgICB2YXIgdmFsdWUgPSBzb3VyY2Vba2V5XTtcclxuXHJcbiAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IGV4cG9ydHMubWVyZ2UodGFyZ2V0W2tleV0sIHZhbHVlLCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufTtcclxuXHJcblxyXG5leHBvcnRzLmRlY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyLnJlcGxhY2UoL1xcKy9nLCAnICcpKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0cy5lbmNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XHJcblxyXG4gICAgLy8gVGhpcyBjb2RlIHdhcyBvcmlnaW5hbGx5IHdyaXR0ZW4gYnkgQnJpYW4gV2hpdGUgKG1zY2RleCkgZm9yIHRoZSBpby5qcyBjb3JlIHF1ZXJ5c3RyaW5nIGxpYnJhcnkuXHJcbiAgICAvLyBJdCBoYXMgYmVlbiBhZGFwdGVkIGhlcmUgZm9yIHN0cmljdGVyIGFkaGVyZW5jZSB0byBSRkMgMzk4NlxyXG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHN0ciA9ICcnICsgc3RyO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBvdXQgPSAnJztcclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHN0ci5sZW5ndGg7IGkgPCBpbDsgKytpKSB7XHJcbiAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuXHJcbiAgICAgICAgaWYgKGMgPT09IDB4MkQgfHwgLy8gLVxyXG4gICAgICAgICAgICBjID09PSAweDJFIHx8IC8vIC5cclxuICAgICAgICAgICAgYyA9PT0gMHg1RiB8fCAvLyBfXHJcbiAgICAgICAgICAgIGMgPT09IDB4N0UgfHwgLy8gflxyXG4gICAgICAgICAgICAoYyA+PSAweDMwICYmIGMgPD0gMHgzOSkgfHwgLy8gMC05XHJcbiAgICAgICAgICAgIChjID49IDB4NDEgJiYgYyA8PSAweDVBKSB8fCAvLyBhLXpcclxuICAgICAgICAgICAgKGMgPj0gMHg2MSAmJiBjIDw9IDB4N0EpKSB7IC8vIEEtWlxyXG5cclxuICAgICAgICAgICAgb3V0ICs9IHN0cltpXTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYyA8IDB4ODApIHtcclxuICAgICAgICAgICAgb3V0ICs9IGludGVybmFscy5oZXhUYWJsZVtjXTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYyA8IDB4ODAwKSB7XHJcbiAgICAgICAgICAgIG91dCArPSBpbnRlcm5hbHMuaGV4VGFibGVbMHhDMCB8IChjID4+IDYpXSArIGludGVybmFscy5oZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV07XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGMgPCAweEQ4MDAgfHwgYyA+PSAweEUwMDApIHtcclxuICAgICAgICAgICAgb3V0ICs9IGludGVybmFscy5oZXhUYWJsZVsweEUwIHwgKGMgPj4gMTIpXSArIGludGVybmFscy5oZXhUYWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzRildICsgaW50ZXJuYWxzLmhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICArK2k7XHJcbiAgICAgICAgYyA9IDB4MTAwMDAgKyAoKChjICYgMHgzRkYpIDw8IDEwKSB8IChzdHIuY2hhckNvZGVBdChpKSAmIDB4M0ZGKSk7XHJcbiAgICAgICAgb3V0ICs9IGludGVybmFscy5oZXhUYWJsZVsweEYwIHwgKGMgPj4gMTgpXSArIGludGVybmFscy5oZXhUYWJsZVsweDgwIHwgKChjID4+IDEyKSAmIDB4M0YpXSArIGludGVybmFscy5oZXhUYWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzRildICsgaW50ZXJuYWxzLmhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb3V0O1xyXG59O1xyXG5cclxuZXhwb3J0cy5jb21wYWN0ID0gZnVuY3Rpb24gKG9iaiwgcmVmcykge1xyXG5cclxuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fFxyXG4gICAgICAgIG9iaiA9PT0gbnVsbCkge1xyXG5cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnMgPSByZWZzIHx8IFtdO1xyXG4gICAgdmFyIGxvb2t1cCA9IHJlZnMuaW5kZXhPZihvYmopO1xyXG4gICAgaWYgKGxvb2t1cCAhPT0gLTEpIHtcclxuICAgICAgICByZXR1cm4gcmVmc1tsb29rdXBdO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnMucHVzaChvYmopO1xyXG5cclxuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcclxuICAgICAgICB2YXIgY29tcGFjdGVkID0gW107XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IG9iai5sZW5ndGg7IGkgPCBpbDsgKytpKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqW2ldICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgY29tcGFjdGVkLnB1c2gob2JqW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbXBhY3RlZDtcclxuICAgIH1cclxuXHJcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XHJcbiAgICBmb3IgKGkgPSAwLCBpbCA9IGtleXMubGVuZ3RoOyBpIDwgaWw7ICsraSkge1xyXG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgIG9ialtrZXldID0gZXhwb3J0cy5jb21wYWN0KG9ialtrZXldLCByZWZzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb2JqO1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydHMuaXNSZWdFeHAgPSBmdW5jdGlvbiAob2JqKSB7XHJcblxyXG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBSZWdFeHBdJztcclxufTtcclxuXHJcblxyXG5leHBvcnRzLmlzQnVmZmVyID0gZnVuY3Rpb24gKG9iaikge1xyXG5cclxuICAgIGlmIChvYmogPT09IG51bGwgfHxcclxuICAgICAgICB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICEhKG9iai5jb25zdHJ1Y3RvciAmJlxyXG4gICAgICAgICAgICAgIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciAmJlxyXG4gICAgICAgICAgICAgIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopKTtcclxufTtcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wRGVmYXVsdCAoZXgpIHsgcmV0dXJuIChleCAmJiAodHlwZW9mIGV4ID09PSAnb2JqZWN0JykgJiYgJ2RlZmF1bHQnIGluIGV4KSA/IGV4WydkZWZhdWx0J10gOiBleDsgfVxyXG5cclxudmFyIENvdW50VXAgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgnY291bnR1cC5qcycpKTtcclxudmFyIFByb3BUeXBlcyA9IF9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKCdwcm9wLXR5cGVzJykpO1xyXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG52YXIgUmVhY3RfX2RlZmF1bHQgPSBfaW50ZXJvcERlZmF1bHQoUmVhY3QpO1xyXG52YXIgd2FybmluZyA9IF9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKCd3YXJuaW5nJykpO1xyXG5cclxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xyXG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XHJcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XHJcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XHJcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xyXG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xyXG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcclxuICByZXR1cm4gQ29uc3RydWN0b3I7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcclxuICBpZiAoa2V5IGluIG9iaikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XHJcbiAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICB3cml0YWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIG9ialtrZXldID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkge1xyXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcclxuICAgIHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlO1xyXG4gICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0YXJnZXQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xyXG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcclxuICB9XHJcblxyXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xyXG4gICAgY29uc3RydWN0b3I6IHtcclxuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxyXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XHJcbiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcclxuICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XHJcbiAgfTtcclxuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xyXG4gIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xyXG4gICAgby5fX3Byb3RvX18gPSBwO1xyXG4gICAgcmV0dXJuIG87XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XHJcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xyXG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHNlbGY7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcclxuICBpZiAoY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHtcclxuICAgIHJldHVybiBjYWxsO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xyXG4gIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcclxuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XHJcbiAgdmFyIF9hcnIgPSBbXTtcclxuICB2YXIgX24gPSB0cnVlO1xyXG4gIHZhciBfZCA9IGZhbHNlO1xyXG4gIHZhciBfZSA9IHVuZGVmaW5lZDtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcclxuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcclxuXHJcbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIF9kID0gdHJ1ZTtcclxuICAgIF9lID0gZXJyO1xyXG4gIH0gZmluYWxseSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBpZiAoX2QpIHRocm93IF9lO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIF9hcnI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XHJcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XHJcbn1cclxuXHJcbnZhciBjcmVhdGVDb3VudFVwSW5zdGFuY2UgPSBmdW5jdGlvbiBjcmVhdGVDb3VudFVwSW5zdGFuY2UoZWwsIHByb3BzKSB7XHJcbiAgdmFyIGRlY2ltYWwgPSBwcm9wcy5kZWNpbWFsLFxyXG4gICAgICBkZWNpbWFscyA9IHByb3BzLmRlY2ltYWxzLFxyXG4gICAgICBkdXJhdGlvbiA9IHByb3BzLmR1cmF0aW9uLFxyXG4gICAgICBlYXNpbmdGbiA9IHByb3BzLmVhc2luZ0ZuLFxyXG4gICAgICBlbmQgPSBwcm9wcy5lbmQsXHJcbiAgICAgIGZvcm1hdHRpbmdGbiA9IHByb3BzLmZvcm1hdHRpbmdGbixcclxuICAgICAgcHJlZml4ID0gcHJvcHMucHJlZml4LFxyXG4gICAgICBzZXBhcmF0b3IgPSBwcm9wcy5zZXBhcmF0b3IsXHJcbiAgICAgIHN0YXJ0ID0gcHJvcHMuc3RhcnQsXHJcbiAgICAgIHN1ZmZpeCA9IHByb3BzLnN1ZmZpeCxcclxuICAgICAgdXNlRWFzaW5nID0gcHJvcHMudXNlRWFzaW5nO1xyXG4gIHJldHVybiBuZXcgQ291bnRVcChlbCwgc3RhcnQsIGVuZCwgZGVjaW1hbHMsIGR1cmF0aW9uLCB7XHJcbiAgICBkZWNpbWFsOiBkZWNpbWFsLFxyXG4gICAgZWFzaW5nRm46IGVhc2luZ0ZuLFxyXG4gICAgZm9ybWF0dGluZ0ZuOiBmb3JtYXR0aW5nRm4sXHJcbiAgICBzZXBhcmF0b3I6IHNlcGFyYXRvcixcclxuICAgIHByZWZpeDogcHJlZml4LFxyXG4gICAgc3VmZml4OiBzdWZmaXgsXHJcbiAgICB1c2VFYXNpbmc6IHVzZUVhc2luZyxcclxuICAgIHVzZUdyb3VwaW5nOiAhIXNlcGFyYXRvclxyXG4gIH0pO1xyXG59O1xyXG5cclxudmFyIENvdW50VXAkMSA9XHJcbi8qI19fUFVSRV9fKi9cclxuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcclxuICBfaW5oZXJpdHMoQ291bnRVcCQkMSwgX0NvbXBvbmVudCk7XHJcblxyXG4gIGZ1bmN0aW9uIENvdW50VXAkJDEoKSB7XHJcbiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjtcclxuXHJcbiAgICB2YXIgX3RoaXM7XHJcblxyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvdW50VXAkJDEpO1xyXG5cclxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xyXG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xyXG4gICAgfVxyXG5cclxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoQ291bnRVcCQkMSkpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xyXG5cclxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJjcmVhdGVJbnN0YW5jZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgX3RoaXMucHJvcHMuY2hpbGRyZW4gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAvLyBXYXJuIHdoZW4gdXNlciBkaWRuJ3QgdXNlIGNvbnRhaW5lclJlZiBhdCBhbGxcclxuICAgICAgICB3YXJuaW5nKF90aGlzLmNvbnRhaW5lclJlZi5jdXJyZW50ICYmIChfdGhpcy5jb250YWluZXJSZWYuY3VycmVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8IF90aGlzLmNvbnRhaW5lclJlZi5jdXJyZW50IGluc3RhbmNlb2YgU1ZHVGV4dEVsZW1lbnQpLCBcIkNvdWxkbid0IGZpbmQgYXR0YWNoZWQgZWxlbWVudCB0byBob29rIHRoZSBDb3VudFVwIGluc3RhbmNlIGludG8hIFRyeSB0byBhdHRhY2ggXFxcImNvbnRhaW5lclJlZlxcXCIgZnJvbSB0aGUgcmVuZGVyIHByb3AgdG8gYSBhbiBIVE1MRWxlbWVudCwgZWcuIDxzcGFuIHJlZj17Y29udGFpbmVyUmVmfSAvPi5cIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBjcmVhdGVDb3VudFVwSW5zdGFuY2UoX3RoaXMuY29udGFpbmVyUmVmLmN1cnJlbnQsIF90aGlzLnByb3BzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJwYXVzZVJlc3VtZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBfYXNzZXJ0VGhpc0luaXRpYWxpemUgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSxcclxuICAgICAgICAgIHJlc2V0ID0gX2Fzc2VydFRoaXNJbml0aWFsaXplLnJlc2V0LFxyXG4gICAgICAgICAgc3RhcnQgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemUucmVzdGFydCxcclxuICAgICAgICAgIHVwZGF0ZSA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZS51cGRhdGU7XHJcblxyXG4gICAgICB2YXIgb25QYXVzZVJlc3VtZSA9IF90aGlzLnByb3BzLm9uUGF1c2VSZXN1bWU7XHJcblxyXG4gICAgICBfdGhpcy5pbnN0YW5jZS5wYXVzZVJlc3VtZSgpO1xyXG5cclxuICAgICAgb25QYXVzZVJlc3VtZSh7XHJcbiAgICAgICAgcmVzZXQ6IHJlc2V0LFxyXG4gICAgICAgIHN0YXJ0OiBzdGFydCxcclxuICAgICAgICB1cGRhdGU6IHVwZGF0ZVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSwgXCJyZXNldFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBfYXNzZXJ0VGhpc0luaXRpYWxpemUyID0gX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksXHJcbiAgICAgICAgICBwYXVzZVJlc3VtZSA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTIucGF1c2VSZXN1bWUsXHJcbiAgICAgICAgICBzdGFydCA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTIucmVzdGFydCxcclxuICAgICAgICAgIHVwZGF0ZSA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTIudXBkYXRlO1xyXG5cclxuICAgICAgdmFyIG9uUmVzZXQgPSBfdGhpcy5wcm9wcy5vblJlc2V0O1xyXG5cclxuICAgICAgX3RoaXMuaW5zdGFuY2UucmVzZXQoKTtcclxuXHJcbiAgICAgIG9uUmVzZXQoe1xyXG4gICAgICAgIHBhdXNlUmVzdW1lOiBwYXVzZVJlc3VtZSxcclxuICAgICAgICBzdGFydDogc3RhcnQsXHJcbiAgICAgICAgdXBkYXRlOiB1cGRhdGVcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwicmVzdGFydFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIF90aGlzLnJlc2V0KCk7XHJcblxyXG4gICAgICBfdGhpcy5zdGFydCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcInN0YXJ0XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTMgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSxcclxuICAgICAgICAgIHBhdXNlUmVzdW1lID0gX2Fzc2VydFRoaXNJbml0aWFsaXplMy5wYXVzZVJlc3VtZSxcclxuICAgICAgICAgIHJlc2V0ID0gX2Fzc2VydFRoaXNJbml0aWFsaXplMy5yZXNldCxcclxuICAgICAgICAgIHN0YXJ0ID0gX2Fzc2VydFRoaXNJbml0aWFsaXplMy5yZXN0YXJ0LFxyXG4gICAgICAgICAgdXBkYXRlID0gX2Fzc2VydFRoaXNJbml0aWFsaXplMy51cGRhdGU7XHJcblxyXG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcclxuICAgICAgICAgIGRlbGF5ID0gX3RoaXMkcHJvcHMuZGVsYXksXHJcbiAgICAgICAgICBvbkVuZCA9IF90aGlzJHByb3BzLm9uRW5kLFxyXG4gICAgICAgICAgb25TdGFydCA9IF90aGlzJHByb3BzLm9uU3RhcnQ7XHJcblxyXG4gICAgICB2YXIgcnVuID0gZnVuY3Rpb24gcnVuKCkge1xyXG4gICAgICAgIHJldHVybiBfdGhpcy5pbnN0YW5jZS5zdGFydChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gb25FbmQoe1xyXG4gICAgICAgICAgICBwYXVzZVJlc3VtZTogcGF1c2VSZXN1bWUsXHJcbiAgICAgICAgICAgIHJlc2V0OiByZXNldCxcclxuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxyXG4gICAgICAgICAgICB1cGRhdGU6IHVwZGF0ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07IC8vIERlbGF5IHN0YXJ0IGlmIGRlbGF5IHByb3AgaXMgcHJvcGVybHkgc2V0XHJcblxyXG5cclxuICAgICAgaWYgKGRlbGF5ID4gMCkge1xyXG4gICAgICAgIF90aGlzLnRpbWVvdXRJZCA9IHNldFRpbWVvdXQocnVuLCBkZWxheSAqIDEwMDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJ1bigpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBvblN0YXJ0KHtcclxuICAgICAgICBwYXVzZVJlc3VtZTogcGF1c2VSZXN1bWUsXHJcbiAgICAgICAgcmVzZXQ6IHJlc2V0LFxyXG4gICAgICAgIHVwZGF0ZTogdXBkYXRlXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcInVwZGF0ZVwiLCBmdW5jdGlvbiAobmV3RW5kKSB7XHJcbiAgICAgIHZhciBfYXNzZXJ0VGhpc0luaXRpYWxpemU0ID0gX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksXHJcbiAgICAgICAgICBwYXVzZVJlc3VtZSA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTQucGF1c2VSZXN1bWUsXHJcbiAgICAgICAgICByZXNldCA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTQucmVzZXQsXHJcbiAgICAgICAgICBzdGFydCA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTQucmVzdGFydDtcclxuXHJcbiAgICAgIHZhciBvblVwZGF0ZSA9IF90aGlzLnByb3BzLm9uVXBkYXRlO1xyXG5cclxuICAgICAgX3RoaXMuaW5zdGFuY2UudXBkYXRlKG5ld0VuZCk7XHJcblxyXG4gICAgICBvblVwZGF0ZSh7XHJcbiAgICAgICAgcGF1c2VSZXN1bWU6IHBhdXNlUmVzdW1lLFxyXG4gICAgICAgIHJlc2V0OiByZXNldCxcclxuICAgICAgICBzdGFydDogc3RhcnRcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIFwiY29udGFpbmVyUmVmXCIsIFJlYWN0X19kZWZhdWx0LmNyZWF0ZVJlZigpKTtcclxuXHJcbiAgICByZXR1cm4gX3RoaXM7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlQ2xhc3MoQ291bnRVcCQkMSwgW3tcclxuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcclxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMyLmNoaWxkcmVuLFxyXG4gICAgICAgICAgZGVsYXkgPSBfdGhpcyRwcm9wczIuZGVsYXk7XHJcbiAgICAgIHRoaXMuaW5zdGFuY2UgPSB0aGlzLmNyZWF0ZUluc3RhbmNlKCk7IC8vIERvbid0IGludm9rZSBzdGFydCBpZiBjb21wb25lbnQgaXMgdXNlZCBhcyBhIHJlbmRlciBwcm9wXHJcblxyXG4gICAgICBpZiAodHlwZW9mIGNoaWxkcmVuID09PSAnZnVuY3Rpb24nICYmIGRlbGF5ICE9PSAwKSByZXR1cm47IC8vIE90aGVyd2lzZSBqdXN0IHN0YXJ0IGltbWVkaWF0ZWx5XHJcblxyXG4gICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiBcInNob3VsZENvbXBvbmVudFVwZGF0ZVwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcclxuICAgICAgdmFyIGhhc0NlcnRhaW5Qcm9wc0NoYW5nZWQgPSB0aGlzLnByb3BzLmR1cmF0aW9uICE9PSBuZXh0UHJvcHMuZHVyYXRpb24gfHwgdGhpcy5wcm9wcy5lbmQgIT09IG5leHRQcm9wcy5lbmQgfHwgdGhpcy5wcm9wcy5zdGFydCAhPT0gbmV4dFByb3BzLnN0YXJ0O1xyXG4gICAgICByZXR1cm4gaGFzQ2VydGFpblByb3BzQ2hhbmdlZCB8fCB0aGlzLnByb3BzLnJlZHJhdztcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xyXG4gICAgICAvLyBJZiBkdXJhdGlvbiBvciBzdGFydCBoYXMgY2hhbmdlZCwgdGhlcmUncyBubyB3YXkgdG8gdXBkYXRlIHRoZSBkdXJhdGlvblxyXG4gICAgICAvLyBvciBzdGFydCB2YWx1ZS4gU28gd2UgbmVlZCB0byByZS1jcmVhdGUgdGhlIENvdW50VXAgaW5zdGFuY2UgaW4gb3JkZXIgdG9cclxuICAgICAgLy8gcmVzdGFydCBpdC5cclxuICAgICAgaWYgKHRoaXMucHJvcHMuZHVyYXRpb24gIT09IHByZXZQcm9wcy5kdXJhdGlvbiB8fCB0aGlzLnByb3BzLnN0YXJ0ICE9PSBwcmV2UHJvcHMuc3RhcnQpIHtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gdGhpcy5jcmVhdGVJbnN0YW5jZSgpO1xyXG4gICAgICAgIHRoaXMuc3RhcnQoKTtcclxuICAgICAgfSAvLyBPbmx5IGVuZCB2YWx1ZSBoYXMgY2hhbmdlZCwgc28gcmVzZXQgYW5kIGFuZCByZS1hbmltYXRlIHdpdGggdGhlIHVwZGF0ZWRcclxuICAgICAgLy8gZW5kIHZhbHVlLlxyXG5cclxuXHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmVuZCAhPT0gcHJldlByb3BzLmVuZCkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UucmVzZXQoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnVwZGF0ZSh0aGlzLnByb3BzLmVuZCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgaWYgKHRoaXMudGltZW91dElkKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5pbnN0YW5jZS5yZXNldCgpO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogXCJyZW5kZXJcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSB0aGlzLnByb3BzLFxyXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczMuY2hpbGRyZW4sXHJcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wczMuY2xhc3NOYW1lLFxyXG4gICAgICAgICAgc3R5bGUgPSBfdGhpcyRwcm9wczMuc3R5bGU7XHJcbiAgICAgIHZhciBjb250YWluZXJSZWYgPSB0aGlzLmNvbnRhaW5lclJlZixcclxuICAgICAgICAgIHBhdXNlUmVzdW1lID0gdGhpcy5wYXVzZVJlc3VtZSxcclxuICAgICAgICAgIHJlc2V0ID0gdGhpcy5yZXNldCxcclxuICAgICAgICAgIHJlc3RhcnQgPSB0aGlzLnJlc3RhcnQsXHJcbiAgICAgICAgICB1cGRhdGUgPSB0aGlzLnVwZGF0ZTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICByZXR1cm4gY2hpbGRyZW4oe1xyXG4gICAgICAgICAgY291bnRVcFJlZjogY29udGFpbmVyUmVmLFxyXG4gICAgICAgICAgcGF1c2VSZXN1bWU6IHBhdXNlUmVzdW1lLFxyXG4gICAgICAgICAgcmVzZXQ6IHJlc2V0LFxyXG4gICAgICAgICAgc3RhcnQ6IHJlc3RhcnQsXHJcbiAgICAgICAgICB1cGRhdGU6IHVwZGF0ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xyXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxyXG4gICAgICAgIHJlZjogY29udGFpbmVyUmVmLFxyXG4gICAgICAgIHN0eWxlOiBzdHlsZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XSk7XHJcblxyXG4gIHJldHVybiBDb3VudFVwJCQxO1xyXG59KFJlYWN0LkNvbXBvbmVudCk7XHJcblxyXG5fZGVmaW5lUHJvcGVydHkoQ291bnRVcCQxLCBcInByb3BUeXBlc1wiLCB7XHJcbiAgZGVjaW1hbDogUHJvcFR5cGVzLnN0cmluZyxcclxuICBkZWNpbWFsczogUHJvcFR5cGVzLm51bWJlcixcclxuICBkZWxheTogUHJvcFR5cGVzLm51bWJlcixcclxuICBlYXNpbmdGbjogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgZW5kOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXHJcbiAgZm9ybWF0dGluZ0ZuOiBQcm9wVHlwZXMuZnVuYyxcclxuICBvbkVuZDogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgb25TdGFydDogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgcHJlZml4OiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gIHJlZHJhdzogUHJvcFR5cGVzLmJvb2wsXHJcbiAgc2VwYXJhdG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gIHN0YXJ0OiBQcm9wVHlwZXMubnVtYmVyLFxyXG4gIHN1ZmZpeDogUHJvcFR5cGVzLnN0cmluZyxcclxuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcclxuICB1c2VFYXNpbmc6IFByb3BUeXBlcy5ib29sXHJcbn0pO1xyXG5cclxuX2RlZmluZVByb3BlcnR5KENvdW50VXAkMSwgXCJkZWZhdWx0UHJvcHNcIiwge1xyXG4gIGRlY2ltYWw6ICcuJyxcclxuICBkZWNpbWFsczogMCxcclxuICBkZWxheTogbnVsbCxcclxuICBkdXJhdGlvbjogbnVsbCxcclxuICBlYXNpbmdGbjogbnVsbCxcclxuICBmb3JtYXR0aW5nRm46IG51bGwsXHJcbiAgb25FbmQ6IGZ1bmN0aW9uIG9uRW5kKCkge30sXHJcbiAgb25QYXVzZVJlc3VtZTogZnVuY3Rpb24gb25QYXVzZVJlc3VtZSgpIHt9LFxyXG4gIG9uUmVzZXQ6IGZ1bmN0aW9uIG9uUmVzZXQoKSB7fSxcclxuICBvblN0YXJ0OiBmdW5jdGlvbiBvblN0YXJ0KCkge30sXHJcbiAgb25VcGRhdGU6IGZ1bmN0aW9uIG9uVXBkYXRlKCkge30sXHJcbiAgcHJlZml4OiAnJyxcclxuICByZWRyYXc6IGZhbHNlLFxyXG4gIHNlcGFyYXRvcjogJycsXHJcbiAgc3RhcnQ6IDAsXHJcbiAgc3VmZml4OiAnJyxcclxuICBzdHlsZTogdW5kZWZpbmVkLFxyXG4gIHVzZUVhc2luZzogdHJ1ZVxyXG59KTtcclxuXHJcbi8vIHNpbmNlIGl0IG9ubHkgY2hlY2tzIGZvciB0cnV0aHkgdmFsdWVzIC0xIGlzIGVub3VnaCB0byBtb2NrIGFuIGVsZW1lbnQuXHJcblxyXG52YXIgTk9fRUxFTUVOVCA9IC0xO1xyXG5cclxudmFyIHVzZUNvdW50VXAgPSBmdW5jdGlvbiB1c2VDb3VudFVwKHByb3BzKSB7XHJcbiAgdmFyIF9wcm9wcyA9IF9vYmplY3RTcHJlYWQoe30sIENvdW50VXAkMS5kZWZhdWx0UHJvcHMsIHByb3BzKTtcclxuXHJcbiAgdmFyIHN0YXJ0ID0gX3Byb3BzLnN0YXJ0LFxyXG4gICAgICBmb3JtYXR0aW5nRm4gPSBfcHJvcHMuZm9ybWF0dGluZ0ZuO1xyXG5cclxuICB2YXIgX3VzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUodHlwZW9mIGZvcm1hdHRpbmdGbiA9PT0gJ2Z1bmN0aW9uJyA/IGZvcm1hdHRpbmdGbihzdGFydCkgOiBzdGFydCksXHJcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxyXG4gICAgICBjb3VudCA9IF91c2VTdGF0ZTJbMF0sXHJcbiAgICAgIHNldENvdW50ID0gX3VzZVN0YXRlMlsxXTtcclxuXHJcbiAgdmFyIGNvdW50VXBSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XHJcblxyXG4gIHZhciBjcmVhdGVJbnN0YW5jZSA9IGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKCkge1xyXG4gICAgdmFyIGNvdW50VXAgPSBjcmVhdGVDb3VudFVwSW5zdGFuY2UoTk9fRUxFTUVOVCwgX3Byb3BzKTtcclxuICAgIHZhciBmb3JtYXR0aW5nRm5SZWYgPSBjb3VudFVwLm9wdGlvbnMuZm9ybWF0dGluZ0ZuO1xyXG5cclxuICAgIGNvdW50VXAub3B0aW9ucy5mb3JtYXR0aW5nRm4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciByZXN1bHQgPSBmb3JtYXR0aW5nRm5SZWYuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xyXG4gICAgICBzZXRDb3VudChyZXN1bHQpO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gY291bnRVcDtcclxuICB9O1xyXG5cclxuICB2YXIgZ2V0Q291bnRVcCA9IGZ1bmN0aW9uIGdldENvdW50VXAoKSB7XHJcbiAgICB2YXIgY291bnRVcCA9IGNvdW50VXBSZWYuY3VycmVudDtcclxuXHJcbiAgICBpZiAoY291bnRVcCAhPT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gY291bnRVcDtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbmV3Q291bnRVcCA9IGNyZWF0ZUluc3RhbmNlKCk7XHJcbiAgICBjb3VudFVwUmVmLmN1cnJlbnQgPSBuZXdDb3VudFVwO1xyXG4gICAgcmV0dXJuIG5ld0NvdW50VXA7XHJcbiAgfTtcclxuXHJcbiAgdmFyIHJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XHJcbiAgICB2YXIgb25SZXNldCA9IF9wcm9wcy5vblJlc2V0O1xyXG4gICAgZ2V0Q291bnRVcCgpLnJlc2V0KCk7XHJcbiAgICBvblJlc2V0KHtcclxuICAgICAgcGF1c2VSZXN1bWU6IHBhdXNlUmVzdW1lLFxyXG4gICAgICBzdGFydDogcmVzdGFydCxcclxuICAgICAgdXBkYXRlOiB1cGRhdGVcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHZhciByZXN0YXJ0ID0gZnVuY3Rpb24gcmVzdGFydCgpIHtcclxuICAgIHZhciBvblN0YXJ0ID0gX3Byb3BzLm9uU3RhcnQsXHJcbiAgICAgICAgb25FbmQgPSBfcHJvcHMub25FbmQ7XHJcbiAgICBnZXRDb3VudFVwKCkucmVzZXQoKTtcclxuICAgIGdldENvdW50VXAoKS5zdGFydChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIG9uRW5kKHtcclxuICAgICAgICBwYXVzZVJlc3VtZTogcGF1c2VSZXN1bWUsXHJcbiAgICAgICAgcmVzZXQ6IHJlc2V0LFxyXG4gICAgICAgIHN0YXJ0OiByZXN0YXJ0LFxyXG4gICAgICAgIHVwZGF0ZTogdXBkYXRlXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBvblN0YXJ0KHtcclxuICAgICAgcGF1c2VSZXN1bWU6IHBhdXNlUmVzdW1lLFxyXG4gICAgICByZXNldDogcmVzZXQsXHJcbiAgICAgIHVwZGF0ZTogdXBkYXRlXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB2YXIgcGF1c2VSZXN1bWUgPSBmdW5jdGlvbiBwYXVzZVJlc3VtZSgpIHtcclxuICAgIHZhciBvblBhdXNlUmVzdW1lID0gX3Byb3BzLm9uUGF1c2VSZXN1bWU7XHJcbiAgICBnZXRDb3VudFVwKCkucGF1c2VSZXN1bWUoKTtcclxuICAgIG9uUGF1c2VSZXN1bWUoe1xyXG4gICAgICByZXNldDogcmVzZXQsXHJcbiAgICAgIHN0YXJ0OiByZXN0YXJ0LFxyXG4gICAgICB1cGRhdGU6IHVwZGF0ZVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShuZXdFbmQpIHtcclxuICAgIHZhciBvblVwZGF0ZSA9IF9wcm9wcy5vblVwZGF0ZTtcclxuICAgIGdldENvdW50VXAoKS51cGRhdGUobmV3RW5kKTtcclxuICAgIG9uVXBkYXRlKHtcclxuICAgICAgcGF1c2VSZXN1bWU6IHBhdXNlUmVzdW1lLFxyXG4gICAgICByZXNldDogcmVzZXQsXHJcbiAgICAgIHN0YXJ0OiByZXN0YXJ0XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGRlbGF5ID0gX3Byb3BzLmRlbGF5LFxyXG4gICAgICAgIG9uU3RhcnQgPSBfcHJvcHMub25TdGFydCxcclxuICAgICAgICBvbkVuZCA9IF9wcm9wcy5vbkVuZDtcclxuICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIG9uU3RhcnQoe1xyXG4gICAgICAgIHBhdXNlUmVzdW1lOiBwYXVzZVJlc3VtZSxcclxuICAgICAgICByZXNldDogcmVzZXQsXHJcbiAgICAgICAgdXBkYXRlOiB1cGRhdGVcclxuICAgICAgfSk7XHJcbiAgICAgIGdldENvdW50VXAoKS5zdGFydChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgIG9uRW5kKHtcclxuICAgICAgICAgIHBhdXNlUmVzdW1lOiBwYXVzZVJlc3VtZSxcclxuICAgICAgICAgIHJlc2V0OiByZXNldCxcclxuICAgICAgICAgIHN0YXJ0OiByZXN0YXJ0LFxyXG4gICAgICAgICAgdXBkYXRlOiB1cGRhdGVcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9LCBkZWxheSAqIDEwMDApO1xyXG4gICAgcmV0dXJuIHJlc2V0O1xyXG4gIH0sIFtdKTtcclxuICByZXR1cm4ge1xyXG4gICAgY291bnRVcDogY291bnQsXHJcbiAgICBzdGFydDogcmVzdGFydCxcclxuICAgIHBhdXNlUmVzdW1lOiBwYXVzZVJlc3VtZSxcclxuICAgIHJlc2V0OiByZXNldCxcclxuICAgIHVwZGF0ZTogdXBkYXRlXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydHMuZGVmYXVsdCA9IENvdW50VXAkMTtcclxuZXhwb3J0cy51c2VDb3VudFVwID0gdXNlQ291bnRVcDtcclxuIiwiLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxyXG4gKlxyXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcclxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxyXG4gKi9cclxuXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbi8qKlxyXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXHJcbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcclxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcclxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXHJcbiAqL1xyXG5cclxudmFyIF9fREVWX18gPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nO1xyXG5cclxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xyXG5cclxuaWYgKF9fREVWX18pIHtcclxuICB2YXIgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGZvcm1hdCwgYXJncykge1xyXG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDEgPyBsZW4gLSAxIDogMCk7XHJcbiAgICBmb3IgKHZhciBrZXkgPSAxOyBrZXkgPCBsZW47IGtleSsrKSB7XHJcbiAgICAgIGFyZ3Nba2V5IC0gMV0gPSBhcmd1bWVudHNba2V5XTtcclxuICAgIH1cclxuICAgIHZhciBhcmdJbmRleCA9IDA7XHJcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcclxuICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xyXG4gICAgICB9KTtcclxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cclxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXHJcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XHJcbiAgICB9IGNhdGNoICh4KSB7fVxyXG4gIH1cclxuXHJcbiAgd2FybmluZyA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XHJcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcclxuICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuID4gMiA/IGxlbiAtIDIgOiAwKTtcclxuICAgIGZvciAodmFyIGtleSA9IDI7IGtleSA8IGxlbjsga2V5KyspIHtcclxuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xyXG4gICAgfVxyXG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICtcclxuICAgICAgICAgICdtZXNzYWdlIGFyZ3VtZW50J1xyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgaWYgKCFjb25kaXRpb24pIHtcclxuICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KG51bGwsIFtmb3JtYXRdLmNvbmNhdChhcmdzKSk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xyXG5cclxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcclxuXHJcbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcclxuXHJcbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5cclxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XHJcblxyXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XHJcblxyXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cclxuXHJcbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxyXG5cclxudmFyIHByb3BUeXBlcyA9IHtcclxuICB0aG91c2FuZFNlcGFyYXRvcjogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLCBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFt0cnVlXSldKSxcclxuICB0aG91c2FuZFNwYWNpbmc6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWycyJywgJzJzJywgJzMnLCAnNCddKSxcclxuICBkZWNpbWFsU2VwYXJhdG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICBkZWNpbWFsU2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxyXG4gIGZpeGVkRGVjaW1hbFNjYWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcbiAgZGlzcGxheVR5cGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWydpbnB1dCcsICd0ZXh0J10pLFxyXG4gIHByZWZpeDogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgc3VmZml4OiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICBmb3JtYXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jXSksXHJcbiAgcmVtb3ZlRm9ybWF0dGluZzogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG1hc2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlczIuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nKV0pLFxyXG4gIHZhbHVlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsIF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nXSksXHJcbiAgaXNOdW1lcmljU3RyaW5nOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcbiAgY3VzdG9tSW5wdXQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICBhbGxvd05lZ2F0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcbiAgb25WYWx1ZUNoYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uS2V5RG93bjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uTW91c2VVcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uQ2hhbmdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25Gb2N1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uQmx1cjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIHR5cGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoWyd0ZXh0JywgJ3RlbCddKSxcclxuICBpc0FsbG93ZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICByZW5kZXJUZXh0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcclxufTtcclxuXHJcbnZhciBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgZGlzcGxheVR5cGU6ICdpbnB1dCcsXHJcbiAgZGVjaW1hbFNlcGFyYXRvcjogJy4nLFxyXG4gIHRob3VzYW5kU3BhY2luZzogJzMnLFxyXG4gIGZpeGVkRGVjaW1hbFNjYWxlOiBmYWxzZSxcclxuICBwcmVmaXg6ICcnLFxyXG4gIHN1ZmZpeDogJycsXHJcbiAgYWxsb3dOZWdhdGl2ZTogdHJ1ZSxcclxuICBpc051bWVyaWNTdHJpbmc6IGZhbHNlLFxyXG4gIHR5cGU6ICd0ZXh0JyxcclxuICBvblZhbHVlQ2hhbmdlOiBfdXRpbHMubm9vcCxcclxuICBvbkNoYW5nZTogX3V0aWxzLm5vb3AsXHJcbiAgb25LZXlEb3duOiBfdXRpbHMubm9vcCxcclxuICBvbk1vdXNlVXA6IF91dGlscy5ub29wLFxyXG4gIG9uRm9jdXM6IF91dGlscy5ub29wLFxyXG4gIG9uQmx1cjogX3V0aWxzLm5vb3AsXHJcbiAgaXNBbGxvd2VkOiBfdXRpbHMucmV0dXJuVHJ1ZVxyXG59O1xyXG5cclxudmFyIEN1cnJlbmN5Rm9ybWF0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcclxuICBfaW5oZXJpdHMoQ3VycmVuY3lGb3JtYXQsIF9SZWFjdCRDb21wb25lbnQpO1xyXG5cclxuICBmdW5jdGlvbiBDdXJyZW5jeUZvcm1hdChwcm9wcykge1xyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEN1cnJlbmN5Rm9ybWF0KTtcclxuXHJcbiAgICAvL3ZhbGlkYXRlIHByb3BzXHJcbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ3VycmVuY3lGb3JtYXQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDdXJyZW5jeUZvcm1hdCkpLmNhbGwodGhpcywgcHJvcHMpKTtcclxuXHJcbiAgICBfdGhpcy52YWxpZGF0ZVByb3BzKCk7XHJcblxyXG4gICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gX3RoaXMuZm9ybWF0VmFsdWVQcm9wKCk7XHJcblxyXG4gICAgX3RoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHZhbHVlOiBmb3JtYXR0ZWRWYWx1ZSxcclxuICAgICAgbnVtQXNTdHJpbmc6IF90aGlzLnJlbW92ZUZvcm1hdHRpbmcoZm9ybWF0dGVkVmFsdWUpXHJcbiAgICB9O1xyXG5cclxuICAgIF90aGlzLm9uQ2hhbmdlID0gX3RoaXMub25DaGFuZ2UuYmluZChfdGhpcyk7XHJcbiAgICBfdGhpcy5vbktleURvd24gPSBfdGhpcy5vbktleURvd24uYmluZChfdGhpcyk7XHJcbiAgICBfdGhpcy5vbk1vdXNlVXAgPSBfdGhpcy5vbk1vdXNlVXAuYmluZChfdGhpcyk7XHJcbiAgICBfdGhpcy5vbkZvY3VzID0gX3RoaXMub25Gb2N1cy5iaW5kKF90aGlzKTtcclxuICAgIF90aGlzLm9uQmx1ciA9IF90aGlzLm9uQmx1ci5iaW5kKF90aGlzKTtcclxuICAgIHJldHVybiBfdGhpcztcclxuICB9XHJcblxyXG4gIF9jcmVhdGVDbGFzcyhDdXJyZW5jeUZvcm1hdCwgW3tcclxuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xyXG4gICAgICB0aGlzLnVwZGF0ZVZhbHVlSWZSZXF1aXJlZChwcmV2UHJvcHMpO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ3VwZGF0ZVZhbHVlSWZSZXF1aXJlZCcsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVmFsdWVJZlJlcXVpcmVkKHByZXZQcm9wcykge1xyXG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxyXG4gICAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlO1xyXG5cclxuXHJcbiAgICAgIGlmIChwcmV2UHJvcHMgIT09IHByb3BzKSB7XHJcbiAgICAgICAgLy92YWxpZGF0ZSBwcm9wc1xyXG4gICAgICAgIHRoaXMudmFsaWRhdGVQcm9wcygpO1xyXG5cclxuICAgICAgICB2YXIgc3RhdGVWYWx1ZSA9IHN0YXRlLnZhbHVlO1xyXG5cclxuICAgICAgICB2YXIgbGFzdE51bVN0ciA9IHN0YXRlLm51bUFzU3RyaW5nIHx8ICcnO1xyXG5cclxuICAgICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSBwcm9wcy52YWx1ZSA9PT0gdW5kZWZpbmVkID8gdGhpcy5mb3JtYXROdW1TdHJpbmcobGFzdE51bVN0cikgOiB0aGlzLmZvcm1hdFZhbHVlUHJvcCgpO1xyXG5cclxuICAgICAgICBpZiAoZm9ybWF0dGVkVmFsdWUgIT09IHN0YXRlVmFsdWUpIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICB2YWx1ZTogZm9ybWF0dGVkVmFsdWUsXHJcbiAgICAgICAgICAgIG51bUFzU3RyaW5nOiB0aGlzLnJlbW92ZUZvcm1hdHRpbmcoZm9ybWF0dGVkVmFsdWUpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiogTWlzYyBtZXRob2RzICoqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6ICdnZXRGbG9hdFN0cmluZycsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RmxvYXRTdHJpbmcoKSB7XHJcbiAgICAgIHZhciBudW0gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xyXG5cclxuICAgICAgdmFyIF9nZXRTZXBhcmF0b3JzID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXHJcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX2dldFNlcGFyYXRvcnMuZGVjaW1hbFNlcGFyYXRvcjtcclxuXHJcbiAgICAgIHZhciBudW1SZWdleCA9IHRoaXMuZ2V0TnVtYmVyUmVnZXgodHJ1ZSk7XHJcblxyXG4gICAgICAvL3JlbW92ZSBuZWdhdGlvbiBmb3IgcmVnZXggY2hlY2tcclxuICAgICAgdmFyIGhhc05lZ2F0aW9uID0gbnVtWzBdID09PSAnLSc7XHJcbiAgICAgIGlmIChoYXNOZWdhdGlvbikgbnVtID0gbnVtLnJlcGxhY2UoJy0nLCAnJyk7XHJcblxyXG4gICAgICBudW0gPSAobnVtLm1hdGNoKG51bVJlZ2V4KSB8fCBbXSkuam9pbignJykucmVwbGFjZShkZWNpbWFsU2VwYXJhdG9yLCAnLicpO1xyXG5cclxuICAgICAgLy9yZW1vdmUgZXh0cmEgZGVjaW1hbHNcclxuICAgICAgdmFyIGZpcnN0RGVjaW1hbEluZGV4ID0gbnVtLmluZGV4T2YoJy4nKTtcclxuXHJcbiAgICAgIGlmIChmaXJzdERlY2ltYWxJbmRleCAhPT0gLTEpIHtcclxuICAgICAgICBudW0gPSBudW0uc3Vic3RyaW5nKDAsIGZpcnN0RGVjaW1hbEluZGV4KSArICcuJyArIG51bS5zdWJzdHJpbmcoZmlyc3REZWNpbWFsSW5kZXggKyAxLCBudW0ubGVuZ3RoKS5yZXBsYWNlKG5ldyBSZWdFeHAoKDAsIF91dGlscy5lc2NhcGVSZWdFeHApKGRlY2ltYWxTZXBhcmF0b3IpLCAnZycpLCAnJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vYWRkIG5lZ2F0aW9uIGJhY2tcclxuICAgICAgaWYgKGhhc05lZ2F0aW9uKSBudW0gPSAnLScgKyBudW07XHJcblxyXG4gICAgICByZXR1cm4gbnVtO1xyXG4gICAgfVxyXG5cclxuICAgIC8vcmV0dXJuZWQgcmVnZXggYXNzdW1lcyBkZWNpbWFsU2VwYXJhdG9yIGlzIGFzIHBlciBwcm9wXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogJ2dldE51bWJlclJlZ2V4JyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXROdW1iZXJSZWdleChnLCBpZ25vcmVEZWNpbWFsU2VwYXJhdG9yKSB7XHJcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxyXG4gICAgICAgICAgZm9ybWF0ID0gX3Byb3BzLmZvcm1hdCxcclxuICAgICAgICAgIGRlY2ltYWxTY2FsZSA9IF9wcm9wcy5kZWNpbWFsU2NhbGU7XHJcblxyXG4gICAgICB2YXIgX2dldFNlcGFyYXRvcnMyID0gdGhpcy5nZXRTZXBhcmF0b3JzKCksXHJcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yID0gX2dldFNlcGFyYXRvcnMyLmRlY2ltYWxTZXBhcmF0b3I7XHJcblxyXG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXFxcXGQnICsgKGRlY2ltYWxTZXBhcmF0b3IgJiYgZGVjaW1hbFNjYWxlICE9PSAwICYmICFpZ25vcmVEZWNpbWFsU2VwYXJhdG9yICYmICFmb3JtYXQgPyAnfCcgKyAoMCwgX3V0aWxzLmVzY2FwZVJlZ0V4cCkoZGVjaW1hbFNlcGFyYXRvcikgOiAnJyksIGcgPyAnZycgOiB1bmRlZmluZWQpO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ2dldFNlcGFyYXRvcnMnLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlcGFyYXRvcnMoKSB7XHJcbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcclxuICAgICAgICAgIGRlY2ltYWxTZXBhcmF0b3IgPSBfcHJvcHMyLmRlY2ltYWxTZXBhcmF0b3IsXHJcbiAgICAgICAgICB0aG91c2FuZFNwYWNpbmcgPSBfcHJvcHMyLnRob3VzYW5kU3BhY2luZztcclxuICAgICAgdmFyIHRob3VzYW5kU2VwYXJhdG9yID0gdGhpcy5wcm9wcy50aG91c2FuZFNlcGFyYXRvcjtcclxuXHJcblxyXG4gICAgICBpZiAodGhvdXNhbmRTZXBhcmF0b3IgPT09IHRydWUpIHtcclxuICAgICAgICB0aG91c2FuZFNlcGFyYXRvciA9ICcsJztcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBkZWNpbWFsU2VwYXJhdG9yOiBkZWNpbWFsU2VwYXJhdG9yLFxyXG4gICAgICAgIHRob3VzYW5kU2VwYXJhdG9yOiB0aG91c2FuZFNlcGFyYXRvcixcclxuICAgICAgICB0aG91c2FuZFNwYWNpbmc6IHRob3VzYW5kU3BhY2luZ1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ2dldE1hc2tBdEluZGV4JyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNYXNrQXRJbmRleChpbmRleCkge1xyXG4gICAgICB2YXIgX3Byb3BzJG1hc2sgPSB0aGlzLnByb3BzLm1hc2ssXHJcbiAgICAgICAgICBtYXNrID0gX3Byb3BzJG1hc2sgPT09IHVuZGVmaW5lZCA/ICcgJyA6IF9wcm9wcyRtYXNrO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBtYXNrID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiBtYXNrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbWFza1tpbmRleF0gfHwgJyAnO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ3ZhbGlkYXRlUHJvcHMnLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMoKSB7XHJcbiAgICAgIHZhciBtYXNrID0gdGhpcy5wcm9wcy5tYXNrO1xyXG5cclxuICAgICAgLy92YWxpZGF0ZSBkZWNpbWFsU2VwYXJhdG9yIGFuZCB0aG91c2FuZFNlcGFyYXRvclxyXG5cclxuICAgICAgdmFyIF9nZXRTZXBhcmF0b3JzMyA9IHRoaXMuZ2V0U2VwYXJhdG9ycygpLFxyXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF9nZXRTZXBhcmF0b3JzMy5kZWNpbWFsU2VwYXJhdG9yLFxyXG4gICAgICAgICAgdGhvdXNhbmRTZXBhcmF0b3IgPSBfZ2V0U2VwYXJhdG9yczMudGhvdXNhbmRTZXBhcmF0b3I7XHJcblxyXG4gICAgICBpZiAoZGVjaW1hbFNlcGFyYXRvciA9PT0gdGhvdXNhbmRTZXBhcmF0b3IpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1xcbiAgICAgICAgICBEZWNpbWFsIHNlcGFyYXRvciBjYW5cXCd0IGJlIHNhbWUgYXMgdGhvdXNhbmQgc2VwYXJhdG9yLlxcblxcbiAgICAgICAgICB0aG91c2FuZFNlcGFyYXRvcjogJyArIHRob3VzYW5kU2VwYXJhdG9yICsgJyAodGhvdXNhbmRTZXBhcmF0b3IgPSB7dHJ1ZX0gaXMgc2FtZSBhcyB0aG91c2FuZFNlcGFyYXRvciA9IFwiLFwiKVxcbiAgICAgICAgICBkZWNpbWFsU2VwYXJhdG9yOiAnICsgZGVjaW1hbFNlcGFyYXRvciArICcgKGRlZmF1bHQgdmFsdWUgZm9yIGRlY2ltYWxTZXBhcmF0b3IgaXMgLilcXG4gICAgICAgJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vdmFsaWRhdGUgbWFza1xyXG4gICAgICBpZiAobWFzaykge1xyXG4gICAgICAgIHZhciBtYXNrQXNTdHIgPSBtYXNrID09PSAnc3RyaW5nJyA/IG1hc2sgOiBtYXNrLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgaWYgKG1hc2tBc1N0ci5tYXRjaCgvXFxkL2cpKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1xcbiAgICAgICAgICBNYXNrICcgKyBtYXNrICsgJyBzaG91bGQgbm90IGNvbnRhaW4gbnVtZXJpYyBjaGFyYWN0ZXI7XFxuICAgICAgICAnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdzcGxpdERlY2ltYWwnLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNwbGl0RGVjaW1hbChudW1TdHIpIHtcclxuICAgICAgdmFyIGFsbG93TmVnYXRpdmUgPSB0aGlzLnByb3BzLmFsbG93TmVnYXRpdmU7XHJcblxyXG4gICAgICB2YXIgaGFzTmFnYXRpb24gPSBudW1TdHJbMF0gPT09ICctJztcclxuICAgICAgdmFyIGFkZE5lZ2F0aW9uID0gaGFzTmFnYXRpb24gJiYgYWxsb3dOZWdhdGl2ZTtcclxuICAgICAgbnVtU3RyID0gbnVtU3RyLnJlcGxhY2UoJy0nLCAnJyk7XHJcblxyXG4gICAgICB2YXIgcGFydHMgPSBudW1TdHIuc3BsaXQoJy4nKTtcclxuICAgICAgdmFyIGJlZm9yZURlY2ltYWwgPSBwYXJ0c1swXTtcclxuICAgICAgdmFyIGFmdGVyRGVjaW1hbCA9IHBhcnRzWzFdIHx8ICcnO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBiZWZvcmVEZWNpbWFsOiBiZWZvcmVEZWNpbWFsLFxyXG4gICAgICAgIGFmdGVyRGVjaW1hbDogYWZ0ZXJEZWNpbWFsLFxyXG4gICAgICAgIGhhc05hZ2F0aW9uOiBoYXNOYWdhdGlvbixcclxuICAgICAgICBhZGROZWdhdGlvbjogYWRkTmVnYXRpb25cclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogTWlzYyBtZXRob2RzIGVuZCAqKi9cclxuXHJcbiAgICAvKiogY2FyZXQgc3BlY2lmaWMgbWV0aG9kcyAqKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiAnc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24nLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFBhdGNoZWRDYXJldFBvc2l0aW9uKGVsLCBjYXJldFBvcywgY3VycmVudFZhbHVlKSB7XHJcbiAgICAgIC8qIHNldHRpbmcgY2FyZXQgcG9zaXRpb24gd2l0aGluIHRpbWVvdXQgb2YgMG1zIGlzIHJlcXVpcmVkIGZvciBtb2JpbGUgY2hyb21lLFxyXG4gICAgICBvdGhlcndpc2UgYnJvd3NlciByZXNldHMgdGhlIGNhcmV0IHBvc2l0aW9uIGFmdGVyIHdlIHNldCBpdFxyXG4gICAgICBXZSBhcmUgYWxzbyBzZXR0aW5nIGl0IHdpdGhvdXQgdGltZW91dCBzbyB0aGF0IGluIG5vcm1hbCBicm93c2VyIHdlIGRvbid0IHNlZSB0aGUgZmxpY2tlcmluZyAqL1xyXG4gICAgICAoMCwgX3V0aWxzLnNldENhcmV0UG9zaXRpb24pKGVsLCBjYXJldFBvcyk7XHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChlbC52YWx1ZSA9PT0gY3VycmVudFZhbHVlKSAoMCwgX3V0aWxzLnNldENhcmV0UG9zaXRpb24pKGVsLCBjYXJldFBvcyk7XHJcbiAgICAgIH0sIDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFRoaXMga2VlcHMgdGhlIGNhcmV0IHdpdGhpbiB0eXBpbmcgYXJlYSBzbyBwZW9wbGUgY2FuJ3QgdHlwZSBpbiBiZXR3ZWVuIHByZWZpeCBvciBzdWZmaXggKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiAnY29ycmVjdENhcmV0UG9zaXRpb24nLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvcnJlY3RDYXJldFBvc2l0aW9uKHZhbHVlLCBjYXJldFBvcywgZGlyZWN0aW9uKSB7XHJcbiAgICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcclxuICAgICAgICAgIHByZWZpeCA9IF9wcm9wczMucHJlZml4LFxyXG4gICAgICAgICAgc3VmZml4ID0gX3Byb3BzMy5zdWZmaXgsXHJcbiAgICAgICAgICBmb3JtYXQgPSBfcHJvcHMzLmZvcm1hdDtcclxuXHJcbiAgICAgIC8vaW4gY2FzZSBvZiBmb3JtYXQgYXMgbnVtYmVyIGxpbWl0IGJldHdlZW4gcHJlZml4IGFuZCBzdWZmaXhcclxuXHJcbiAgICAgIGlmICghZm9ybWF0KSB7XHJcbiAgICAgICAgdmFyIGhhc05lZ2F0aW9uID0gdmFsdWVbMF0gPT09ICctJztcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoY2FyZXRQb3MsIHByZWZpeC5sZW5ndGggKyAoaGFzTmVnYXRpb24gPyAxIDogMCkpLCB2YWx1ZS5sZW5ndGggLSBzdWZmaXgubGVuZ3RoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy9pbiBjYXNlIGlmIGN1c3RvbSBmb3JtYXQgbWV0aG9kIGRvbid0IGRvIGFueXRoaW5nXHJcbiAgICAgIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnZnVuY3Rpb24nKSByZXR1cm4gY2FyZXRQb3M7XHJcblxyXG4gICAgICAvKiBpbiBjYXNlIGZvcm1hdCBpcyBzdHJpbmcgZmluZCB0aGUgY2xvc2VzdCAjIHBvc2l0aW9uIGZyb20gdGhlIGNhcmV0IHBvc2l0aW9uICovXHJcblxyXG4gICAgICAvL2luIGNhc2UgdGhlIGNhcmV0UG9zIGhhdmUgaW5wdXQgdmFsdWUgb24gaXQgZG9uJ3QgZG8gYW55dGhpbmdcclxuICAgICAgaWYgKGZvcm1hdFtjYXJldFBvc10gPT09ICcjJyAmJiAoMCwgX3V0aWxzLmNoYXJJc051bWJlcikodmFsdWVbY2FyZXRQb3NdKSkgcmV0dXJuIGNhcmV0UG9zO1xyXG5cclxuICAgICAgLy9pZiBjYXJldFBvcyBpcyBqdXN0IGFmdGVyIGlucHV0IHZhbHVlIGRvbid0IGRvIGFueXRoaW5nXHJcbiAgICAgIGlmIChmb3JtYXRbY2FyZXRQb3MgLSAxXSA9PT0gJyMnICYmICgwLCBfdXRpbHMuY2hhcklzTnVtYmVyKSh2YWx1ZVtjYXJldFBvcyAtIDFdKSkgcmV0dXJuIGNhcmV0UG9zO1xyXG5cclxuICAgICAgLy9maW5kIHRoZSBuZWFyZXN0IGNhcmV0IHBvc2l0aW9uXHJcbiAgICAgIHZhciBmaXJzdEhhc2hQb3NpdGlvbiA9IGZvcm1hdC5pbmRleE9mKCcjJyk7XHJcbiAgICAgIHZhciBsYXN0SGFzaFBvc2l0aW9uID0gZm9ybWF0Lmxhc3RJbmRleE9mKCcjJyk7XHJcblxyXG4gICAgICAvL2xpbWl0IHRoZSBjdXJzb3IgYmV0d2VlbiB0aGUgZmlyc3QgIyBwb3NpdGlvbiBhbmQgdGhlIGxhc3QgIyBwb3NpdGlvblxyXG4gICAgICBjYXJldFBvcyA9IE1hdGgubWluKE1hdGgubWF4KGNhcmV0UG9zLCBmaXJzdEhhc2hQb3NpdGlvbiksIGxhc3RIYXNoUG9zaXRpb24gKyAxKTtcclxuXHJcbiAgICAgIHZhciBuZXh0UG9zID0gZm9ybWF0LnN1YnN0cmluZyhjYXJldFBvcywgZm9ybWF0Lmxlbmd0aCkuaW5kZXhPZignIycpO1xyXG4gICAgICB2YXIgY2FyZXRMZWZ0Qm91bmQgPSBjYXJldFBvcztcclxuICAgICAgdmFyIGNhcmV0UmlnaHRCb3VkID0gY2FyZXRQb3MgKyAobmV4dFBvcyA9PT0gLTEgPyAwIDogbmV4dFBvcyk7XHJcblxyXG4gICAgICAvL2dldCB0aGUgcG9zaXRpb24gd2hlcmUgdGhlIGxhc3QgbnVtYmVyIGlzIHByZXNlbnRcclxuICAgICAgd2hpbGUgKGNhcmV0TGVmdEJvdW5kID4gZmlyc3RIYXNoUG9zaXRpb24gJiYgKGZvcm1hdFtjYXJldExlZnRCb3VuZF0gIT09ICcjJyB8fCAhKDAsIF91dGlscy5jaGFySXNOdW1iZXIpKHZhbHVlW2NhcmV0TGVmdEJvdW5kXSkpKSB7XHJcbiAgICAgICAgY2FyZXRMZWZ0Qm91bmQgLT0gMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGdvVG9MZWZ0ID0gISgwLCBfdXRpbHMuY2hhcklzTnVtYmVyKSh2YWx1ZVtjYXJldFJpZ2h0Qm91ZF0pIHx8IGRpcmVjdGlvbiA9PT0gJ2xlZnQnICYmIGNhcmV0UG9zICE9PSBmaXJzdEhhc2hQb3NpdGlvbiB8fCBjYXJldFBvcyAtIGNhcmV0TGVmdEJvdW5kIDwgY2FyZXRSaWdodEJvdWQgLSBjYXJldFBvcztcclxuXHJcbiAgICAgIHJldHVybiBnb1RvTGVmdCA/IGNhcmV0TGVmdEJvdW5kICsgMSA6IGNhcmV0UmlnaHRCb3VkO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ2dldENhcmV0UG9zaXRpb24nLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENhcmV0UG9zaXRpb24oaW5wdXRWYWx1ZSwgZm9ybWF0dGVkVmFsdWUsIGNhcmV0UG9zKSB7XHJcbiAgICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDtcclxuXHJcbiAgICAgIHZhciBzdGF0ZVZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcclxuICAgICAgdmFyIG51bVJlZ2V4ID0gdGhpcy5nZXROdW1iZXJSZWdleCh0cnVlKTtcclxuICAgICAgdmFyIGlucHV0TnVtYmVyID0gKGlucHV0VmFsdWUubWF0Y2gobnVtUmVnZXgpIHx8IFtdKS5qb2luKCcnKTtcclxuICAgICAgdmFyIGZvcm1hdHRlZE51bWJlciA9IChmb3JtYXR0ZWRWYWx1ZS5tYXRjaChudW1SZWdleCkgfHwgW10pLmpvaW4oJycpO1xyXG4gICAgICB2YXIgaiA9IHZvaWQgMCxcclxuICAgICAgICAgIGkgPSB2b2lkIDA7XHJcblxyXG4gICAgICBqID0gMDtcclxuXHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjYXJldFBvczsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRJbnB1dENoYXIgPSBpbnB1dFZhbHVlW2ldIHx8ICcnO1xyXG4gICAgICAgIHZhciBjdXJyZW50Rm9ybWF0Q2hhciA9IGZvcm1hdHRlZFZhbHVlW2pdIHx8ICcnO1xyXG4gICAgICAgIC8vbm8gbmVlZCB0byBpbmNyZWFzZSBuZXcgY3Vyc29yIHBvc2l0aW9uIGlmIGZvcm1hdHRlZCB2YWx1ZSBkb2VzIG5vdCBoYXZlIHRob3NlIGNoYXJhY3RlcnNcclxuICAgICAgICAvL2Nhc2UgaW5wdXRWYWx1ZSA9IDFhMjMgYW5kIGZvcm1hdHRlZFZhbHVlID0gIDEyM1xyXG4gICAgICAgIGlmICghY3VycmVudElucHV0Q2hhci5tYXRjaChudW1SZWdleCkgJiYgY3VycmVudElucHV0Q2hhciAhPT0gY3VycmVudEZvcm1hdENoYXIpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAvL1doZW4gd2UgYXJlIHN0cmlwaW5nIG91dCBsZWFkaW5nIHplcm9zIG1haW50YWluIHRoZSBuZXcgY3Vyc29yIHBvc2l0aW9uXHJcbiAgICAgICAgLy9DYXNlIGlucHV0VmFsdWUgPSAwMDAyMyBhbmQgZm9ybWF0dGVkVmFsdWUgPSAyMztcclxuICAgICAgICBpZiAoY3VycmVudElucHV0Q2hhciA9PT0gJzAnICYmIGN1cnJlbnRGb3JtYXRDaGFyLm1hdGNoKG51bVJlZ2V4KSAmJiBjdXJyZW50Rm9ybWF0Q2hhciAhPT0gJzAnICYmIGlucHV0TnVtYmVyLmxlbmd0aCAhPT0gZm9ybWF0dGVkTnVtYmVyLmxlbmd0aCkgY29udGludWU7XHJcblxyXG4gICAgICAgIC8vd2UgYXJlIG5vdCB1c2luZyBjdXJyZW50Rm9ybWF0Q2hhciBiZWNhdXNlIGogY2FuIGNoYW5nZSBoZXJlXHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRJbnB1dENoYXIgIT09IGZvcm1hdHRlZFZhbHVlW2pdICYmIGogPCBmb3JtYXR0ZWRWYWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgIGorKztcclxuICAgICAgICB9aisrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycgJiYgIXN0YXRlVmFsdWUpIHtcclxuICAgICAgICAvL3NldCBpdCB0byB0aGUgbWF4aW11bSB2YWx1ZSBzbyBpdCBnb2VzIGFmdGVyIHRoZSBsYXN0IG51bWJlclxyXG4gICAgICAgIGogPSBmb3JtYXR0ZWRWYWx1ZS5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vY29ycmVjdCBjYXJldCBwb3NpdGlvbiBpZiBpdHMgb3V0c2lkZSBvZiBlZGl0YWJsZSBhcmVhXHJcbiAgICAgIGogPSB0aGlzLmNvcnJlY3RDYXJldFBvc2l0aW9uKGZvcm1hdHRlZFZhbHVlLCBqKTtcclxuXHJcbiAgICAgIHJldHVybiBqO1xyXG4gICAgfVxyXG4gICAgLyoqIGNhcmV0IHNwZWNpZmljIG1ldGhvZHMgZW5kcyAqKi9cclxuXHJcbiAgICAvKiogbWV0aG9kcyB0byByZW1vdmUgZm9ybWF0dHRpbmcgKiovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogJ3JlbW92ZVByZWZpeEFuZFN1ZmZpeCcsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlUHJlZml4QW5kU3VmZml4KHZhbCkge1xyXG4gICAgICB2YXIgX3Byb3BzNCA9IHRoaXMucHJvcHMsXHJcbiAgICAgICAgICBmb3JtYXQgPSBfcHJvcHM0LmZvcm1hdCxcclxuICAgICAgICAgIHByZWZpeCA9IF9wcm9wczQucHJlZml4LFxyXG4gICAgICAgICAgc3VmZml4ID0gX3Byb3BzNC5zdWZmaXg7XHJcblxyXG4gICAgICAvL3JlbW92ZSBwcmVmaXggYW5kIHN1ZmZpeFxyXG5cclxuICAgICAgaWYgKCFmb3JtYXQgJiYgdmFsKSB7XHJcbiAgICAgICAgdmFyIGlzTmVnYXRpdmUgPSB2YWxbMF0gPT09ICctJztcclxuXHJcbiAgICAgICAgLy9yZW1vdmUgbmVnYXRpb24gc2lnblxyXG4gICAgICAgIGlmIChpc05lZ2F0aXZlKSB2YWwgPSB2YWwuc3Vic3RyaW5nKDEsIHZhbC5sZW5ndGgpO1xyXG5cclxuICAgICAgICAvL3JlbW92ZSBwcmVmaXhcclxuICAgICAgICB2YWwgPSBwcmVmaXggJiYgdmFsLmluZGV4T2YocHJlZml4KSA9PT0gMCA/IHZhbC5zdWJzdHJpbmcocHJlZml4Lmxlbmd0aCwgdmFsLmxlbmd0aCkgOiB2YWw7XHJcblxyXG4gICAgICAgIC8vcmVtb3ZlIHN1ZmZpeFxyXG4gICAgICAgIHZhciBzdWZmaXhMYXN0SW5kZXggPSB2YWwubGFzdEluZGV4T2Yoc3VmZml4KTtcclxuICAgICAgICB2YWwgPSBzdWZmaXggJiYgc3VmZml4TGFzdEluZGV4ICE9PSAtMSAmJiBzdWZmaXhMYXN0SW5kZXggPT09IHZhbC5sZW5ndGggLSBzdWZmaXgubGVuZ3RoID8gdmFsLnN1YnN0cmluZygwLCBzdWZmaXhMYXN0SW5kZXgpIDogdmFsO1xyXG5cclxuICAgICAgICAvL2FkZCBuZWdhdGlvbiBzaWduIGJhY2tcclxuICAgICAgICBpZiAoaXNOZWdhdGl2ZSkgdmFsID0gJy0nICsgdmFsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ3JlbW92ZVBhdHRlcm5Gb3JtYXR0aW5nJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVQYXR0ZXJuRm9ybWF0dGluZyh2YWwpIHtcclxuICAgICAgdmFyIGZvcm1hdCA9IHRoaXMucHJvcHMuZm9ybWF0O1xyXG5cclxuICAgICAgdmFyIGZvcm1hdEFycmF5ID0gZm9ybWF0LnNwbGl0KCcjJykuZmlsdGVyKGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICByZXR1cm4gc3RyICE9PSAnJztcclxuICAgICAgfSk7XHJcbiAgICAgIHZhciBzdGFydCA9IDA7XHJcbiAgICAgIHZhciBudW1TdHIgPSAnJztcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsbiA9IGZvcm1hdEFycmF5Lmxlbmd0aDsgaSA8PSBsbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHBhcnQgPSBmb3JtYXRBcnJheVtpXSB8fCAnJztcclxuXHJcbiAgICAgICAgLy9pZiBpIGlzIHRoZSBsYXN0IGZyYWdtZW50IHRha2UgdGhlIGluZGV4IG9mIGVuZCBvZiB0aGUgdmFsdWVcclxuICAgICAgICAvL0ZvciBjYXNlIGxpa2UgKzEgKDkxMSkgOTExIDkxIDkxIGhhdmluZyBwYXR0ZXJuICsxICgjIyMpICMjIyAjIyAjI1xyXG4gICAgICAgIHZhciBpbmRleCA9IGkgPT09IGxuID8gdmFsLmxlbmd0aCA6IHZhbC5pbmRleE9mKHBhcnQsIHN0YXJ0KTtcclxuXHJcbiAgICAgICAgLyogaW4gYW55IGNhc2UgaWYgd2UgZG9uJ3QgZmluZCB0aGUgcGF0dGVybiBwYXJ0IGluIHRoZSB2YWx1ZSBhc3N1bWUgdGhlIHZhbCBhcyBudW1lcmljIHN0cmluZ1xyXG4gICAgICAgIFRoaXMgd2lsbCBiZSBhbHNvIGluIGNhc2UgaWYgdXNlciBoYXMgc3RhcnRlZCB0eXBpbmcsIGluIGFueSBvdGhlciBjYXNlIGl0IHdpbGwgbm90IGJlIC0xXHJcbiAgICAgICAgdW5sZXNzIHdyb25nIHByb3AgdmFsdWUgaXMgcHJvdmlkZWQgKi9cclxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICBudW1TdHIgPSB2YWw7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbnVtU3RyICs9IHZhbC5zdWJzdHJpbmcoc3RhcnQsIGluZGV4KTtcclxuICAgICAgICAgIHN0YXJ0ID0gaW5kZXggKyBwYXJ0Lmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiAobnVtU3RyLm1hdGNoKC9cXGQvZykgfHwgW10pLmpvaW4oJycpO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ3JlbW92ZUZvcm1hdHRpbmcnLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUZvcm1hdHRpbmcodmFsKSB7XHJcbiAgICAgIHZhciBfcHJvcHM1ID0gdGhpcy5wcm9wcyxcclxuICAgICAgICAgIGZvcm1hdCA9IF9wcm9wczUuZm9ybWF0LFxyXG4gICAgICAgICAgcmVtb3ZlRm9ybWF0dGluZyA9IF9wcm9wczUucmVtb3ZlRm9ybWF0dGluZztcclxuXHJcbiAgICAgIGlmICghdmFsKSByZXR1cm4gdmFsO1xyXG5cclxuICAgICAgaWYgKCFmb3JtYXQpIHtcclxuICAgICAgICB2YWwgPSB0aGlzLnJlbW92ZVByZWZpeEFuZFN1ZmZpeCh2YWwpO1xyXG4gICAgICAgIHZhbCA9IHRoaXMuZ2V0RmxvYXRTdHJpbmcodmFsKTtcclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHZhbCA9IHRoaXMucmVtb3ZlUGF0dGVybkZvcm1hdHRpbmcodmFsKTtcclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmVtb3ZlRm9ybWF0dGluZyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIC8vY29uZGl0aW9uIG5lZWQgdG8gYmUgaGFuZGxlZCBpZiBmb3JtYXQgbWV0aG9kIGlzIHByb3ZpZGUsXHJcbiAgICAgICAgdmFsID0gcmVtb3ZlRm9ybWF0dGluZyh2YWwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhbCA9ICh2YWwubWF0Y2goL1xcZC9nKSB8fCBbXSkuam9pbignJyk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHZhbDtcclxuICAgIH1cclxuICAgIC8qKiBtZXRob2RzIHRvIHJlbW92ZSBmb3JtYXR0dGluZyBlbmQgKiovXHJcblxyXG4gICAgLyoqKiBmb3JtYXQgc3BlY2lmaWMgbWV0aG9kcyBzdGFydCAqKiovXHJcbiAgICAvKipcclxuICAgICAqIEZvcm1hdCB3aGVuICMgYmFzZWQgc3RyaW5nIGlzIHByb3ZpZGVkXHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IG51bVN0ciBOdW1lcmljIFN0cmluZ1xyXG4gICAgICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgZm9ybWF0dGVkIFZhbHVlXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiAnZm9ybWF0V2l0aFBhdHRlcm4nLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdFdpdGhQYXR0ZXJuKG51bVN0cikge1xyXG4gICAgICB2YXIgZm9ybWF0ID0gdGhpcy5wcm9wcy5mb3JtYXQ7XHJcblxyXG4gICAgICB2YXIgaGFzaENvdW50ID0gMDtcclxuICAgICAgdmFyIGZvcm1hdHRlZE51bWJlckFyeSA9IGZvcm1hdC5zcGxpdCgnJyk7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsbiA9IGZvcm1hdC5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGZvcm1hdFtpXSA9PT0gJyMnKSB7XHJcbiAgICAgICAgICBmb3JtYXR0ZWROdW1iZXJBcnlbaV0gPSBudW1TdHJbaGFzaENvdW50XSB8fCB0aGlzLmdldE1hc2tBdEluZGV4KGhhc2hDb3VudCk7XHJcbiAgICAgICAgICBoYXNoQ291bnQgKz0gMTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZvcm1hdHRlZE51bWJlckFyeS5qb2luKCcnKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRm9ybWF0IHRoZSBnaXZlbiBzdHJpbmcgYWNjb3JkaW5nIHRvIHRob3VzYW5kIHNlcGFyYXRvciBhbmQgdGhvdXNhbmQgc3BhY2luZ1xyXG4gICAgICogQHBhcmFtIHsqfSBiZWZvcmVEZWNpbWFsIFxyXG4gICAgICogQHBhcmFtIHsqfSB0aG91c2FuZFNlcGFyYXRvciBcclxuICAgICAqIEBwYXJhbSB7Kn0gdGhvdXNhbmRTcGFjaW5nIFxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogJ2Zvcm1hdFRob3VzYW5kJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtYXRUaG91c2FuZChiZWZvcmVEZWNpbWFsLCB0aG91c2FuZFNlcGFyYXRvciwgdGhvdXNhbmRTcGFjaW5nKSB7XHJcbiAgICAgIHZhciBkaWdpdGFsR3JvdXAgPSB2b2lkIDA7XHJcbiAgICAgIHN3aXRjaCAodGhvdXNhbmRTcGFjaW5nKSB7XHJcbiAgICAgICAgY2FzZSBfdXRpbHMudGhvdXNhbmRHcm91cFNwYWNpbmcudHdvOlxyXG4gICAgICAgICAgZGlnaXRhbEdyb3VwID0gLyhcXGQpKD89KFxcZHsyfSkrKD8hXFxkKSkvZztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgX3V0aWxzLnRob3VzYW5kR3JvdXBTcGFjaW5nLnR3b1NjYWxlZDpcclxuICAgICAgICAgIGRpZ2l0YWxHcm91cCA9IC8oXFxkKSg/PSgoKFxcZHsyfSkrKShcXGR7MX0pKD8hXFxkKSkpL2c7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIF91dGlscy50aG91c2FuZEdyb3VwU3BhY2luZy5mb3VyOlxyXG4gICAgICAgICAgZGlnaXRhbEdyb3VwID0gLyhcXGQpKD89KFxcZHs0fSkrKD8hXFxkKSkvZztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBkaWdpdGFsR3JvdXAgPSAvKFxcZCkoPz0oXFxkezN9KSsoPyFcXGQpKS9nO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gYmVmb3JlRGVjaW1hbC5yZXBsYWNlKGRpZ2l0YWxHcm91cCwgJyQxJyArIHRob3VzYW5kU2VwYXJhdG9yKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBudW1TdHIgTnVtZXJpYyBzdHJpbmcvZmxvYXRTdHJpbmddIEl0IGFsd2F5cyBoYXZlIGRlY2ltYWxTZXBhcmF0b3IgYXMgLlxyXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBmb3JtYXR0ZWQgVmFsdWVcclxuICAgICAqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6ICdmb3JtYXRBc051bWJlcicsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0QXNOdW1iZXIobnVtU3RyKSB7XHJcbiAgICAgIHZhciBfcHJvcHM2ID0gdGhpcy5wcm9wcyxcclxuICAgICAgICAgIGRlY2ltYWxTY2FsZSA9IF9wcm9wczYuZGVjaW1hbFNjYWxlLFxyXG4gICAgICAgICAgZml4ZWREZWNpbWFsU2NhbGUgPSBfcHJvcHM2LmZpeGVkRGVjaW1hbFNjYWxlLFxyXG4gICAgICAgICAgcHJlZml4ID0gX3Byb3BzNi5wcmVmaXgsXHJcbiAgICAgICAgICBzdWZmaXggPSBfcHJvcHM2LnN1ZmZpeDtcclxuXHJcbiAgICAgIHZhciBfZ2V0U2VwYXJhdG9yczQgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcclxuICAgICAgICAgIHRob3VzYW5kU2VwYXJhdG9yID0gX2dldFNlcGFyYXRvcnM0LnRob3VzYW5kU2VwYXJhdG9yLFxyXG4gICAgICAgICAgZGVjaW1hbFNlcGFyYXRvciA9IF9nZXRTZXBhcmF0b3JzNC5kZWNpbWFsU2VwYXJhdG9yLFxyXG4gICAgICAgICAgdGhvdXNhbmRTcGFjaW5nID0gX2dldFNlcGFyYXRvcnM0LnRob3VzYW5kU3BhY2luZztcclxuXHJcbiAgICAgIHZhciBoYXNEZWNpbWFsU2VwYXJhdG9yID0gbnVtU3RyLmluZGV4T2YoJy4nKSAhPT0gLTEgfHwgZGVjaW1hbFNjYWxlICYmIGZpeGVkRGVjaW1hbFNjYWxlO1xyXG5cclxuICAgICAgdmFyIF9zcGxpdERlY2ltYWwgPSB0aGlzLnNwbGl0RGVjaW1hbChudW1TdHIpLFxyXG4gICAgICAgICAgYmVmb3JlRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYmVmb3JlRGVjaW1hbCxcclxuICAgICAgICAgIGFmdGVyRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwuYWZ0ZXJEZWNpbWFsLFxyXG4gICAgICAgICAgYWRkTmVnYXRpb24gPSBfc3BsaXREZWNpbWFsLmFkZE5lZ2F0aW9uOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1jb25zdFxyXG5cclxuICAgICAgLy9hcHBseSBkZWNpbWFsIHByZWNpc2lvbiBpZiBpdHMgZGVmaW5lZFxyXG5cclxuXHJcbiAgICAgIGlmIChkZWNpbWFsU2NhbGUgIT09IHVuZGVmaW5lZCkgYWZ0ZXJEZWNpbWFsID0gKDAsIF91dGlscy5saW1pdFRvU2NhbGUpKGFmdGVyRGVjaW1hbCwgZGVjaW1hbFNjYWxlLCBmaXhlZERlY2ltYWxTY2FsZSk7XHJcblxyXG4gICAgICBpZiAodGhvdXNhbmRTZXBhcmF0b3IpIHtcclxuICAgICAgICBiZWZvcmVEZWNpbWFsID0gdGhpcy5mb3JtYXRUaG91c2FuZChiZWZvcmVEZWNpbWFsLCB0aG91c2FuZFNlcGFyYXRvciwgdGhvdXNhbmRTcGFjaW5nKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy9hZGQgcHJlZml4IGFuZCBzdWZmaXhcclxuICAgICAgaWYgKHByZWZpeCkgYmVmb3JlRGVjaW1hbCA9IHByZWZpeCArIGJlZm9yZURlY2ltYWw7XHJcbiAgICAgIGlmIChzdWZmaXgpIGFmdGVyRGVjaW1hbCA9IGFmdGVyRGVjaW1hbCArIHN1ZmZpeDtcclxuXHJcbiAgICAgIC8vcmVzdG9yZSBuZWdhdGlvbiBzaWduXHJcbiAgICAgIGlmIChhZGROZWdhdGlvbikgYmVmb3JlRGVjaW1hbCA9ICctJyArIGJlZm9yZURlY2ltYWw7XHJcblxyXG4gICAgICBudW1TdHIgPSBiZWZvcmVEZWNpbWFsICsgKGhhc0RlY2ltYWxTZXBhcmF0b3IgJiYgZGVjaW1hbFNlcGFyYXRvciB8fCAnJykgKyBhZnRlckRlY2ltYWw7XHJcblxyXG4gICAgICByZXR1cm4gbnVtU3RyO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ2Zvcm1hdE51bVN0cmluZycsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0TnVtU3RyaW5nKCkge1xyXG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xyXG4gICAgICB2YXIgZm9ybWF0ID0gdGhpcy5wcm9wcy5mb3JtYXQ7XHJcblxyXG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSB2YWx1ZTtcclxuXHJcbiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9ICcnO1xyXG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnLScgJiYgIWZvcm1hdCkge1xyXG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gJy0nO1xyXG4gICAgICAgIHZhbHVlID0gJyc7XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IHRoaXMuZm9ybWF0V2l0aFBhdHRlcm4oZm9ybWF0dGVkVmFsdWUpO1xyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdChmb3JtYXR0ZWRWYWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSB0aGlzLmZvcm1hdEFzTnVtYmVyKGZvcm1hdHRlZFZhbHVlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZvcm1hdHRlZFZhbHVlO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ2Zvcm1hdFZhbHVlUHJvcCcsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0VmFsdWVQcm9wKCkge1xyXG4gICAgICB2YXIgX3Byb3BzNyA9IHRoaXMucHJvcHMsXHJcbiAgICAgICAgICBmb3JtYXQgPSBfcHJvcHM3LmZvcm1hdCxcclxuICAgICAgICAgIGRlY2ltYWxTY2FsZSA9IF9wcm9wczcuZGVjaW1hbFNjYWxlLFxyXG4gICAgICAgICAgZml4ZWREZWNpbWFsU2NhbGUgPSBfcHJvcHM3LmZpeGVkRGVjaW1hbFNjYWxlO1xyXG4gICAgICB2YXIgX3Byb3BzOCA9IHRoaXMucHJvcHMsXHJcbiAgICAgICAgICB2YWx1ZSA9IF9wcm9wczgudmFsdWUsXHJcbiAgICAgICAgICBpc051bWVyaWNTdHJpbmcgPSBfcHJvcHM4LmlzTnVtZXJpY1N0cmluZztcclxuXHJcbiAgICAgIC8vIGlmIHZhbHVlIGlzIG5vdCBkZWZpbmVkIHJldHVybiBlbXB0eSBzdHJpbmdcclxuXHJcbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJyc7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgICBpc051bWVyaWNTdHJpbmcgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvL3JvdW5kIHRoZSBudW1iZXIgYmFzZWQgb24gZGVjaW1hbFNjYWxlXHJcbiAgICAgIC8vZm9ybWF0IG9ubHkgaWYgbm9uIGZvcm1hdHRlZCB2YWx1ZSBpcyBwcm92aWRlZFxyXG4gICAgICBpZiAoaXNOdW1lcmljU3RyaW5nICYmICFmb3JtYXQgJiYgdHlwZW9mIGRlY2ltYWxTY2FsZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICB2YWx1ZSA9ICgwLCBfdXRpbHMucm91bmRUb1ByZWNpc2lvbikodmFsdWUsIGRlY2ltYWxTY2FsZSwgZml4ZWREZWNpbWFsU2NhbGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSBpc051bWVyaWNTdHJpbmcgPyB0aGlzLmZvcm1hdE51bVN0cmluZyh2YWx1ZSkgOiB0aGlzLmZvcm1hdElucHV0KHZhbHVlKTtcclxuXHJcbiAgICAgIHJldHVybiBmb3JtYXR0ZWRWYWx1ZTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdmb3JtYXROZWdhdGlvbicsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0TmVnYXRpb24oKSB7XHJcbiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XHJcbiAgICAgIHZhciBhbGxvd05lZ2F0aXZlID0gdGhpcy5wcm9wcy5hbGxvd05lZ2F0aXZlO1xyXG5cclxuICAgICAgdmFyIG5lZ2F0aW9uUmVnZXggPSBuZXcgUmVnRXhwKCcoLSknKTtcclxuICAgICAgdmFyIGRvdWJsZU5lZ2F0aW9uUmVnZXggPSBuZXcgUmVnRXhwKCcoLSkoLikqKC0pJyk7XHJcblxyXG4gICAgICAvLyBDaGVjayBudW1iZXIgaGFzICctJyB2YWx1ZVxyXG4gICAgICB2YXIgaGFzTmVnYXRpb24gPSBuZWdhdGlvblJlZ2V4LnRlc3QodmFsdWUpO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgbnVtYmVyIGhhcyAyIG9yIG1vcmUgJy0nIHZhbHVlc1xyXG4gICAgICB2YXIgcmVtb3ZlTmVnYXRpb24gPSBkb3VibGVOZWdhdGlvblJlZ2V4LnRlc3QodmFsdWUpO1xyXG5cclxuICAgICAgLy9yZW1vdmUgbmVnYXRpb25cclxuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC8tL2csICcnKTtcclxuXHJcbiAgICAgIGlmIChoYXNOZWdhdGlvbiAmJiAhcmVtb3ZlTmVnYXRpb24gJiYgYWxsb3dOZWdhdGl2ZSkge1xyXG4gICAgICAgIHZhbHVlID0gJy0nICsgdmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdmb3JtYXRJbnB1dCcsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0SW5wdXQoKSB7XHJcbiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XHJcbiAgICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDtcclxuXHJcbiAgICAgIC8vZm9ybWF0IG5lZ2F0aW9uIG9ubHkgaWYgd2UgYXJlIGZvcm1hdHRpbmcgYXMgbnVtYmVyXHJcblxyXG4gICAgICBpZiAoIWZvcm1hdCkge1xyXG4gICAgICAgIHZhbHVlID0gdGhpcy5mb3JtYXROZWdhdGlvbih2YWx1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vcmVtb3ZlIGZvcm1hdHRpbmcgZnJvbSBudW1iZXJcclxuICAgICAgdmFsdWUgPSB0aGlzLnJlbW92ZUZvcm1hdHRpbmcodmFsdWUpO1xyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0TnVtU3RyaW5nKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKioqIGZvcm1hdCBzcGVjaWZpYyBtZXRob2RzIGVuZCAqKiovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogJ2lzQ2hhcmFjdGVyQUZvcm1hdCcsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDaGFyYWN0ZXJBRm9ybWF0KGNhcmV0UG9zLCB2YWx1ZSkge1xyXG4gICAgICB2YXIgX3Byb3BzOSA9IHRoaXMucHJvcHMsXHJcbiAgICAgICAgICBmb3JtYXQgPSBfcHJvcHM5LmZvcm1hdCxcclxuICAgICAgICAgIHByZWZpeCA9IF9wcm9wczkucHJlZml4LFxyXG4gICAgICAgICAgc3VmZml4ID0gX3Byb3BzOS5zdWZmaXgsXHJcbiAgICAgICAgICBkZWNpbWFsU2NhbGUgPSBfcHJvcHM5LmRlY2ltYWxTY2FsZSxcclxuICAgICAgICAgIGZpeGVkRGVjaW1hbFNjYWxlID0gX3Byb3BzOS5maXhlZERlY2ltYWxTY2FsZTtcclxuXHJcbiAgICAgIHZhciBfZ2V0U2VwYXJhdG9yczUgPSB0aGlzLmdldFNlcGFyYXRvcnMoKSxcclxuICAgICAgICAgIGRlY2ltYWxTZXBhcmF0b3IgPSBfZ2V0U2VwYXJhdG9yczUuZGVjaW1hbFNlcGFyYXRvcjtcclxuXHJcbiAgICAgIC8vY2hlY2sgd2l0aGluIGZvcm1hdCBwYXR0ZXJuXHJcblxyXG5cclxuICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdzdHJpbmcnICYmIGZvcm1hdFtjYXJldFBvc10gIT09ICcjJykgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAvL2NoZWNrIGluIG51bWJlciBmb3JtYXRcclxuICAgICAgaWYgKCFmb3JtYXQgJiYgKGNhcmV0UG9zIDwgcHJlZml4Lmxlbmd0aCB8fCBjYXJldFBvcyA+PSB2YWx1ZS5sZW5ndGggLSBzdWZmaXgubGVuZ3RoIHx8IGRlY2ltYWxTY2FsZSAmJiBmaXhlZERlY2ltYWxTY2FsZSAmJiB2YWx1ZVtjYXJldFBvc10gPT09IGRlY2ltYWxTZXBhcmF0b3IpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdjaGVja0lmRm9ybWF0R290RGVsZXRlZCcsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tJZkZvcm1hdEdvdERlbGV0ZWQoc3RhcnQsIGVuZCwgdmFsdWUpIHtcclxuICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcclxuICAgICAgICBpZiAodGhpcy5pc0NoYXJhY3RlckFGb3JtYXQoaSwgdmFsdWUpKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIHdpbGwgY2hlY2sgaWYgYW55IGZvcm1hdHRpbmcgZ290IHJlbW92ZWQgYnkgdGhlIGRlbGV0ZSBvciBiYWNrc3BhY2UgYW5kIHJlc2V0IHRoZSB2YWx1ZVxyXG4gICAgICogSXQgd2lsbCBhbHNvIHdvcmsgYXMgZmFsbGJhY2sgaWYgYW5kcm9pZCBjaG9tZSBrZXlEb3duIGhhbmRsZXIgZG9lcyBub3Qgd29ya1xyXG4gICAgICoqL1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6ICdjb3JyZWN0SW5wdXRWYWx1ZScsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29ycmVjdElucHV0VmFsdWUoY2FyZXRQb3MsIGxhc3RWYWx1ZSwgdmFsdWUpIHtcclxuICAgICAgdmFyIGZvcm1hdCA9IHRoaXMucHJvcHMuZm9ybWF0O1xyXG5cclxuICAgICAgdmFyIGxhc3ROdW1TdHIgPSB0aGlzLnN0YXRlLm51bUFzU3RyaW5nIHx8ICcnO1xyXG5cclxuICAgICAgLy9kb24ndCBkbyBhbnlodGluZyBpZiBzb21ldGhpbmcgZ290IGFkZGVkLCBvciBpZiB2YWx1ZSBpcyBlbXB0eSBzdHJpbmcgKHdoZW4gd2hvbGUgaW5wdXQgaXMgY2xlYXJlZClcclxuICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+PSBsYXN0VmFsdWUubGVuZ3RoIHx8ICF2YWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBzdGFydCA9IGNhcmV0UG9zO1xyXG4gICAgICB2YXIgbGFzdFZhbHVlUGFydHMgPSAoMCwgX3V0aWxzLnNwbGl0U3RyaW5nKShsYXN0VmFsdWUsIGNhcmV0UG9zKTtcclxuICAgICAgdmFyIG5ld1ZhbHVlUGFydHMgPSAoMCwgX3V0aWxzLnNwbGl0U3RyaW5nKSh2YWx1ZSwgY2FyZXRQb3MpO1xyXG4gICAgICB2YXIgZGVsZXRlZEluZGV4ID0gbGFzdFZhbHVlUGFydHNbMV0ubGFzdEluZGV4T2YobmV3VmFsdWVQYXJ0c1sxXSk7XHJcbiAgICAgIHZhciBkaWZmID0gZGVsZXRlZEluZGV4ICE9PSAtMSA/IGxhc3RWYWx1ZVBhcnRzWzFdLnN1YnN0cmluZygwLCBkZWxldGVkSW5kZXgpIDogJyc7XHJcbiAgICAgIHZhciBlbmQgPSBzdGFydCArIGRpZmYubGVuZ3RoO1xyXG5cclxuICAgICAgLy9pZiBmb3JtYXQgZ290IGRlbGV0ZWQgcmVzZXQgdGhlIHZhbHVlIHRvIGxhc3QgdmFsdWVcclxuICAgICAgaWYgKHRoaXMuY2hlY2tJZkZvcm1hdEdvdERlbGV0ZWQoc3RhcnQsIGVuZCwgbGFzdFZhbHVlKSkge1xyXG4gICAgICAgIHZhbHVlID0gbGFzdFZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvL2ZvciBudW1iZXJzIGNoZWNrIGlmIGJlZm9yZURlY2ltYWwgZ290IGRlbGV0ZWQgYW5kIHRoZXJlIGlzIG5vdGhpbmcgYWZ0ZXIgZGVjaW1hbCxcclxuICAgICAgLy9jbGVhciBhbGwgbnVtYmVycyBpbiBzdWNoIGNhc2Ugd2hpbGUga2VlcGluZyB0aGUgLSBzaWduXHJcbiAgICAgIGlmICghZm9ybWF0KSB7XHJcbiAgICAgICAgdmFyIG51bWVyaWNTdHJpbmcgPSB0aGlzLnJlbW92ZUZvcm1hdHRpbmcodmFsdWUpO1xyXG5cclxuICAgICAgICB2YXIgX3NwbGl0RGVjaW1hbDIgPSB0aGlzLnNwbGl0RGVjaW1hbChudW1lcmljU3RyaW5nKSxcclxuICAgICAgICAgICAgYmVmb3JlRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwyLmJlZm9yZURlY2ltYWwsXHJcbiAgICAgICAgICAgIGFmdGVyRGVjaW1hbCA9IF9zcGxpdERlY2ltYWwyLmFmdGVyRGVjaW1hbCxcclxuICAgICAgICAgICAgYWRkTmVnYXRpb24gPSBfc3BsaXREZWNpbWFsMi5hZGROZWdhdGlvbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItY29uc3RcclxuXHJcbiAgICAgICAgLy9jbGVhciBvbmx5IGlmIHNvbWV0aGluZyBnb3QgZGVsZXRlZFxyXG5cclxuXHJcbiAgICAgICAgaWYgKG51bWVyaWNTdHJpbmcubGVuZ3RoIDwgbGFzdE51bVN0ci5sZW5ndGggJiYgYmVmb3JlRGVjaW1hbCA9PT0gJycgJiYgIXBhcnNlRmxvYXQoYWZ0ZXJEZWNpbWFsKSkge1xyXG4gICAgICAgICAgcmV0dXJuIGFkZE5lZ2F0aW9uID8gJy0nIDogJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiAnb25DaGFuZ2UnLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcclxuICAgICAgZS5wZXJzaXN0KCk7XHJcbiAgICAgIHZhciBlbCA9IGUudGFyZ2V0O1xyXG4gICAgICB2YXIgaW5wdXRWYWx1ZSA9IGVsLnZhbHVlO1xyXG4gICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlLFxyXG4gICAgICAgICAgcHJvcHMgPSB0aGlzLnByb3BzO1xyXG4gICAgICB2YXIgaXNBbGxvd2VkID0gcHJvcHMuaXNBbGxvd2VkO1xyXG5cclxuICAgICAgdmFyIGxhc3RWYWx1ZSA9IHN0YXRlLnZhbHVlIHx8ICcnO1xyXG5cclxuICAgICAgLypNYXggb2Ygc2VsZWN0aW9uU3RhcnQgYW5kIHNlbGVjdGlvbkVuZCBpcyB0YWtlbiBmb3IgdGhlIHBhdGNoIG9mIHBpeGVsIGFuZCBvdGhlciBtb2JpbGUgZGV2aWNlIGNhcmV0IGJ1ZyovXHJcbiAgICAgIHZhciBjdXJyZW50Q2FyZXRQb3NpdGlvbiA9IE1hdGgubWF4KGVsLnNlbGVjdGlvblN0YXJ0LCBlbC5zZWxlY3Rpb25FbmQpO1xyXG5cclxuICAgICAgaW5wdXRWYWx1ZSA9IHRoaXMuY29ycmVjdElucHV0VmFsdWUoY3VycmVudENhcmV0UG9zaXRpb24sIGxhc3RWYWx1ZSwgaW5wdXRWYWx1ZSk7XHJcblxyXG4gICAgICB2YXIgZm9ybWF0dGVkVmFsdWUgPSB0aGlzLmZvcm1hdElucHV0KGlucHV0VmFsdWUpIHx8ICcnO1xyXG4gICAgICB2YXIgbnVtQXNTdHJpbmcgPSB0aGlzLnJlbW92ZUZvcm1hdHRpbmcoZm9ybWF0dGVkVmFsdWUpO1xyXG5cclxuICAgICAgdmFyIHZhbHVlT2JqID0ge1xyXG4gICAgICAgIGZvcm1hdHRlZFZhbHVlOiBmb3JtYXR0ZWRWYWx1ZSxcclxuICAgICAgICB2YWx1ZTogbnVtQXNTdHJpbmcsXHJcbiAgICAgICAgZmxvYXRWYWx1ZTogcGFyc2VGbG9hdChudW1Bc1N0cmluZylcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGlmICghaXNBbGxvd2VkKHZhbHVlT2JqKSkge1xyXG4gICAgICAgIGZvcm1hdHRlZFZhbHVlID0gbGFzdFZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvL3NldCB0aGUgdmFsdWUgaW1wZXJhdGl2ZWx5LCB0aGlzIGlzIHJlcXVpcmVkIGZvciBJRSBmaXhcclxuICAgICAgZWwudmFsdWUgPSBmb3JtYXR0ZWRWYWx1ZTtcclxuXHJcbiAgICAgIC8vZ2V0IHRoZSBjYXJldCBwb3NpdGlvblxyXG4gICAgICB2YXIgY2FyZXRQb3MgPSB0aGlzLmdldENhcmV0UG9zaXRpb24oaW5wdXRWYWx1ZSwgZm9ybWF0dGVkVmFsdWUsIGN1cnJlbnRDYXJldFBvc2l0aW9uKTtcclxuXHJcbiAgICAgIC8vc2V0IGNhcmV0IHBvc2l0aW9uXHJcbiAgICAgIHRoaXMuc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zLCBmb3JtYXR0ZWRWYWx1ZSk7XHJcblxyXG4gICAgICAvL2NoYW5nZSB0aGUgc3RhdGVcclxuICAgICAgaWYgKGZvcm1hdHRlZFZhbHVlICE9PSBsYXN0VmFsdWUpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWU6IGZvcm1hdHRlZFZhbHVlLCBudW1Bc1N0cmluZzogbnVtQXNTdHJpbmcgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcHJvcHMub25WYWx1ZUNoYW5nZSh2YWx1ZU9iaik7XHJcbiAgICAgICAgICBwcm9wcy5vbkNoYW5nZShlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwcm9wcy5vbkNoYW5nZShlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ29uQmx1cicsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25CbHVyKGUpIHtcclxuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcyxcclxuICAgICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZTtcclxuICAgICAgdmFyIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcclxuICAgICAgICAgIG9uQmx1ciA9IHByb3BzLm9uQmx1cjtcclxuICAgICAgdmFyIG51bUFzU3RyaW5nID0gc3RhdGUubnVtQXNTdHJpbmc7XHJcblxyXG4gICAgICB2YXIgbGFzdFZhbHVlID0gc3RhdGUudmFsdWU7XHJcbiAgICAgIGlmICghZm9ybWF0KSB7XHJcbiAgICAgICAgbnVtQXNTdHJpbmcgPSAoMCwgX3V0aWxzLmZpeExlYWRpbmdaZXJvKShudW1Bc1N0cmluZyk7XHJcbiAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdGhpcy5mb3JtYXROdW1TdHJpbmcobnVtQXNTdHJpbmcpO1xyXG4gICAgICAgIHZhciB2YWx1ZU9iaiA9IHtcclxuICAgICAgICAgIGZvcm1hdHRlZFZhbHVlOiBmb3JtYXR0ZWRWYWx1ZSxcclxuICAgICAgICAgIHZhbHVlOiBudW1Bc1N0cmluZyxcclxuICAgICAgICAgIGZsb2F0VmFsdWU6IHBhcnNlRmxvYXQobnVtQXNTdHJpbmcpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9jaGFuZ2UgdGhlIHN0YXRlXHJcbiAgICAgICAgaWYgKGZvcm1hdHRlZFZhbHVlICE9PSBsYXN0VmFsdWUpIHtcclxuICAgICAgICAgIC8vIHRoZSBldmVudCBuZWVkcyB0byBiZSBwZXJzaXN0ZWQgYmVjYXVzZSBpdHMgcHJvcGVydGllcyBjYW4gYmUgYWNjZXNzZWQgaW4gYW4gYXN5bmNocm9ub3VzIHdheVxyXG4gICAgICAgICAgZS5wZXJzaXN0KCk7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWU6IGZvcm1hdHRlZFZhbHVlLCBudW1Bc1N0cmluZzogbnVtQXNTdHJpbmcgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBwcm9wcy5vblZhbHVlQ2hhbmdlKHZhbHVlT2JqKTtcclxuICAgICAgICAgICAgb25CbHVyKGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIG9uQmx1cihlKTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdvbktleURvd24nLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XHJcbiAgICAgIHZhciBlbCA9IGUudGFyZ2V0O1xyXG4gICAgICB2YXIga2V5ID0gZS5rZXk7XHJcbiAgICAgIHZhciBzZWxlY3Rpb25FbmQgPSBlbC5zZWxlY3Rpb25FbmQsXHJcbiAgICAgICAgICB2YWx1ZSA9IGVsLnZhbHVlO1xyXG4gICAgICB2YXIgc2VsZWN0aW9uU3RhcnQgPSBlbC5zZWxlY3Rpb25TdGFydDtcclxuXHJcbiAgICAgIHZhciBleHBlY3RlZENhcmV0UG9zaXRpb24gPSB2b2lkIDA7XHJcbiAgICAgIHZhciBfcHJvcHMxMCA9IHRoaXMucHJvcHMsXHJcbiAgICAgICAgICBkZWNpbWFsU2NhbGUgPSBfcHJvcHMxMC5kZWNpbWFsU2NhbGUsXHJcbiAgICAgICAgICBmaXhlZERlY2ltYWxTY2FsZSA9IF9wcm9wczEwLmZpeGVkRGVjaW1hbFNjYWxlLFxyXG4gICAgICAgICAgcHJlZml4ID0gX3Byb3BzMTAucHJlZml4LFxyXG4gICAgICAgICAgc3VmZml4ID0gX3Byb3BzMTAuc3VmZml4LFxyXG4gICAgICAgICAgZm9ybWF0ID0gX3Byb3BzMTAuZm9ybWF0LFxyXG4gICAgICAgICAgb25LZXlEb3duID0gX3Byb3BzMTAub25LZXlEb3duO1xyXG5cclxuICAgICAgdmFyIGlnbm9yZURlY2ltYWxTZXBhcmF0b3IgPSBkZWNpbWFsU2NhbGUgIT09IHVuZGVmaW5lZCAmJiBmaXhlZERlY2ltYWxTY2FsZTtcclxuICAgICAgdmFyIG51bVJlZ2V4ID0gdGhpcy5nZXROdW1iZXJSZWdleChmYWxzZSwgaWdub3JlRGVjaW1hbFNlcGFyYXRvcik7XHJcbiAgICAgIHZhciBuZWdhdGl2ZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnLScpO1xyXG4gICAgICB2YXIgaXNQYXR0ZXJuRm9ybWF0ID0gdHlwZW9mIGZvcm1hdCA9PT0gJ3N0cmluZyc7XHJcblxyXG4gICAgICAvL0hhbmRsZSBiYWNrc3BhY2UgYW5kIGRlbGV0ZSBhZ2FpbnN0IG5vbiBudW1lcmljYWwvZGVjaW1hbCBjaGFyYWN0ZXJzIG9yIGFycm93IGtleXNcclxuICAgICAgaWYgKGtleSA9PT0gJ0Fycm93TGVmdCcgfHwga2V5ID09PSAnQmFja3NwYWNlJykge1xyXG4gICAgICAgIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA9IHNlbGVjdGlvblN0YXJ0IC0gMTtcclxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xyXG4gICAgICAgIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA9IHNlbGVjdGlvblN0YXJ0ICsgMTtcclxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdEZWxldGUnKSB7XHJcbiAgICAgICAgZXhwZWN0ZWRDYXJldFBvc2l0aW9uID0gc2VsZWN0aW9uU3RhcnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vaWYgZXhwZWN0ZWRDYXJldFBvc2l0aW9uIGlzIG5vdCBzZXQgaXQgbWVhbnMgd2UgZG9uJ3Qgd2FudCB0byBIYW5kbGUga2V5RG93blxyXG4gICAgICAvL2Fsc28gaWYgbXVsdGlwbGUgY2hhcmFjdGVycyBhcmUgc2VsZWN0ZWQgZG9uJ3QgaGFuZGxlXHJcbiAgICAgIGlmIChleHBlY3RlZENhcmV0UG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBzZWxlY3Rpb25TdGFydCAhPT0gc2VsZWN0aW9uRW5kKSB7XHJcbiAgICAgICAgb25LZXlEb3duKGUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIG5ld0NhcmV0UG9zaXRpb24gPSBleHBlY3RlZENhcmV0UG9zaXRpb247XHJcbiAgICAgIHZhciBsZWZ0Qm91bmQgPSBpc1BhdHRlcm5Gb3JtYXQgPyBmb3JtYXQuaW5kZXhPZignIycpIDogcHJlZml4Lmxlbmd0aDtcclxuICAgICAgdmFyIHJpZ2h0Qm91bmQgPSBpc1BhdHRlcm5Gb3JtYXQgPyBmb3JtYXQubGFzdEluZGV4T2YoJyMnKSArIDEgOiB2YWx1ZS5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xyXG5cclxuICAgICAgaWYgKGtleSA9PT0gJ0Fycm93TGVmdCcgfHwga2V5ID09PSAnQXJyb3dSaWdodCcpIHtcclxuICAgICAgICB2YXIgZGlyZWN0aW9uID0ga2V5ID09PSAnQXJyb3dMZWZ0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XHJcbiAgICAgICAgbmV3Q2FyZXRQb3NpdGlvbiA9IHRoaXMuY29ycmVjdENhcmV0UG9zaXRpb24odmFsdWUsIGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiwgZGlyZWN0aW9uKTtcclxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdEZWxldGUnICYmICFudW1SZWdleC50ZXN0KHZhbHVlW2V4cGVjdGVkQ2FyZXRQb3NpdGlvbl0pICYmICFuZWdhdGl2ZVJlZ2V4LnRlc3QodmFsdWVbZXhwZWN0ZWRDYXJldFBvc2l0aW9uXSkpIHtcclxuICAgICAgICB3aGlsZSAoIW51bVJlZ2V4LnRlc3QodmFsdWVbbmV3Q2FyZXRQb3NpdGlvbl0pICYmIG5ld0NhcmV0UG9zaXRpb24gPCByaWdodEJvdW5kKSB7XHJcbiAgICAgICAgICBuZXdDYXJldFBvc2l0aW9uKys7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0JhY2tzcGFjZScgJiYgIW51bVJlZ2V4LnRlc3QodmFsdWVbZXhwZWN0ZWRDYXJldFBvc2l0aW9uXSkgJiYgIW5lZ2F0aXZlUmVnZXgudGVzdCh2YWx1ZVtleHBlY3RlZENhcmV0UG9zaXRpb25dKSkge1xyXG4gICAgICAgIHdoaWxlICghbnVtUmVnZXgudGVzdCh2YWx1ZVtuZXdDYXJldFBvc2l0aW9uIC0gMV0pICYmIG5ld0NhcmV0UG9zaXRpb24gPiBsZWZ0Qm91bmQpIHtcclxuICAgICAgICAgIG5ld0NhcmV0UG9zaXRpb24tLTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3Q2FyZXRQb3NpdGlvbiA9IHRoaXMuY29ycmVjdENhcmV0UG9zaXRpb24odmFsdWUsIG5ld0NhcmV0UG9zaXRpb24sICdsZWZ0Jyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChuZXdDYXJldFBvc2l0aW9uICE9PSBleHBlY3RlZENhcmV0UG9zaXRpb24gfHwgZXhwZWN0ZWRDYXJldFBvc2l0aW9uIDwgbGVmdEJvdW5kIHx8IGV4cGVjdGVkQ2FyZXRQb3NpdGlvbiA+IHJpZ2h0Qm91bmQpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgbmV3Q2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKiBOT1RFOiB0aGlzIGlzIGp1c3QgcmVxdWlyZWQgZm9yIHVuaXQgdGVzdCBhcyB3ZSBuZWVkIHRvIGdldCB0aGUgbmV3Q2FyZXRQb3NpdGlvbixcclxuICAgICAgICAgICAgICBSZW1vdmUgdGhpcyB3aGVuIHlvdSBmaW5kIGRpZmZlcmVudCBzb2x1dGlvbiAqL1xyXG4gICAgICBpZiAoZS5pc1VuaXRUZXN0UnVuKSB7XHJcbiAgICAgICAgdGhpcy5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgbmV3Q2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnByb3BzLm9uS2V5RG93bihlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogcmVxdWlyZWQgdG8gaGFuZGxlIHRoZSBjYXJldCBwb3NpdGlvbiB3aGVuIGNsaWNrIGFueXdoZXJlIHdpdGhpbiB0aGUgaW5wdXQgKiovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogJ29uTW91c2VVcCcsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZVVwKGUpIHtcclxuICAgICAgdmFyIGVsID0gZS50YXJnZXQ7XHJcbiAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGVsLnNlbGVjdGlvblN0YXJ0LFxyXG4gICAgICAgICAgc2VsZWN0aW9uRW5kID0gZWwuc2VsZWN0aW9uRW5kLFxyXG4gICAgICAgICAgdmFsdWUgPSBlbC52YWx1ZTtcclxuXHJcblxyXG4gICAgICBpZiAoc2VsZWN0aW9uU3RhcnQgPT09IHNlbGVjdGlvbkVuZCkge1xyXG4gICAgICAgIHZhciBjYXJldFBvc3Rpb24gPSB0aGlzLmNvcnJlY3RDYXJldFBvc2l0aW9uKHZhbHVlLCBzZWxlY3Rpb25TdGFydCk7XHJcbiAgICAgICAgaWYgKGNhcmV0UG9zdGlvbiAhPT0gc2VsZWN0aW9uU3RhcnQpIHtcclxuICAgICAgICAgIHRoaXMuc2V0UGF0Y2hlZENhcmV0UG9zaXRpb24oZWwsIGNhcmV0UG9zdGlvbiwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5wcm9wcy5vbk1vdXNlVXAoZSk7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiAnb25Gb2N1cycsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Gb2N1cyhlKSB7XHJcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gV29ya2Fyb3VuZCBDaHJvbWUgYW5kIFNhZmFyaSBidWcgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Nzc5MzI4XHJcbiAgICAgIC8vIChvbkZvY3VzIGV2ZW50IHRhcmdldCBzZWxlY3Rpb25TdGFydCBpcyBhbHdheXMgMCBiZWZvcmUgc2V0VGltZW91dClcclxuICAgICAgZS5wZXJzaXN0KCk7XHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBlbCA9IGUudGFyZ2V0O1xyXG4gICAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGVsLnNlbGVjdGlvblN0YXJ0LFxyXG4gICAgICAgICAgICB2YWx1ZSA9IGVsLnZhbHVlO1xyXG5cclxuXHJcbiAgICAgICAgdmFyIGNhcmV0UG9zaXRpb24gPSBfdGhpczIuY29ycmVjdENhcmV0UG9zaXRpb24odmFsdWUsIHNlbGVjdGlvblN0YXJ0KTtcclxuICAgICAgICBpZiAoY2FyZXRQb3NpdGlvbiAhPT0gc2VsZWN0aW9uU3RhcnQpIHtcclxuICAgICAgICAgIF90aGlzMi5zZXRQYXRjaGVkQ2FyZXRQb3NpdGlvbihlbCwgY2FyZXRQb3NpdGlvbiwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX3RoaXMyLnByb3BzLm9uRm9jdXMoZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ3JlbmRlcicsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgICB2YXIgX3Byb3BzMTEgPSB0aGlzLnByb3BzLFxyXG4gICAgICAgICAgdHlwZSA9IF9wcm9wczExLnR5cGUsXHJcbiAgICAgICAgICBkaXNwbGF5VHlwZSA9IF9wcm9wczExLmRpc3BsYXlUeXBlLFxyXG4gICAgICAgICAgY3VzdG9tSW5wdXQgPSBfcHJvcHMxMS5jdXN0b21JbnB1dCxcclxuICAgICAgICAgIHJlbmRlclRleHQgPSBfcHJvcHMxMS5yZW5kZXJUZXh0O1xyXG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xyXG5cclxuXHJcbiAgICAgIHZhciBvdGhlclByb3BzID0gKDAsIF91dGlscy5vbWl0KSh0aGlzLnByb3BzLCBwcm9wVHlwZXMpO1xyXG5cclxuICAgICAgdmFyIGlucHV0UHJvcHMgPSBfZXh0ZW5kcyh7fSwgb3RoZXJQcm9wcywge1xyXG4gICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxyXG4gICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlLFxyXG4gICAgICAgIG9uS2V5RG93bjogdGhpcy5vbktleURvd24sXHJcbiAgICAgICAgb25Nb3VzZVVwOiB0aGlzLm9uTW91c2VVcCxcclxuICAgICAgICBvbkZvY3VzOiB0aGlzLm9uRm9jdXMsXHJcbiAgICAgICAgb25CbHVyOiB0aGlzLm9uQmx1clxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChkaXNwbGF5VHlwZSA9PT0gJ3RleHQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHQgPyByZW5kZXJUZXh0KHZhbHVlKSB8fCBudWxsIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICAnc3BhbicsXHJcbiAgICAgICAgICBvdGhlclByb3BzLFxyXG4gICAgICAgICAgdmFsdWVcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2UgaWYgKGN1c3RvbUlucHV0KSB7XHJcbiAgICAgICAgdmFyIEN1c3RvbUlucHV0ID0gY3VzdG9tSW5wdXQ7XHJcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEN1c3RvbUlucHV0LCBpbnB1dFByb3BzKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIGlucHV0UHJvcHMpO1xyXG4gICAgfVxyXG4gIH1dKTtcclxuXHJcbiAgcmV0dXJuIEN1cnJlbmN5Rm9ybWF0O1xyXG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xyXG5cclxuQ3VycmVuY3lGb3JtYXQucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xyXG5DdXJyZW5jeUZvcm1hdC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEN1cnJlbmN5Rm9ybWF0OyIsIid1c2Ugc3RyaWN0JztcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xyXG4gIHZhbHVlOiB0cnVlXHJcbn0pO1xyXG5leHBvcnRzLm5vb3AgPSBub29wO1xyXG5leHBvcnRzLnJldHVyblRydWUgPSByZXR1cm5UcnVlO1xyXG5leHBvcnRzLmNoYXJJc051bWJlciA9IGNoYXJJc051bWJlcjtcclxuZXhwb3J0cy5lc2NhcGVSZWdFeHAgPSBlc2NhcGVSZWdFeHA7XHJcbmV4cG9ydHMuZml4TGVhZGluZ1plcm8gPSBmaXhMZWFkaW5nWmVybztcclxuZXhwb3J0cy5zcGxpdFN0cmluZyA9IHNwbGl0U3RyaW5nO1xyXG5leHBvcnRzLmxpbWl0VG9TY2FsZSA9IGxpbWl0VG9TY2FsZTtcclxuZXhwb3J0cy5yb3VuZFRvUHJlY2lzaW9uID0gcm91bmRUb1ByZWNpc2lvbjtcclxuZXhwb3J0cy5vbWl0ID0gb21pdDtcclxuZXhwb3J0cy5zZXRDYXJldFBvc2l0aW9uID0gc2V0Q2FyZXRQb3NpdGlvbjtcclxuXHJcblxyXG4vLyBiYXNpYyBub29wIGZ1bmN0aW9uXHJcbmZ1bmN0aW9uIG5vb3AoKSB7fVxyXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFySXNOdW1iZXIoY2hhcikge1xyXG4gIHJldHVybiAhIShjaGFyIHx8ICcnKS5tYXRjaCgvXFxkLyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHtcclxuICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLCBcIlxcXFwkJlwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZml4TGVhZGluZ1plcm8obnVtU3RyKSB7XHJcbiAgaWYgKCFudW1TdHIpIHJldHVybiBudW1TdHI7XHJcbiAgdmFyIGlzTmVnYXRpdmUgPSBudW1TdHJbMF0gPT09ICctJztcclxuICBpZiAoaXNOZWdhdGl2ZSkgbnVtU3RyID0gbnVtU3RyLnN1YnN0cmluZygxLCBudW1TdHIubGVuZ3RoKTtcclxuICB2YXIgcGFydHMgPSBudW1TdHIuc3BsaXQoJy4nKTtcclxuICB2YXIgYmVmb3JlRGVjaW1hbCA9IHBhcnRzWzBdLnJlcGxhY2UoL14wKy8sICcnKSB8fCAnMCc7XHJcbiAgdmFyIGFmdGVyRGVjaW1hbCA9IHBhcnRzWzFdIHx8ICcnO1xyXG5cclxuICByZXR1cm4gJycgKyAoaXNOZWdhdGl2ZSA/ICctJyA6ICcnKSArIGJlZm9yZURlY2ltYWwgKyAoYWZ0ZXJEZWNpbWFsID8gJy4nICsgYWZ0ZXJEZWNpbWFsIDogJycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzcGxpdFN0cmluZyhzdHIsIGluZGV4KSB7XHJcbiAgcmV0dXJuIFtzdHIuc3Vic3RyaW5nKDAsIGluZGV4KSwgc3RyLnN1YnN0cmluZyhpbmRleCldO1xyXG59XHJcblxyXG4vKipcclxuICogbGltaXQgZGVjaW1hbCBudW1iZXJzIHRvIGdpdmVuIHNjYWxlXHJcbiAqIE5vdCB1c2VkIC5maXhlZFRvIGJlY2F1c2UgdGhhdCB3aWxsIGJyZWFrIHdpdGggYmlnIG51bWJlcnNcclxuICovXHJcbmZ1bmN0aW9uIGxpbWl0VG9TY2FsZShudW1TdHIsIHNjYWxlLCBmaXhlZERlY2ltYWxTY2FsZSkge1xyXG4gIHZhciBzdHIgPSAnJztcclxuICB2YXIgZmlsbGVyID0gZml4ZWREZWNpbWFsU2NhbGUgPyAnMCcgOiAnJztcclxuICBmb3IgKHZhciBpID0gMDsgaSA8PSBzY2FsZSAtIDE7IGkrKykge1xyXG4gICAgc3RyICs9IG51bVN0cltpXSB8fCBmaWxsZXI7XHJcbiAgfVxyXG4gIHJldHVybiBzdHI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGlzIG1ldGhvZCBpcyByZXF1aXJlZCB0byByb3VuZCBwcm9wIHZhbHVlIHRvIGdpdmVuIHNjYWxlLlxyXG4gKiBOb3QgdXNlZCAucm91bmQgb3IgLmZpeGVkVG8gYmVjYXVzZSB0aGF0IHdpbGwgYnJlYWsgd2l0aCBiaWcgbnVtYmVyc1xyXG4gKi9cclxuZnVuY3Rpb24gcm91bmRUb1ByZWNpc2lvbihudW1TdHIsIHNjYWxlLCBmaXhlZERlY2ltYWxTY2FsZSkge1xyXG4gIHZhciBudW1iZXJQYXJ0cyA9IG51bVN0ci5zcGxpdCgnLicpO1xyXG4gIHZhciByb3VuZGVkRGVjaW1hbFBhcnRzID0gcGFyc2VGbG9hdCgnMC4nICsgKG51bWJlclBhcnRzWzFdIHx8ICcwJykpLnRvRml4ZWQoc2NhbGUpLnNwbGl0KCcuJyk7XHJcbiAgdmFyIGludFBhcnQgPSBudW1iZXJQYXJ0c1swXS5zcGxpdCgnJykucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAocm91bmRlZFN0ciwgY3VycmVudCwgaWR4KSB7XHJcbiAgICBpZiAocm91bmRlZFN0ci5sZW5ndGggPiBpZHgpIHtcclxuICAgICAgcmV0dXJuIChOdW1iZXIocm91bmRlZFN0clswXSkgKyBOdW1iZXIoY3VycmVudCkpLnRvU3RyaW5nKCkgKyByb3VuZGVkU3RyLnN1YnN0cmluZygxLCByb3VuZGVkU3RyLmxlbmd0aCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3VycmVudCArIHJvdW5kZWRTdHI7XHJcbiAgfSwgcm91bmRlZERlY2ltYWxQYXJ0c1swXSk7XHJcblxyXG4gIHZhciBkZWNpbWFsUGFydCA9IGxpbWl0VG9TY2FsZShyb3VuZGVkRGVjaW1hbFBhcnRzWzFdIHx8ICcnLCAobnVtYmVyUGFydHNbMV0gfHwgJycpLmxlbmd0aCwgZml4ZWREZWNpbWFsU2NhbGUpO1xyXG5cclxuICByZXR1cm4gaW50UGFydCArIChkZWNpbWFsUGFydCA/ICcuJyArIGRlY2ltYWxQYXJ0IDogJycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbWl0KG9iaiwga2V5TWFwcykge1xyXG4gIHZhciBmaWx0ZXJlZE9iaiA9IHt9O1xyXG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICBpZiAoIWtleU1hcHNba2V5XSkgZmlsdGVyZWRPYmpba2V5XSA9IG9ialtrZXldO1xyXG4gIH0pO1xyXG4gIHJldHVybiBmaWx0ZXJlZE9iajtcclxufVxyXG5cclxuLyoqIHNldCB0aGUgY2FyZXQgcG9zaXRvbiBpbiBhbiBpbnB1dCBmaWVsZCAqKi9cclxuZnVuY3Rpb24gc2V0Q2FyZXRQb3NpdGlvbihlbCwgY2FyZXRQb3MpIHtcclxuICBlbC52YWx1ZSA9IGVsLnZhbHVlO1xyXG4gIC8vIF4gdGhpcyBpcyB1c2VkIHRvIG5vdCBvbmx5IGdldCBcImZvY3VzXCIsIGJ1dFxyXG4gIC8vIHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIGl0IGV2ZXJ5dGhpbmcgLXNlbGVjdGVkLVxyXG4gIC8vIChpdCBjYXVzZXMgYW4gaXNzdWUgaW4gY2hyb21lLCBhbmQgaGF2aW5nIGl0IGRvZXNuJ3QgaHVydCBhbnkgb3RoZXIgYnJvd3NlcilcclxuICBpZiAoZWwgIT09IG51bGwpIHtcclxuICAgIGlmIChlbC5jcmVhdGVUZXh0UmFuZ2UpIHtcclxuICAgICAgdmFyIHJhbmdlID0gZWwuY3JlYXRlVGV4dFJhbmdlKCk7XHJcbiAgICAgIHJhbmdlLm1vdmUoJ2NoYXJhY3RlcicsIGNhcmV0UG9zKTtcclxuICAgICAgcmFuZ2Uuc2VsZWN0KCk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gKGVsLnNlbGVjdGlvblN0YXJ0ID09PSAwIGFkZGVkIGZvciBGaXJlZm94IGJ1ZylcclxuICAgIGlmIChlbC5zZWxlY3Rpb25TdGFydCB8fCBlbC5zZWxlY3Rpb25TdGFydCA9PT0gMCkge1xyXG4gICAgICBlbC5mb2N1cygpO1xyXG4gICAgICBlbC5zZXRTZWxlY3Rpb25SYW5nZShjYXJldFBvcywgY2FyZXRQb3MpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBmYWlsIGNpdHksIGZvcnR1bmF0ZWx5IHRoaXMgbmV2ZXIgaGFwcGVucyAoYXMgZmFyIGFzIEkndmUgdGVzdGVkKSA6KVxyXG4gICAgZWwuZm9jdXMoKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbnZhciB0aG91c2FuZEdyb3VwU3BhY2luZyA9IGV4cG9ydHMudGhvdXNhbmRHcm91cFNwYWNpbmcgPSB7XHJcbiAgdHdvOiAnMicsXHJcbiAgdHdvU2NhbGVkOiAnMnMnLFxyXG4gIHRocmVlOiAnMycsXHJcbiAgZm91cjogJzQnXHJcbn07IiwiLypcclxuICBVc2VkIGFzIG1haW4gZmlsZSBpbiBwYWNrYWdlLmpzb25cclxuKi9cclxuXHJcbi8qIGVzbGludC1kaXNhYmxlIG5vLXZhciAqL1xyXG4vKiBlc2xpbnQtZW52IG5vZGUgKi9cclxuXHJcbnZhciBEYXlQaWNrZXIgPSByZXF1aXJlKCcuL2xpYi9zcmMvRGF5UGlja2VyJyk7XHJcbnZhciBEYXRlVXRpbHMgPSByZXF1aXJlKCcuL2xpYi9zcmMvRGF0ZVV0aWxzJyk7XHJcbnZhciBMb2NhbGVVdGlscyA9IHJlcXVpcmUoJy4vbGliL3NyYy9Mb2NhbGVVdGlscycpO1xyXG52YXIgTW9kaWZpZXJzVXRpbHMgPSByZXF1aXJlKCcuL2xpYi9zcmMvTW9kaWZpZXJzVXRpbHMnKTtcclxudmFyIFdlZWtkYXkgPSByZXF1aXJlKCcuL2xpYi9zcmMvV2Vla2RheScpO1xyXG52YXIgTmF2YmFyID0gcmVxdWlyZSgnLi9saWIvc3JjL05hdmJhcicpO1xyXG52YXIgUHJvcFR5cGVzID0gcmVxdWlyZSgnLi9saWIvc3JjL1Byb3BUeXBlcycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBEYXlQaWNrZXI7XHJcbm1vZHVsZS5leHBvcnRzLkRhdGVVdGlscyA9IERhdGVVdGlscztcclxubW9kdWxlLmV4cG9ydHMuTG9jYWxlVXRpbHMgPSBMb2NhbGVVdGlscztcclxubW9kdWxlLmV4cG9ydHMuTW9kaWZpZXJzVXRpbHMgPSBNb2RpZmllcnNVdGlscztcclxubW9kdWxlLmV4cG9ydHMuV2Vla2RheVByb3BUeXBlcyA9IFdlZWtkYXkucHJvcFR5cGVzO1xyXG5tb2R1bGUuZXhwb3J0cy5OYXZiYXJQcm9wVHlwZXMgPSBOYXZiYXIucHJvcFR5cGVzO1xyXG5tb2R1bGUuZXhwb3J0cy5Qcm9wVHlwZXMgPSBQcm9wVHlwZXM7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xyXG4gIHZhbHVlOiB0cnVlXHJcbn0pO1xyXG5cclxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcclxuXHJcbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5cclxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XHJcblxyXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcclxuXHJcbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XHJcblxyXG52YXIgX0xvY2FsZVV0aWxzID0gcmVxdWlyZSgnLi9Mb2NhbGVVdGlscycpO1xyXG5cclxudmFyIF9Mb2NhbGVVdGlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Mb2NhbGVVdGlscyk7XHJcblxyXG52YXIgX2tleXMgPSByZXF1aXJlKCcuL2tleXMnKTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxyXG5cclxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XHJcblxyXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cclxuXHJcbnZhciBDYXB0aW9uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcclxuICBfaW5oZXJpdHMoQ2FwdGlvbiwgX0NvbXBvbmVudCk7XHJcblxyXG4gIGZ1bmN0aW9uIENhcHRpb24ocHJvcHMpIHtcclxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYXB0aW9uKTtcclxuXHJcbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ2FwdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENhcHRpb24pKS5jYWxsKHRoaXMsIHByb3BzKSk7XHJcblxyXG4gICAgX3RoaXMuaGFuZGxlS2V5VXAgPSBfdGhpcy5oYW5kbGVLZXlVcC5iaW5kKF90aGlzKTtcclxuICAgIHJldHVybiBfdGhpcztcclxuICB9XHJcblxyXG4gIF9jcmVhdGVDbGFzcyhDYXB0aW9uLCBbe1xyXG4gICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XHJcbiAgICAgIHJldHVybiBuZXh0UHJvcHMubG9jYWxlICE9PSB0aGlzLnByb3BzLmxvY2FsZSB8fCBuZXh0UHJvcHMuY2xhc3NOYW1lcyAhPT0gdGhpcy5wcm9wcy5jbGFzc05hbWVzIHx8IG5leHRQcm9wcy5kYXRlLmdldE1vbnRoKCkgIT09IHRoaXMucHJvcHMuZGF0ZS5nZXRNb250aCgpIHx8IG5leHRQcm9wcy5kYXRlLmdldEZ1bGxZZWFyKCkgIT09IHRoaXMucHJvcHMuZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ2hhbmRsZUtleVVwJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVLZXlVcChlKSB7XHJcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IF9rZXlzLkVOVEVSKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrKGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiAncmVuZGVyJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxyXG4gICAgICAgICAgY2xhc3NOYW1lcyA9IF9wcm9wcy5jbGFzc05hbWVzLFxyXG4gICAgICAgICAgZGF0ZSA9IF9wcm9wcy5kYXRlLFxyXG4gICAgICAgICAgbW9udGhzID0gX3Byb3BzLm1vbnRocyxcclxuICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXHJcbiAgICAgICAgICBsb2NhbGVVdGlscyA9IF9wcm9wcy5sb2NhbGVVdGlscyxcclxuICAgICAgICAgIG9uQ2xpY2sgPSBfcHJvcHMub25DbGljaztcclxuXHJcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICAnZGl2JyxcclxuICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lcy5jYXB0aW9uLCByb2xlOiAnaGVhZGluZycgfSxcclxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgeyBvbkNsaWNrOiBvbkNsaWNrLCBvbktleVVwOiB0aGlzLmhhbmRsZUtleVVwIH0sXHJcbiAgICAgICAgICBtb250aHMgPyBtb250aHNbZGF0ZS5nZXRNb250aCgpXSArICcgJyArIGRhdGUuZ2V0RnVsbFllYXIoKSA6IGxvY2FsZVV0aWxzLmZvcm1hdE1vbnRoVGl0bGUoZGF0ZSwgbG9jYWxlKVxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XSk7XHJcblxyXG4gIHJldHVybiBDYXB0aW9uO1xyXG59KF9yZWFjdC5Db21wb25lbnQpO1xyXG5cclxuQ2FwdGlvbi5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgbG9jYWxlVXRpbHM6IF9Mb2NhbGVVdGlsczIuZGVmYXVsdFxyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBDYXB0aW9uO1xyXG5DYXB0aW9uLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcclxuICBkYXRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lmluc3RhbmNlT2YoRGF0ZSksXHJcbiAgbW9udGhzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5T2YoX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcpLFxyXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgbG9jYWxlVXRpbHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxyXG4gIG9uQ2xpY2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICBjbGFzc05hbWVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnNoYXBlKHtcclxuICAgIGNhcHRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWRcclxuICB9KS5pc1JlcXVpcmVkXHJcbn0gOiB7fTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FwdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xyXG4gIHZhbHVlOiB0cnVlXHJcbn0pO1xyXG5leHBvcnRzLmNsb25lID0gY2xvbmU7XHJcbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xyXG5leHBvcnRzLmFkZE1vbnRocyA9IGFkZE1vbnRocztcclxuZXhwb3J0cy5pc1NhbWVEYXkgPSBpc1NhbWVEYXk7XHJcbmV4cG9ydHMuaXNTYW1lTW9udGggPSBpc1NhbWVNb250aDtcclxuZXhwb3J0cy5pc0RheUJlZm9yZSA9IGlzRGF5QmVmb3JlO1xyXG5leHBvcnRzLmlzRGF5QWZ0ZXIgPSBpc0RheUFmdGVyO1xyXG5leHBvcnRzLmlzUGFzdERheSA9IGlzUGFzdERheTtcclxuZXhwb3J0cy5pc0Z1dHVyZURheSA9IGlzRnV0dXJlRGF5O1xyXG5leHBvcnRzLmlzRGF5QmV0d2VlbiA9IGlzRGF5QmV0d2VlbjtcclxuZXhwb3J0cy5hZGREYXlUb1JhbmdlID0gYWRkRGF5VG9SYW5nZTtcclxuZXhwb3J0cy5pc0RheUluUmFuZ2UgPSBpc0RheUluUmFuZ2U7XHJcbmV4cG9ydHMuZ2V0V2Vla051bWJlciA9IGdldFdlZWtOdW1iZXI7XHJcbi8qKlxyXG4gKiBDbG9uZSBhIGRhdGUgb2JqZWN0LlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBwYXJhbSAge0RhdGV9IGQgVGhlIGRhdGUgdG8gY2xvbmVcclxuICogQHJldHVybiB7RGF0ZX0gVGhlIGNsb25lZCBkYXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBjbG9uZShkKSB7XHJcbiAgcmV0dXJuIG5ldyBEYXRlKGQuZ2V0VGltZSgpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBhIHZhbGlkIEphdmFTY3JpcHQgRGF0ZSBvYmplY3QuXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQHBhcmFtIHthbnl9IHZhbHVlXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4odmFsdWUudmFsdWVPZigpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybiBgZGAgYXMgYSBuZXcgZGF0ZSB3aXRoIGBuYCBtb250aHMgYWRkZWQuXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQHBhcmFtIHtbdHlwZV19IGRcclxuICogQHBhcmFtIHtbdHlwZV19IG5cclxuICovXHJcbmZ1bmN0aW9uIGFkZE1vbnRocyhkLCBuKSB7XHJcbiAgdmFyIG5ld0RhdGUgPSBjbG9uZShkKTtcclxuICBuZXdEYXRlLnNldE1vbnRoKGQuZ2V0TW9udGgoKSArIG4pO1xyXG4gIHJldHVybiBuZXdEYXRlO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJuIGB0cnVlYCBpZiB0d28gZGF0ZXMgYXJlIHRoZSBzYW1lIGRheSwgaWdub3JpbmcgdGhlIHRpbWUuXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQHBhcmFtICB7RGF0ZX0gIGQxXHJcbiAqIEBwYXJhbSAge0RhdGV9ICBkMlxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gaXNTYW1lRGF5KGQxLCBkMikge1xyXG4gIGlmICghZDEgfHwgIWQyKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIHJldHVybiBkMS5nZXREYXRlKCkgPT09IGQyLmdldERhdGUoKSAmJiBkMS5nZXRNb250aCgpID09PSBkMi5nZXRNb250aCgpICYmIGQxLmdldEZ1bGxZZWFyKCkgPT09IGQyLmdldEZ1bGxZZWFyKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gYHRydWVgIGlmIHR3byBkYXRlcyBmYWxsIGluIHRoZSBzYW1lIG1vbnRoLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBwYXJhbSAge0RhdGV9ICBkMVxyXG4gKiBAcGFyYW0gIHtEYXRlfSAgZDJcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICovXHJcbmZ1bmN0aW9uIGlzU2FtZU1vbnRoKGQxLCBkMikge1xyXG4gIGlmICghZDEgfHwgIWQyKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIHJldHVybiBkMS5nZXRNb250aCgpID09PSBkMi5nZXRNb250aCgpICYmIGQxLmdldEZ1bGxZZWFyKCkgPT09IGQyLmdldEZ1bGxZZWFyKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZmlyc3QgZGF5IGlzIGJlZm9yZSB0aGUgc2Vjb25kIGRheS5cclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAcGFyYW0ge0RhdGV9IGQxXHJcbiAqIEBwYXJhbSB7RGF0ZX0gZDJcclxuICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0RheUJlZm9yZShkMSwgZDIpIHtcclxuICB2YXIgZGF5MSA9IGNsb25lKGQxKS5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuICB2YXIgZGF5MiA9IGNsb25lKGQyKS5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuICByZXR1cm4gZGF5MSA8IGRheTI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZmlyc3QgZGF5IGlzIGFmdGVyIHRoZSBzZWNvbmQgZGF5LlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBwYXJhbSB7RGF0ZX0gZDFcclxuICogQHBhcmFtIHtEYXRlfSBkMlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICovXHJcbmZ1bmN0aW9uIGlzRGF5QWZ0ZXIoZDEsIGQyKSB7XHJcbiAgdmFyIGRheTEgPSBjbG9uZShkMSkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgdmFyIGRheTIgPSBjbG9uZShkMikuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgcmV0dXJuIGRheTEgPiBkYXkyO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJuIGB0cnVlYCBpZiBhIGRheSBpcyBpbiB0aGUgcGFzdCwgZS5nLiB5ZXN0ZXJkYXkgb3IgYW55IGRheVxyXG4gKiBiZWZvcmUgeWVzdGVyZGF5LlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBwYXJhbSAge0RhdGV9ICBkXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBpc1Bhc3REYXkoZCkge1xyXG4gIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgdG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgcmV0dXJuIGlzRGF5QmVmb3JlKGQsIHRvZGF5KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybiBgdHJ1ZWAgaWYgYSBkYXkgaXMgaW4gdGhlIGZ1dHVyZSwgZS5nLiB0b21vcnJvdyBvciBhbnkgZGF5XHJcbiAqIGFmdGVyIHRvbW9ycm93LlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBwYXJhbSAge0RhdGV9ICBkXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0Z1dHVyZURheShkKSB7XHJcbiAgdmFyIHRvbW9ycm93ID0gbmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAyNCAqIDYwICogNjAgKiAxMDAwKTtcclxuICB0b21vcnJvdy5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuICByZXR1cm4gZCA+PSB0b21vcnJvdztcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybiBgdHJ1ZWAgaWYgZGF5IGBkYCBpcyBiZXR3ZWVuIGRheXMgYGQxYCBhbmQgYGQyYCxcclxuICogd2l0aG91dCBpbmNsdWRpbmcgdGhlbS5cclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAcGFyYW0gIHtEYXRlfSAgZFxyXG4gKiBAcGFyYW0gIHtEYXRlfSAgZDFcclxuICogQHBhcmFtICB7RGF0ZX0gIGQyXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0RheUJldHdlZW4oZCwgZDEsIGQyKSB7XHJcbiAgdmFyIGRhdGUgPSBjbG9uZShkKTtcclxuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gIHJldHVybiBpc0RheUFmdGVyKGRhdGUsIGQxKSAmJiBpc0RheUJlZm9yZShkYXRlLCBkMikgfHwgaXNEYXlBZnRlcihkYXRlLCBkMikgJiYgaXNEYXlCZWZvcmUoZGF0ZSwgZDEpO1xyXG59XHJcblxyXG4vKipcclxuICogQWRkIGEgZGF5IHRvIGEgcmFuZ2UgYW5kIHJldHVybiBhIG5ldyByYW5nZS4gQSByYW5nZSBpcyBhbiBvYmplY3Qgd2l0aFxyXG4gKiBgZnJvbWAgYW5kIGB0b2AgZGF5cy5cclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAcGFyYW0ge0RhdGV9IGRheVxyXG4gKiBAcGFyYW0ge09iamVjdH0gcmFuZ2VcclxuICogQHJldHVybiB7T2JqZWN0fSBSZXR1cm5zIGEgbmV3IHJhbmdlIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gYWRkRGF5VG9SYW5nZShkYXkpIHtcclxuICB2YXIgcmFuZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHsgZnJvbTogbnVsbCwgdG86IG51bGwgfTtcclxuICB2YXIgZnJvbSA9IHJhbmdlLmZyb20sXHJcbiAgICAgIHRvID0gcmFuZ2UudG87XHJcblxyXG4gIGlmICghZnJvbSkge1xyXG4gICAgZnJvbSA9IGRheTtcclxuICB9IGVsc2UgaWYgKGZyb20gJiYgdG8gJiYgaXNTYW1lRGF5KGZyb20sIHRvKSAmJiBpc1NhbWVEYXkoZGF5LCBmcm9tKSkge1xyXG4gICAgZnJvbSA9IG51bGw7XHJcbiAgICB0byA9IG51bGw7XHJcbiAgfSBlbHNlIGlmICh0byAmJiBpc0RheUJlZm9yZShkYXksIGZyb20pKSB7XHJcbiAgICBmcm9tID0gZGF5O1xyXG4gIH0gZWxzZSBpZiAodG8gJiYgaXNTYW1lRGF5KGRheSwgdG8pKSB7XHJcbiAgICBmcm9tID0gZGF5O1xyXG4gICAgdG8gPSBkYXk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRvID0gZGF5O1xyXG4gICAgaWYgKGlzRGF5QmVmb3JlKHRvLCBmcm9tKSkge1xyXG4gICAgICB0byA9IGZyb207XHJcbiAgICAgIGZyb20gPSBkYXk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4geyBmcm9tOiBmcm9tLCB0bzogdG8gfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybiBgdHJ1ZWAgaWYgYSBkYXkgaXMgaW5jbHVkZWQgaW4gYSByYW5nZSBvZiBkYXlzLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBwYXJhbSAge0RhdGV9ICBkYXlcclxuICogQHBhcmFtICB7T2JqZWN0fSAgcmFuZ2VcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICovXHJcbmZ1bmN0aW9uIGlzRGF5SW5SYW5nZShkYXksIHJhbmdlKSB7XHJcbiAgdmFyIGZyb20gPSByYW5nZS5mcm9tLFxyXG4gICAgICB0byA9IHJhbmdlLnRvO1xyXG5cclxuICByZXR1cm4gZnJvbSAmJiBpc1NhbWVEYXkoZGF5LCBmcm9tKSB8fCB0byAmJiBpc1NhbWVEYXkoZGF5LCB0bykgfHwgZnJvbSAmJiB0byAmJiBpc0RheUJldHdlZW4oZGF5LCBmcm9tLCB0byk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gdGhlIHllYXIncyB3ZWVrIG51bWJlciAoYXMgcGVyIElTTywgaS5lLiB3aXRoIHRoZSB3ZWVrIHN0YXJ0aW5nIGZyb20gbW9uZGF5KVxyXG4gKiBmb3IgdGhlIGdpdmVuIGRheS5cclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAcGFyYW0ge0RhdGV9IGRheVxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0V2Vla051bWJlcihkYXkpIHtcclxuICB2YXIgZGF0ZSA9IGNsb25lKGRheSk7XHJcbiAgZGF0ZS5zZXRIb3VycygwLCAwLCAwKTtcclxuICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyA0IC0gKGRhdGUuZ2V0RGF5KCkgfHwgNykpO1xyXG4gIHJldHVybiBNYXRoLmNlaWwoKChkYXRlIC0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCAwLCAxKSkgLyA4LjY0ZTcgKyAxKSAvIDcpO1xyXG59XHJcblxyXG5leHBvcnRzLmRlZmF1bHQgPSB7XHJcbiAgYWRkRGF5VG9SYW5nZTogYWRkRGF5VG9SYW5nZSxcclxuICBhZGRNb250aHM6IGFkZE1vbnRocyxcclxuICBjbG9uZTogY2xvbmUsXHJcbiAgZ2V0V2Vla051bWJlcjogZ2V0V2Vla051bWJlcixcclxuICBpc0RhdGU6IGlzRGF0ZSxcclxuICBpc0RheUFmdGVyOiBpc0RheUFmdGVyLFxyXG4gIGlzRGF5QmVmb3JlOiBpc0RheUJlZm9yZSxcclxuICBpc0RheUJldHdlZW46IGlzRGF5QmV0d2VlbixcclxuICBpc0RheUluUmFuZ2U6IGlzRGF5SW5SYW5nZSxcclxuICBpc0Z1dHVyZURheTogaXNGdXR1cmVEYXksXHJcbiAgaXNQYXN0RGF5OiBpc1Bhc3REYXksXHJcbiAgaXNTYW1lRGF5OiBpc1NhbWVEYXksXHJcbiAgaXNTYW1lTW9udGg6IGlzU2FtZU1vbnRoXHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURhdGVVdGlscy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICB2YWx1ZTogdHJ1ZVxyXG59KTtcclxuXHJcbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XHJcblxyXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xyXG5cclxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcblxyXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcclxuXHJcbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcclxuXHJcbnZhciBfRGF0ZVV0aWxzID0gcmVxdWlyZSgnLi9EYXRlVXRpbHMnKTtcclxuXHJcbnZhciBfSGVscGVycyA9IHJlcXVpcmUoJy4vSGVscGVycycpO1xyXG5cclxudmFyIF9jbGFzc05hbWVzID0gcmVxdWlyZSgnLi9jbGFzc05hbWVzJyk7XHJcblxyXG52YXIgX2NsYXNzTmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NOYW1lcyk7XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxyXG5cclxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cclxuXHJcbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxyXG5cclxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qIGVzbGludC1kaXNhYmxlIGpzeC1hMTF5L25vLXN0YXRpYy1lbGVtZW50LWludGVyYWN0aW9ucywgcmVhY3QvZm9yYmlkLXByb3AtdHlwZXMgKi9cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUV2ZW50KGhhbmRsZXIsIGRheSwgbW9kaWZpZXJzKSB7XHJcbiAgaWYgKCFoYW5kbGVyKSB7XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH1cclxuICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucGVyc2lzdCgpO1xyXG4gICAgaGFuZGxlcihkYXksIG1vZGlmaWVycywgZSk7XHJcbiAgfTtcclxufVxyXG5cclxudmFyIERheSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XHJcbiAgX2luaGVyaXRzKERheSwgX0NvbXBvbmVudCk7XHJcblxyXG4gIGZ1bmN0aW9uIERheSgpIHtcclxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXkpO1xyXG5cclxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRGF5Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGF5KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlQ2xhc3MoRGF5LCBbe1xyXG4gICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XHJcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xyXG5cclxuICAgICAgdmFyIHByb3BOYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucHJvcHMpO1xyXG4gICAgICB2YXIgbmV4dFByb3BOYW1lcyA9IE9iamVjdC5rZXlzKG5leHRQcm9wcyk7XHJcbiAgICAgIGlmIChwcm9wTmFtZXMubGVuZ3RoICE9PSBuZXh0UHJvcE5hbWVzLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBwcm9wTmFtZXMuc29tZShmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIGlmIChuYW1lID09PSAnbW9kaWZpZXJzJyB8fCBuYW1lID09PSAnbW9kaWZpZXJzU3R5bGVzJyB8fCBuYW1lID09PSAnY2xhc3NOYW1lcycpIHtcclxuICAgICAgICAgIHZhciBwcm9wID0gX3RoaXMyLnByb3BzW25hbWVdO1xyXG4gICAgICAgICAgdmFyIG5leHRQcm9wID0gbmV4dFByb3BzW25hbWVdO1xyXG4gICAgICAgICAgdmFyIG1vZGlmaWVycyA9IE9iamVjdC5rZXlzKHByb3ApO1xyXG4gICAgICAgICAgdmFyIG5leHRNb2RpZmllcnMgPSBPYmplY3Qua2V5cyhuZXh0UHJvcCk7XHJcbiAgICAgICAgICBpZiAobW9kaWZpZXJzLmxlbmd0aCAhPT0gbmV4dE1vZGlmaWVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gbW9kaWZpZXJzLnNvbWUoZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gISgwLCBfSGVscGVycy5oYXNPd25Qcm9wKShuZXh0UHJvcCwgbW9kKSB8fCBwcm9wW21vZF0gIT09IG5leHRQcm9wW21vZF07XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICdkYXknKSB7XHJcbiAgICAgICAgICByZXR1cm4gISgwLCBfRGF0ZVV0aWxzLmlzU2FtZURheSkoX3RoaXMyLnByb3BzW25hbWVdLCBuZXh0UHJvcHNbbmFtZV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gISgwLCBfSGVscGVycy5oYXNPd25Qcm9wKShuZXh0UHJvcHMsIG5hbWUpIHx8IF90aGlzMi5wcm9wc1tuYW1lXSAhPT0gbmV4dFByb3BzW25hbWVdO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdyZW5kZXInLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXHJcbiAgICAgICAgICBjbGFzc05hbWVzID0gX3Byb3BzLmNsYXNzTmFtZXMsXHJcbiAgICAgICAgICBtb2RpZmllcnNTdHlsZXMgPSBfcHJvcHMubW9kaWZpZXJzU3R5bGVzLFxyXG4gICAgICAgICAgZGF5ID0gX3Byb3BzLmRheSxcclxuICAgICAgICAgIHRhYkluZGV4ID0gX3Byb3BzLnRhYkluZGV4LFxyXG4gICAgICAgICAgZW1wdHkgPSBfcHJvcHMuZW1wdHksXHJcbiAgICAgICAgICBtb2RpZmllcnMgPSBfcHJvcHMubW9kaWZpZXJzLFxyXG4gICAgICAgICAgb25Nb3VzZUVudGVyID0gX3Byb3BzLm9uTW91c2VFbnRlcixcclxuICAgICAgICAgIG9uTW91c2VMZWF2ZSA9IF9wcm9wcy5vbk1vdXNlTGVhdmUsXHJcbiAgICAgICAgICBvbk1vdXNlVXAgPSBfcHJvcHMub25Nb3VzZVVwLFxyXG4gICAgICAgICAgb25Nb3VzZURvd24gPSBfcHJvcHMub25Nb3VzZURvd24sXHJcbiAgICAgICAgICBvbkNsaWNrID0gX3Byb3BzLm9uQ2xpY2ssXHJcbiAgICAgICAgICBvbktleURvd24gPSBfcHJvcHMub25LZXlEb3duLFxyXG4gICAgICAgICAgb25Ub3VjaFN0YXJ0ID0gX3Byb3BzLm9uVG91Y2hTdGFydCxcclxuICAgICAgICAgIG9uVG91Y2hFbmQgPSBfcHJvcHMub25Ub3VjaEVuZCxcclxuICAgICAgICAgIG9uRm9jdXMgPSBfcHJvcHMub25Gb2N1cyxcclxuICAgICAgICAgIGFyaWFMYWJlbCA9IF9wcm9wcy5hcmlhTGFiZWwsXHJcbiAgICAgICAgICBhcmlhRGlzYWJsZWQgPSBfcHJvcHMuYXJpYURpc2FibGVkLFxyXG4gICAgICAgICAgYXJpYVNlbGVjdGVkID0gX3Byb3BzLmFyaWFTZWxlY3RlZCxcclxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuO1xyXG5cclxuXHJcbiAgICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzLmRheTtcclxuICAgICAgaWYgKGNsYXNzTmFtZXMgIT09IF9jbGFzc05hbWVzMi5kZWZhdWx0KSB7XHJcbiAgICAgICAgLy8gV2hlbiB1c2luZyBDU1MgbW9kdWxlcyBwcmVmaXggdGhlIG1vZGlmaWVyIGFzIHJlcXVpcmVkIGJ5IHRoZSBCRU0gc3ludGF4XHJcbiAgICAgICAgY2xhc3NOYW1lICs9ICcgJyArIE9iamVjdC5rZXlzKG1vZGlmaWVycykuam9pbignICcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNsYXNzTmFtZSArPSBPYmplY3Qua2V5cyhtb2RpZmllcnMpLm1hcChmdW5jdGlvbiAobW9kaWZpZXIpIHtcclxuICAgICAgICAgIHJldHVybiAnICcgKyBjbGFzc05hbWUgKyAnLS0nICsgbW9kaWZpZXI7XHJcbiAgICAgICAgfSkuam9pbignJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBzdHlsZSA9IHZvaWQgMDtcclxuICAgICAgaWYgKG1vZGlmaWVyc1N0eWxlcykge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKG1vZGlmaWVycykuZmlsdGVyKGZ1bmN0aW9uIChtb2RpZmllcikge1xyXG4gICAgICAgICAgcmV0dXJuICEhbW9kaWZpZXJzU3R5bGVzW21vZGlmaWVyXTtcclxuICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllcikge1xyXG4gICAgICAgICAgc3R5bGUgPSBfZXh0ZW5kcyh7fSwgc3R5bGUsIG1vZGlmaWVyc1N0eWxlc1ttb2RpZmllcl0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZW1wdHkpIHtcclxuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgJ2FyaWEtZGlzYWJsZWQnOiB0cnVlLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHN0eWxlIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICAnZGl2JyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcclxuICAgICAgICAgIHRhYkluZGV4OiB0YWJJbmRleCxcclxuICAgICAgICAgIHN0eWxlOiBzdHlsZSxcclxuICAgICAgICAgIHJvbGU6ICdncmlkY2VsbCcsXHJcbiAgICAgICAgICAnYXJpYS1sYWJlbCc6IGFyaWFMYWJlbCxcclxuICAgICAgICAgICdhcmlhLWRpc2FibGVkJzogYXJpYURpc2FibGVkLFxyXG4gICAgICAgICAgJ2FyaWEtc2VsZWN0ZWQnOiBhcmlhU2VsZWN0ZWQsXHJcbiAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVFdmVudChvbkNsaWNrLCBkYXksIG1vZGlmaWVycyksXHJcbiAgICAgICAgICBvbktleURvd246IGhhbmRsZUV2ZW50KG9uS2V5RG93biwgZGF5LCBtb2RpZmllcnMpLFxyXG4gICAgICAgICAgb25Nb3VzZUVudGVyOiBoYW5kbGVFdmVudChvbk1vdXNlRW50ZXIsIGRheSwgbW9kaWZpZXJzKSxcclxuICAgICAgICAgIG9uTW91c2VMZWF2ZTogaGFuZGxlRXZlbnQob25Nb3VzZUxlYXZlLCBkYXksIG1vZGlmaWVycyksXHJcbiAgICAgICAgICBvbk1vdXNlVXA6IGhhbmRsZUV2ZW50KG9uTW91c2VVcCwgZGF5LCBtb2RpZmllcnMpLFxyXG4gICAgICAgICAgb25Nb3VzZURvd246IGhhbmRsZUV2ZW50KG9uTW91c2VEb3duLCBkYXksIG1vZGlmaWVycyksXHJcbiAgICAgICAgICBvblRvdWNoRW5kOiBoYW5kbGVFdmVudChvblRvdWNoRW5kLCBkYXksIG1vZGlmaWVycyksXHJcbiAgICAgICAgICBvblRvdWNoU3RhcnQ6IGhhbmRsZUV2ZW50KG9uVG91Y2hTdGFydCwgZGF5LCBtb2RpZmllcnMpLFxyXG4gICAgICAgICAgb25Gb2N1czogaGFuZGxlRXZlbnQob25Gb2N1cywgZGF5LCBtb2RpZmllcnMpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjaGlsZHJlblxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1dKTtcclxuXHJcbiAgcmV0dXJuIERheTtcclxufShfcmVhY3QuQ29tcG9uZW50KTtcclxuXHJcbkRheS5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgdGFiSW5kZXg6IC0xXHJcbn07XHJcbkRheS5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgbW9kaWZpZXJzOiB7fSxcclxuICBtb2RpZmllcnNTdHlsZXM6IHt9LFxyXG4gIGVtcHR5OiBmYWxzZVxyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBEYXk7XHJcbkRheS5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XHJcbiAgY2xhc3NOYW1lczogX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XHJcbiAgICBkYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWRcclxuICB9KS5pc1JlcXVpcmVkLFxyXG5cclxuICBkYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuaW5zdGFuY2VPZihEYXRlKS5pc1JlcXVpcmVkLFxyXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGUuaXNSZXF1aXJlZCxcclxuXHJcbiAgYXJpYURpc2FibGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcbiAgYXJpYUxhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICBhcmlhU2VsZWN0ZWQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcclxuICBlbXB0eTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxyXG4gIG1vZGlmaWVyczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXHJcbiAgbW9kaWZpZXJzU3R5bGVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcclxuICBvbkNsaWNrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25LZXlEb3duOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25Nb3VzZUVudGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25Nb3VzZUxlYXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25Nb3VzZURvd246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICBvbk1vdXNlVXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICBvblRvdWNoRW5kOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25Ub3VjaFN0YXJ0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25Gb2N1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIHRhYkluZGV4OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlclxyXG59IDoge307XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURheS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICB2YWx1ZTogdHJ1ZVxyXG59KTtcclxuZXhwb3J0cy5Nb2RpZmllcnNVdGlscyA9IGV4cG9ydHMuTG9jYWxlVXRpbHMgPSBleHBvcnRzLkRhdGVVdGlscyA9IGV4cG9ydHMuRGF5UGlja2VyID0gdW5kZWZpbmVkO1xyXG5cclxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcclxuXHJcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XHJcblxyXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuXHJcbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XHJcblxyXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xyXG5cclxudmFyIF9DYXB0aW9uID0gcmVxdWlyZSgnLi9DYXB0aW9uJyk7XHJcblxyXG52YXIgX0NhcHRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FwdGlvbik7XHJcblxyXG52YXIgX05hdmJhciA9IHJlcXVpcmUoJy4vTmF2YmFyJyk7XHJcblxyXG52YXIgX05hdmJhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9OYXZiYXIpO1xyXG5cclxudmFyIF9Nb250aCA9IHJlcXVpcmUoJy4vTW9udGgnKTtcclxuXHJcbnZhciBfTW9udGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9udGgpO1xyXG5cclxudmFyIF9XZWVrZGF5ID0gcmVxdWlyZSgnLi9XZWVrZGF5Jyk7XHJcblxyXG52YXIgX1dlZWtkYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2Vla2RheSk7XHJcblxyXG52YXIgX0hlbHBlcnMgPSByZXF1aXJlKCcuL0hlbHBlcnMnKTtcclxuXHJcbnZhciBIZWxwZXJzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0hlbHBlcnMpO1xyXG5cclxudmFyIF9EYXRlVXRpbHMgPSByZXF1aXJlKCcuL0RhdGVVdGlscycpO1xyXG5cclxudmFyIERhdGVVdGlscyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9EYXRlVXRpbHMpO1xyXG5cclxudmFyIF9Mb2NhbGVVdGlscyA9IHJlcXVpcmUoJy4vTG9jYWxlVXRpbHMnKTtcclxuXHJcbnZhciBMb2NhbGVVdGlscyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9Mb2NhbGVVdGlscyk7XHJcblxyXG52YXIgX01vZGlmaWVyc1V0aWxzID0gcmVxdWlyZSgnLi9Nb2RpZmllcnNVdGlscycpO1xyXG5cclxudmFyIE1vZGlmaWVyc1V0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX01vZGlmaWVyc1V0aWxzKTtcclxuXHJcbnZhciBfY2xhc3NOYW1lcyA9IHJlcXVpcmUoJy4vY2xhc3NOYW1lcycpO1xyXG5cclxudmFyIF9jbGFzc05hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzTmFtZXMpO1xyXG5cclxudmFyIF9rZXlzID0gcmVxdWlyZSgnLi9rZXlzJyk7XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cclxuXHJcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XHJcblxyXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cclxuXHJcbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxyXG5cclxudmFyIERheVBpY2tlciA9IGV4cG9ydHMuRGF5UGlja2VyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcclxuICBfaW5oZXJpdHMoRGF5UGlja2VyLCBfQ29tcG9uZW50KTtcclxuXHJcbiAgZnVuY3Rpb24gRGF5UGlja2VyKHByb3BzKSB7XHJcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF5UGlja2VyKTtcclxuXHJcbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRGF5UGlja2VyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGF5UGlja2VyKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xyXG5cclxuICAgIF90aGlzLmRheVBpY2tlciA9IG51bGw7XHJcblxyXG4gICAgX3RoaXMuc2hvd05leHRNb250aCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICBpZiAoIV90aGlzLmFsbG93TmV4dE1vbnRoKCkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGRlbHRhTW9udGhzID0gX3RoaXMucHJvcHMucGFnZWROYXZpZ2F0aW9uID8gX3RoaXMucHJvcHMubnVtYmVyT2ZNb250aHMgOiAxO1xyXG4gICAgICB2YXIgbmV4dE1vbnRoID0gRGF0ZVV0aWxzLmFkZE1vbnRocyhfdGhpcy5zdGF0ZS5jdXJyZW50TW9udGgsIGRlbHRhTW9udGhzKTtcclxuICAgICAgX3RoaXMuc2hvd01vbnRoKG5leHRNb250aCwgY2FsbGJhY2spO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5zaG93UHJldmlvdXNNb250aCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICBpZiAoIV90aGlzLmFsbG93UHJldmlvdXNNb250aCgpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBkZWx0YU1vbnRocyA9IF90aGlzLnByb3BzLnBhZ2VkTmF2aWdhdGlvbiA/IF90aGlzLnByb3BzLm51bWJlck9mTW9udGhzIDogMTtcclxuICAgICAgdmFyIHByZXZpb3VzTW9udGggPSBEYXRlVXRpbHMuYWRkTW9udGhzKF90aGlzLnN0YXRlLmN1cnJlbnRNb250aCwgLWRlbHRhTW9udGhzKTtcclxuICAgICAgX3RoaXMuc2hvd01vbnRoKHByZXZpb3VzTW9udGgsIGNhbGxiYWNrKTtcclxuICAgIH07XHJcblxyXG4gICAgX3RoaXMuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGUucGVyc2lzdCgpO1xyXG5cclxuICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcclxuICAgICAgICBjYXNlIF9rZXlzLkxFRlQ6XHJcbiAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuZGlyID09PSAncnRsJykge1xyXG4gICAgICAgICAgICBfdGhpcy5zaG93TmV4dE1vbnRoKCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBfdGhpcy5zaG93UHJldmlvdXNNb250aCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgSGVscGVycy5jYW5jZWxFdmVudChlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgX2tleXMuUklHSFQ6XHJcbiAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuZGlyID09PSAncnRsJykge1xyXG4gICAgICAgICAgICBfdGhpcy5zaG93UHJldmlvdXNNb250aCgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgX3RoaXMuc2hvd05leHRNb250aCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgSGVscGVycy5jYW5jZWxFdmVudChlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgX2tleXMuVVA6XHJcbiAgICAgICAgICBfdGhpcy5zaG93UHJldmlvdXNZZWFyKCk7XHJcbiAgICAgICAgICBIZWxwZXJzLmNhbmNlbEV2ZW50KGUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBfa2V5cy5ET1dOOlxyXG4gICAgICAgICAgX3RoaXMuc2hvd05leHRZZWFyKCk7XHJcbiAgICAgICAgICBIZWxwZXJzLmNhbmNlbEV2ZW50KGUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25LZXlEb3duKSB7XHJcbiAgICAgICAgX3RoaXMucHJvcHMub25LZXlEb3duKGUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIF90aGlzLmhhbmRsZURheUtleURvd24gPSBmdW5jdGlvbiAoZGF5LCBtb2RpZmllcnMsIGUpIHtcclxuICAgICAgZS5wZXJzaXN0KCk7XHJcblxyXG4gICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xyXG4gICAgICAgIGNhc2UgX2tleXMuTEVGVDpcclxuICAgICAgICAgIEhlbHBlcnMuY2FuY2VsRXZlbnQoZSk7XHJcbiAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuZGlyID09PSAncnRsJykge1xyXG4gICAgICAgICAgICBfdGhpcy5mb2N1c05leHREYXkoZS50YXJnZXQpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgX3RoaXMuZm9jdXNQcmV2aW91c0RheShlLnRhcmdldCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIF9rZXlzLlJJR0hUOlxyXG4gICAgICAgICAgSGVscGVycy5jYW5jZWxFdmVudChlKTtcclxuICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5kaXIgPT09ICdydGwnKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmZvY3VzUHJldmlvdXNEYXkoZS50YXJnZXQpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgX3RoaXMuZm9jdXNOZXh0RGF5KGUudGFyZ2V0KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgX2tleXMuVVA6XHJcbiAgICAgICAgICBIZWxwZXJzLmNhbmNlbEV2ZW50KGUpO1xyXG4gICAgICAgICAgX3RoaXMuZm9jdXNQcmV2aW91c1dlZWsoZS50YXJnZXQpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBfa2V5cy5ET1dOOlxyXG4gICAgICAgICAgSGVscGVycy5jYW5jZWxFdmVudChlKTtcclxuICAgICAgICAgIF90aGlzLmZvY3VzTmV4dFdlZWsoZS50YXJnZXQpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBfa2V5cy5FTlRFUjpcclxuICAgICAgICBjYXNlIF9rZXlzLlNQQUNFOlxyXG4gICAgICAgICAgSGVscGVycy5jYW5jZWxFdmVudChlKTtcclxuICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkRheUNsaWNrKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZURheUNsaWNrKGRheSwgbW9kaWZpZXJzLCBlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25EYXlLZXlEb3duKSB7XHJcbiAgICAgICAgX3RoaXMucHJvcHMub25EYXlLZXlEb3duKGRheSwgbW9kaWZpZXJzLCBlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5oYW5kbGVEYXlDbGljayA9IGZ1bmN0aW9uIChkYXksIG1vZGlmaWVycywgZSkge1xyXG4gICAgICBlLnBlcnNpc3QoKTtcclxuXHJcbiAgICAgIGlmIChtb2RpZmllcnNbX3RoaXMucHJvcHMuY2xhc3NOYW1lcy5vdXRzaWRlXSAmJiBfdGhpcy5wcm9wcy5lbmFibGVPdXRzaWRlRGF5c0NsaWNrKSB7XHJcbiAgICAgICAgX3RoaXMuaGFuZGxlT3V0c2lkZURheUNsaWNrKGRheSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRGF5Q2xpY2spIHtcclxuICAgICAgICBfdGhpcy5wcm9wcy5vbkRheUNsaWNrKGRheSwgbW9kaWZpZXJzLCBlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5oYW5kbGVUb2RheUJ1dHRvbkNsaWNrID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgdmFyIG1vbnRoID0gbmV3IERhdGUodG9kYXkuZ2V0RnVsbFllYXIoKSwgdG9kYXkuZ2V0TW9udGgoKSk7XHJcbiAgICAgIF90aGlzLnNob3dNb250aChtb250aCk7XHJcbiAgICAgIGUudGFyZ2V0LmJsdXIoKTtcclxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uVG9kYXlCdXR0b25DbGljaykge1xyXG4gICAgICAgIGUucGVyc2lzdCgpO1xyXG4gICAgICAgIF90aGlzLnByb3BzLm9uVG9kYXlCdXR0b25DbGljayhuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCB0b2RheS5nZXREYXRlKCkpLCBNb2RpZmllcnNVdGlscy5nZXRNb2RpZmllcnNGb3JEYXkodG9kYXksIF90aGlzLnByb3BzLm1vZGlmaWVycyksIGUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBjdXJyZW50TW9udGggPSBfdGhpcy5nZXRDdXJyZW50TW9udGhGcm9tUHJvcHMocHJvcHMpO1xyXG4gICAgX3RoaXMuc3RhdGUgPSB7IGN1cnJlbnRNb250aDogY3VycmVudE1vbnRoIH07XHJcbiAgICByZXR1cm4gX3RoaXM7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlQ2xhc3MoRGF5UGlja2VyLCBbe1xyXG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XHJcbiAgICAgIC8vIENoYW5naW5nIHRoZSBgbW9udGhgIHByb3BzIG1lYW5zIGNoYW5naW5nIHRoZSBjdXJyZW50IGRpc3BsYXllZCBtb250aFxyXG4gICAgICBpZiAocHJldlByb3BzLm1vbnRoICE9PSB0aGlzLnByb3BzLm1vbnRoICYmICFEYXRlVXRpbHMuaXNTYW1lTW9udGgocHJldlByb3BzLm1vbnRoLCB0aGlzLnByb3BzLm1vbnRoKSkge1xyXG4gICAgICAgIHZhciBjdXJyZW50TW9udGggPSB0aGlzLmdldEN1cnJlbnRNb250aEZyb21Qcm9wcyh0aGlzLnByb3BzKTtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3Qvbm8tZGlkLXVwZGF0ZS1zZXQtc3RhdGVcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY3VycmVudE1vbnRoOiBjdXJyZW50TW9udGggfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0aGUgbW9udGggdG8gYmUgc2hvd24gaW4gdGhlIGNhbGVuZGFyIGJhc2VkIG9uIHRoZSBjb21wb25lbnQgcHJvcHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzXHJcbiAgICAgKiBAcmV0dXJucyBEYXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgRGF5UGlja2VyXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcblxyXG4gIH0sIHtcclxuICAgIGtleTogJ2dldEN1cnJlbnRNb250aEZyb21Qcm9wcycsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VycmVudE1vbnRoRnJvbVByb3BzKHByb3BzKSB7XHJcbiAgICAgIHZhciBpbml0aWFsTW9udGggPSBIZWxwZXJzLnN0YXJ0T2ZNb250aChwcm9wcy5tb250aCB8fCBwcm9wcy5pbml0aWFsTW9udGgpO1xyXG4gICAgICB2YXIgY3VycmVudE1vbnRoID0gaW5pdGlhbE1vbnRoO1xyXG5cclxuICAgICAgaWYgKHByb3BzLnBhZ2VkTmF2aWdhdGlvbiAmJiBwcm9wcy5udW1iZXJPZk1vbnRocyA+IDEgJiYgcHJvcHMuZnJvbU1vbnRoKSB7XHJcbiAgICAgICAgdmFyIGZyb21Nb250aCA9IEhlbHBlcnMuc3RhcnRPZk1vbnRoKHByb3BzLmZyb21Nb250aCk7XHJcbiAgICAgICAgdmFyIGRpZmZJbk1vbnRocyA9IEhlbHBlcnMuZ2V0TW9udGhzRGlmZihmcm9tTW9udGgsIGN1cnJlbnRNb250aCk7XHJcbiAgICAgICAgY3VycmVudE1vbnRoID0gRGF0ZVV0aWxzLmFkZE1vbnRocyhmcm9tTW9udGgsIE1hdGguZmxvb3IoZGlmZkluTW9udGhzIC8gcHJvcHMubnVtYmVyT2ZNb250aHMpICogcHJvcHMubnVtYmVyT2ZNb250aHMpO1xyXG4gICAgICB9IGVsc2UgaWYgKHByb3BzLnRvTW9udGggJiYgcHJvcHMubnVtYmVyT2ZNb250aHMgPiAxICYmIEhlbHBlcnMuZ2V0TW9udGhzRGlmZihjdXJyZW50TW9udGgsIHByb3BzLnRvTW9udGgpIDw9IDApIHtcclxuICAgICAgICBjdXJyZW50TW9udGggPSBEYXRlVXRpbHMuYWRkTW9udGhzKEhlbHBlcnMuc3RhcnRPZk1vbnRoKHByb3BzLnRvTW9udGgpLCAxIC0gdGhpcy5wcm9wcy5udW1iZXJPZk1vbnRocyk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGN1cnJlbnRNb250aDtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdnZXROZXh0TmF2aWdhYmxlTW9udGgnLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE5leHROYXZpZ2FibGVNb250aCgpIHtcclxuICAgICAgcmV0dXJuIERhdGVVdGlscy5hZGRNb250aHModGhpcy5zdGF0ZS5jdXJyZW50TW9udGgsIHRoaXMucHJvcHMubnVtYmVyT2ZNb250aHMpO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ2dldFByZXZpb3VzTmF2aWdhYmxlTW9udGgnLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFByZXZpb3VzTmF2aWdhYmxlTW9udGgoKSB7XHJcbiAgICAgIHJldHVybiBEYXRlVXRpbHMuYWRkTW9udGhzKHRoaXMuc3RhdGUuY3VycmVudE1vbnRoLCAtMSk7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiAnYWxsb3dQcmV2aW91c01vbnRoJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBhbGxvd1ByZXZpb3VzTW9udGgoKSB7XHJcbiAgICAgIHZhciBwcmV2aW91c01vbnRoID0gRGF0ZVV0aWxzLmFkZE1vbnRocyh0aGlzLnN0YXRlLmN1cnJlbnRNb250aCwgLTEpO1xyXG4gICAgICByZXR1cm4gdGhpcy5hbGxvd01vbnRoKHByZXZpb3VzTW9udGgpO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ2FsbG93TmV4dE1vbnRoJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBhbGxvd05leHRNb250aCgpIHtcclxuICAgICAgdmFyIG5leHRNb250aCA9IERhdGVVdGlscy5hZGRNb250aHModGhpcy5zdGF0ZS5jdXJyZW50TW9udGgsIHRoaXMucHJvcHMubnVtYmVyT2ZNb250aHMpO1xyXG4gICAgICByZXR1cm4gdGhpcy5hbGxvd01vbnRoKG5leHRNb250aCk7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiAnYWxsb3dNb250aCcsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWxsb3dNb250aChkKSB7XHJcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxyXG4gICAgICAgICAgZnJvbU1vbnRoID0gX3Byb3BzLmZyb21Nb250aCxcclxuICAgICAgICAgIHRvTW9udGggPSBfcHJvcHMudG9Nb250aCxcclxuICAgICAgICAgIGNhbkNoYW5nZU1vbnRoID0gX3Byb3BzLmNhbkNoYW5nZU1vbnRoO1xyXG5cclxuICAgICAgaWYgKCFjYW5DaGFuZ2VNb250aCB8fCBmcm9tTW9udGggJiYgSGVscGVycy5nZXRNb250aHNEaWZmKGZyb21Nb250aCwgZCkgPCAwIHx8IHRvTW9udGggJiYgSGVscGVycy5nZXRNb250aHNEaWZmKHRvTW9udGgsIGQpID4gMCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdhbGxvd1llYXJDaGFuZ2UnLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFsbG93WWVhckNoYW5nZSgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2FuQ2hhbmdlTW9udGg7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiAnc2hvd01vbnRoJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93TW9udGgoZCwgY2FsbGJhY2spIHtcclxuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAoIXRoaXMuYWxsb3dNb250aChkKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgY3VycmVudE1vbnRoOiBIZWxwZXJzLnN0YXJ0T2ZNb250aChkKSB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoX3RoaXMyLnByb3BzLm9uTW9udGhDaGFuZ2UpIHtcclxuICAgICAgICAgIF90aGlzMi5wcm9wcy5vbk1vbnRoQ2hhbmdlKF90aGlzMi5zdGF0ZS5jdXJyZW50TW9udGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiAnc2hvd05leHRZZWFyJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93TmV4dFllYXIoKSB7XHJcbiAgICAgIGlmICghdGhpcy5hbGxvd1llYXJDaGFuZ2UoKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB2YXIgbmV4dE1vbnRoID0gRGF0ZVV0aWxzLmFkZE1vbnRocyh0aGlzLnN0YXRlLmN1cnJlbnRNb250aCwgMTIpO1xyXG4gICAgICB0aGlzLnNob3dNb250aChuZXh0TW9udGgpO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ3Nob3dQcmV2aW91c1llYXInLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dQcmV2aW91c1llYXIoKSB7XHJcbiAgICAgIGlmICghdGhpcy5hbGxvd1llYXJDaGFuZ2UoKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB2YXIgbmV4dE1vbnRoID0gRGF0ZVV0aWxzLmFkZE1vbnRocyh0aGlzLnN0YXRlLmN1cnJlbnRNb250aCwgLTEyKTtcclxuICAgICAgdGhpcy5zaG93TW9udGgobmV4dE1vbnRoKTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdmb2N1c0ZpcnN0RGF5T2ZNb250aCcsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXNGaXJzdERheU9mTW9udGgoKSB7XHJcbiAgICAgIEhlbHBlcnMuZ2V0RGF5Tm9kZXModGhpcy5kYXlQaWNrZXIsIHRoaXMucHJvcHMuY2xhc3NOYW1lcylbMF0uZm9jdXMoKTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdmb2N1c0xhc3REYXlPZk1vbnRoJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb2N1c0xhc3REYXlPZk1vbnRoKCkge1xyXG4gICAgICB2YXIgZGF5Tm9kZXMgPSBIZWxwZXJzLmdldERheU5vZGVzKHRoaXMuZGF5UGlja2VyLCB0aGlzLnByb3BzLmNsYXNzTmFtZXMpO1xyXG4gICAgICBkYXlOb2Rlc1tkYXlOb2Rlcy5sZW5ndGggLSAxXS5mb2N1cygpO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ2ZvY3VzUHJldmlvdXNEYXknLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvY3VzUHJldmlvdXNEYXkoZGF5Tm9kZSkge1xyXG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcclxuXHJcbiAgICAgIHZhciBkYXlOb2RlcyA9IEhlbHBlcnMuZ2V0RGF5Tm9kZXModGhpcy5kYXlQaWNrZXIsIHRoaXMucHJvcHMuY2xhc3NOYW1lcyk7XHJcbiAgICAgIHZhciBkYXlOb2RlSW5kZXggPSBIZWxwZXJzLm5vZGVMaXN0VG9BcnJheShkYXlOb2RlcykuaW5kZXhPZihkYXlOb2RlKTtcclxuICAgICAgaWYgKGRheU5vZGVJbmRleCA9PT0gLTEpIHJldHVybjtcclxuICAgICAgaWYgKGRheU5vZGVJbmRleCA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMuc2hvd1ByZXZpb3VzTW9udGgoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIF90aGlzMy5mb2N1c0xhc3REYXlPZk1vbnRoKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF5Tm9kZXNbZGF5Tm9kZUluZGV4IC0gMV0uZm9jdXMoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ2ZvY3VzTmV4dERheScsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXNOZXh0RGF5KGRheU5vZGUpIHtcclxuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XHJcblxyXG4gICAgICB2YXIgZGF5Tm9kZXMgPSBIZWxwZXJzLmdldERheU5vZGVzKHRoaXMuZGF5UGlja2VyLCB0aGlzLnByb3BzLmNsYXNzTmFtZXMpO1xyXG4gICAgICB2YXIgZGF5Tm9kZUluZGV4ID0gSGVscGVycy5ub2RlTGlzdFRvQXJyYXkoZGF5Tm9kZXMpLmluZGV4T2YoZGF5Tm9kZSk7XHJcbiAgICAgIGlmIChkYXlOb2RlSW5kZXggPT09IC0xKSByZXR1cm47XHJcbiAgICAgIGlmIChkYXlOb2RlSW5kZXggPT09IGRheU5vZGVzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICB0aGlzLnNob3dOZXh0TW9udGgoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIF90aGlzNC5mb2N1c0ZpcnN0RGF5T2ZNb250aCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRheU5vZGVzW2RheU5vZGVJbmRleCArIDFdLmZvY3VzKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdmb2N1c05leHRXZWVrJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb2N1c05leHRXZWVrKGRheU5vZGUpIHtcclxuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XHJcblxyXG4gICAgICB2YXIgZGF5Tm9kZXMgPSBIZWxwZXJzLmdldERheU5vZGVzKHRoaXMuZGF5UGlja2VyLCB0aGlzLnByb3BzLmNsYXNzTmFtZXMpO1xyXG4gICAgICB2YXIgZGF5Tm9kZUluZGV4ID0gSGVscGVycy5ub2RlTGlzdFRvQXJyYXkoZGF5Tm9kZXMpLmluZGV4T2YoZGF5Tm9kZSk7XHJcbiAgICAgIHZhciBpc0luTGFzdFdlZWtPZk1vbnRoID0gZGF5Tm9kZUluZGV4ID4gZGF5Tm9kZXMubGVuZ3RoIC0gODtcclxuXHJcbiAgICAgIGlmIChpc0luTGFzdFdlZWtPZk1vbnRoKSB7XHJcbiAgICAgICAgdGhpcy5zaG93TmV4dE1vbnRoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhciBkYXlzQWZ0ZXJJbmRleCA9IGRheU5vZGVzLmxlbmd0aCAtIGRheU5vZGVJbmRleDtcclxuICAgICAgICAgIHZhciBuZXh0TW9udGhEYXlOb2RlSW5kZXggPSA3IC0gZGF5c0FmdGVySW5kZXg7XHJcbiAgICAgICAgICBIZWxwZXJzLmdldERheU5vZGVzKF90aGlzNS5kYXlQaWNrZXIsIF90aGlzNS5wcm9wcy5jbGFzc05hbWVzKVtuZXh0TW9udGhEYXlOb2RlSW5kZXhdLmZvY3VzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF5Tm9kZXNbZGF5Tm9kZUluZGV4ICsgN10uZm9jdXMoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ2ZvY3VzUHJldmlvdXNXZWVrJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb2N1c1ByZXZpb3VzV2VlayhkYXlOb2RlKSB7XHJcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xyXG5cclxuICAgICAgdmFyIGRheU5vZGVzID0gSGVscGVycy5nZXREYXlOb2Rlcyh0aGlzLmRheVBpY2tlciwgdGhpcy5wcm9wcy5jbGFzc05hbWVzKTtcclxuICAgICAgdmFyIGRheU5vZGVJbmRleCA9IEhlbHBlcnMubm9kZUxpc3RUb0FycmF5KGRheU5vZGVzKS5pbmRleE9mKGRheU5vZGUpO1xyXG4gICAgICB2YXIgaXNJbkZpcnN0V2Vla09mTW9udGggPSBkYXlOb2RlSW5kZXggPD0gNjtcclxuXHJcbiAgICAgIGlmIChpc0luRmlyc3RXZWVrT2ZNb250aCkge1xyXG4gICAgICAgIHRoaXMuc2hvd1ByZXZpb3VzTW9udGgoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdmFyIHByZXZpb3VzTW9udGhEYXlOb2RlcyA9IEhlbHBlcnMuZ2V0RGF5Tm9kZXMoX3RoaXM2LmRheVBpY2tlciwgX3RoaXM2LnByb3BzLmNsYXNzTmFtZXMpO1xyXG4gICAgICAgICAgdmFyIHN0YXJ0T2ZMYXN0V2Vla09mTW9udGggPSBwcmV2aW91c01vbnRoRGF5Tm9kZXMubGVuZ3RoIC0gNztcclxuICAgICAgICAgIHZhciBwcmV2aW91c01vbnRoRGF5Tm9kZUluZGV4ID0gc3RhcnRPZkxhc3RXZWVrT2ZNb250aCArIGRheU5vZGVJbmRleDtcclxuICAgICAgICAgIHByZXZpb3VzTW9udGhEYXlOb2Rlc1twcmV2aW91c01vbnRoRGF5Tm9kZUluZGV4XS5mb2N1cygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRheU5vZGVzW2RheU5vZGVJbmRleCAtIDddLmZvY3VzKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBFdmVudCBoYW5kbGVyc1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6ICdoYW5kbGVPdXRzaWRlRGF5Q2xpY2snLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZU91dHNpZGVEYXlDbGljayhkYXkpIHtcclxuICAgICAgdmFyIGN1cnJlbnRNb250aCA9IHRoaXMuc3RhdGUuY3VycmVudE1vbnRoO1xyXG4gICAgICB2YXIgbnVtYmVyT2ZNb250aHMgPSB0aGlzLnByb3BzLm51bWJlck9mTW9udGhzO1xyXG5cclxuICAgICAgdmFyIGRpZmZJbk1vbnRocyA9IEhlbHBlcnMuZ2V0TW9udGhzRGlmZihjdXJyZW50TW9udGgsIGRheSk7XHJcbiAgICAgIGlmIChkaWZmSW5Nb250aHMgPiAwICYmIGRpZmZJbk1vbnRocyA+PSBudW1iZXJPZk1vbnRocykge1xyXG4gICAgICAgIHRoaXMuc2hvd05leHRNb250aCgpO1xyXG4gICAgICB9IGVsc2UgaWYgKGRpZmZJbk1vbnRocyA8IDApIHtcclxuICAgICAgICB0aGlzLnNob3dQcmV2aW91c01vbnRoKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdyZW5kZXJOYXZiYXInLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlck5hdmJhcigpIHtcclxuICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxyXG4gICAgICAgICAgbGFiZWxzID0gX3Byb3BzMi5sYWJlbHMsXHJcbiAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMyLmxvY2FsZSxcclxuICAgICAgICAgIGxvY2FsZVV0aWxzID0gX3Byb3BzMi5sb2NhbGVVdGlscyxcclxuICAgICAgICAgIGNhbkNoYW5nZU1vbnRoID0gX3Byb3BzMi5jYW5DaGFuZ2VNb250aCxcclxuICAgICAgICAgIG5hdmJhckVsZW1lbnQgPSBfcHJvcHMyLm5hdmJhckVsZW1lbnQsXHJcbiAgICAgICAgICBhdHRyaWJ1dGVzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wczIsIFsnbGFiZWxzJywgJ2xvY2FsZScsICdsb2NhbGVVdGlscycsICdjYW5DaGFuZ2VNb250aCcsICduYXZiYXJFbGVtZW50J10pO1xyXG5cclxuICAgICAgaWYgKCFjYW5DaGFuZ2VNb250aCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICB2YXIgcHJvcHMgPSB7XHJcbiAgICAgICAgbW9udGg6IHRoaXMuc3RhdGUuY3VycmVudE1vbnRoLFxyXG4gICAgICAgIGNsYXNzTmFtZXM6IHRoaXMucHJvcHMuY2xhc3NOYW1lcyxcclxuICAgICAgICBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lcy5uYXZCYXIsXHJcbiAgICAgICAgbmV4dE1vbnRoOiB0aGlzLmdldE5leHROYXZpZ2FibGVNb250aCgpLFxyXG4gICAgICAgIHByZXZpb3VzTW9udGg6IHRoaXMuZ2V0UHJldmlvdXNOYXZpZ2FibGVNb250aCgpLFxyXG4gICAgICAgIHNob3dQcmV2aW91c0J1dHRvbjogdGhpcy5hbGxvd1ByZXZpb3VzTW9udGgoKSxcclxuICAgICAgICBzaG93TmV4dEJ1dHRvbjogdGhpcy5hbGxvd05leHRNb250aCgpLFxyXG4gICAgICAgIG9uTmV4dENsaWNrOiB0aGlzLnNob3dOZXh0TW9udGgsXHJcbiAgICAgICAgb25QcmV2aW91c0NsaWNrOiB0aGlzLnNob3dQcmV2aW91c01vbnRoLFxyXG4gICAgICAgIGRpcjogYXR0cmlidXRlcy5kaXIsXHJcbiAgICAgICAgbGFiZWxzOiBsYWJlbHMsXHJcbiAgICAgICAgbG9jYWxlOiBsb2NhbGUsXHJcbiAgICAgICAgbG9jYWxlVXRpbHM6IGxvY2FsZVV0aWxzXHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuaXNWYWxpZEVsZW1lbnQobmF2YmFyRWxlbWVudCkgPyBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KG5hdmJhckVsZW1lbnQsIHByb3BzKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KG5hdmJhckVsZW1lbnQsIHByb3BzKTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdyZW5kZXJNb250aHMnLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlck1vbnRocygpIHtcclxuICAgICAgdmFyIG1vbnRocyA9IFtdO1xyXG4gICAgICB2YXIgZmlyc3REYXlPZldlZWsgPSBIZWxwZXJzLmdldEZpcnN0RGF5T2ZXZWVrRnJvbVByb3BzKHRoaXMucHJvcHMpO1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvcHMubnVtYmVyT2ZNb250aHM7IGkgKz0gMSkge1xyXG4gICAgICAgIHZhciBtb250aCA9IERhdGVVdGlscy5hZGRNb250aHModGhpcy5zdGF0ZS5jdXJyZW50TW9udGgsIGkpO1xyXG4gICAgICAgIG1vbnRocy5wdXNoKF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Nb250aDIuZGVmYXVsdCwgX2V4dGVuZHMoe1xyXG4gICAgICAgICAga2V5OiBpXHJcbiAgICAgICAgfSwgdGhpcy5wcm9wcywge1xyXG4gICAgICAgICAgbW9udGg6IG1vbnRoLFxyXG4gICAgICAgICAgZmlyc3REYXlPZldlZWs6IGZpcnN0RGF5T2ZXZWVrLFxyXG4gICAgICAgICAgb25EYXlLZXlEb3duOiB0aGlzLmhhbmRsZURheUtleURvd24sXHJcbiAgICAgICAgICBvbkRheUNsaWNrOiB0aGlzLmhhbmRsZURheUNsaWNrXHJcbiAgICAgICAgfSkpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMucHJvcHMucmV2ZXJzZU1vbnRocykge1xyXG4gICAgICAgIG1vbnRocy5yZXZlcnNlKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG1vbnRocztcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdyZW5kZXJGb290ZXInLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckZvb3RlcigpIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMudG9kYXlCdXR0b24pIHtcclxuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgIHsgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmNsYXNzTmFtZXMuZm9vdGVyIH0sXHJcbiAgICAgICAgICB0aGlzLnJlbmRlclRvZGF5QnV0dG9uKClcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ3JlbmRlclRvZGF5QnV0dG9uJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJUb2RheUJ1dHRvbigpIHtcclxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxyXG4gICAgICAgICdidXR0b24nLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxyXG4gICAgICAgICAgdGFiSW5kZXg6IDAsXHJcbiAgICAgICAgICBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lcy50b2RheUJ1dHRvbixcclxuICAgICAgICAgICdhcmlhLWxhYmVsJzogdGhpcy5wcm9wcy50b2RheUJ1dHRvbixcclxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlVG9kYXlCdXR0b25DbGlja1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGhpcy5wcm9wcy50b2RheUJ1dHRvblxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogJ3JlbmRlcicsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgICB2YXIgX3RoaXM3ID0gdGhpcztcclxuXHJcbiAgICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZXMuY29udGFpbmVyO1xyXG5cclxuICAgICAgaWYgKCF0aGlzLnByb3BzLm9uRGF5Q2xpY2spIHtcclxuICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUgKyAnICcgKyB0aGlzLnByb3BzLmNsYXNzTmFtZXMuaW50ZXJhY3Rpb25EaXNhYmxlZDtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5wcm9wcy5jbGFzc05hbWUpIHtcclxuICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUgKyAnICcgKyB0aGlzLnByb3BzLmNsYXNzTmFtZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuY29udGFpbmVyUHJvcHMsIHtcclxuICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxyXG4gICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoZWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzNy5kYXlQaWNrZXIgPSBlbDtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBsYW5nOiB0aGlzLnByb3BzLmxvY2FsZVxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxyXG4gICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5jbGFzc05hbWVzLndyYXBwZXIsXHJcbiAgICAgICAgICAgIHRhYkluZGV4OiB0aGlzLnByb3BzLmNhbkNoYW5nZU1vbnRoICYmIHR5cGVvZiB0aGlzLnByb3BzLnRhYkluZGV4ICE9PSAndW5kZWZpbmVkJyA/IHRoaXMucHJvcHMudGFiSW5kZXggOiAtMSxcclxuICAgICAgICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24sXHJcbiAgICAgICAgICAgIG9uRm9jdXM6IHRoaXMucHJvcHMub25Gb2N1cyxcclxuICAgICAgICAgICAgb25CbHVyOiB0aGlzLnByb3BzLm9uQmx1clxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHRoaXMucmVuZGVyTmF2YmFyKCksXHJcbiAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmNsYXNzTmFtZXMubW9udGhzIH0sXHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyTW9udGhzKClcclxuICAgICAgICAgICksXHJcbiAgICAgICAgICB0aGlzLnJlbmRlckZvb3RlcigpXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1dKTtcclxuXHJcbiAgcmV0dXJuIERheVBpY2tlcjtcclxufShfcmVhY3QuQ29tcG9uZW50KTtcclxuXHJcbkRheVBpY2tlci5WRVJTSU9OID0gJzcuMy4wJztcclxuRGF5UGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcclxuICBjbGFzc05hbWVzOiBfY2xhc3NOYW1lczIuZGVmYXVsdCxcclxuICB0YWJJbmRleDogMCxcclxuICBpbml0aWFsTW9udGg6IG5ldyBEYXRlKCksXHJcbiAgbnVtYmVyT2ZNb250aHM6IDEsXHJcbiAgbGFiZWxzOiB7XHJcbiAgICBwcmV2aW91c01vbnRoOiAnUHJldmlvdXMgTW9udGgnLFxyXG4gICAgbmV4dE1vbnRoOiAnTmV4dCBNb250aCdcclxuICB9LFxyXG4gIGxvY2FsZTogJ2VuJyxcclxuICBsb2NhbGVVdGlsczogTG9jYWxlVXRpbHMsXHJcbiAgc2hvd091dHNpZGVEYXlzOiBmYWxzZSxcclxuICBlbmFibGVPdXRzaWRlRGF5c0NsaWNrOiB0cnVlLFxyXG4gIGZpeGVkV2Vla3M6IGZhbHNlLFxyXG4gIGNhbkNoYW5nZU1vbnRoOiB0cnVlLFxyXG4gIHJldmVyc2VNb250aHM6IGZhbHNlLFxyXG4gIHBhZ2VkTmF2aWdhdGlvbjogZmFsc2UsXHJcbiAgc2hvd1dlZWtOdW1iZXJzOiBmYWxzZSxcclxuICBzaG93V2Vla0RheXM6IHRydWUsXHJcbiAgcmVuZGVyRGF5OiBmdW5jdGlvbiByZW5kZXJEYXkoZGF5KSB7XHJcbiAgICByZXR1cm4gZGF5LmdldERhdGUoKTtcclxuICB9LFxyXG4gIHJlbmRlcldlZWs6IGZ1bmN0aW9uIHJlbmRlcldlZWsod2Vla051bWJlcikge1xyXG4gICAgcmV0dXJuIHdlZWtOdW1iZXI7XHJcbiAgfSxcclxuICB3ZWVrZGF5RWxlbWVudDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1dlZWtkYXkyLmRlZmF1bHQsIG51bGwpLFxyXG4gIG5hdmJhckVsZW1lbnQ6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9OYXZiYXIyLmRlZmF1bHQsIHsgY2xhc3NOYW1lczogX2NsYXNzTmFtZXMyLmRlZmF1bHQgfSksXHJcbiAgY2FwdGlvbkVsZW1lbnQ6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9DYXB0aW9uMi5kZWZhdWx0LCB7IGNsYXNzTmFtZXM6IF9jbGFzc05hbWVzMi5kZWZhdWx0IH0pXHJcbn07XHJcbkRheVBpY2tlci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XHJcbiAgLy8gUmVuZGVyaW5nIG1vbnRoc1xyXG4gIGluaXRpYWxNb250aDogX3Byb3BUeXBlczIuZGVmYXVsdC5pbnN0YW5jZU9mKERhdGUpLFxyXG4gIG1vbnRoOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lmluc3RhbmNlT2YoRGF0ZSksXHJcbiAgbnVtYmVyT2ZNb250aHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxyXG4gIGZyb21Nb250aDogX3Byb3BUeXBlczIuZGVmYXVsdC5pbnN0YW5jZU9mKERhdGUpLFxyXG4gIHRvTW9udGg6IF9wcm9wVHlwZXMyLmRlZmF1bHQuaW5zdGFuY2VPZihEYXRlKSxcclxuICBjYW5DaGFuZ2VNb250aDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxyXG4gIHJldmVyc2VNb250aHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcclxuICBwYWdlZE5hdmlnYXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcclxuICB0b2RheUJ1dHRvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgc2hvd1dlZWtOdW1iZXJzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcbiAgc2hvd1dlZWtEYXlzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcblxyXG4gIC8vIE1vZGlmaWVyc1xyXG4gIHNlbGVjdGVkRGF5czogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LCBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsIF9wcm9wVHlwZXMyLmRlZmF1bHQuYXJyYXldKSxcclxuICBkaXNhYmxlZERheXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCwgX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLCBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5XSksXHJcblxyXG4gIG1vZGlmaWVyczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXHJcbiAgbW9kaWZpZXJzU3R5bGVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcclxuXHJcbiAgLy8gTG9jYWxpemF0aW9uXHJcbiAgZGlyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICBmaXJzdERheU9mV2VlazogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZihbMCwgMSwgMiwgMywgNCwgNSwgNl0pLFxyXG4gIGxhYmVsczogX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XHJcbiAgICBuZXh0TW9udGg6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICBwcmV2aW91c01vbnRoOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkXHJcbiAgfSksXHJcbiAgbG9jYWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICBsb2NhbGVVdGlsczogX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XHJcbiAgICBmb3JtYXRNb250aFRpdGxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgICBmb3JtYXRXZWVrZGF5U2hvcnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICAgIGZvcm1hdFdlZWtkYXlMb25nOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgICBnZXRGaXJzdERheU9mV2VlazogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jXHJcbiAgfSksXHJcbiAgbW9udGhzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5T2YoX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcpLFxyXG4gIHdlZWtkYXlzTG9uZzogX3Byb3BUeXBlczIuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nKSxcclxuICB3ZWVrZGF5c1Nob3J0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5T2YoX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcpLFxyXG5cclxuICAvLyBDdXN0b21pemF0aW9uXHJcbiAgc2hvd091dHNpZGVEYXlzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcbiAgZW5hYmxlT3V0c2lkZURheXNDbGljazogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxyXG4gIGZpeGVkV2Vla3M6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcclxuXHJcbiAgLy8gQ1NTIGFuZCBIVE1MXHJcbiAgY2xhc3NOYW1lczogX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XHJcbiAgICBib2R5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICAgIGNvbnRhaW5lcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgICBkYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICBkaXNhYmxlZDogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICAgIGZvb3RlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgICBpbnRlcmFjdGlvbkRpc2FibGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICAgIG1vbnRoczogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgICBtb250aDogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgICBuYXZCYXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxyXG4gICAgb3V0c2lkZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICAgIHNlbGVjdGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gICAgdG9kYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICB0b2RheUJ1dHRvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgICB3ZWVrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICAgIHdyYXBwZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nXHJcbiAgfSksXHJcbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICBjb250YWluZXJQcm9wczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXHJcbiAgdGFiSW5kZXg6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxyXG5cclxuICAvLyBDdXN0b20gZWxlbWVudHNcclxuICByZW5kZXJEYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICByZW5kZXJXZWVrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgd2Vla2RheUVsZW1lbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0LmVsZW1lbnQsIF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYywgX3Byb3BUeXBlczIuZGVmYXVsdC5pbnN0YW5jZU9mKF9yZWFjdC5Db21wb25lbnQpXSksXHJcbiAgbmF2YmFyRWxlbWVudDogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMyLmRlZmF1bHQuZWxlbWVudCwgX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLCBfcHJvcFR5cGVzMi5kZWZhdWx0Lmluc3RhbmNlT2YoX3JlYWN0LkNvbXBvbmVudCldKSxcclxuICBjYXB0aW9uRWxlbWVudDogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMyLmRlZmF1bHQuZWxlbWVudCwgX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLCBfcHJvcFR5cGVzMi5kZWZhdWx0Lmluc3RhbmNlT2YoX3JlYWN0LkNvbXBvbmVudCldKSxcclxuXHJcbiAgLy8gRXZlbnRzXHJcbiAgb25CbHVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25Gb2N1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uS2V5RG93bjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uRGF5Q2xpY2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICBvbkRheUtleURvd246IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICBvbkRheU1vdXNlRW50ZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICBvbkRheU1vdXNlTGVhdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICBvbkRheU1vdXNlRG93bjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uRGF5TW91c2VVcDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uRGF5VG91Y2hTdGFydDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uRGF5VG91Y2hFbmQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICBvbkRheUZvY3VzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25Nb250aENoYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uQ2FwdGlvbkNsaWNrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25XZWVrQ2xpY2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICBvblRvZGF5QnV0dG9uQ2xpY2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xyXG59IDoge307XHJcblxyXG5cclxuRGF5UGlja2VyLkRhdGVVdGlscyA9IERhdGVVdGlscztcclxuRGF5UGlja2VyLkxvY2FsZVV0aWxzID0gTG9jYWxlVXRpbHM7XHJcbkRheVBpY2tlci5Nb2RpZmllcnNVdGlscyA9IE1vZGlmaWVyc1V0aWxzO1xyXG5cclxuZXhwb3J0cy5EYXRlVXRpbHMgPSBEYXRlVXRpbHM7XHJcbmV4cG9ydHMuTG9jYWxlVXRpbHMgPSBMb2NhbGVVdGlscztcclxuZXhwb3J0cy5Nb2RpZmllcnNVdGlscyA9IE1vZGlmaWVyc1V0aWxzO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBEYXlQaWNrZXI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURheVBpY2tlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICB2YWx1ZTogdHJ1ZVxyXG59KTtcclxuXHJcbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XHJcblxyXG5leHBvcnRzLmNhbmNlbEV2ZW50ID0gY2FuY2VsRXZlbnQ7XHJcbmV4cG9ydHMuZ2V0Rmlyc3REYXlPZk1vbnRoID0gZ2V0Rmlyc3REYXlPZk1vbnRoO1xyXG5leHBvcnRzLmdldERheXNJbk1vbnRoID0gZ2V0RGF5c0luTW9udGg7XHJcbmV4cG9ydHMuZ2V0TW9kaWZpZXJzRnJvbVByb3BzID0gZ2V0TW9kaWZpZXJzRnJvbVByb3BzO1xyXG5leHBvcnRzLmdldEZpcnN0RGF5T2ZXZWVrRnJvbVByb3BzID0gZ2V0Rmlyc3REYXlPZldlZWtGcm9tUHJvcHM7XHJcbmV4cG9ydHMuaXNSYW5nZU9mRGF0ZXMgPSBpc1JhbmdlT2ZEYXRlcztcclxuZXhwb3J0cy5nZXRNb250aHNEaWZmID0gZ2V0TW9udGhzRGlmZjtcclxuZXhwb3J0cy5nZXRXZWVrQXJyYXkgPSBnZXRXZWVrQXJyYXk7XHJcbmV4cG9ydHMuc3RhcnRPZk1vbnRoID0gc3RhcnRPZk1vbnRoO1xyXG5leHBvcnRzLmdldERheU5vZGVzID0gZ2V0RGF5Tm9kZXM7XHJcbmV4cG9ydHMubm9kZUxpc3RUb0FycmF5ID0gbm9kZUxpc3RUb0FycmF5O1xyXG5leHBvcnRzLmhhc093blByb3AgPSBoYXNPd25Qcm9wO1xyXG5cclxudmFyIF9EYXRlVXRpbHMgPSByZXF1aXJlKCcuL0RhdGVVdGlscycpO1xyXG5cclxudmFyIF9Mb2NhbGVVdGlscyA9IHJlcXVpcmUoJy4vTG9jYWxlVXRpbHMnKTtcclxuXHJcbnZhciBfY2xhc3NOYW1lcyA9IHJlcXVpcmUoJy4vY2xhc3NOYW1lcycpO1xyXG5cclxudmFyIF9jbGFzc05hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzTmFtZXMpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmZ1bmN0aW9uIGNhbmNlbEV2ZW50KGUpIHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Rmlyc3REYXlPZk1vbnRoKGQpIHtcclxuICByZXR1cm4gbmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLCBkLmdldE1vbnRoKCksIDEsIDEyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RGF5c0luTW9udGgoZCkge1xyXG4gIHZhciByZXN1bHREYXRlID0gZ2V0Rmlyc3REYXlPZk1vbnRoKGQpO1xyXG5cclxuICByZXN1bHREYXRlLnNldE1vbnRoKHJlc3VsdERhdGUuZ2V0TW9udGgoKSArIDEpO1xyXG4gIHJlc3VsdERhdGUuc2V0RGF0ZShyZXN1bHREYXRlLmdldERhdGUoKSAtIDEpO1xyXG5cclxuICByZXR1cm4gcmVzdWx0RGF0ZS5nZXREYXRlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE1vZGlmaWVyc0Zyb21Qcm9wcyhwcm9wcykge1xyXG4gIHZhciBtb2RpZmllcnMgPSBfZXh0ZW5kcyh7fSwgcHJvcHMubW9kaWZpZXJzKTtcclxuICBpZiAocHJvcHMuc2VsZWN0ZWREYXlzKSB7XHJcbiAgICBtb2RpZmllcnNbcHJvcHMuY2xhc3NOYW1lcy5zZWxlY3RlZF0gPSBwcm9wcy5zZWxlY3RlZERheXM7XHJcbiAgfVxyXG4gIGlmIChwcm9wcy5kaXNhYmxlZERheXMpIHtcclxuICAgIG1vZGlmaWVyc1twcm9wcy5jbGFzc05hbWVzLmRpc2FibGVkXSA9IHByb3BzLmRpc2FibGVkRGF5cztcclxuICB9XHJcbiAgcmV0dXJuIG1vZGlmaWVycztcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Rmlyc3REYXlPZldlZWtGcm9tUHJvcHMocHJvcHMpIHtcclxuICB2YXIgZmlyc3REYXlPZldlZWsgPSBwcm9wcy5maXJzdERheU9mV2VlayxcclxuICAgICAgX3Byb3BzJGxvY2FsZSA9IHByb3BzLmxvY2FsZSxcclxuICAgICAgbG9jYWxlID0gX3Byb3BzJGxvY2FsZSA9PT0gdW5kZWZpbmVkID8gJ2VuJyA6IF9wcm9wcyRsb2NhbGUsXHJcbiAgICAgIF9wcm9wcyRsb2NhbGVVdGlscyA9IHByb3BzLmxvY2FsZVV0aWxzLFxyXG4gICAgICBsb2NhbGVVdGlscyA9IF9wcm9wcyRsb2NhbGVVdGlscyA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMkbG9jYWxlVXRpbHM7XHJcblxyXG4gIGlmICghaXNOYU4oZmlyc3REYXlPZldlZWspKSB7XHJcbiAgICByZXR1cm4gZmlyc3REYXlPZldlZWs7XHJcbiAgfVxyXG4gIGlmIChsb2NhbGVVdGlscy5nZXRGaXJzdERheU9mV2Vlaykge1xyXG4gICAgcmV0dXJuIGxvY2FsZVV0aWxzLmdldEZpcnN0RGF5T2ZXZWVrKGxvY2FsZSk7XHJcbiAgfVxyXG4gIHJldHVybiAwO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1JhbmdlT2ZEYXRlcyh2YWx1ZSkge1xyXG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS5mcm9tICYmIHZhbHVlLnRvKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TW9udGhzRGlmZihkMSwgZDIpIHtcclxuICByZXR1cm4gZDIuZ2V0TW9udGgoKSAtIGQxLmdldE1vbnRoKCkgKyAxMiAqIChkMi5nZXRGdWxsWWVhcigpIC0gZDEuZ2V0RnVsbFllYXIoKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFdlZWtBcnJheShkKSB7XHJcbiAgdmFyIGZpcnN0RGF5T2ZXZWVrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAoMCwgX0xvY2FsZVV0aWxzLmdldEZpcnN0RGF5T2ZXZWVrKSgpO1xyXG4gIHZhciBmaXhlZFdlZWtzID0gYXJndW1lbnRzWzJdO1xyXG5cclxuICB2YXIgZGF5c0luTW9udGggPSBnZXREYXlzSW5Nb250aChkKTtcclxuICB2YXIgZGF5QXJyYXkgPSBbXTtcclxuXHJcbiAgdmFyIHdlZWsgPSBbXTtcclxuICB2YXIgd2Vla0FycmF5ID0gW107XHJcblxyXG4gIGZvciAodmFyIGkgPSAxOyBpIDw9IGRheXNJbk1vbnRoOyBpICs9IDEpIHtcclxuICAgIGRheUFycmF5LnB1c2gobmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLCBkLmdldE1vbnRoKCksIGksIDEyKSk7XHJcbiAgfVxyXG5cclxuICBkYXlBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChkYXkpIHtcclxuICAgIGlmICh3ZWVrLmxlbmd0aCA+IDAgJiYgZGF5LmdldERheSgpID09PSBmaXJzdERheU9mV2Vlaykge1xyXG4gICAgICB3ZWVrQXJyYXkucHVzaCh3ZWVrKTtcclxuICAgICAgd2VlayA9IFtdO1xyXG4gICAgfVxyXG4gICAgd2Vlay5wdXNoKGRheSk7XHJcbiAgICBpZiAoZGF5QXJyYXkuaW5kZXhPZihkYXkpID09PSBkYXlBcnJheS5sZW5ndGggLSAxKSB7XHJcbiAgICAgIHdlZWtBcnJheS5wdXNoKHdlZWspO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyB1bnNoaWZ0IGRheXMgdG8gc3RhcnQgdGhlIGZpcnN0IHdlZWtcclxuICB2YXIgZmlyc3RXZWVrID0gd2Vla0FycmF5WzBdO1xyXG4gIGZvciAodmFyIF9pID0gNyAtIGZpcnN0V2Vlay5sZW5ndGg7IF9pID4gMDsgX2kgLT0gMSkge1xyXG4gICAgdmFyIG91dHNpZGVEYXRlID0gKDAsIF9EYXRlVXRpbHMuY2xvbmUpKGZpcnN0V2Vla1swXSk7XHJcbiAgICBvdXRzaWRlRGF0ZS5zZXREYXRlKGZpcnN0V2Vla1swXS5nZXREYXRlKCkgLSAxKTtcclxuICAgIGZpcnN0V2Vlay51bnNoaWZ0KG91dHNpZGVEYXRlKTtcclxuICB9XHJcblxyXG4gIC8vIHB1c2ggZGF5cyB1bnRpbCB0aGUgZW5kIG9mIHRoZSBsYXN0IHdlZWtcclxuICB2YXIgbGFzdFdlZWsgPSB3ZWVrQXJyYXlbd2Vla0FycmF5Lmxlbmd0aCAtIDFdO1xyXG4gIGZvciAodmFyIF9pMiA9IGxhc3RXZWVrLmxlbmd0aDsgX2kyIDwgNzsgX2kyICs9IDEpIHtcclxuICAgIHZhciBfb3V0c2lkZURhdGUgPSAoMCwgX0RhdGVVdGlscy5jbG9uZSkobGFzdFdlZWtbbGFzdFdlZWsubGVuZ3RoIC0gMV0pO1xyXG4gICAgX291dHNpZGVEYXRlLnNldERhdGUobGFzdFdlZWtbbGFzdFdlZWsubGVuZ3RoIC0gMV0uZ2V0RGF0ZSgpICsgMSk7XHJcbiAgICBsYXN0V2Vlay5wdXNoKF9vdXRzaWRlRGF0ZSk7XHJcbiAgfVxyXG5cclxuICAvLyBhZGQgZXh0cmEgd2Vla3MgdG8gcmVhY2ggNiB3ZWVrc1xyXG4gIGlmIChmaXhlZFdlZWtzICYmIHdlZWtBcnJheS5sZW5ndGggPCA2KSB7XHJcbiAgICB2YXIgbGFzdEV4dHJhV2VlayA9IHZvaWQgMDtcclxuXHJcbiAgICBmb3IgKHZhciBfaTMgPSB3ZWVrQXJyYXkubGVuZ3RoOyBfaTMgPCA2OyBfaTMgKz0gMSkge1xyXG4gICAgICBsYXN0RXh0cmFXZWVrID0gd2Vla0FycmF5W3dlZWtBcnJheS5sZW5ndGggLSAxXTtcclxuICAgICAgdmFyIGxhc3REYXkgPSBsYXN0RXh0cmFXZWVrW2xhc3RFeHRyYVdlZWsubGVuZ3RoIC0gMV07XHJcbiAgICAgIHZhciBleHRyYVdlZWsgPSBbXTtcclxuXHJcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNzsgaiArPSAxKSB7XHJcbiAgICAgICAgdmFyIF9vdXRzaWRlRGF0ZTIgPSAoMCwgX0RhdGVVdGlscy5jbG9uZSkobGFzdERheSk7XHJcbiAgICAgICAgX291dHNpZGVEYXRlMi5zZXREYXRlKGxhc3REYXkuZ2V0RGF0ZSgpICsgaiArIDEpO1xyXG4gICAgICAgIGV4dHJhV2Vlay5wdXNoKF9vdXRzaWRlRGF0ZTIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB3ZWVrQXJyYXkucHVzaChleHRyYVdlZWspO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHdlZWtBcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RhcnRPZk1vbnRoKGQpIHtcclxuICB2YXIgbmV3RGF0ZSA9ICgwLCBfRGF0ZVV0aWxzLmNsb25lKShkKTtcclxuICBuZXdEYXRlLnNldERhdGUoMSk7XHJcbiAgbmV3RGF0ZS5zZXRIb3VycygxMiwgMCwgMCwgMCk7IC8vIGFsd2F5cyBzZXQgbm9vbiB0byBhdm9pZCB0aW1lIHpvbmUgaXNzdWVzXHJcbiAgcmV0dXJuIG5ld0RhdGU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERheU5vZGVzKG5vZGUsIGNsYXNzTmFtZXMpIHtcclxuICB2YXIgb3V0c2lkZUNsYXNzTmFtZSA9IHZvaWQgMDtcclxuICBpZiAoY2xhc3NOYW1lcyA9PT0gX2NsYXNzTmFtZXMyLmRlZmF1bHQpIHtcclxuICAgIC8vIFdoZW4gdXNpbmcgQ1NTIG1vZHVsZXMgcHJlZml4IHRoZSBtb2RpZmllciBhcyByZXF1aXJlZCBieSB0aGUgQkVNIHN5bnRheFxyXG4gICAgb3V0c2lkZUNsYXNzTmFtZSA9IGNsYXNzTmFtZXMuZGF5ICsgJy0tJyArIGNsYXNzTmFtZXMub3V0c2lkZTtcclxuICB9IGVsc2Uge1xyXG4gICAgb3V0c2lkZUNsYXNzTmFtZSA9ICcnICsgY2xhc3NOYW1lcy5vdXRzaWRlO1xyXG4gIH1cclxuICB2YXIgZGF5UXVlcnkgPSBjbGFzc05hbWVzLmRheS5yZXBsYWNlKC8gL2csICcuJyk7XHJcbiAgdmFyIG91dHNpZGVEYXlRdWVyeSA9IG91dHNpZGVDbGFzc05hbWUucmVwbGFjZSgvIC9nLCAnLicpO1xyXG4gIHZhciBzZWxlY3RvciA9ICcuJyArIGRheVF1ZXJ5ICsgJzpub3QoLicgKyBvdXRzaWRlRGF5UXVlcnkgKyAnKSc7XHJcbiAgcmV0dXJuIG5vZGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5vZGVMaXN0VG9BcnJheShub2RlTGlzdCkge1xyXG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChub2RlTGlzdCwgMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhc093blByb3Aob2JqLCBwcm9wKSB7XHJcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhlbHBlcnMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XHJcbiAgdmFsdWU6IHRydWVcclxufSk7XHJcbmV4cG9ydHMuZm9ybWF0RGF5ID0gZm9ybWF0RGF5O1xyXG5leHBvcnRzLmZvcm1hdE1vbnRoVGl0bGUgPSBmb3JtYXRNb250aFRpdGxlO1xyXG5leHBvcnRzLmZvcm1hdFdlZWtkYXlTaG9ydCA9IGZvcm1hdFdlZWtkYXlTaG9ydDtcclxuZXhwb3J0cy5mb3JtYXRXZWVrZGF5TG9uZyA9IGZvcm1hdFdlZWtkYXlMb25nO1xyXG5leHBvcnRzLmdldEZpcnN0RGF5T2ZXZWVrID0gZ2V0Rmlyc3REYXlPZldlZWs7XHJcbmV4cG9ydHMuZ2V0TW9udGhzID0gZ2V0TW9udGhzO1xyXG52YXIgV0VFS0RBWVNfTE9ORyA9IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXTtcclxuXHJcbnZhciBXRUVLREFZU19TSE9SVCA9IFsnU3UnLCAnTW8nLCAnVHUnLCAnV2UnLCAnVGgnLCAnRnInLCAnU2EnXTtcclxuXHJcbnZhciBNT05USFMgPSBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXTtcclxuXHJcbmZ1bmN0aW9uIGZvcm1hdERheShkYXkpIHtcclxuICByZXR1cm4gZGF5LnRvRGF0ZVN0cmluZygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmb3JtYXRNb250aFRpdGxlKGQpIHtcclxuICByZXR1cm4gTU9OVEhTW2QuZ2V0TW9udGgoKV0gKyAnICcgKyBkLmdldEZ1bGxZZWFyKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdFdlZWtkYXlTaG9ydChpKSB7XHJcbiAgcmV0dXJuIFdFRUtEQVlTX1NIT1JUW2ldO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmb3JtYXRXZWVrZGF5TG9uZyhpKSB7XHJcbiAgcmV0dXJuIFdFRUtEQVlTX0xPTkdbaV07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEZpcnN0RGF5T2ZXZWVrKCkge1xyXG4gIHJldHVybiAwO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRNb250aHMoKSB7XHJcbiAgcmV0dXJuIE1PTlRIUztcclxufVxyXG5cclxuZXhwb3J0cy5kZWZhdWx0ID0ge1xyXG4gIGZvcm1hdERheTogZm9ybWF0RGF5LFxyXG4gIGZvcm1hdE1vbnRoVGl0bGU6IGZvcm1hdE1vbnRoVGl0bGUsXHJcbiAgZm9ybWF0V2Vla2RheVNob3J0OiBmb3JtYXRXZWVrZGF5U2hvcnQsXHJcbiAgZm9ybWF0V2Vla2RheUxvbmc6IGZvcm1hdFdlZWtkYXlMb25nLFxyXG4gIGdldEZpcnN0RGF5T2ZXZWVrOiBnZXRGaXJzdERheU9mV2VlayxcclxuICBnZXRNb250aHM6IGdldE1vbnRoc1xyXG59O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Mb2NhbGVVdGlscy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICB2YWx1ZTogdHJ1ZVxyXG59KTtcclxuZXhwb3J0cy5kYXlNYXRjaGVzTW9kaWZpZXIgPSBkYXlNYXRjaGVzTW9kaWZpZXI7XHJcbmV4cG9ydHMuZ2V0TW9kaWZpZXJzRm9yRGF5ID0gZ2V0TW9kaWZpZXJzRm9yRGF5O1xyXG5cclxudmFyIF9EYXRlVXRpbHMgPSByZXF1aXJlKCcuL0RhdGVVdGlscycpO1xyXG5cclxudmFyIF9IZWxwZXJzID0gcmVxdWlyZSgnLi9IZWxwZXJzJyk7XHJcblxyXG4vKipcclxuICogUmV0dXJuIGB0cnVlYCBpZiBhIGRhdGUgbWF0Y2hlcyB0aGUgc3BlY2lmaWVkIG1vZGlmaWVyLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBwYXJhbSB7RGF0ZX0gZGF5XHJcbiAqIEBwYXJhbSB7QW55fSBtb2RpZmllclxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gZGF5TWF0Y2hlc01vZGlmaWVyKGRheSwgbW9kaWZpZXIpIHtcclxuICBpZiAoIW1vZGlmaWVyKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIHZhciBhcnIgPSBBcnJheS5pc0FycmF5KG1vZGlmaWVyKSA/IG1vZGlmaWVyIDogW21vZGlmaWVyXTtcclxuICByZXR1cm4gYXJyLnNvbWUoZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgaWYgKCFtb2QpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vZCBpbnN0YW5jZW9mIERhdGUpIHtcclxuICAgICAgcmV0dXJuICgwLCBfRGF0ZVV0aWxzLmlzU2FtZURheSkoZGF5LCBtb2QpO1xyXG4gICAgfVxyXG4gICAgaWYgKCgwLCBfSGVscGVycy5pc1JhbmdlT2ZEYXRlcykobW9kKSkge1xyXG4gICAgICByZXR1cm4gKDAsIF9EYXRlVXRpbHMuaXNEYXlJblJhbmdlKShkYXksIG1vZCk7XHJcbiAgICB9XHJcbiAgICBpZiAobW9kLmFmdGVyICYmIG1vZC5iZWZvcmUgJiYgKDAsIF9EYXRlVXRpbHMuaXNEYXlBZnRlcikobW9kLmJlZm9yZSwgbW9kLmFmdGVyKSkge1xyXG4gICAgICByZXR1cm4gKDAsIF9EYXRlVXRpbHMuaXNEYXlBZnRlcikoZGF5LCBtb2QuYWZ0ZXIpICYmICgwLCBfRGF0ZVV0aWxzLmlzRGF5QmVmb3JlKShkYXksIG1vZC5iZWZvcmUpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vZC5hZnRlciAmJiBtb2QuYmVmb3JlICYmICgoMCwgX0RhdGVVdGlscy5pc0RheUFmdGVyKShtb2QuYWZ0ZXIsIG1vZC5iZWZvcmUpIHx8ICgwLCBfRGF0ZVV0aWxzLmlzU2FtZURheSkobW9kLmFmdGVyLCBtb2QuYmVmb3JlKSkpIHtcclxuICAgICAgcmV0dXJuICgwLCBfRGF0ZVV0aWxzLmlzRGF5QWZ0ZXIpKGRheSwgbW9kLmFmdGVyKSB8fCAoMCwgX0RhdGVVdGlscy5pc0RheUJlZm9yZSkoZGF5LCBtb2QuYmVmb3JlKTtcclxuICAgIH1cclxuICAgIGlmIChtb2QuYWZ0ZXIpIHtcclxuICAgICAgcmV0dXJuICgwLCBfRGF0ZVV0aWxzLmlzRGF5QWZ0ZXIpKGRheSwgbW9kLmFmdGVyKTtcclxuICAgIH1cclxuICAgIGlmIChtb2QuYmVmb3JlKSB7XHJcbiAgICAgIHJldHVybiAoMCwgX0RhdGVVdGlscy5pc0RheUJlZm9yZSkoZGF5LCBtb2QuYmVmb3JlKTtcclxuICAgIH1cclxuICAgIGlmIChtb2QuZGF5c09mV2Vlaykge1xyXG4gICAgICByZXR1cm4gbW9kLmRheXNPZldlZWsuc29tZShmdW5jdGlvbiAoZGF5T2ZXZWVrKSB7XHJcbiAgICAgICAgcmV0dXJuIGRheS5nZXREYXkoKSA9PT0gZGF5T2ZXZWVrO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgbW9kID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHJldHVybiBtb2QoZGF5KTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybiB0aGUgbW9kaWZpZXJzIG1hdGNoaW5nIHRoZSBnaXZlbiBkYXkgZm9yIHRoZSBnaXZlblxyXG4gKiBvYmplY3Qgb2YgbW9kaWZpZXJzLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBwYXJhbSB7RGF0ZX0gZGF5XHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbbW9kaWZpZXJzT2JqPXt9XVxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICovXHJcbmZ1bmN0aW9uIGdldE1vZGlmaWVyc0ZvckRheShkYXkpIHtcclxuICB2YXIgbW9kaWZpZXJzT2JqID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcclxuXHJcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG1vZGlmaWVyc09iaikucmVkdWNlKGZ1bmN0aW9uIChtb2RpZmllcnMsIG1vZGlmaWVyTmFtZSkge1xyXG4gICAgdmFyIHZhbHVlID0gbW9kaWZpZXJzT2JqW21vZGlmaWVyTmFtZV07XHJcbiAgICBpZiAoZGF5TWF0Y2hlc01vZGlmaWVyKGRheSwgdmFsdWUpKSB7XHJcbiAgICAgIG1vZGlmaWVycy5wdXNoKG1vZGlmaWVyTmFtZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbW9kaWZpZXJzO1xyXG4gIH0sIFtdKTtcclxufVxyXG5cclxuZXhwb3J0cy5kZWZhdWx0ID0geyBkYXlNYXRjaGVzTW9kaWZpZXI6IGRheU1hdGNoZXNNb2RpZmllciwgZ2V0TW9kaWZpZXJzRm9yRGF5OiBnZXRNb2RpZmllcnNGb3JEYXkgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kaWZpZXJzVXRpbHMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XHJcbiAgdmFsdWU6IHRydWVcclxufSk7XHJcblxyXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xyXG5cclxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcblxyXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcclxuXHJcbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcclxuXHJcbnZhciBfV2Vla2RheXMgPSByZXF1aXJlKCcuL1dlZWtkYXlzJyk7XHJcblxyXG52YXIgX1dlZWtkYXlzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlZWtkYXlzKTtcclxuXHJcbnZhciBfRGF5ID0gcmVxdWlyZSgnLi9EYXknKTtcclxuXHJcbnZhciBfRGF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RheSk7XHJcblxyXG52YXIgX2tleXMgPSByZXF1aXJlKCcuL2tleXMnKTtcclxuXHJcbnZhciBfTW9kaWZpZXJzVXRpbHMgPSByZXF1aXJlKCcuL01vZGlmaWVyc1V0aWxzJyk7XHJcblxyXG52YXIgTW9kaWZpZXJzVXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfTW9kaWZpZXJzVXRpbHMpO1xyXG5cclxudmFyIF9IZWxwZXJzID0gcmVxdWlyZSgnLi9IZWxwZXJzJyk7XHJcblxyXG52YXIgSGVscGVycyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9IZWxwZXJzKTtcclxuXHJcbnZhciBfRGF0ZVV0aWxzID0gcmVxdWlyZSgnLi9EYXRlVXRpbHMnKTtcclxuXHJcbnZhciBEYXRlVXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfRGF0ZVV0aWxzKTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxyXG5cclxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cclxuXHJcbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxyXG5cclxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XHJcblxyXG52YXIgTW9udGggPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xyXG4gIF9pbmhlcml0cyhNb250aCwgX0NvbXBvbmVudCk7XHJcblxyXG4gIGZ1bmN0aW9uIE1vbnRoKCkge1xyXG4gICAgdmFyIF9yZWY7XHJcblxyXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcclxuXHJcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTW9udGgpO1xyXG5cclxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XHJcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX3JlZiA9IE1vbnRoLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTW9udGgpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5yZW5kZXJEYXkgPSBmdW5jdGlvbiAoZGF5KSB7XHJcbiAgICAgIHZhciBtb250aE51bWJlciA9IF90aGlzLnByb3BzLm1vbnRoLmdldE1vbnRoKCk7XHJcbiAgICAgIHZhciBwcm9wTW9kaWZpZXJzID0gSGVscGVycy5nZXRNb2RpZmllcnNGcm9tUHJvcHMoX3RoaXMucHJvcHMpO1xyXG4gICAgICB2YXIgZGF5TW9kaWZpZXJzID0gTW9kaWZpZXJzVXRpbHMuZ2V0TW9kaWZpZXJzRm9yRGF5KGRheSwgcHJvcE1vZGlmaWVycyk7XHJcbiAgICAgIGlmIChEYXRlVXRpbHMuaXNTYW1lRGF5KGRheSwgbmV3IERhdGUoKSkgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wTW9kaWZpZXJzLCBfdGhpcy5wcm9wcy5jbGFzc05hbWVzLnRvZGF5KSkge1xyXG4gICAgICAgIGRheU1vZGlmaWVycy5wdXNoKF90aGlzLnByb3BzLmNsYXNzTmFtZXMudG9kYXkpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChkYXkuZ2V0TW9udGgoKSAhPT0gbW9udGhOdW1iZXIpIHtcclxuICAgICAgICBkYXlNb2RpZmllcnMucHVzaChfdGhpcy5wcm9wcy5jbGFzc05hbWVzLm91dHNpZGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgaXNPdXRzaWRlID0gZGF5LmdldE1vbnRoKCkgIT09IG1vbnRoTnVtYmVyO1xyXG4gICAgICB2YXIgdGFiSW5kZXggPSAtMTtcclxuICAgICAgLy8gRm9jdXMgb24gdGhlIGZpcnN0IGRheSBvZiB0aGUgbW9udGhcclxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uRGF5Q2xpY2sgJiYgIWlzT3V0c2lkZSAmJiBkYXkuZ2V0RGF0ZSgpID09PSAxKSB7XHJcbiAgICAgICAgdGFiSW5kZXggPSBfdGhpcy5wcm9wcy50YWJJbmRleDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBrZXkgPSAnJyArIGRheS5nZXRGdWxsWWVhcigpICsgZGF5LmdldE1vbnRoKCkgKyBkYXkuZ2V0RGF0ZSgpO1xyXG4gICAgICB2YXIgbW9kaWZpZXJzID0ge307XHJcbiAgICAgIGRheU1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllcikge1xyXG4gICAgICAgIG1vZGlmaWVyc1ttb2RpZmllcl0gPSB0cnVlO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICBfRGF5Mi5kZWZhdWx0LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGtleTogJycgKyAoaXNPdXRzaWRlID8gJ291dHNpZGUtJyA6ICcnKSArIGtleSxcclxuICAgICAgICAgIGNsYXNzTmFtZXM6IF90aGlzLnByb3BzLmNsYXNzTmFtZXMsXHJcbiAgICAgICAgICBkYXk6IGRheSxcclxuICAgICAgICAgIG1vZGlmaWVyczogbW9kaWZpZXJzLFxyXG4gICAgICAgICAgbW9kaWZpZXJzU3R5bGVzOiBfdGhpcy5wcm9wcy5tb2RpZmllcnNTdHlsZXMsXHJcbiAgICAgICAgICBlbXB0eTogaXNPdXRzaWRlICYmICFfdGhpcy5wcm9wcy5zaG93T3V0c2lkZURheXMgJiYgIV90aGlzLnByb3BzLmZpeGVkV2Vla3MsXHJcbiAgICAgICAgICB0YWJJbmRleDogdGFiSW5kZXgsXHJcbiAgICAgICAgICBhcmlhTGFiZWw6IF90aGlzLnByb3BzLmxvY2FsZVV0aWxzLmZvcm1hdERheShkYXksIF90aGlzLnByb3BzLmxvY2FsZSksXHJcbiAgICAgICAgICBhcmlhRGlzYWJsZWQ6IGlzT3V0c2lkZSB8fCBkYXlNb2RpZmllcnMuaW5kZXhPZignZGlzYWJsZWQnKSA+IC0xLFxyXG4gICAgICAgICAgYXJpYVNlbGVjdGVkOiBkYXlNb2RpZmllcnMuaW5kZXhPZignc2VsZWN0ZWQnKSA+IC0xLFxyXG4gICAgICAgICAgb25DbGljazogX3RoaXMucHJvcHMub25EYXlDbGljayxcclxuICAgICAgICAgIG9uRm9jdXM6IF90aGlzLnByb3BzLm9uRGF5Rm9jdXMsXHJcbiAgICAgICAgICBvbktleURvd246IF90aGlzLnByb3BzLm9uRGF5S2V5RG93bixcclxuICAgICAgICAgIG9uTW91c2VFbnRlcjogX3RoaXMucHJvcHMub25EYXlNb3VzZUVudGVyLFxyXG4gICAgICAgICAgb25Nb3VzZUxlYXZlOiBfdGhpcy5wcm9wcy5vbkRheU1vdXNlTGVhdmUsXHJcbiAgICAgICAgICBvbk1vdXNlRG93bjogX3RoaXMucHJvcHMub25EYXlNb3VzZURvd24sXHJcbiAgICAgICAgICBvbk1vdXNlVXA6IF90aGlzLnByb3BzLm9uRGF5TW91c2VVcCxcclxuICAgICAgICAgIG9uVG91Y2hFbmQ6IF90aGlzLnByb3BzLm9uRGF5VG91Y2hFbmQsXHJcbiAgICAgICAgICBvblRvdWNoU3RhcnQ6IF90aGlzLnByb3BzLm9uRGF5VG91Y2hTdGFydFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX3RoaXMucHJvcHMucmVuZGVyRGF5KGRheSwgbW9kaWZpZXJzKVxyXG4gICAgICApO1xyXG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlQ2xhc3MoTW9udGgsIFt7XHJcbiAgICBrZXk6ICdyZW5kZXInLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XHJcblxyXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcclxuICAgICAgICAgIGNsYXNzTmFtZXMgPSBfcHJvcHMuY2xhc3NOYW1lcyxcclxuICAgICAgICAgIG1vbnRoID0gX3Byb3BzLm1vbnRoLFxyXG4gICAgICAgICAgbW9udGhzID0gX3Byb3BzLm1vbnRocyxcclxuICAgICAgICAgIGZpeGVkV2Vla3MgPSBfcHJvcHMuZml4ZWRXZWVrcyxcclxuICAgICAgICAgIGNhcHRpb25FbGVtZW50ID0gX3Byb3BzLmNhcHRpb25FbGVtZW50LFxyXG4gICAgICAgICAgd2Vla2RheUVsZW1lbnQgPSBfcHJvcHMud2Vla2RheUVsZW1lbnQsXHJcbiAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxyXG4gICAgICAgICAgbG9jYWxlVXRpbHMgPSBfcHJvcHMubG9jYWxlVXRpbHMsXHJcbiAgICAgICAgICB3ZWVrZGF5c0xvbmcgPSBfcHJvcHMud2Vla2RheXNMb25nLFxyXG4gICAgICAgICAgd2Vla2RheXNTaG9ydCA9IF9wcm9wcy53ZWVrZGF5c1Nob3J0LFxyXG4gICAgICAgICAgZmlyc3REYXlPZldlZWsgPSBfcHJvcHMuZmlyc3REYXlPZldlZWssXHJcbiAgICAgICAgICBvbkNhcHRpb25DbGljayA9IF9wcm9wcy5vbkNhcHRpb25DbGljayxcclxuICAgICAgICAgIHNob3dXZWVrTnVtYmVycyA9IF9wcm9wcy5zaG93V2Vla051bWJlcnMsXHJcbiAgICAgICAgICBzaG93V2Vla0RheXMgPSBfcHJvcHMuc2hvd1dlZWtEYXlzLFxyXG4gICAgICAgICAgb25XZWVrQ2xpY2sgPSBfcHJvcHMub25XZWVrQ2xpY2s7XHJcblxyXG5cclxuICAgICAgdmFyIGNhcHRpb25Qcm9wcyA9IHtcclxuICAgICAgICBkYXRlOiBtb250aCxcclxuICAgICAgICBjbGFzc05hbWVzOiBjbGFzc05hbWVzLFxyXG4gICAgICAgIG1vbnRoczogbW9udGhzLFxyXG4gICAgICAgIGxvY2FsZVV0aWxzOiBsb2NhbGVVdGlscyxcclxuICAgICAgICBsb2NhbGU6IGxvY2FsZSxcclxuICAgICAgICBvbkNsaWNrOiBvbkNhcHRpb25DbGljayA/IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICByZXR1cm4gb25DYXB0aW9uQ2xpY2sobW9udGgsIGUpO1xyXG4gICAgICAgIH0gOiB1bmRlZmluZWRcclxuICAgICAgfTtcclxuICAgICAgdmFyIGNhcHRpb24gPSBfcmVhY3QyLmRlZmF1bHQuaXNWYWxpZEVsZW1lbnQoY2FwdGlvbkVsZW1lbnQpID8gX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudChjYXB0aW9uRWxlbWVudCwgY2FwdGlvblByb3BzKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGNhcHRpb25FbGVtZW50LCBjYXB0aW9uUHJvcHMpO1xyXG5cclxuICAgICAgdmFyIHdlZWtzID0gSGVscGVycy5nZXRXZWVrQXJyYXkobW9udGgsIGZpcnN0RGF5T2ZXZWVrLCBmaXhlZFdlZWtzKTtcclxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxyXG4gICAgICAgICdkaXYnLFxyXG4gICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzLm1vbnRoLCByb2xlOiAnZ3JpZCcgfSxcclxuICAgICAgICBjYXB0aW9uLFxyXG4gICAgICAgIHNob3dXZWVrRGF5cyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfV2Vla2RheXMyLmRlZmF1bHQsIHtcclxuICAgICAgICAgIGNsYXNzTmFtZXM6IGNsYXNzTmFtZXMsXHJcbiAgICAgICAgICB3ZWVrZGF5c1Nob3J0OiB3ZWVrZGF5c1Nob3J0LFxyXG4gICAgICAgICAgd2Vla2RheXNMb25nOiB3ZWVrZGF5c0xvbmcsXHJcbiAgICAgICAgICBmaXJzdERheU9mV2VlazogZmlyc3REYXlPZldlZWssXHJcbiAgICAgICAgICBzaG93V2Vla051bWJlcnM6IHNob3dXZWVrTnVtYmVycyxcclxuICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxyXG4gICAgICAgICAgbG9jYWxlVXRpbHM6IGxvY2FsZVV0aWxzLFxyXG4gICAgICAgICAgd2Vla2RheUVsZW1lbnQ6IHdlZWtkYXlFbGVtZW50XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzLmJvZHksIHJvbGU6ICdyb3dncm91cCcgfSxcclxuICAgICAgICAgIHdlZWtzLm1hcChmdW5jdGlvbiAod2Vlaykge1xyXG4gICAgICAgICAgICB2YXIgd2Vla051bWJlciA9IHZvaWQgMDtcclxuICAgICAgICAgICAgaWYgKHNob3dXZWVrTnVtYmVycykge1xyXG4gICAgICAgICAgICAgIHdlZWtOdW1iZXIgPSBEYXRlVXRpbHMuZ2V0V2Vla051bWJlcih3ZWVrWzZdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAga2V5OiB3ZWVrWzBdLmdldFRpbWUoKSxcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcy53ZWVrLFxyXG4gICAgICAgICAgICAgICAgcm9sZTogJ3JvdydcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHNob3dXZWVrTnVtYmVycyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMud2Vla051bWJlcixcclxuICAgICAgICAgICAgICAgICAgdGFiSW5kZXg6IG9uV2Vla0NsaWNrID8gMCA6IC0xLFxyXG4gICAgICAgICAgICAgICAgICByb2xlOiAnZ3JpZGNlbGwnLFxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrOiBvbldlZWtDbGljayA/IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uV2Vla0NsaWNrKHdlZWtOdW1iZXIsIHdlZWssIGUpO1xyXG4gICAgICAgICAgICAgICAgICB9IDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICBvbktleVVwOiBvbldlZWtDbGljayA/IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUua2V5Q29kZSA9PT0gX2tleXMuRU5URVIgJiYgb25XZWVrQ2xpY2sod2Vla051bWJlciwgd2VlaywgZSk7XHJcbiAgICAgICAgICAgICAgICAgIH0gOiB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMucmVuZGVyV2Vlayh3ZWVrTnVtYmVyLCB3ZWVrLCBtb250aClcclxuICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIHdlZWsubWFwKF90aGlzMi5yZW5kZXJEYXkpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XSk7XHJcblxyXG4gIHJldHVybiBNb250aDtcclxufShfcmVhY3QuQ29tcG9uZW50KTtcclxuXHJcbmV4cG9ydHMuZGVmYXVsdCA9IE1vbnRoO1xyXG5Nb250aC5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XHJcbiAgY2xhc3NOYW1lczogX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XHJcbiAgICBib2R5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gICAgbW9udGg6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICBvdXRzaWRlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gICAgdG9kYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICB3ZWVrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkXHJcbiAgfSkuaXNSZXF1aXJlZCxcclxuICB0YWJJbmRleDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXHJcblxyXG4gIG1vbnRoOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lmluc3RhbmNlT2YoRGF0ZSkuaXNSZXF1aXJlZCxcclxuICBtb250aHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYXJyYXlPZihfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyksXHJcblxyXG4gIG1vZGlmaWVyc1N0eWxlczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXHJcblxyXG4gIHNob3dXZWVrRGF5czogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxyXG4gIHNob3dPdXRzaWRlRGF5czogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxyXG5cclxuICByZW5kZXJEYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxyXG4gIHJlbmRlcldlZWs6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxyXG5cclxuICBjYXB0aW9uRWxlbWVudDogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMyLmRlZmF1bHQuZWxlbWVudCwgX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLCBfcHJvcFR5cGVzMi5kZWZhdWx0Lmluc3RhbmNlT2YoX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCldKS5pc1JlcXVpcmVkLFxyXG4gIHdlZWtkYXlFbGVtZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlczIuZGVmYXVsdC5lbGVtZW50LCBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsIF9wcm9wVHlwZXMyLmRlZmF1bHQuaW5zdGFuY2VPZihfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KV0pLFxyXG5cclxuICBmaXhlZFdlZWtzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcbiAgc2hvd1dlZWtOdW1iZXJzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcblxyXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBsb2NhbGVVdGlsczogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcclxuICB3ZWVrZGF5c0xvbmc6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYXJyYXlPZihfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyksXHJcbiAgd2Vla2RheXNTaG9ydDogX3Byb3BUeXBlczIuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nKSxcclxuICBmaXJzdERheU9mV2VlazogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIuaXNSZXF1aXJlZCxcclxuXHJcbiAgb25DYXB0aW9uQ2xpY2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICBvbkRheUNsaWNrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25EYXlGb2N1czogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uRGF5S2V5RG93bjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uRGF5TW91c2VFbnRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uRGF5TW91c2VMZWF2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uRGF5TW91c2VEb3duOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25EYXlNb3VzZVVwOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25EYXlUb3VjaEVuZDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uRGF5VG91Y2hTdGFydDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uV2Vla0NsaWNrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcclxufSA6IHt9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb250aC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICB2YWx1ZTogdHJ1ZVxyXG59KTtcclxuXHJcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XHJcblxyXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuXHJcbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XHJcblxyXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xyXG5cclxudmFyIF9jbGFzc05hbWVzID0gcmVxdWlyZSgnLi9jbGFzc05hbWVzJyk7XHJcblxyXG52YXIgX2NsYXNzTmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NOYW1lcyk7XHJcblxyXG52YXIgX2tleXMgPSByZXF1aXJlKCcuL2tleXMnKTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxyXG5cclxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XHJcblxyXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cclxuXHJcbnZhciBOYXZiYXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xyXG4gIF9pbmhlcml0cyhOYXZiYXIsIF9Db21wb25lbnQpO1xyXG5cclxuICBmdW5jdGlvbiBOYXZiYXIoKSB7XHJcbiAgICB2YXIgX3JlZjtcclxuXHJcbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xyXG5cclxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOYXZiYXIpO1xyXG5cclxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XHJcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX3JlZiA9IE5hdmJhci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE5hdmJhcikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZU5leHRDbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uTmV4dENsaWNrKSB7XHJcbiAgICAgICAgX3RoaXMucHJvcHMub25OZXh0Q2xpY2soKTtcclxuICAgICAgfVxyXG4gICAgfSwgX3RoaXMuaGFuZGxlUHJldmlvdXNDbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uUHJldmlvdXNDbGljaykge1xyXG4gICAgICAgIF90aGlzLnByb3BzLm9uUHJldmlvdXNDbGljaygpO1xyXG4gICAgICB9XHJcbiAgICB9LCBfdGhpcy5oYW5kbGVOZXh0S2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGlmIChlLmtleUNvZGUgIT09IF9rZXlzLkVOVEVSICYmIGUua2V5Q29kZSAhPT0gX2tleXMuU1BBQ0UpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBfdGhpcy5oYW5kbGVOZXh0Q2xpY2soKTtcclxuICAgIH0sIF90aGlzLmhhbmRsZVByZXZpb3VzS2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGlmIChlLmtleUNvZGUgIT09IF9rZXlzLkVOVEVSICYmIGUua2V5Q29kZSAhPT0gX2tleXMuU1BBQ0UpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBfdGhpcy5oYW5kbGVQcmV2aW91c0NsaWNrKCk7XHJcbiAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcclxuICB9XHJcblxyXG4gIF9jcmVhdGVDbGFzcyhOYXZiYXIsIFt7XHJcbiAgICBrZXk6ICdzaG91bGRDb21wb25lbnRVcGRhdGUnLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcclxuICAgICAgcmV0dXJuIG5leHRQcm9wcy5sYWJlbHMgIT09IHRoaXMucHJvcHMubGFiZWxzIHx8IG5leHRQcm9wcy5kaXIgIT09IHRoaXMucHJvcHMuZGlyIHx8IHRoaXMucHJvcHMuc2hvd1ByZXZpb3VzQnV0dG9uICE9PSBuZXh0UHJvcHMuc2hvd1ByZXZpb3VzQnV0dG9uIHx8IHRoaXMucHJvcHMuc2hvd05leHRCdXR0b24gIT09IG5leHRQcm9wcy5zaG93TmV4dEJ1dHRvbjtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdyZW5kZXInLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXHJcbiAgICAgICAgICBjbGFzc05hbWVzID0gX3Byb3BzLmNsYXNzTmFtZXMsXHJcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxyXG4gICAgICAgICAgc2hvd1ByZXZpb3VzQnV0dG9uID0gX3Byb3BzLnNob3dQcmV2aW91c0J1dHRvbixcclxuICAgICAgICAgIHNob3dOZXh0QnV0dG9uID0gX3Byb3BzLnNob3dOZXh0QnV0dG9uLFxyXG4gICAgICAgICAgbGFiZWxzID0gX3Byb3BzLmxhYmVscyxcclxuICAgICAgICAgIGRpciA9IF9wcm9wcy5kaXI7XHJcblxyXG5cclxuICAgICAgdmFyIHByZXZpb3VzQ2xpY2tIYW5kbGVyID0gdm9pZCAwO1xyXG4gICAgICB2YXIgbmV4dENsaWNrSGFuZGxlciA9IHZvaWQgMDtcclxuICAgICAgdmFyIHByZXZpb3VzS2V5RG93bkhhbmRsZXIgPSB2b2lkIDA7XHJcbiAgICAgIHZhciBuZXh0S2V5RG93bkhhbmRsZXIgPSB2b2lkIDA7XHJcbiAgICAgIHZhciBzaG91bGRTaG93UHJldmlvdXMgPSB2b2lkIDA7XHJcbiAgICAgIHZhciBzaG91bGRTaG93TmV4dCA9IHZvaWQgMDtcclxuXHJcbiAgICAgIGlmIChkaXIgPT09ICdydGwnKSB7XHJcbiAgICAgICAgcHJldmlvdXNDbGlja0hhbmRsZXIgPSB0aGlzLmhhbmRsZU5leHRDbGljaztcclxuICAgICAgICBuZXh0Q2xpY2tIYW5kbGVyID0gdGhpcy5oYW5kbGVQcmV2aW91c0NsaWNrO1xyXG4gICAgICAgIHByZXZpb3VzS2V5RG93bkhhbmRsZXIgPSB0aGlzLmhhbmRsZU5leHRLZXlEb3duO1xyXG4gICAgICAgIG5leHRLZXlEb3duSGFuZGxlciA9IHRoaXMuaGFuZGxlUHJldmlvdXNLZXlEb3duO1xyXG4gICAgICAgIHNob3VsZFNob3dOZXh0ID0gc2hvd1ByZXZpb3VzQnV0dG9uO1xyXG4gICAgICAgIHNob3VsZFNob3dQcmV2aW91cyA9IHNob3dOZXh0QnV0dG9uO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHByZXZpb3VzQ2xpY2tIYW5kbGVyID0gdGhpcy5oYW5kbGVQcmV2aW91c0NsaWNrO1xyXG4gICAgICAgIG5leHRDbGlja0hhbmRsZXIgPSB0aGlzLmhhbmRsZU5leHRDbGljaztcclxuICAgICAgICBwcmV2aW91c0tleURvd25IYW5kbGVyID0gdGhpcy5oYW5kbGVQcmV2aW91c0tleURvd247XHJcbiAgICAgICAgbmV4dEtleURvd25IYW5kbGVyID0gdGhpcy5oYW5kbGVOZXh0S2V5RG93bjtcclxuICAgICAgICBzaG91bGRTaG93TmV4dCA9IHNob3dOZXh0QnV0dG9uO1xyXG4gICAgICAgIHNob3VsZFNob3dQcmV2aW91cyA9IHNob3dQcmV2aW91c0J1dHRvbjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHByZXZpb3VzQ2xhc3NOYW1lID0gc2hvdWxkU2hvd1ByZXZpb3VzID8gY2xhc3NOYW1lcy5uYXZCdXR0b25QcmV2IDogY2xhc3NOYW1lcy5uYXZCdXR0b25QcmV2ICsgJyAnICsgY2xhc3NOYW1lcy5uYXZCdXR0b25JbnRlcmFjdGlvbkRpc2FibGVkO1xyXG5cclxuICAgICAgdmFyIG5leHRDbGFzc05hbWUgPSBzaG91bGRTaG93TmV4dCA/IGNsYXNzTmFtZXMubmF2QnV0dG9uTmV4dCA6IGNsYXNzTmFtZXMubmF2QnV0dG9uTmV4dCArICcgJyArIGNsYXNzTmFtZXMubmF2QnV0dG9uSW50ZXJhY3Rpb25EaXNhYmxlZDtcclxuXHJcbiAgICAgIHZhciBwcmV2aW91c0J1dHRvbiA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdzcGFuJywge1xyXG4gICAgICAgIHRhYkluZGV4OiAnMCcsXHJcbiAgICAgICAgcm9sZTogJ2J1dHRvbicsXHJcbiAgICAgICAgJ2FyaWEtbGFiZWwnOiBsYWJlbHMucHJldmlvdXNNb250aCxcclxuICAgICAgICBrZXk6ICdwcmV2aW91cycsXHJcbiAgICAgICAgY2xhc3NOYW1lOiBwcmV2aW91c0NsYXNzTmFtZSxcclxuICAgICAgICBvbktleURvd246IHNob3VsZFNob3dQcmV2aW91cyA/IHByZXZpb3VzS2V5RG93bkhhbmRsZXIgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgb25DbGljazogc2hvdWxkU2hvd1ByZXZpb3VzID8gcHJldmlvdXNDbGlja0hhbmRsZXIgOiB1bmRlZmluZWRcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB2YXIgbmV4dEJ1dHRvbiA9IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdzcGFuJywge1xyXG4gICAgICAgIHRhYkluZGV4OiAnMCcsXHJcbiAgICAgICAgcm9sZTogJ2J1dHRvbicsXHJcbiAgICAgICAgJ2FyaWEtbGFiZWwnOiBsYWJlbHMubmV4dE1vbnRoLFxyXG4gICAgICAgIGtleTogJ3JpZ2h0JyxcclxuICAgICAgICBjbGFzc05hbWU6IG5leHRDbGFzc05hbWUsXHJcbiAgICAgICAgb25LZXlEb3duOiBzaG91bGRTaG93TmV4dCA/IG5leHRLZXlEb3duSGFuZGxlciA6IHVuZGVmaW5lZCxcclxuICAgICAgICBvbkNsaWNrOiBzaG91bGRTaG93TmV4dCA/IG5leHRDbGlja0hhbmRsZXIgOiB1bmRlZmluZWRcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSB8fCBjbGFzc05hbWVzLm5hdkJhciB9LFxyXG4gICAgICAgIGRpciA9PT0gJ3J0bCcgPyBbbmV4dEJ1dHRvbiwgcHJldmlvdXNCdXR0b25dIDogW3ByZXZpb3VzQnV0dG9uLCBuZXh0QnV0dG9uXVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1dKTtcclxuXHJcbiAgcmV0dXJuIE5hdmJhcjtcclxufShfcmVhY3QuQ29tcG9uZW50KTtcclxuXHJcbk5hdmJhci5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgY2xhc3NOYW1lczogX2NsYXNzTmFtZXMyLmRlZmF1bHQsXHJcbiAgZGlyOiAnbHRyJyxcclxuICBsYWJlbHM6IHtcclxuICAgIHByZXZpb3VzTW9udGg6ICdQcmV2aW91cyBNb250aCcsXHJcbiAgICBuZXh0TW9udGg6ICdOZXh0IE1vbnRoJ1xyXG4gIH0sXHJcbiAgc2hvd1ByZXZpb3VzQnV0dG9uOiB0cnVlLFxyXG4gIHNob3dOZXh0QnV0dG9uOiB0cnVlXHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IE5hdmJhcjtcclxuTmF2YmFyLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcclxuICBjbGFzc05hbWVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnNoYXBlKHtcclxuICAgIG5hdkJhcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICAgIG5hdkJ1dHRvblByZXY6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICBuYXZCdXR0b25OZXh0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkXHJcbiAgfSksXHJcbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICBzaG93UHJldmlvdXNCdXR0b246IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcclxuICBzaG93TmV4dEJ1dHRvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxyXG4gIG9uUHJldmlvdXNDbGljazogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uTmV4dENsaWNrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgZGlyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICBsYWJlbHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xyXG4gICAgcHJldmlvdXNNb250aDogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICAgIG5leHRNb250aDogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZFxyXG4gIH0pXHJcbn0gOiB7fTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TmF2YmFyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xyXG4gIHZhbHVlOiB0cnVlXHJcbn0pO1xyXG5leHBvcnRzLk1vZGlmaWVyUHJvcFR5cGUgPSB1bmRlZmluZWQ7XHJcblxyXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcclxuXHJcbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxyXG5cclxudmFyIFByaW1pdGl2ZVR5cGVzID0ge1xyXG4gIGxvY2FsZVV0aWxzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnNoYXBlKHtcclxuICAgIGZvcm1hdE1vbnRoVGl0bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICAgIGZvcm1hdFdlZWtkYXlTaG9ydDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gICAgZm9ybWF0V2Vla2RheUxvbmc6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICAgIGdldEZpcnN0RGF5T2ZXZWVrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcclxuICB9KSxcclxuICByYW5nZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XHJcbiAgICBmcm9tOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lmluc3RhbmNlT2YoRGF0ZSksXHJcbiAgICB0bzogX3Byb3BUeXBlczIuZGVmYXVsdC5pbnN0YW5jZU9mKERhdGUpXHJcbiAgfSksXHJcbiAgYWZ0ZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xyXG4gICAgYWZ0ZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuaW5zdGFuY2VPZihEYXRlKVxyXG4gIH0pLFxyXG4gIGJlZm9yZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XHJcbiAgICBiZWZvcmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuaW5zdGFuY2VPZihEYXRlKVxyXG4gIH0pXHJcbn07XHJcblxyXG52YXIgTW9kaWZpZXJQcm9wVHlwZSA9IGV4cG9ydHMuTW9kaWZpZXJQcm9wVHlwZSA9IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtQcmltaXRpdmVUeXBlcy5hZnRlciwgUHJpbWl0aXZlVHlwZXMuYmVmb3JlLCBQcmltaXRpdmVUeXBlcy5yYW5nZSwgX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLCBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5XSk7XHJcblxyXG5leHBvcnRzLmRlZmF1bHQgPSBQcmltaXRpdmVUeXBlcztcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJvcFR5cGVzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xyXG4gIHZhbHVlOiB0cnVlXHJcbn0pO1xyXG5cclxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcclxuXHJcbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5cclxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XHJcblxyXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcclxuXHJcbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxyXG5cclxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cclxuXHJcbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxyXG5cclxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XHJcblxyXG52YXIgV2Vla2RheSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XHJcbiAgX2luaGVyaXRzKFdlZWtkYXksIF9Db21wb25lbnQpO1xyXG5cclxuICBmdW5jdGlvbiBXZWVrZGF5KCkge1xyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlZWtkYXkpO1xyXG5cclxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoV2Vla2RheS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFdlZWtkYXkpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcclxuICB9XHJcblxyXG4gIF9jcmVhdGVDbGFzcyhXZWVrZGF5LCBbe1xyXG4gICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnByb3BzICE9PSBuZXh0UHJvcHM7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiAncmVuZGVyJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxyXG4gICAgICAgICAgd2Vla2RheSA9IF9wcm9wcy53ZWVrZGF5LFxyXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcclxuICAgICAgICAgIHdlZWtkYXlzTG9uZyA9IF9wcm9wcy53ZWVrZGF5c0xvbmcsXHJcbiAgICAgICAgICB3ZWVrZGF5c1Nob3J0ID0gX3Byb3BzLndlZWtkYXlzU2hvcnQsXHJcbiAgICAgICAgICBsb2NhbGVVdGlscyA9IF9wcm9wcy5sb2NhbGVVdGlscyxcclxuICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGU7XHJcblxyXG4gICAgICB2YXIgdGl0bGUgPSB2b2lkIDA7XHJcbiAgICAgIGlmICh3ZWVrZGF5c0xvbmcpIHtcclxuICAgICAgICB0aXRsZSA9IHdlZWtkYXlzTG9uZ1t3ZWVrZGF5XTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aXRsZSA9IGxvY2FsZVV0aWxzLmZvcm1hdFdlZWtkYXlMb25nKHdlZWtkYXksIGxvY2FsZSk7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGNvbnRlbnQgPSB2b2lkIDA7XHJcbiAgICAgIGlmICh3ZWVrZGF5c1Nob3J0KSB7XHJcbiAgICAgICAgY29udGVudCA9IHdlZWtkYXlzU2hvcnRbd2Vla2RheV07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29udGVudCA9IGxvY2FsZVV0aWxzLmZvcm1hdFdlZWtkYXlTaG9ydCh3ZWVrZGF5LCBsb2NhbGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgcm9sZTogJ2NvbHVtbmhlYWRlcicgfSxcclxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICdhYmJyJyxcclxuICAgICAgICAgIHsgdGl0bGU6IHRpdGxlIH0sXHJcbiAgICAgICAgICBjb250ZW50XHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1dKTtcclxuXHJcbiAgcmV0dXJuIFdlZWtkYXk7XHJcbn0oX3JlYWN0LkNvbXBvbmVudCk7XHJcblxyXG5leHBvcnRzLmRlZmF1bHQgPSBXZWVrZGF5O1xyXG5XZWVrZGF5LnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcclxuICB3ZWVrZGF5OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcclxuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxyXG4gIGxvY2FsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgbG9jYWxlVXRpbHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxyXG5cclxuICB3ZWVrZGF5c0xvbmc6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYXJyYXlPZihfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyksXHJcbiAgd2Vla2RheXNTaG9ydDogX3Byb3BUeXBlczIuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nKVxyXG59IDoge307XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlZWtkYXkuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XHJcbiAgdmFsdWU6IHRydWVcclxufSk7XHJcblxyXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xyXG5cclxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcblxyXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcclxuXHJcbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxyXG5cclxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XHJcblxyXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cclxuXHJcbnZhciBXZWVrZGF5cyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XHJcbiAgX2luaGVyaXRzKFdlZWtkYXlzLCBfQ29tcG9uZW50KTtcclxuXHJcbiAgZnVuY3Rpb24gV2Vla2RheXMoKSB7XHJcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2Vla2RheXMpO1xyXG5cclxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoV2Vla2RheXMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihXZWVrZGF5cykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUNsYXNzKFdlZWtkYXlzLCBbe1xyXG4gICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnByb3BzICE9PSBuZXh0UHJvcHM7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiAncmVuZGVyJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxyXG4gICAgICAgICAgY2xhc3NOYW1lcyA9IF9wcm9wcy5jbGFzc05hbWVzLFxyXG4gICAgICAgICAgZmlyc3REYXlPZldlZWsgPSBfcHJvcHMuZmlyc3REYXlPZldlZWssXHJcbiAgICAgICAgICBzaG93V2Vla051bWJlcnMgPSBfcHJvcHMuc2hvd1dlZWtOdW1iZXJzLFxyXG4gICAgICAgICAgd2Vla2RheXNMb25nID0gX3Byb3BzLndlZWtkYXlzTG9uZyxcclxuICAgICAgICAgIHdlZWtkYXlzU2hvcnQgPSBfcHJvcHMud2Vla2RheXNTaG9ydCxcclxuICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXHJcbiAgICAgICAgICBsb2NhbGVVdGlscyA9IF9wcm9wcy5sb2NhbGVVdGlscyxcclxuICAgICAgICAgIHdlZWtkYXlFbGVtZW50ID0gX3Byb3BzLndlZWtkYXlFbGVtZW50O1xyXG5cclxuICAgICAgdmFyIGRheXMgPSBbXTtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpICs9IDEpIHtcclxuICAgICAgICB2YXIgd2Vla2RheSA9IChpICsgZmlyc3REYXlPZldlZWspICUgNztcclxuICAgICAgICB2YXIgZWxlbWVudFByb3BzID0ge1xyXG4gICAgICAgICAga2V5OiBpLFxyXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzLndlZWtkYXksXHJcbiAgICAgICAgICB3ZWVrZGF5OiB3ZWVrZGF5LFxyXG4gICAgICAgICAgd2Vla2RheXNMb25nOiB3ZWVrZGF5c0xvbmcsXHJcbiAgICAgICAgICB3ZWVrZGF5c1Nob3J0OiB3ZWVrZGF5c1Nob3J0LFxyXG4gICAgICAgICAgbG9jYWxlVXRpbHM6IGxvY2FsZVV0aWxzLFxyXG4gICAgICAgICAgbG9jYWxlOiBsb2NhbGVcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBlbGVtZW50ID0gX3JlYWN0Mi5kZWZhdWx0LmlzVmFsaWRFbGVtZW50KHdlZWtkYXlFbGVtZW50KSA/IF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQod2Vla2RheUVsZW1lbnQsIGVsZW1lbnRQcm9wcykgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh3ZWVrZGF5RWxlbWVudCwgZWxlbWVudFByb3BzKTtcclxuICAgICAgICBkYXlzLnB1c2goZWxlbWVudCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICAnZGl2JyxcclxuICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lcy53ZWVrZGF5cywgcm9sZTogJ3Jvd2dyb3VwJyB9LFxyXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxyXG4gICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lcy53ZWVrZGF5c1Jvdywgcm9sZTogJ3JvdycgfSxcclxuICAgICAgICAgIHNob3dXZWVrTnVtYmVycyAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IGNsYXNzTmFtZXMud2Vla2RheSB9KSxcclxuICAgICAgICAgIGRheXNcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfV0pO1xyXG5cclxuICByZXR1cm4gV2Vla2RheXM7XHJcbn0oX3JlYWN0LkNvbXBvbmVudCk7XHJcblxyXG5leHBvcnRzLmRlZmF1bHQgPSBXZWVrZGF5cztcclxuV2Vla2RheXMucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xyXG4gIGNsYXNzTmFtZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xyXG4gICAgd2Vla2RheTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICAgIHdlZWtkYXlzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gICAgd2Vla2RheXNSb3c6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWRcclxuICB9KS5pc1JlcXVpcmVkLFxyXG5cclxuICBmaXJzdERheU9mV2VlazogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIuaXNSZXF1aXJlZCxcclxuICB3ZWVrZGF5c0xvbmc6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYXJyYXlPZihfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyksXHJcbiAgd2Vla2RheXNTaG9ydDogX3Byb3BUeXBlczIuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nKSxcclxuICBzaG93V2Vla051bWJlcnM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcclxuICBsb2NhbGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgbG9jYWxlVXRpbHM6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgd2Vla2RheUVsZW1lbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0LmVsZW1lbnQsIF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYywgX3Byb3BUeXBlczIuZGVmYXVsdC5pbnN0YW5jZU9mKF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpXSlcclxufSA6IHt9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWVrZGF5cy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICB2YWx1ZTogdHJ1ZVxyXG59KTtcclxuLy8gUHJveHkgb2JqZWN0IHRvIG1hcCBjbGFzc25hbWVzIHdoZW4gY3NzIG1vZHVsZXMgYXJlIG5vdCB1c2VkXHJcblxyXG5leHBvcnRzLmRlZmF1bHQgPSB7XHJcbiAgY29udGFpbmVyOiAnRGF5UGlja2VyJyxcclxuICB3cmFwcGVyOiAnRGF5UGlja2VyLXdyYXBwZXInLFxyXG4gIGludGVyYWN0aW9uRGlzYWJsZWQ6ICdEYXlQaWNrZXItLWludGVyYWN0aW9uRGlzYWJsZWQnLFxyXG4gIG1vbnRoczogJ0RheVBpY2tlci1Nb250aHMnLFxyXG4gIG1vbnRoOiAnRGF5UGlja2VyLU1vbnRoJyxcclxuXHJcbiAgbmF2QmFyOiAnRGF5UGlja2VyLU5hdkJhcicsXHJcbiAgbmF2QnV0dG9uUHJldjogJ0RheVBpY2tlci1OYXZCdXR0b24gRGF5UGlja2VyLU5hdkJ1dHRvbi0tcHJldicsXHJcbiAgbmF2QnV0dG9uTmV4dDogJ0RheVBpY2tlci1OYXZCdXR0b24gRGF5UGlja2VyLU5hdkJ1dHRvbi0tbmV4dCcsXHJcbiAgbmF2QnV0dG9uSW50ZXJhY3Rpb25EaXNhYmxlZDogJ0RheVBpY2tlci1OYXZCdXR0b24tLWludGVyYWN0aW9uRGlzYWJsZWQnLFxyXG5cclxuICBjYXB0aW9uOiAnRGF5UGlja2VyLUNhcHRpb24nLFxyXG4gIHdlZWtkYXlzOiAnRGF5UGlja2VyLVdlZWtkYXlzJyxcclxuICB3ZWVrZGF5c1JvdzogJ0RheVBpY2tlci1XZWVrZGF5c1JvdycsXHJcbiAgd2Vla2RheTogJ0RheVBpY2tlci1XZWVrZGF5JyxcclxuICBib2R5OiAnRGF5UGlja2VyLUJvZHknLFxyXG4gIHdlZWs6ICdEYXlQaWNrZXItV2VlaycsXHJcbiAgd2Vla051bWJlcjogJ0RheVBpY2tlci1XZWVrTnVtYmVyJyxcclxuICBkYXk6ICdEYXlQaWNrZXItRGF5JyxcclxuICBmb290ZXI6ICdEYXlQaWNrZXItRm9vdGVyJyxcclxuICB0b2RheUJ1dHRvbjogJ0RheVBpY2tlci1Ub2RheUJ1dHRvbicsXHJcblxyXG4gIC8vIGRlZmF1bHQgbW9kaWZpZXJzXHJcbiAgdG9kYXk6ICd0b2RheScsXHJcbiAgc2VsZWN0ZWQ6ICdzZWxlY3RlZCcsXHJcbiAgZGlzYWJsZWQ6ICdkaXNhYmxlZCcsXHJcbiAgb3V0c2lkZTogJ291dHNpZGUnXHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsYXNzTmFtZXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICB2YWx1ZTogdHJ1ZVxyXG59KTtcclxudmFyIExFRlQgPSBleHBvcnRzLkxFRlQgPSAzNztcclxudmFyIFVQID0gZXhwb3J0cy5VUCA9IDM4O1xyXG52YXIgUklHSFQgPSBleHBvcnRzLlJJR0hUID0gMzk7XHJcbnZhciBET1dOID0gZXhwb3J0cy5ET1dOID0gNDA7XHJcbnZhciBFTlRFUiA9IGV4cG9ydHMuRU5URVIgPSAxMztcclxudmFyIFNQQUNFID0gZXhwb3J0cy5TUEFDRSA9IDMyO1xyXG52YXIgRVNDID0gZXhwb3J0cy5FU0MgPSAyNztcclxudmFyIFRBQiA9IGV4cG9ydHMuVEFCID0gOTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2V5cy5qcy5tYXAiLCIvKiogQGxpY2Vuc2UgUmVhY3QgdjE2LjguNlxyXG4gKiByZWFjdC1pcy5kZXZlbG9wbWVudC5qc1xyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cclxuICpcclxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXHJcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5cclxuXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcclxuICAoZnVuY3Rpb24oKSB7XHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XHJcblxyXG4vLyBUaGUgU3ltYm9sIHVzZWQgdG8gdGFnIHRoZSBSZWFjdEVsZW1lbnQtbGlrZSB0eXBlcy4gSWYgdGhlcmUgaXMgbm8gbmF0aXZlIFN5bWJvbFxyXG4vLyBub3IgcG9seWZpbGwsIHRoZW4gYSBwbGFpbiBudW1iZXIgaXMgdXNlZCBmb3IgcGVyZm9ybWFuY2UuXHJcbnZhciBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3I7XHJcblxyXG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIDogMHhlYWM3O1xyXG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5wb3J0YWwnKSA6IDB4ZWFjYTtcclxudmFyIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5mcmFnbWVudCcpIDogMHhlYWNiO1xyXG52YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN0cmljdF9tb2RlJykgOiAweGVhY2M7XHJcbnZhciBSRUFDVF9QUk9GSUxFUl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucHJvZmlsZXInKSA6IDB4ZWFkMjtcclxudmFyIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5wcm92aWRlcicpIDogMHhlYWNkO1xyXG52YXIgUkVBQ1RfQ09OVEVYVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29udGV4dCcpIDogMHhlYWNlO1xyXG52YXIgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuYXN5bmNfbW9kZScpIDogMHhlYWNmO1xyXG52YXIgUkVBQ1RfQ09OQ1VSUkVOVF9NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5jb25jdXJyZW50X21vZGUnKSA6IDB4ZWFjZjtcclxudmFyIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5mb3J3YXJkX3JlZicpIDogMHhlYWQwO1xyXG52YXIgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN1c3BlbnNlJykgOiAweGVhZDE7XHJcbnZhciBSRUFDVF9NRU1PX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5tZW1vJykgOiAweGVhZDM7XHJcbnZhciBSRUFDVF9MQVpZX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5sYXp5JykgOiAweGVhZDQ7XHJcblxyXG5mdW5jdGlvbiBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSkge1xyXG4gIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgfHxcclxuICAvLyBOb3RlOiBpdHMgdHlwZW9mIG1pZ2h0IGJlIG90aGVyIHRoYW4gJ3N5bWJvbCcgb3IgJ251bWJlcicgaWYgaXQncyBhIHBvbHlmaWxsLlxyXG4gIHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfQ09OQ1VSUkVOVF9NT0RFX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX1RZUEUgfHwgdHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwgJiYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGb3JrZWQgZnJvbSBmYmpzL3dhcm5pbmc6XHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mYmpzL2Jsb2IvZTY2YmEyMGFkNWJlNDMzZWI1NDQyM2YyYjA5N2Q4MjkzMjRkOWRlNi9wYWNrYWdlcy9mYmpzL3NyYy9fX2ZvcmtzX18vd2FybmluZy5qc1xyXG4gKlxyXG4gKiBPbmx5IGNoYW5nZSBpcyB3ZSB1c2UgY29uc29sZS53YXJuIGluc3RlYWQgb2YgY29uc29sZS5lcnJvcixcclxuICogYW5kIGRvIG5vdGhpbmcgd2hlbiAnY29uc29sZScgaXMgbm90IHN1cHBvcnRlZC5cclxuICogVGhpcyByZWFsbHkgc2ltcGxpZmllcyB0aGUgY29kZS5cclxuICogLS0tXHJcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cclxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxyXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxyXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cclxuICovXHJcblxyXG52YXIgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKCkge307XHJcblxyXG57XHJcbiAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcclxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xyXG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYXJnSW5kZXggPSAwO1xyXG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xyXG4gICAgfSk7XHJcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cclxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXHJcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XHJcbiAgICB9IGNhdGNoICh4KSB7fVxyXG4gIH07XHJcblxyXG4gIGxvd1ByaW9yaXR5V2FybmluZyA9IGZ1bmN0aW9uIChjb25kaXRpb24sIGZvcm1hdCkge1xyXG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignYGxvd1ByaW9yaXR5V2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcclxuICAgIH1cclxuICAgIGlmICghY29uZGl0aW9uKSB7XHJcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcclxuICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwcmludFdhcm5pbmcuYXBwbHkodW5kZWZpbmVkLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuXHJcbnZhciBsb3dQcmlvcml0eVdhcm5pbmckMSA9IGxvd1ByaW9yaXR5V2FybmluZztcclxuXHJcbmZ1bmN0aW9uIHR5cGVPZihvYmplY3QpIHtcclxuICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsKSB7XHJcbiAgICB2YXIgJCR0eXBlb2YgPSBvYmplY3QuJCR0eXBlb2Y7XHJcbiAgICBzd2l0Y2ggKCQkdHlwZW9mKSB7XHJcbiAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxyXG4gICAgICAgIHZhciB0eXBlID0gb2JqZWN0LnR5cGU7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgY2FzZSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU6XHJcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFOlxyXG4gICAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxyXG4gICAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxyXG4gICAgICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxyXG4gICAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxyXG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcclxuICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHZhciAkJHR5cGVvZlR5cGUgPSB0eXBlICYmIHR5cGUuJCR0eXBlb2Y7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKCQkdHlwZW9mVHlwZSkge1xyXG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxyXG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcclxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1BST1ZJREVSX1RZUEU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJCR0eXBlb2ZUeXBlO1xyXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJCR0eXBlb2Y7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxyXG4gICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcclxuICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcclxuICAgICAgICByZXR1cm4gJCR0eXBlb2Y7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdW5kZWZpbmVkO1xyXG59XHJcblxyXG4vLyBBc3luY01vZGUgaXMgZGVwcmVjYXRlZCBhbG9uZyB3aXRoIGlzQXN5bmNNb2RlXHJcbnZhciBBc3luY01vZGUgPSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU7XHJcbnZhciBDb25jdXJyZW50TW9kZSA9IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFO1xyXG52YXIgQ29udGV4dENvbnN1bWVyID0gUkVBQ1RfQ09OVEVYVF9UWVBFO1xyXG52YXIgQ29udGV4dFByb3ZpZGVyID0gUkVBQ1RfUFJPVklERVJfVFlQRTtcclxudmFyIEVsZW1lbnQgPSBSRUFDVF9FTEVNRU5UX1RZUEU7XHJcbnZhciBGb3J3YXJkUmVmID0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTtcclxudmFyIEZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcclxudmFyIExhenkgPSBSRUFDVF9MQVpZX1RZUEU7XHJcbnZhciBNZW1vID0gUkVBQ1RfTUVNT19UWVBFO1xyXG52YXIgUG9ydGFsID0gUkVBQ1RfUE9SVEFMX1RZUEU7XHJcbnZhciBQcm9maWxlciA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XHJcbnZhciBTdHJpY3RNb2RlID0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcclxudmFyIFN1c3BlbnNlID0gUkVBQ1RfU1VTUEVOU0VfVFlQRTtcclxuXHJcbnZhciBoYXNXYXJuZWRBYm91dERlcHJlY2F0ZWRJc0FzeW5jTW9kZSA9IGZhbHNlO1xyXG5cclxuLy8gQXN5bmNNb2RlIHNob3VsZCBiZSBkZXByZWNhdGVkXHJcbmZ1bmN0aW9uIGlzQXN5bmNNb2RlKG9iamVjdCkge1xyXG4gIHtcclxuICAgIGlmICghaGFzV2FybmVkQWJvdXREZXByZWNhdGVkSXNBc3luY01vZGUpIHtcclxuICAgICAgaGFzV2FybmVkQWJvdXREZXByZWNhdGVkSXNBc3luY01vZGUgPSB0cnVlO1xyXG4gICAgICBsb3dQcmlvcml0eVdhcm5pbmckMShmYWxzZSwgJ1RoZSBSZWFjdElzLmlzQXN5bmNNb2RlKCkgYWxpYXMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgJyArICdhbmQgd2lsbCBiZSByZW1vdmVkIGluIFJlYWN0IDE3Ky4gVXBkYXRlIHlvdXIgY29kZSB0byB1c2UgJyArICdSZWFjdElzLmlzQ29uY3VycmVudE1vZGUoKSBpbnN0ZWFkLiBJdCBoYXMgdGhlIGV4YWN0IHNhbWUgQVBJLicpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gaXNDb25jdXJyZW50TW9kZShvYmplY3QpIHx8IHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU7XHJcbn1cclxuZnVuY3Rpb24gaXNDb25jdXJyZW50TW9kZShvYmplY3QpIHtcclxuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFO1xyXG59XHJcbmZ1bmN0aW9uIGlzQ29udGV4dENvbnN1bWVyKG9iamVjdCkge1xyXG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFO1xyXG59XHJcbmZ1bmN0aW9uIGlzQ29udGV4dFByb3ZpZGVyKG9iamVjdCkge1xyXG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRTtcclxufVxyXG5mdW5jdGlvbiBpc0VsZW1lbnQob2JqZWN0KSB7XHJcbiAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAhPT0gbnVsbCAmJiBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcclxufVxyXG5mdW5jdGlvbiBpc0ZvcndhcmRSZWYob2JqZWN0KSB7XHJcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFO1xyXG59XHJcbmZ1bmN0aW9uIGlzRnJhZ21lbnQob2JqZWN0KSB7XHJcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xyXG59XHJcbmZ1bmN0aW9uIGlzTGF6eShvYmplY3QpIHtcclxuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0xBWllfVFlQRTtcclxufVxyXG5mdW5jdGlvbiBpc01lbW8ob2JqZWN0KSB7XHJcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9NRU1PX1RZUEU7XHJcbn1cclxuZnVuY3Rpb24gaXNQb3J0YWwob2JqZWN0KSB7XHJcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9QT1JUQUxfVFlQRTtcclxufVxyXG5mdW5jdGlvbiBpc1Byb2ZpbGVyKG9iamVjdCkge1xyXG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRTtcclxufVxyXG5mdW5jdGlvbiBpc1N0cmljdE1vZGUob2JqZWN0KSB7XHJcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xyXG59XHJcbmZ1bmN0aW9uIGlzU3VzcGVuc2Uob2JqZWN0KSB7XHJcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xyXG59XHJcblxyXG5leHBvcnRzLnR5cGVPZiA9IHR5cGVPZjtcclxuZXhwb3J0cy5Bc3luY01vZGUgPSBBc3luY01vZGU7XHJcbmV4cG9ydHMuQ29uY3VycmVudE1vZGUgPSBDb25jdXJyZW50TW9kZTtcclxuZXhwb3J0cy5Db250ZXh0Q29uc3VtZXIgPSBDb250ZXh0Q29uc3VtZXI7XHJcbmV4cG9ydHMuQ29udGV4dFByb3ZpZGVyID0gQ29udGV4dFByb3ZpZGVyO1xyXG5leHBvcnRzLkVsZW1lbnQgPSBFbGVtZW50O1xyXG5leHBvcnRzLkZvcndhcmRSZWYgPSBGb3J3YXJkUmVmO1xyXG5leHBvcnRzLkZyYWdtZW50ID0gRnJhZ21lbnQ7XHJcbmV4cG9ydHMuTGF6eSA9IExhenk7XHJcbmV4cG9ydHMuTWVtbyA9IE1lbW87XHJcbmV4cG9ydHMuUG9ydGFsID0gUG9ydGFsO1xyXG5leHBvcnRzLlByb2ZpbGVyID0gUHJvZmlsZXI7XHJcbmV4cG9ydHMuU3RyaWN0TW9kZSA9IFN0cmljdE1vZGU7XHJcbmV4cG9ydHMuU3VzcGVuc2UgPSBTdXNwZW5zZTtcclxuZXhwb3J0cy5pc1ZhbGlkRWxlbWVudFR5cGUgPSBpc1ZhbGlkRWxlbWVudFR5cGU7XHJcbmV4cG9ydHMuaXNBc3luY01vZGUgPSBpc0FzeW5jTW9kZTtcclxuZXhwb3J0cy5pc0NvbmN1cnJlbnRNb2RlID0gaXNDb25jdXJyZW50TW9kZTtcclxuZXhwb3J0cy5pc0NvbnRleHRDb25zdW1lciA9IGlzQ29udGV4dENvbnN1bWVyO1xyXG5leHBvcnRzLmlzQ29udGV4dFByb3ZpZGVyID0gaXNDb250ZXh0UHJvdmlkZXI7XHJcbmV4cG9ydHMuaXNFbGVtZW50ID0gaXNFbGVtZW50O1xyXG5leHBvcnRzLmlzRm9yd2FyZFJlZiA9IGlzRm9yd2FyZFJlZjtcclxuZXhwb3J0cy5pc0ZyYWdtZW50ID0gaXNGcmFnbWVudDtcclxuZXhwb3J0cy5pc0xhenkgPSBpc0xhenk7XHJcbmV4cG9ydHMuaXNNZW1vID0gaXNNZW1vO1xyXG5leHBvcnRzLmlzUG9ydGFsID0gaXNQb3J0YWw7XHJcbmV4cG9ydHMuaXNQcm9maWxlciA9IGlzUHJvZmlsZXI7XHJcbmV4cG9ydHMuaXNTdHJpY3RNb2RlID0gaXNTdHJpY3RNb2RlO1xyXG5leHBvcnRzLmlzU3VzcGVuc2UgPSBpc1N1c3BlbnNlO1xyXG4gIH0pKCk7XHJcbn1cclxuIiwiLyoqIEBsaWNlbnNlIFJlYWN0IHYxNi44LjZcclxuICogcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanNcclxuICpcclxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXHJcbiAqXHJcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxyXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO1xyXG52YXIgYj1cImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yLGM9Yj9TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKTo2MDEwMyxkPWI/U3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKTo2MDEwNixlPWI/U3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpOjYwMTA3LGY9Yj9TeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIik6NjAxMDgsZz1iP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTo2MDExNCxoPWI/U3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpOjYwMTA5LGs9Yj9TeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKTo2MDExMCxsPWI/U3ltYm9sLmZvcihcInJlYWN0LmFzeW5jX21vZGVcIik6NjAxMTEsbT1iP1N5bWJvbC5mb3IoXCJyZWFjdC5jb25jdXJyZW50X21vZGVcIik6NjAxMTEsbj1iP1N5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKTo2MDExMixwPWI/U3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpOjYwMTEzLHE9Yj9TeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKTpcclxuNjAxMTUscj1iP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2O2Z1bmN0aW9uIHQoYSl7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSl7dmFyIHU9YS4kJHR5cGVvZjtzd2l0Y2godSl7Y2FzZSBjOnN3aXRjaChhPWEudHlwZSxhKXtjYXNlIGw6Y2FzZSBtOmNhc2UgZTpjYXNlIGc6Y2FzZSBmOmNhc2UgcDpyZXR1cm4gYTtkZWZhdWx0OnN3aXRjaChhPWEmJmEuJCR0eXBlb2YsYSl7Y2FzZSBrOmNhc2UgbjpjYXNlIGg6cmV0dXJuIGE7ZGVmYXVsdDpyZXR1cm4gdX19Y2FzZSByOmNhc2UgcTpjYXNlIGQ6cmV0dXJuIHV9fX1mdW5jdGlvbiB2KGEpe3JldHVybiB0KGEpPT09bX1leHBvcnRzLnR5cGVPZj10O2V4cG9ydHMuQXN5bmNNb2RlPWw7ZXhwb3J0cy5Db25jdXJyZW50TW9kZT1tO2V4cG9ydHMuQ29udGV4dENvbnN1bWVyPWs7ZXhwb3J0cy5Db250ZXh0UHJvdmlkZXI9aDtleHBvcnRzLkVsZW1lbnQ9YztleHBvcnRzLkZvcndhcmRSZWY9bjtcclxuZXhwb3J0cy5GcmFnbWVudD1lO2V4cG9ydHMuTGF6eT1yO2V4cG9ydHMuTWVtbz1xO2V4cG9ydHMuUG9ydGFsPWQ7ZXhwb3J0cy5Qcm9maWxlcj1nO2V4cG9ydHMuU3RyaWN0TW9kZT1mO2V4cG9ydHMuU3VzcGVuc2U9cDtleHBvcnRzLmlzVmFsaWRFbGVtZW50VHlwZT1mdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGF8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhfHxhPT09ZXx8YT09PW18fGE9PT1nfHxhPT09Znx8YT09PXB8fFwib2JqZWN0XCI9PT10eXBlb2YgYSYmbnVsbCE9PWEmJihhLiQkdHlwZW9mPT09cnx8YS4kJHR5cGVvZj09PXF8fGEuJCR0eXBlb2Y9PT1ofHxhLiQkdHlwZW9mPT09a3x8YS4kJHR5cGVvZj09PW4pfTtleHBvcnRzLmlzQXN5bmNNb2RlPWZ1bmN0aW9uKGEpe3JldHVybiB2KGEpfHx0KGEpPT09bH07ZXhwb3J0cy5pc0NvbmN1cnJlbnRNb2RlPXY7ZXhwb3J0cy5pc0NvbnRleHRDb25zdW1lcj1mdW5jdGlvbihhKXtyZXR1cm4gdChhKT09PWt9O1xyXG5leHBvcnRzLmlzQ29udGV4dFByb3ZpZGVyPWZ1bmN0aW9uKGEpe3JldHVybiB0KGEpPT09aH07ZXhwb3J0cy5pc0VsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSYmYS4kJHR5cGVvZj09PWN9O2V4cG9ydHMuaXNGb3J3YXJkUmVmPWZ1bmN0aW9uKGEpe3JldHVybiB0KGEpPT09bn07ZXhwb3J0cy5pc0ZyYWdtZW50PWZ1bmN0aW9uKGEpe3JldHVybiB0KGEpPT09ZX07ZXhwb3J0cy5pc0xhenk9ZnVuY3Rpb24oYSl7cmV0dXJuIHQoYSk9PT1yfTtleHBvcnRzLmlzTWVtbz1mdW5jdGlvbihhKXtyZXR1cm4gdChhKT09PXF9O2V4cG9ydHMuaXNQb3J0YWw9ZnVuY3Rpb24oYSl7cmV0dXJuIHQoYSk9PT1kfTtleHBvcnRzLmlzUHJvZmlsZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHQoYSk9PT1nfTtleHBvcnRzLmlzU3RyaWN0TW9kZT1mdW5jdGlvbihhKXtyZXR1cm4gdChhKT09PWZ9O1xyXG5leHBvcnRzLmlzU3VzcGVuc2U9ZnVuY3Rpb24oYSl7cmV0dXJuIHQoYSk9PT1wfTtcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcclxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWlzLnByb2R1Y3Rpb24ubWluLmpzJyk7XHJcbn0gZWxzZSB7XHJcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1pcy5kZXZlbG9wbWVudC5qcycpO1xyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XHJcblxyXG4vKipcclxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXHJcbiAqXHJcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxyXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xyXG4gIC8vIENhbGwgdGhpcy5jb25zdHJ1Y3Rvci5nRFNGUCB0byBzdXBwb3J0IHN1Yi1jbGFzc2VzLlxyXG4gIHZhciBzdGF0ZSA9IHRoaXMuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUpO1xyXG4gIGlmIChzdGF0ZSAhPT0gbnVsbCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XHJcbiAgLy8gQ2FsbCB0aGlzLmNvbnN0cnVjdG9yLmdEU0ZQIHRvIHN1cHBvcnQgc3ViLWNsYXNzZXMuXHJcbiAgLy8gVXNlIHRoZSBzZXRTdGF0ZSgpIHVwZGF0ZXIgdG8gZW5zdXJlIHN0YXRlIGlzbid0IHN0YWxlIGluIGNlcnRhaW4gZWRnZSBjYXNlcy5cclxuICBmdW5jdGlvbiB1cGRhdGVyKHByZXZTdGF0ZSkge1xyXG4gICAgdmFyIHN0YXRlID0gdGhpcy5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpO1xyXG4gICAgcmV0dXJuIHN0YXRlICE9PSBudWxsICYmIHN0YXRlICE9PSB1bmRlZmluZWQgPyBzdGF0ZSA6IG51bGw7XHJcbiAgfVxyXG4gIC8vIEJpbmRpbmcgXCJ0aGlzXCIgaXMgaW1wb3J0YW50IGZvciBzaGFsbG93IHJlbmRlcmVyIHN1cHBvcnQuXHJcbiAgdGhpcy5zZXRTdGF0ZSh1cGRhdGVyLmJpbmQodGhpcykpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XHJcbiAgdHJ5IHtcclxuICAgIHZhciBwcmV2UHJvcHMgPSB0aGlzLnByb3BzO1xyXG4gICAgdmFyIHByZXZTdGF0ZSA9IHRoaXMuc3RhdGU7XHJcbiAgICB0aGlzLnByb3BzID0gbmV4dFByb3BzO1xyXG4gICAgdGhpcy5zdGF0ZSA9IG5leHRTdGF0ZTtcclxuICAgIHRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3RGbGFnID0gdHJ1ZTtcclxuICAgIHRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3QgPSB0aGlzLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKFxyXG4gICAgICBwcmV2UHJvcHMsXHJcbiAgICAgIHByZXZTdGF0ZVxyXG4gICAgKTtcclxuICB9IGZpbmFsbHkge1xyXG4gICAgdGhpcy5wcm9wcyA9IHByZXZQcm9wcztcclxuICAgIHRoaXMuc3RhdGUgPSBwcmV2U3RhdGU7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBSZWFjdCBtYXkgd2FybiBhYm91dCBjV00vY1dSUC9jV1UgbWV0aG9kcyBiZWluZyBkZXByZWNhdGVkLlxyXG4vLyBBZGQgYSBmbGFnIHRvIHN1cHByZXNzIHRoZXNlIHdhcm5pbmdzIGZvciB0aGlzIHNwZWNpYWwgY2FzZS5cclxuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgPSB0cnVlO1xyXG5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgPSB0cnVlO1xyXG5jb21wb25lbnRXaWxsVXBkYXRlLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgPSB0cnVlO1xyXG5cclxuZnVuY3Rpb24gcG9seWZpbGwoQ29tcG9uZW50KSB7XHJcbiAgdmFyIHByb3RvdHlwZSA9IENvbXBvbmVudC5wcm90b3R5cGU7XHJcblxyXG4gIGlmICghcHJvdG90eXBlIHx8ICFwcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBwb2x5ZmlsbCBjbGFzcyBjb21wb25lbnRzJyk7XHJcbiAgfVxyXG5cclxuICBpZiAoXHJcbiAgICB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gJ2Z1bmN0aW9uJyAmJlxyXG4gICAgdHlwZW9mIHByb3RvdHlwZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJ1xyXG4gICkge1xyXG4gICAgcmV0dXJuIENvbXBvbmVudDtcclxuICB9XHJcblxyXG4gIC8vIElmIG5ldyBjb21wb25lbnQgQVBJcyBhcmUgZGVmaW5lZCwgXCJ1bnNhZmVcIiBsaWZlY3ljbGVzIHdvbid0IGJlIGNhbGxlZC5cclxuICAvLyBFcnJvciBpZiBhbnkgb2YgdGhlc2UgbGlmZWN5Y2xlcyBhcmUgcHJlc2VudCxcclxuICAvLyBCZWNhdXNlIHRoZXkgd291bGQgd29yayBkaWZmZXJlbnRseSBiZXR3ZWVuIG9sZGVyIGFuZCBuZXdlciAoMTYuMyspIHZlcnNpb25zIG9mIFJlYWN0LlxyXG4gIHZhciBmb3VuZFdpbGxNb3VudE5hbWUgPSBudWxsO1xyXG4gIHZhciBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gbnVsbDtcclxuICB2YXIgZm91bmRXaWxsVXBkYXRlTmFtZSA9IG51bGw7XHJcbiAgaWYgKHR5cGVvZiBwcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICBmb3VuZFdpbGxNb3VudE5hbWUgPSAnY29tcG9uZW50V2lsbE1vdW50JztcclxuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgZm91bmRXaWxsTW91bnROYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsTW91bnQnO1xyXG4gIH1cclxuICBpZiAodHlwZW9mIHByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnO1xyXG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSA9ICdVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyc7XHJcbiAgfVxyXG4gIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSAnY29tcG9uZW50V2lsbFVwZGF0ZSc7XHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvdG90eXBlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlJztcclxuICB9XHJcbiAgaWYgKFxyXG4gICAgZm91bmRXaWxsTW91bnROYW1lICE9PSBudWxsIHx8XHJcbiAgICBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lICE9PSBudWxsIHx8XHJcbiAgICBmb3VuZFdpbGxVcGRhdGVOYW1lICE9PSBudWxsXHJcbiAgKSB7XHJcbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZTtcclxuICAgIHZhciBuZXdBcGlOYW1lID1cclxuICAgICAgdHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbidcclxuICAgICAgICA/ICdnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoKSdcclxuICAgICAgICA6ICdnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpJztcclxuXHJcbiAgICB0aHJvdyBFcnJvcihcclxuICAgICAgJ1Vuc2FmZSBsZWdhY3kgbGlmZWN5Y2xlcyB3aWxsIG5vdCBiZSBjYWxsZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgbmV3IGNvbXBvbmVudCBBUElzLlxcblxcbicgK1xyXG4gICAgICAgIGNvbXBvbmVudE5hbWUgK1xyXG4gICAgICAgICcgdXNlcyAnICtcclxuICAgICAgICBuZXdBcGlOYW1lICtcclxuICAgICAgICAnIGJ1dCBhbHNvIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgbGVnYWN5IGxpZmVjeWNsZXM6JyArXHJcbiAgICAgICAgKGZvdW5kV2lsbE1vdW50TmFtZSAhPT0gbnVsbCA/ICdcXG4gICcgKyBmb3VuZFdpbGxNb3VudE5hbWUgOiAnJykgK1xyXG4gICAgICAgIChmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lICE9PSBudWxsXHJcbiAgICAgICAgICA/ICdcXG4gICcgKyBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lXHJcbiAgICAgICAgICA6ICcnKSArXHJcbiAgICAgICAgKGZvdW5kV2lsbFVwZGF0ZU5hbWUgIT09IG51bGwgPyAnXFxuICAnICsgZm91bmRXaWxsVXBkYXRlTmFtZSA6ICcnKSArXHJcbiAgICAgICAgJ1xcblxcblRoZSBhYm92ZSBsaWZlY3ljbGVzIHNob3VsZCBiZSByZW1vdmVkLiBMZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOlxcbicgK1xyXG4gICAgICAgICdodHRwczovL2ZiLm1lL3JlYWN0LWFzeW5jLWNvbXBvbmVudC1saWZlY3ljbGUtaG9va3MnXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVhY3QgPD0gMTYuMiBkb2VzIG5vdCBzdXBwb3J0IHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuXHJcbiAgLy8gQXMgYSB3b3JrYXJvdW5kLCB1c2UgY1dNIGFuZCBjV1JQIHRvIGludm9rZSB0aGUgbmV3IHN0YXRpYyBsaWZlY3ljbGUuXHJcbiAgLy8gTmV3ZXIgdmVyc2lvbnMgb2YgUmVhY3Qgd2lsbCBpZ25vcmUgdGhlc2UgbGlmZWN5Y2xlcyBpZiBnRFNGUCBleGlzdHMuXHJcbiAgaWYgKHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICBwcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gY29tcG9uZW50V2lsbE1vdW50O1xyXG4gICAgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVhY3QgPD0gMTYuMiBkb2VzIG5vdCBzdXBwb3J0IGdldFNuYXBzaG90QmVmb3JlVXBkYXRlLlxyXG4gIC8vIEFzIGEgd29ya2Fyb3VuZCwgdXNlIGNXVSB0byBpbnZva2UgdGhlIG5ldyBsaWZlY3ljbGUuXHJcbiAgLy8gTmV3ZXIgdmVyc2lvbnMgb2YgUmVhY3Qgd2lsbCBpZ25vcmUgdGhhdCBsaWZlY3ljbGUgaWYgZ1NCVSBleGlzdHMuXHJcbiAgaWYgKHR5cGVvZiBwcm90b3R5cGUuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgJ0Nhbm5vdCBwb2x5ZmlsbCBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpIGZvciBjb21wb25lbnRzIHRoYXQgZG8gbm90IGRlZmluZSBjb21wb25lbnREaWRVcGRhdGUoKSBvbiB0aGUgcHJvdG90eXBlJ1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID0gY29tcG9uZW50V2lsbFVwZGF0ZTtcclxuXHJcbiAgICB2YXIgY29tcG9uZW50RGlkVXBkYXRlID0gcHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZTtcclxuXHJcbiAgICBwcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlUG9seWZpbGwoXHJcbiAgICAgIHByZXZQcm9wcyxcclxuICAgICAgcHJldlN0YXRlLFxyXG4gICAgICBtYXliZVNuYXBzaG90XHJcbiAgICApIHtcclxuICAgICAgLy8gMTYuMysgd2lsbCBub3QgZXhlY3V0ZSBvdXIgd2lsbC11cGRhdGUgbWV0aG9kO1xyXG4gICAgICAvLyBJdCB3aWxsIHBhc3MgYSBzbmFwc2hvdCB2YWx1ZSB0byBkaWQtdXBkYXRlIHRob3VnaC5cclxuICAgICAgLy8gT2xkZXIgdmVyc2lvbnMgd2lsbCByZXF1aXJlIG91ciBwb2x5ZmlsbGVkIHdpbGwtdXBkYXRlIHZhbHVlLlxyXG4gICAgICAvLyBXZSBuZWVkIHRvIGhhbmRsZSBib3RoIGNhc2VzLCBidXQgY2FuJ3QganVzdCBjaGVjayBmb3IgdGhlIHByZXNlbmNlIG9mIFwibWF5YmVTbmFwc2hvdFwiLFxyXG4gICAgICAvLyBCZWNhdXNlIGZvciA8PSAxNS54IHZlcnNpb25zIHRoaXMgbWlnaHQgYmUgYSBcInByZXZDb250ZXh0XCIgb2JqZWN0LlxyXG4gICAgICAvLyBXZSBhbHNvIGNhbid0IGp1c3QgY2hlY2sgXCJfX3JlYWN0SW50ZXJuYWxTbmFwc2hvdFwiLFxyXG4gICAgICAvLyBCZWNhdXNlIGdldC1zbmFwc2hvdCBtaWdodCByZXR1cm4gYSBmYWxzeSB2YWx1ZS5cclxuICAgICAgLy8gU28gY2hlY2sgZm9yIHRoZSBleHBsaWNpdCBfX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEZsYWcgZmxhZyB0byBkZXRlcm1pbmUgYmVoYXZpb3IuXHJcbiAgICAgIHZhciBzbmFwc2hvdCA9IHRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3RGbGFnXHJcbiAgICAgICAgPyB0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90XHJcbiAgICAgICAgOiBtYXliZVNuYXBzaG90O1xyXG5cclxuICAgICAgY29tcG9uZW50RGlkVXBkYXRlLmNhbGwodGhpcywgcHJldlByb3BzLCBwcmV2U3RhdGUsIHNuYXBzaG90KTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gQ29tcG9uZW50O1xyXG59XHJcblxyXG5leHBvcnRzLnBvbHlmaWxsID0gcG9seWZpbGw7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XHJcbiAgdmFsdWU6IHRydWVcclxufSk7XHJcbmV4cG9ydHMuYm9keU9wZW5DbGFzc05hbWUgPSBleHBvcnRzLnBvcnRhbENsYXNzTmFtZSA9IHVuZGVmaW5lZDtcclxuXHJcbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XHJcblxyXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xyXG5cclxudmFyIF9yZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcclxuXHJcbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xyXG5cclxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoXCJyZWFjdC1kb21cIik7XHJcblxyXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcclxuXHJcbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZShcInByb3AtdHlwZXNcIik7XHJcblxyXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xyXG5cclxudmFyIF9Nb2RhbFBvcnRhbCA9IHJlcXVpcmUoXCIuL01vZGFsUG9ydGFsXCIpO1xyXG5cclxudmFyIF9Nb2RhbFBvcnRhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb2RhbFBvcnRhbCk7XHJcblxyXG52YXIgX2FyaWFBcHBIaWRlciA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL2FyaWFBcHBIaWRlclwiKTtcclxuXHJcbnZhciBhcmlhQXBwSGlkZXIgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfYXJpYUFwcEhpZGVyKTtcclxuXHJcbnZhciBfc2FmZUhUTUxFbGVtZW50ID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvc2FmZUhUTUxFbGVtZW50XCIpO1xyXG5cclxudmFyIF9zYWZlSFRNTEVsZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2FmZUhUTUxFbGVtZW50KTtcclxuXHJcbnZhciBfcmVhY3RMaWZlY3ljbGVzQ29tcGF0ID0gcmVxdWlyZShcInJlYWN0LWxpZmVjeWNsZXMtY29tcGF0XCIpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxyXG5cclxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XHJcblxyXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cclxuXHJcbnZhciBwb3J0YWxDbGFzc05hbWUgPSBleHBvcnRzLnBvcnRhbENsYXNzTmFtZSA9IFwiUmVhY3RNb2RhbFBvcnRhbFwiO1xyXG52YXIgYm9keU9wZW5DbGFzc05hbWUgPSBleHBvcnRzLmJvZHlPcGVuQ2xhc3NOYW1lID0gXCJSZWFjdE1vZGFsX19Cb2R5LS1vcGVuXCI7XHJcblxyXG52YXIgaXNSZWFjdDE2ID0gX3JlYWN0RG9tMi5kZWZhdWx0LmNyZWF0ZVBvcnRhbCAhPT0gdW5kZWZpbmVkO1xyXG5cclxudmFyIGdldENyZWF0ZVBvcnRhbCA9IGZ1bmN0aW9uIGdldENyZWF0ZVBvcnRhbCgpIHtcclxuICByZXR1cm4gaXNSZWFjdDE2ID8gX3JlYWN0RG9tMi5kZWZhdWx0LmNyZWF0ZVBvcnRhbCA6IF9yZWFjdERvbTIuZGVmYXVsdC51bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdldFBhcmVudEVsZW1lbnQocGFyZW50U2VsZWN0b3IpIHtcclxuICByZXR1cm4gcGFyZW50U2VsZWN0b3IoKTtcclxufVxyXG5cclxudmFyIE1vZGFsID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcclxuICBfaW5oZXJpdHMoTW9kYWwsIF9Db21wb25lbnQpO1xyXG5cclxuICBmdW5jdGlvbiBNb2RhbCgpIHtcclxuICAgIHZhciBfcmVmO1xyXG5cclxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XHJcblxyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vZGFsKTtcclxuXHJcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xyXG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBNb2RhbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1vZGFsKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMucmVtb3ZlUG9ydGFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAhaXNSZWFjdDE2ICYmIF9yZWFjdERvbTIuZGVmYXVsdC51bm1vdW50Q29tcG9uZW50QXROb2RlKF90aGlzLm5vZGUpO1xyXG4gICAgICB2YXIgcGFyZW50ID0gZ2V0UGFyZW50RWxlbWVudChfdGhpcy5wcm9wcy5wYXJlbnRTZWxlY3Rvcik7XHJcbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChfdGhpcy5ub2RlKTtcclxuICAgIH0sIF90aGlzLnBvcnRhbFJlZiA9IGZ1bmN0aW9uIChyZWYpIHtcclxuICAgICAgX3RoaXMucG9ydGFsID0gcmVmO1xyXG4gICAgfSwgX3RoaXMucmVuZGVyUG9ydGFsID0gZnVuY3Rpb24gKHByb3BzKSB7XHJcbiAgICAgIHZhciBjcmVhdGVQb3J0YWwgPSBnZXRDcmVhdGVQb3J0YWwoKTtcclxuICAgICAgdmFyIHBvcnRhbCA9IGNyZWF0ZVBvcnRhbChfdGhpcywgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX01vZGFsUG9ydGFsMi5kZWZhdWx0LCBfZXh0ZW5kcyh7IGRlZmF1bHRTdHlsZXM6IE1vZGFsLmRlZmF1bHRTdHlsZXMgfSwgcHJvcHMpKSwgX3RoaXMubm9kZSk7XHJcbiAgICAgIF90aGlzLnBvcnRhbFJlZihwb3J0YWwpO1xyXG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlQ2xhc3MoTW9kYWwsIFt7XHJcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgaWYgKCFfc2FmZUhUTUxFbGVtZW50LmNhblVzZURPTSkgcmV0dXJuO1xyXG5cclxuICAgICAgaWYgKCFpc1JlYWN0MTYpIHtcclxuICAgICAgICB0aGlzLm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMubm9kZS5jbGFzc05hbWUgPSB0aGlzLnByb3BzLnBvcnRhbENsYXNzTmFtZTtcclxuXHJcbiAgICAgIHZhciBwYXJlbnQgPSBnZXRQYXJlbnRFbGVtZW50KHRoaXMucHJvcHMucGFyZW50U2VsZWN0b3IpO1xyXG4gICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcclxuXHJcbiAgICAgICFpc1JlYWN0MTYgJiYgdGhpcy5yZW5kZXJQb3J0YWwodGhpcy5wcm9wcyk7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiBcImdldFNuYXBzaG90QmVmb3JlVXBkYXRlXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUocHJldlByb3BzKSB7XHJcbiAgICAgIHZhciBwcmV2UGFyZW50ID0gZ2V0UGFyZW50RWxlbWVudChwcmV2UHJvcHMucGFyZW50U2VsZWN0b3IpO1xyXG4gICAgICB2YXIgbmV4dFBhcmVudCA9IGdldFBhcmVudEVsZW1lbnQodGhpcy5wcm9wcy5wYXJlbnRTZWxlY3Rvcik7XHJcbiAgICAgIHJldHVybiB7IHByZXZQYXJlbnQ6IHByZXZQYXJlbnQsIG5leHRQYXJlbnQ6IG5leHRQYXJlbnQgfTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgXywgc25hcHNob3QpIHtcclxuICAgICAgaWYgKCFfc2FmZUhUTUxFbGVtZW50LmNhblVzZURPTSkgcmV0dXJuO1xyXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcclxuICAgICAgICAgIGlzT3BlbiA9IF9wcm9wcy5pc09wZW4sXHJcbiAgICAgICAgICBwb3J0YWxDbGFzc05hbWUgPSBfcHJvcHMucG9ydGFsQ2xhc3NOYW1lO1xyXG5cclxuXHJcbiAgICAgIGlmIChwcmV2UHJvcHMucG9ydGFsQ2xhc3NOYW1lICE9PSBwb3J0YWxDbGFzc05hbWUpIHtcclxuICAgICAgICB0aGlzLm5vZGUuY2xhc3NOYW1lID0gcG9ydGFsQ2xhc3NOYW1lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgcHJldlBhcmVudCA9IHNuYXBzaG90LnByZXZQYXJlbnQsXHJcbiAgICAgICAgICBuZXh0UGFyZW50ID0gc25hcHNob3QubmV4dFBhcmVudDtcclxuXHJcbiAgICAgIGlmIChuZXh0UGFyZW50ICE9PSBwcmV2UGFyZW50KSB7XHJcbiAgICAgICAgcHJldlBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLm5vZGUpO1xyXG4gICAgICAgIG5leHRQYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU3RvcCB1bm5lY2Vzc2FyeSByZW5kZXJzIGlmIG1vZGFsIGlzIHJlbWFpbmluZyBjbG9zZWRcclxuICAgICAgaWYgKCFwcmV2UHJvcHMuaXNPcGVuICYmICFpc09wZW4pIHJldHVybjtcclxuXHJcbiAgICAgICFpc1JlYWN0MTYgJiYgdGhpcy5yZW5kZXJQb3J0YWwodGhpcy5wcm9wcyk7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgIGlmICghX3NhZmVIVE1MRWxlbWVudC5jYW5Vc2VET00gfHwgIXRoaXMubm9kZSB8fCAhdGhpcy5wb3J0YWwpIHJldHVybjtcclxuXHJcbiAgICAgIHZhciBzdGF0ZSA9IHRoaXMucG9ydGFsLnN0YXRlO1xyXG4gICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgdmFyIGNsb3Nlc0F0ID0gc3RhdGUuaXNPcGVuICYmIHRoaXMucHJvcHMuY2xvc2VUaW1lb3V0TVMgJiYgKHN0YXRlLmNsb3Nlc0F0IHx8IG5vdyArIHRoaXMucHJvcHMuY2xvc2VUaW1lb3V0TVMpO1xyXG5cclxuICAgICAgaWYgKGNsb3Nlc0F0KSB7XHJcbiAgICAgICAgaWYgKCFzdGF0ZS5iZWZvcmVDbG9zZSkge1xyXG4gICAgICAgICAgdGhpcy5wb3J0YWwuY2xvc2VXaXRoVGltZW91dCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLnJlbW92ZVBvcnRhbCwgY2xvc2VzQXQgLSBub3cpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucmVtb3ZlUG9ydGFsKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6IFwicmVuZGVyXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgICBpZiAoIV9zYWZlSFRNTEVsZW1lbnQuY2FuVXNlRE9NIHx8ICFpc1JlYWN0MTYpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCF0aGlzLm5vZGUgJiYgaXNSZWFjdDE2KSB7XHJcbiAgICAgICAgdGhpcy5ub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGNyZWF0ZVBvcnRhbCA9IGdldENyZWF0ZVBvcnRhbCgpO1xyXG4gICAgICByZXR1cm4gY3JlYXRlUG9ydGFsKF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Nb2RhbFBvcnRhbDIuZGVmYXVsdCwgX2V4dGVuZHMoe1xyXG4gICAgICAgIHJlZjogdGhpcy5wb3J0YWxSZWYsXHJcbiAgICAgICAgZGVmYXVsdFN0eWxlczogTW9kYWwuZGVmYXVsdFN0eWxlc1xyXG4gICAgICB9LCB0aGlzLnByb3BzKSksIHRoaXMubm9kZSk7XHJcbiAgICB9XHJcbiAgfV0sIFt7XHJcbiAgICBrZXk6IFwic2V0QXBwRWxlbWVudFwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFwcEVsZW1lbnQoZWxlbWVudCkge1xyXG4gICAgICBhcmlhQXBwSGlkZXIuc2V0RWxlbWVudChlbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9uby11bnVzZWQtcHJvcC10eXBlcyAqL1xyXG5cclxuICAgIC8qIGVzbGludC1lbmFibGUgcmVhY3Qvbm8tdW51c2VkLXByb3AtdHlwZXMgKi9cclxuXHJcbiAgfV0pO1xyXG5cclxuICByZXR1cm4gTW9kYWw7XHJcbn0oX3JlYWN0LkNvbXBvbmVudCk7XHJcblxyXG5Nb2RhbC5wcm9wVHlwZXMgPSB7XHJcbiAgaXNPcGVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wuaXNSZXF1aXJlZCxcclxuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XHJcbiAgICBjb250ZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcclxuICAgIG92ZXJsYXk6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XHJcbiAgfSksXHJcbiAgcG9ydGFsQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICBib2R5T3BlbkNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgaHRtbE9wZW5DbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxyXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLCBfcHJvcFR5cGVzMi5kZWZhdWx0LnNoYXBlKHtcclxuICAgIGJhc2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICBhZnRlck9wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICBiZWZvcmVDbG9zZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZFxyXG4gIH0pXSksXHJcbiAgb3ZlcmxheUNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLCBfcHJvcFR5cGVzMi5kZWZhdWx0LnNoYXBlKHtcclxuICAgIGJhc2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICBhZnRlck9wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgICBiZWZvcmVDbG9zZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZFxyXG4gIH0pXSksXHJcbiAgYXBwRWxlbWVudDogX3Byb3BUeXBlczIuZGVmYXVsdC5pbnN0YW5jZU9mKF9zYWZlSFRNTEVsZW1lbnQyLmRlZmF1bHQpLFxyXG4gIG9uQWZ0ZXJPcGVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25SZXF1ZXN0Q2xvc2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcclxuICBjbG9zZVRpbWVvdXRNUzogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXHJcbiAgYXJpYUhpZGVBcHA6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcclxuICBzaG91bGRGb2N1c0FmdGVyUmVuZGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcbiAgc2hvdWxkQ2xvc2VPbk92ZXJsYXlDbGljazogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxyXG4gIHNob3VsZFJldHVybkZvY3VzQWZ0ZXJDbG9zZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxyXG4gIHBhcmVudFNlbGVjdG9yOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgYXJpYTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXHJcbiAgZGF0YTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXHJcbiAgcm9sZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgY29udGVudExhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICBzaG91bGRDbG9zZU9uRXNjOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcbiAgb3ZlcmxheVJlZjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIGNvbnRlbnRSZWY6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xyXG59O1xyXG5Nb2RhbC5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgaXNPcGVuOiBmYWxzZSxcclxuICBwb3J0YWxDbGFzc05hbWU6IHBvcnRhbENsYXNzTmFtZSxcclxuICBib2R5T3BlbkNsYXNzTmFtZTogYm9keU9wZW5DbGFzc05hbWUsXHJcbiAgcm9sZTogXCJkaWFsb2dcIixcclxuICBhcmlhSGlkZUFwcDogdHJ1ZSxcclxuICBjbG9zZVRpbWVvdXRNUzogMCxcclxuICBzaG91bGRGb2N1c0FmdGVyUmVuZGVyOiB0cnVlLFxyXG4gIHNob3VsZENsb3NlT25Fc2M6IHRydWUsXHJcbiAgc2hvdWxkQ2xvc2VPbk92ZXJsYXlDbGljazogdHJ1ZSxcclxuICBzaG91bGRSZXR1cm5Gb2N1c0FmdGVyQ2xvc2U6IHRydWUsXHJcbiAgcGFyZW50U2VsZWN0b3I6IGZ1bmN0aW9uIHBhcmVudFNlbGVjdG9yKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XHJcbiAgfVxyXG59O1xyXG5Nb2RhbC5kZWZhdWx0U3R5bGVzID0ge1xyXG4gIG92ZXJsYXk6IHtcclxuICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXHJcbiAgICB0b3A6IDAsXHJcbiAgICBsZWZ0OiAwLFxyXG4gICAgcmlnaHQ6IDAsXHJcbiAgICBib3R0b206IDAsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjc1KVwiXHJcbiAgfSxcclxuICBjb250ZW50OiB7XHJcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgdG9wOiBcIjQwcHhcIixcclxuICAgIGxlZnQ6IFwiNDBweFwiLFxyXG4gICAgcmlnaHQ6IFwiNDBweFwiLFxyXG4gICAgYm90dG9tOiBcIjQwcHhcIixcclxuICAgIGJvcmRlcjogXCIxcHggc29saWQgI2NjY1wiLFxyXG4gICAgYmFja2dyb3VuZDogXCIjZmZmXCIsXHJcbiAgICBvdmVyZmxvdzogXCJhdXRvXCIsXHJcbiAgICBXZWJraXRPdmVyZmxvd1Njcm9sbGluZzogXCJ0b3VjaFwiLFxyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxyXG4gICAgb3V0bGluZTogXCJub25lXCIsXHJcbiAgICBwYWRkaW5nOiBcIjIwcHhcIlxyXG4gIH1cclxufTtcclxuXHJcblxyXG4oMCwgX3JlYWN0TGlmZWN5Y2xlc0NvbXBhdC5wb2x5ZmlsbCkoTW9kYWwpO1xyXG5cclxuZXhwb3J0cy5kZWZhdWx0ID0gTW9kYWw7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICB2YWx1ZTogdHJ1ZVxyXG59KTtcclxuXHJcbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XHJcblxyXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XHJcblxyXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xyXG5cclxudmFyIF9yZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcclxuXHJcbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKFwicHJvcC10eXBlc1wiKTtcclxuXHJcbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XHJcblxyXG52YXIgX2ZvY3VzTWFuYWdlciA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL2ZvY3VzTWFuYWdlclwiKTtcclxuXHJcbnZhciBmb2N1c01hbmFnZXIgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZm9jdXNNYW5hZ2VyKTtcclxuXHJcbnZhciBfc2NvcGVUYWIgPSByZXF1aXJlKFwiLi4vaGVscGVycy9zY29wZVRhYlwiKTtcclxuXHJcbnZhciBfc2NvcGVUYWIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2NvcGVUYWIpO1xyXG5cclxudmFyIF9hcmlhQXBwSGlkZXIgPSByZXF1aXJlKFwiLi4vaGVscGVycy9hcmlhQXBwSGlkZXJcIik7XHJcblxyXG52YXIgYXJpYUFwcEhpZGVyID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2FyaWFBcHBIaWRlcik7XHJcblxyXG52YXIgX2NsYXNzTGlzdCA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL2NsYXNzTGlzdFwiKTtcclxuXHJcbnZhciBjbGFzc0xpc3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY2xhc3NMaXN0KTtcclxuXHJcbnZhciBfc2FmZUhUTUxFbGVtZW50ID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvc2FmZUhUTUxFbGVtZW50XCIpO1xyXG5cclxudmFyIF9zYWZlSFRNTEVsZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2FmZUhUTUxFbGVtZW50KTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxyXG5cclxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cclxuXHJcbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxyXG5cclxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XHJcblxyXG4vLyBzbyB0aGF0IG91ciBDU1MgaXMgc3RhdGljYWxseSBhbmFseXphYmxlXHJcbnZhciBDTEFTU19OQU1FUyA9IHtcclxuICBvdmVybGF5OiBcIlJlYWN0TW9kYWxfX092ZXJsYXlcIixcclxuICBjb250ZW50OiBcIlJlYWN0TW9kYWxfX0NvbnRlbnRcIlxyXG59O1xyXG5cclxudmFyIFRBQl9LRVkgPSA5O1xyXG52YXIgRVNDX0tFWSA9IDI3O1xyXG5cclxudmFyIGFyaWFIaWRkZW5JbnN0YW5jZXMgPSAwO1xyXG5cclxudmFyIE1vZGFsUG9ydGFsID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcclxuICBfaW5oZXJpdHMoTW9kYWxQb3J0YWwsIF9Db21wb25lbnQpO1xyXG5cclxuICBmdW5jdGlvbiBNb2RhbFBvcnRhbChwcm9wcykge1xyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vZGFsUG9ydGFsKTtcclxuXHJcbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTW9kYWxQb3J0YWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihNb2RhbFBvcnRhbCkpLmNhbGwodGhpcywgcHJvcHMpKTtcclxuXHJcbiAgICBfdGhpcy5zZXRPdmVybGF5UmVmID0gZnVuY3Rpb24gKG92ZXJsYXkpIHtcclxuICAgICAgX3RoaXMub3ZlcmxheSA9IG92ZXJsYXk7XHJcbiAgICAgIF90aGlzLnByb3BzLm92ZXJsYXlSZWYgJiYgX3RoaXMucHJvcHMub3ZlcmxheVJlZihvdmVybGF5KTtcclxuICAgIH07XHJcblxyXG4gICAgX3RoaXMuc2V0Q29udGVudFJlZiA9IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcbiAgICAgIF90aGlzLmNvbnRlbnQgPSBjb250ZW50O1xyXG4gICAgICBfdGhpcy5wcm9wcy5jb250ZW50UmVmICYmIF90aGlzLnByb3BzLmNvbnRlbnRSZWYoY29udGVudCk7XHJcbiAgICB9O1xyXG5cclxuICAgIF90aGlzLmFmdGVyQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxyXG4gICAgICAgICAgYXBwRWxlbWVudCA9IF90aGlzJHByb3BzLmFwcEVsZW1lbnQsXHJcbiAgICAgICAgICBhcmlhSGlkZUFwcCA9IF90aGlzJHByb3BzLmFyaWFIaWRlQXBwLFxyXG4gICAgICAgICAgaHRtbE9wZW5DbGFzc05hbWUgPSBfdGhpcyRwcm9wcy5odG1sT3BlbkNsYXNzTmFtZSxcclxuICAgICAgICAgIGJvZHlPcGVuQ2xhc3NOYW1lID0gX3RoaXMkcHJvcHMuYm9keU9wZW5DbGFzc05hbWU7XHJcblxyXG4gICAgICAvLyBSZW1vdmUgY2xhc3Nlcy5cclxuXHJcbiAgICAgIGJvZHlPcGVuQ2xhc3NOYW1lICYmIGNsYXNzTGlzdC5yZW1vdmUoZG9jdW1lbnQuYm9keSwgYm9keU9wZW5DbGFzc05hbWUpO1xyXG5cclxuICAgICAgaHRtbE9wZW5DbGFzc05hbWUgJiYgY2xhc3NMaXN0LnJlbW92ZShkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImh0bWxcIilbMF0sIGh0bWxPcGVuQ2xhc3NOYW1lKTtcclxuXHJcbiAgICAgIC8vIFJlc2V0IGFyaWEtaGlkZGVuIGF0dHJpYnV0ZSBpZiBhbGwgbW9kYWxzIGhhdmUgYmVlbiByZW1vdmVkXHJcbiAgICAgIGlmIChhcmlhSGlkZUFwcCAmJiBhcmlhSGlkZGVuSW5zdGFuY2VzID4gMCkge1xyXG4gICAgICAgIGFyaWFIaWRkZW5JbnN0YW5jZXMgLT0gMTtcclxuXHJcbiAgICAgICAgaWYgKGFyaWFIaWRkZW5JbnN0YW5jZXMgPT09IDApIHtcclxuICAgICAgICAgIGFyaWFBcHBIaWRlci5zaG93KGFwcEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKF90aGlzLnByb3BzLnNob3VsZEZvY3VzQWZ0ZXJSZW5kZXIpIHtcclxuICAgICAgICBpZiAoX3RoaXMucHJvcHMuc2hvdWxkUmV0dXJuRm9jdXNBZnRlckNsb3NlKSB7XHJcbiAgICAgICAgICBmb2N1c01hbmFnZXIucmV0dXJuRm9jdXMoKTtcclxuICAgICAgICAgIGZvY3VzTWFuYWdlci50ZWFyZG93blNjb3BlZEZvY3VzKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGZvY3VzTWFuYWdlci5wb3BXaXRob3V0Rm9jdXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkFmdGVyQ2xvc2UpIHtcclxuICAgICAgICBfdGhpcy5wcm9wcy5vbkFmdGVyQ2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5vcGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBfdGhpcy5iZWZvcmVPcGVuKCk7XHJcbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5hZnRlck9wZW4gJiYgX3RoaXMuc3RhdGUuYmVmb3JlQ2xvc2UpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMuY2xvc2VUaW1lcik7XHJcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBiZWZvcmVDbG9zZTogZmFsc2UgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKF90aGlzLnByb3BzLnNob3VsZEZvY3VzQWZ0ZXJSZW5kZXIpIHtcclxuICAgICAgICAgIGZvY3VzTWFuYWdlci5zZXR1cFNjb3BlZEZvY3VzKF90aGlzLm5vZGUpO1xyXG4gICAgICAgICAgZm9jdXNNYW5hZ2VyLm1hcmtGb3JGb2N1c0xhdGVyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGFmdGVyT3BlbjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuaXNPcGVuICYmIF90aGlzLnByb3BzLm9uQWZ0ZXJPcGVuKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uQWZ0ZXJPcGVuKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX3RoaXMuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5jbG9zZVRpbWVvdXRNUyA+IDApIHtcclxuICAgICAgICBfdGhpcy5jbG9zZVdpdGhUaW1lb3V0KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgX3RoaXMuY2xvc2VXaXRob3V0VGltZW91dCgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIF90aGlzLmZvY3VzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIF90aGlzLmNvbnRlbnQgJiYgIV90aGlzLmNvbnRlbnRIYXNGb2N1cygpICYmIF90aGlzLmNvbnRlbnQuZm9jdXMoKTtcclxuICAgIH07XHJcblxyXG4gICAgX3RoaXMuY2xvc2VXaXRoVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIGNsb3Nlc0F0ID0gRGF0ZS5ub3coKSArIF90aGlzLnByb3BzLmNsb3NlVGltZW91dE1TO1xyXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGJlZm9yZUNsb3NlOiB0cnVlLCBjbG9zZXNBdDogY2xvc2VzQXQgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF90aGlzLmNsb3NlVGltZXIgPSBzZXRUaW1lb3V0KF90aGlzLmNsb3NlV2l0aG91dFRpbWVvdXQsIF90aGlzLnN0YXRlLmNsb3Nlc0F0IC0gRGF0ZS5ub3coKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5jbG9zZVdpdGhvdXRUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgYmVmb3JlQ2xvc2U6IGZhbHNlLFxyXG4gICAgICAgIGlzT3BlbjogZmFsc2UsXHJcbiAgICAgICAgYWZ0ZXJPcGVuOiBmYWxzZSxcclxuICAgICAgICBjbG9zZXNBdDogbnVsbFxyXG4gICAgICB9LCBfdGhpcy5hZnRlckNsb3NlKTtcclxuICAgIH07XHJcblxyXG4gICAgX3RoaXMuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gVEFCX0tFWSkge1xyXG4gICAgICAgICgwLCBfc2NvcGVUYWIyLmRlZmF1bHQpKF90aGlzLmNvbnRlbnQsIGV2ZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKF90aGlzLnByb3BzLnNob3VsZENsb3NlT25Fc2MgJiYgZXZlbnQua2V5Q29kZSA9PT0gRVNDX0tFWSkge1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIF90aGlzLnJlcXVlc3RDbG9zZShldmVudCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX3RoaXMuaGFuZGxlT3ZlcmxheU9uQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgaWYgKF90aGlzLnNob3VsZENsb3NlID09PSBudWxsKSB7XHJcbiAgICAgICAgX3RoaXMuc2hvdWxkQ2xvc2UgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoX3RoaXMuc2hvdWxkQ2xvc2UgJiYgX3RoaXMucHJvcHMuc2hvdWxkQ2xvc2VPbk92ZXJsYXlDbGljaykge1xyXG4gICAgICAgIGlmIChfdGhpcy5vd25lckhhbmRsZXNDbG9zZSgpKSB7XHJcbiAgICAgICAgICBfdGhpcy5yZXF1ZXN0Q2xvc2UoZXZlbnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBfdGhpcy5mb2N1c0NvbnRlbnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgX3RoaXMuc2hvdWxkQ2xvc2UgPSBudWxsO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5oYW5kbGVDb250ZW50T25Nb3VzZVVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBfdGhpcy5zaG91bGRDbG9zZSA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5oYW5kbGVPdmVybGF5T25Nb3VzZURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgaWYgKCFfdGhpcy5wcm9wcy5zaG91bGRDbG9zZU9uT3ZlcmxheUNsaWNrICYmIGV2ZW50LnRhcmdldCA9PSBfdGhpcy5vdmVybGF5KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5oYW5kbGVDb250ZW50T25DbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgX3RoaXMuc2hvdWxkQ2xvc2UgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgX3RoaXMuaGFuZGxlQ29udGVudE9uTW91c2VEb3duID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBfdGhpcy5zaG91bGRDbG9zZSA9IGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5yZXF1ZXN0Q2xvc2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgcmV0dXJuIF90aGlzLm93bmVySGFuZGxlc0Nsb3NlKCkgJiYgX3RoaXMucHJvcHMub25SZXF1ZXN0Q2xvc2UoZXZlbnQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5vd25lckhhbmRsZXNDbG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIF90aGlzLnByb3BzLm9uUmVxdWVzdENsb3NlO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5zaG91bGRCZUNsb3NlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuICFfdGhpcy5zdGF0ZS5pc09wZW4gJiYgIV90aGlzLnN0YXRlLmJlZm9yZUNsb3NlO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5jb250ZW50SGFzRm9jdXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBfdGhpcy5jb250ZW50IHx8IF90aGlzLmNvbnRlbnQuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XHJcbiAgICB9O1xyXG5cclxuICAgIF90aGlzLmJ1aWxkQ2xhc3NOYW1lID0gZnVuY3Rpb24gKHdoaWNoLCBhZGRpdGlvbmFsKSB7XHJcbiAgICAgIHZhciBjbGFzc05hbWVzID0gKHR5cGVvZiBhZGRpdGlvbmFsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoYWRkaXRpb25hbCkpID09PSBcIm9iamVjdFwiID8gYWRkaXRpb25hbCA6IHtcclxuICAgICAgICBiYXNlOiBDTEFTU19OQU1FU1t3aGljaF0sXHJcbiAgICAgICAgYWZ0ZXJPcGVuOiBDTEFTU19OQU1FU1t3aGljaF0gKyBcIi0tYWZ0ZXItb3BlblwiLFxyXG4gICAgICAgIGJlZm9yZUNsb3NlOiBDTEFTU19OQU1FU1t3aGljaF0gKyBcIi0tYmVmb3JlLWNsb3NlXCJcclxuICAgICAgfTtcclxuICAgICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMuYmFzZTtcclxuICAgICAgaWYgKF90aGlzLnN0YXRlLmFmdGVyT3Blbikge1xyXG4gICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZSArIFwiIFwiICsgY2xhc3NOYW1lcy5hZnRlck9wZW47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKF90aGlzLnN0YXRlLmJlZm9yZUNsb3NlKSB7XHJcbiAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lICsgXCIgXCIgKyBjbGFzc05hbWVzLmJlZm9yZUNsb3NlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0eXBlb2YgYWRkaXRpb25hbCA9PT0gXCJzdHJpbmdcIiAmJiBhZGRpdGlvbmFsID8gY2xhc3NOYW1lICsgXCIgXCIgKyBhZGRpdGlvbmFsIDogY2xhc3NOYW1lO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5hdHRyaWJ1dGVzRnJvbU9iamVjdCA9IGZ1bmN0aW9uIChwcmVmaXgsIGl0ZW1zKSB7XHJcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhpdGVtcykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG5hbWUpIHtcclxuICAgICAgICBhY2NbcHJlZml4ICsgXCItXCIgKyBuYW1lXSA9IGl0ZW1zW25hbWVdO1xyXG4gICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgIH0sIHt9KTtcclxuICAgIH07XHJcblxyXG4gICAgX3RoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFmdGVyT3BlbjogZmFsc2UsXHJcbiAgICAgIGJlZm9yZUNsb3NlOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5zaG91bGRDbG9zZSA9IG51bGw7XHJcbiAgICBfdGhpcy5tb3ZlRnJvbUNvbnRlbnRUb092ZXJsYXkgPSBudWxsO1xyXG4gICAgcmV0dXJuIF90aGlzO1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUNsYXNzKE1vZGFsUG9ydGFsLCBbe1xyXG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzT3Blbikge1xyXG4gICAgICAgIHRoaXMub3BlbigpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xyXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XHJcbiAgICAgICAgaWYgKHByZXZQcm9wcy5ib2R5T3BlbkNsYXNzTmFtZSAhPT0gdGhpcy5wcm9wcy5ib2R5T3BlbkNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgICAgIGNvbnNvbGUud2FybignUmVhY3QtTW9kYWw6IFwiYm9keU9wZW5DbGFzc05hbWVcIiBwcm9wIGhhcyBiZWVuIG1vZGlmaWVkLiAnICsgXCJUaGlzIG1heSBjYXVzZSB1bmV4cGVjdGVkIGJlaGF2aW9yIHdoZW4gbXVsdGlwbGUgbW9kYWxzIGFyZSBvcGVuLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByZXZQcm9wcy5odG1sT3BlbkNsYXNzTmFtZSAhPT0gdGhpcy5wcm9wcy5odG1sT3BlbkNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgICAgIGNvbnNvbGUud2FybignUmVhY3QtTW9kYWw6IFwiaHRtbE9wZW5DbGFzc05hbWVcIiBwcm9wIGhhcyBiZWVuIG1vZGlmaWVkLiAnICsgXCJUaGlzIG1heSBjYXVzZSB1bmV4cGVjdGVkIGJlaGF2aW9yIHdoZW4gbXVsdGlwbGUgbW9kYWxzIGFyZSBvcGVuLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzT3BlbiAmJiAhcHJldlByb3BzLmlzT3Blbikge1xyXG4gICAgICAgIHRoaXMub3BlbigpO1xyXG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLnByb3BzLmlzT3BlbiAmJiBwcmV2UHJvcHMuaXNPcGVuKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBGb2N1cyBvbmx5IG5lZWRzIHRvIGJlIHNldCBvbmNlIHdoZW4gdGhlIG1vZGFsIGlzIGJlaW5nIG9wZW5lZFxyXG4gICAgICBpZiAodGhpcy5wcm9wcy5zaG91bGRGb2N1c0FmdGVyUmVuZGVyICYmIHRoaXMuc3RhdGUuaXNPcGVuICYmICFwcmV2U3RhdGUuaXNPcGVuKSB7XHJcbiAgICAgICAgdGhpcy5mb2N1c0NvbnRlbnQoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICB0aGlzLmFmdGVyQ2xvc2UoKTtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2xvc2VUaW1lcik7XHJcbiAgICB9XHJcbiAgfSwge1xyXG4gICAga2V5OiBcImJlZm9yZU9wZW5cIixcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBiZWZvcmVPcGVuKCkge1xyXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcclxuICAgICAgICAgIGFwcEVsZW1lbnQgPSBfcHJvcHMuYXBwRWxlbWVudCxcclxuICAgICAgICAgIGFyaWFIaWRlQXBwID0gX3Byb3BzLmFyaWFIaWRlQXBwLFxyXG4gICAgICAgICAgaHRtbE9wZW5DbGFzc05hbWUgPSBfcHJvcHMuaHRtbE9wZW5DbGFzc05hbWUsXHJcbiAgICAgICAgICBib2R5T3BlbkNsYXNzTmFtZSA9IF9wcm9wcy5ib2R5T3BlbkNsYXNzTmFtZTtcclxuXHJcbiAgICAgIC8vIEFkZCBjbGFzc2VzLlxyXG5cclxuICAgICAgYm9keU9wZW5DbGFzc05hbWUgJiYgY2xhc3NMaXN0LmFkZChkb2N1bWVudC5ib2R5LCBib2R5T3BlbkNsYXNzTmFtZSk7XHJcblxyXG4gICAgICBodG1sT3BlbkNsYXNzTmFtZSAmJiBjbGFzc0xpc3QuYWRkKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaHRtbFwiKVswXSwgaHRtbE9wZW5DbGFzc05hbWUpO1xyXG5cclxuICAgICAgaWYgKGFyaWFIaWRlQXBwKSB7XHJcbiAgICAgICAgYXJpYUhpZGRlbkluc3RhbmNlcyArPSAxO1xyXG4gICAgICAgIGFyaWFBcHBIaWRlci5oaWRlKGFwcEVsZW1lbnQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRG9uJ3Qgc3RlYWwgZm9jdXMgZnJvbSBpbm5lciBlbGVtZW50c1xyXG5cclxuICB9LCB7XHJcbiAgICBrZXk6IFwicmVuZGVyXCIsXHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXHJcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMyLmNsYXNzTmFtZSxcclxuICAgICAgICAgIG92ZXJsYXlDbGFzc05hbWUgPSBfcHJvcHMyLm92ZXJsYXlDbGFzc05hbWUsXHJcbiAgICAgICAgICBkZWZhdWx0U3R5bGVzID0gX3Byb3BzMi5kZWZhdWx0U3R5bGVzO1xyXG5cclxuICAgICAgdmFyIGNvbnRlbnRTdHlsZXMgPSBjbGFzc05hbWUgPyB7fSA6IGRlZmF1bHRTdHlsZXMuY29udGVudDtcclxuICAgICAgdmFyIG92ZXJsYXlTdHlsZXMgPSBvdmVybGF5Q2xhc3NOYW1lID8ge30gOiBkZWZhdWx0U3R5bGVzLm92ZXJsYXk7XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5zaG91bGRCZUNsb3NlZCgpID8gbnVsbCA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxyXG4gICAgICAgIFwiZGl2XCIsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcmVmOiB0aGlzLnNldE92ZXJsYXlSZWYsXHJcbiAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuYnVpbGRDbGFzc05hbWUoXCJvdmVybGF5XCIsIG92ZXJsYXlDbGFzc05hbWUpLFxyXG4gICAgICAgICAgc3R5bGU6IF9leHRlbmRzKHt9LCBvdmVybGF5U3R5bGVzLCB0aGlzLnByb3BzLnN0eWxlLm92ZXJsYXkpLFxyXG4gICAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVPdmVybGF5T25DbGljayxcclxuICAgICAgICAgIG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZU92ZXJsYXlPbk1vdXNlRG93blxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICBcImRpdlwiLFxyXG4gICAgICAgICAgX2V4dGVuZHMoe1xyXG4gICAgICAgICAgICByZWY6IHRoaXMuc2V0Q29udGVudFJlZixcclxuICAgICAgICAgICAgc3R5bGU6IF9leHRlbmRzKHt9LCBjb250ZW50U3R5bGVzLCB0aGlzLnByb3BzLnN0eWxlLmNvbnRlbnQpLFxyXG4gICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuYnVpbGRDbGFzc05hbWUoXCJjb250ZW50XCIsIGNsYXNzTmFtZSksXHJcbiAgICAgICAgICAgIHRhYkluZGV4OiBcIi0xXCIsXHJcbiAgICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLFxyXG4gICAgICAgICAgICBvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVDb250ZW50T25Nb3VzZURvd24sXHJcbiAgICAgICAgICAgIG9uTW91c2VVcDogdGhpcy5oYW5kbGVDb250ZW50T25Nb3VzZVVwLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUNvbnRlbnRPbkNsaWNrLFxyXG4gICAgICAgICAgICByb2xlOiB0aGlzLnByb3BzLnJvbGUsXHJcbiAgICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOiB0aGlzLnByb3BzLmNvbnRlbnRMYWJlbFxyXG4gICAgICAgICAgfSwgdGhpcy5hdHRyaWJ1dGVzRnJvbU9iamVjdChcImFyaWFcIiwgdGhpcy5wcm9wcy5hcmlhIHx8IHt9KSwgdGhpcy5hdHRyaWJ1dGVzRnJvbU9iamVjdChcImRhdGFcIiwgdGhpcy5wcm9wcy5kYXRhIHx8IHt9KSwge1xyXG4gICAgICAgICAgICBcImRhdGEtdGVzdGlkXCI6IHRoaXMucHJvcHMudGVzdElkXHJcbiAgICAgICAgICB9KSxcclxuICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfV0pO1xyXG5cclxuICByZXR1cm4gTW9kYWxQb3J0YWw7XHJcbn0oX3JlYWN0LkNvbXBvbmVudCk7XHJcblxyXG5Nb2RhbFBvcnRhbC5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgc3R5bGU6IHtcclxuICAgIG92ZXJsYXk6IHt9LFxyXG4gICAgY29udGVudDoge31cclxuICB9LFxyXG4gIGRlZmF1bHRTdHlsZXM6IHt9XHJcbn07XHJcbk1vZGFsUG9ydGFsLnByb3BUeXBlcyA9IHtcclxuICBpc09wZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxyXG4gIGRlZmF1bHRTdHlsZXM6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xyXG4gICAgY29udGVudDogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXHJcbiAgICBvdmVybGF5OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxyXG4gIH0pLFxyXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnNoYXBlKHtcclxuICAgIGNvbnRlbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxyXG4gICAgb3ZlcmxheTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3RcclxuICB9KSxcclxuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3RdKSxcclxuICBvdmVybGF5Q2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsIF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XSksXHJcbiAgYm9keU9wZW5DbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxyXG4gIGh0bWxPcGVuQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICBhcmlhSGlkZUFwcDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxyXG4gIGFwcEVsZW1lbnQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQuaW5zdGFuY2VPZihfc2FmZUhUTUxFbGVtZW50Mi5kZWZhdWx0KSxcclxuICBvbkFmdGVyT3BlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uQWZ0ZXJDbG9zZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uUmVxdWVzdENsb3NlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgY2xvc2VUaW1lb3V0TVM6IF9wcm9wVHlwZXMyLmRlZmF1bHQubnVtYmVyLFxyXG4gIHNob3VsZEZvY3VzQWZ0ZXJSZW5kZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcclxuICBzaG91bGRDbG9zZU9uT3ZlcmxheUNsaWNrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcbiAgc2hvdWxkUmV0dXJuRm9jdXNBZnRlckNsb3NlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcbiAgcm9sZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgY29udGVudExhYmVsOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICBhcmlhOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcclxuICBkYXRhOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcclxuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlLFxyXG4gIHNob3VsZENsb3NlT25Fc2M6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcclxuICBvdmVybGF5UmVmOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgY29udGVudFJlZjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIHRlc3RJZDogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmdcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gTW9kYWxQb3J0YWw7XHJcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICB2YWx1ZTogdHJ1ZVxyXG59KTtcclxuZXhwb3J0cy5hc3NlcnROb2RlTGlzdCA9IGFzc2VydE5vZGVMaXN0O1xyXG5leHBvcnRzLnNldEVsZW1lbnQgPSBzZXRFbGVtZW50O1xyXG5leHBvcnRzLnZhbGlkYXRlRWxlbWVudCA9IHZhbGlkYXRlRWxlbWVudDtcclxuZXhwb3J0cy5oaWRlID0gaGlkZTtcclxuZXhwb3J0cy5zaG93ID0gc2hvdztcclxuZXhwb3J0cy5kb2N1bWVudE5vdFJlYWR5T3JTU1JUZXN0aW5nID0gZG9jdW1lbnROb3RSZWFkeU9yU1NSVGVzdGluZztcclxuZXhwb3J0cy5yZXNldEZvclRlc3RpbmcgPSByZXNldEZvclRlc3Rpbmc7XHJcblxyXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKFwid2FybmluZ1wiKTtcclxuXHJcbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcclxuXHJcbnZhciBfc2FmZUhUTUxFbGVtZW50ID0gcmVxdWlyZShcIi4vc2FmZUhUTUxFbGVtZW50XCIpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbnZhciBnbG9iYWxFbGVtZW50ID0gbnVsbDtcclxuXHJcbmZ1bmN0aW9uIGFzc2VydE5vZGVMaXN0KG5vZGVMaXN0LCBzZWxlY3Rvcikge1xyXG4gIGlmICghbm9kZUxpc3QgfHwgIW5vZGVMaXN0Lmxlbmd0aCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwicmVhY3QtbW9kYWw6IE5vIGVsZW1lbnRzIHdlcmUgZm91bmQgZm9yIHNlbGVjdG9yIFwiICsgc2VsZWN0b3IgKyBcIi5cIik7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRFbGVtZW50KGVsZW1lbnQpIHtcclxuICB2YXIgdXNlRWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgaWYgKHR5cGVvZiB1c2VFbGVtZW50ID09PSBcInN0cmluZ1wiICYmIF9zYWZlSFRNTEVsZW1lbnQuY2FuVXNlRE9NKSB7XHJcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHVzZUVsZW1lbnQpO1xyXG4gICAgYXNzZXJ0Tm9kZUxpc3QoZWwsIHVzZUVsZW1lbnQpO1xyXG4gICAgdXNlRWxlbWVudCA9IFwibGVuZ3RoXCIgaW4gZWwgPyBlbFswXSA6IGVsO1xyXG4gIH1cclxuICBnbG9iYWxFbGVtZW50ID0gdXNlRWxlbWVudCB8fCBnbG9iYWxFbGVtZW50O1xyXG4gIHJldHVybiBnbG9iYWxFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZUVsZW1lbnQoYXBwRWxlbWVudCkge1xyXG4gIGlmICghYXBwRWxlbWVudCAmJiAhZ2xvYmFsRWxlbWVudCkge1xyXG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgW1wicmVhY3QtbW9kYWw6IEFwcCBlbGVtZW50IGlzIG5vdCBkZWZpbmVkLlwiLCBcIlBsZWFzZSB1c2UgYE1vZGFsLnNldEFwcEVsZW1lbnQoZWwpYCBvciBzZXQgYGFwcEVsZW1lbnQ9e2VsfWAuXCIsIFwiVGhpcyBpcyBuZWVkZWQgc28gc2NyZWVuIHJlYWRlcnMgZG9uJ3Qgc2VlIG1haW4gY29udGVudFwiLCBcIndoZW4gbW9kYWwgaXMgb3BlbmVkLiBJdCBpcyBub3QgcmVjb21tZW5kZWQsIGJ1dCB5b3UgY2FuIG9wdC1vdXRcIiwgXCJieSBzZXR0aW5nIGBhcmlhSGlkZUFwcD17ZmFsc2V9YC5cIl0uam9pbihcIiBcIikpO1xyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoaWRlKGFwcEVsZW1lbnQpIHtcclxuICBpZiAodmFsaWRhdGVFbGVtZW50KGFwcEVsZW1lbnQpKSB7XHJcbiAgICAoYXBwRWxlbWVudCB8fCBnbG9iYWxFbGVtZW50KS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93KGFwcEVsZW1lbnQpIHtcclxuICBpZiAodmFsaWRhdGVFbGVtZW50KGFwcEVsZW1lbnQpKSB7XHJcbiAgICAoYXBwRWxlbWVudCB8fCBnbG9iYWxFbGVtZW50KS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRvY3VtZW50Tm90UmVhZHlPclNTUlRlc3RpbmcoKSB7XHJcbiAgZ2xvYmFsRWxlbWVudCA9IG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0Rm9yVGVzdGluZygpIHtcclxuICBnbG9iYWxFbGVtZW50ID0gbnVsbDtcclxufSIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XHJcbiAgdmFsdWU6IHRydWVcclxufSk7XHJcbmV4cG9ydHMuZHVtcENsYXNzTGlzdHMgPSBkdW1wQ2xhc3NMaXN0cztcclxudmFyIGh0bWxDbGFzc0xpc3QgPSB7fTtcclxudmFyIGRvY0JvZHlDbGFzc0xpc3QgPSB7fTtcclxuXHJcbmZ1bmN0aW9uIGR1bXBDbGFzc0xpc3RzKCkge1xyXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcclxuICAgIHZhciBjbGFzc2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJodG1sXCIpWzBdLmNsYXNzTmFtZTtcclxuICAgIHZhciBidWZmZXIgPSBcIlNob3cgdHJhY2tlZCBjbGFzc2VzOlxcblxcblwiO1xyXG5cclxuICAgIGJ1ZmZlciArPSBcIjxodG1sIC8+IChcIiArIGNsYXNzZXMgKyBcIik6XFxuXCI7XHJcbiAgICBmb3IgKHZhciB4IGluIGh0bWxDbGFzc0xpc3QpIHtcclxuICAgICAgYnVmZmVyICs9IFwiICBcIiArIHggKyBcIiBcIiArIGh0bWxDbGFzc0xpc3RbeF0gKyBcIlxcblwiO1xyXG4gICAgfVxyXG5cclxuICAgIGNsYXNzZXMgPSBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZTtcclxuXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxyXG4gICAgYnVmZmVyICs9IFwiXFxuXFxuZG9jLmJvZHkgKFwiICsgY2xhc3NlcyArIFwiKTpcXG5cIjtcclxuICAgIGZvciAodmFyIF94IGluIGRvY0JvZHlDbGFzc0xpc3QpIHtcclxuICAgICAgYnVmZmVyICs9IFwiICBcIiArIF94ICsgXCIgXCIgKyBkb2NCb2R5Q2xhc3NMaXN0W194XSArIFwiXFxuXCI7XHJcbiAgICB9XHJcblxyXG4gICAgYnVmZmVyICs9IFwiXFxuXCI7XHJcblxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgIGNvbnNvbGUubG9nKGJ1ZmZlcik7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogVHJhY2sgdGhlIG51bWJlciBvZiByZWZlcmVuY2Ugb2YgYSBjbGFzcy5cclxuICogQHBhcmFtIHtvYmplY3R9IHBvbGwgVGhlIHBvbGwgdG8gcmVjZWl2ZSB0aGUgcmVmZXJlbmNlLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIFRoZSBjbGFzcyBuYW1lLlxyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XHJcbiAqL1xyXG52YXIgaW5jcmVtZW50UmVmZXJlbmNlID0gZnVuY3Rpb24gaW5jcmVtZW50UmVmZXJlbmNlKHBvbGwsIGNsYXNzTmFtZSkge1xyXG4gIGlmICghcG9sbFtjbGFzc05hbWVdKSB7XHJcbiAgICBwb2xsW2NsYXNzTmFtZV0gPSAwO1xyXG4gIH1cclxuICBwb2xsW2NsYXNzTmFtZV0gKz0gMTtcclxuICByZXR1cm4gY2xhc3NOYW1lO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIERyb3AgdGhlIHJlZmVyZW5jZSBvZiBhIGNsYXNzLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gcG9sbCBUaGUgcG9sbCB0byByZWNlaXZlIHRoZSByZWZlcmVuY2UuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgVGhlIGNsYXNzIG5hbWUuXHJcbiAqIEByZXR1cm4ge3N0cmluZ31cclxuICovXHJcbnZhciBkZWNyZW1lbnRSZWZlcmVuY2UgPSBmdW5jdGlvbiBkZWNyZW1lbnRSZWZlcmVuY2UocG9sbCwgY2xhc3NOYW1lKSB7XHJcbiAgaWYgKHBvbGxbY2xhc3NOYW1lXSkge1xyXG4gICAgcG9sbFtjbGFzc05hbWVdIC09IDE7XHJcbiAgfVxyXG4gIHJldHVybiBjbGFzc05hbWU7XHJcbn07XHJcblxyXG4vKipcclxuICogVHJhY2sgYSBjbGFzcyBhbmQgYWRkIHRvIHRoZSBnaXZlbiBjbGFzcyBsaXN0LlxyXG4gKiBAcGFyYW0ge09iamVjdH0gY2xhc3NMaXN0UmVmIEEgY2xhc3MgbGlzdCBvZiBhbiBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcG9sbCAgICAgICAgIFRoZSBwb2xsIHRvIGJlIHVzZWQuXHJcbiAqIEBwYXJhbSB7QXJyYXl9ICBjbGFzc2VzICAgICAgVGhlIGxpc3Qgb2YgY2xhc3NlcyB0byBiZSB0cmFja2VkLlxyXG4gKi9cclxudmFyIHRyYWNrQ2xhc3MgPSBmdW5jdGlvbiB0cmFja0NsYXNzKGNsYXNzTGlzdFJlZiwgcG9sbCwgY2xhc3Nlcykge1xyXG4gIGNsYXNzZXMuZm9yRWFjaChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICBpbmNyZW1lbnRSZWZlcmVuY2UocG9sbCwgY2xhc3NOYW1lKTtcclxuICAgIGNsYXNzTGlzdFJlZi5hZGQoY2xhc3NOYW1lKTtcclxuICB9KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBVbnRyYWNrIGEgY2xhc3MgYW5kIHJlbW92ZSBmcm9tIHRoZSBnaXZlbiBjbGFzcyBsaXN0IGlmIHRoZSByZWZlcmVuY2VcclxuICogcmVhY2hlcyAwLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gY2xhc3NMaXN0UmVmIEEgY2xhc3MgbGlzdCBvZiBhbiBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcG9sbCAgICAgICAgIFRoZSBwb2xsIHRvIGJlIHVzZWQuXHJcbiAqIEBwYXJhbSB7QXJyYXl9ICBjbGFzc2VzICAgICAgVGhlIGxpc3Qgb2YgY2xhc3NlcyB0byBiZSB1bnRyYWNrZWQuXHJcbiAqL1xyXG52YXIgdW50cmFja0NsYXNzID0gZnVuY3Rpb24gdW50cmFja0NsYXNzKGNsYXNzTGlzdFJlZiwgcG9sbCwgY2xhc3Nlcykge1xyXG4gIGNsYXNzZXMuZm9yRWFjaChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICBkZWNyZW1lbnRSZWZlcmVuY2UocG9sbCwgY2xhc3NOYW1lKTtcclxuICAgIHBvbGxbY2xhc3NOYW1lXSA9PT0gMCAmJiBjbGFzc0xpc3RSZWYucmVtb3ZlKGNsYXNzTmFtZSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vKipcclxuICogUHVibGljIGluZmVyZmFjZSB0byBhZGQgY2xhc3NlcyB0byB0aGUgZG9jdW1lbnQuYm9keS5cclxuICogQHBhcmFtIHtzdHJpbmd9IGJvZHlDbGFzcyBUaGUgY2xhc3Mgc3RyaW5nIHRvIGJlIGFkZGVkLlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIEl0IG1heSBjb250YWluIG1vcmUgdGhlbiBvbmUgY2xhc3NcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoICcgJyBhcyBzZXBhcmF0b3IuXHJcbiAqL1xyXG52YXIgYWRkID0gZXhwb3J0cy5hZGQgPSBmdW5jdGlvbiBhZGQoZWxlbWVudCwgY2xhc3NTdHJpbmcpIHtcclxuICByZXR1cm4gdHJhY2tDbGFzcyhlbGVtZW50LmNsYXNzTGlzdCwgZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09IFwiaHRtbFwiID8gaHRtbENsYXNzTGlzdCA6IGRvY0JvZHlDbGFzc0xpc3QsIGNsYXNzU3RyaW5nLnNwbGl0KFwiIFwiKSk7XHJcbn07XHJcblxyXG4vKipcclxuICogUHVibGljIGluZmVyZmFjZSB0byByZW1vdmUgY2xhc3NlcyBmcm9tIHRoZSBkb2N1bWVudC5ib2R5LlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYm9keUNsYXNzIFRoZSBjbGFzcyBzdHJpbmcgdG8gYmUgYWRkZWQuXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgSXQgbWF5IGNvbnRhaW4gbW9yZSB0aGVuIG9uZSBjbGFzc1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggJyAnIGFzIHNlcGFyYXRvci5cclxuICovXHJcbnZhciByZW1vdmUgPSBleHBvcnRzLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZShlbGVtZW50LCBjbGFzc1N0cmluZykge1xyXG4gIHJldHVybiB1bnRyYWNrQ2xhc3MoZWxlbWVudC5jbGFzc0xpc3QsIGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSBcImh0bWxcIiA/IGh0bWxDbGFzc0xpc3QgOiBkb2NCb2R5Q2xhc3NMaXN0LCBjbGFzc1N0cmluZy5zcGxpdChcIiBcIikpO1xyXG59OyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XHJcbiAgdmFsdWU6IHRydWVcclxufSk7XHJcbmV4cG9ydHMuaGFuZGxlQmx1ciA9IGhhbmRsZUJsdXI7XHJcbmV4cG9ydHMuaGFuZGxlRm9jdXMgPSBoYW5kbGVGb2N1cztcclxuZXhwb3J0cy5tYXJrRm9yRm9jdXNMYXRlciA9IG1hcmtGb3JGb2N1c0xhdGVyO1xyXG5leHBvcnRzLnJldHVybkZvY3VzID0gcmV0dXJuRm9jdXM7XHJcbmV4cG9ydHMucG9wV2l0aG91dEZvY3VzID0gcG9wV2l0aG91dEZvY3VzO1xyXG5leHBvcnRzLnNldHVwU2NvcGVkRm9jdXMgPSBzZXR1cFNjb3BlZEZvY3VzO1xyXG5leHBvcnRzLnRlYXJkb3duU2NvcGVkRm9jdXMgPSB0ZWFyZG93blNjb3BlZEZvY3VzO1xyXG5cclxudmFyIF90YWJiYWJsZSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3RhYmJhYmxlXCIpO1xyXG5cclxudmFyIF90YWJiYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90YWJiYWJsZSk7XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxyXG5cclxudmFyIGZvY3VzTGF0ZXJFbGVtZW50cyA9IFtdO1xyXG52YXIgbW9kYWxFbGVtZW50ID0gbnVsbDtcclxudmFyIG5lZWRUb0ZvY3VzID0gZmFsc2U7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVCbHVyKCkge1xyXG4gIG5lZWRUb0ZvY3VzID0gdHJ1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRm9jdXMoKSB7XHJcbiAgaWYgKG5lZWRUb0ZvY3VzKSB7XHJcbiAgICBuZWVkVG9Gb2N1cyA9IGZhbHNlO1xyXG4gICAgaWYgKCFtb2RhbEVsZW1lbnQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gbmVlZCB0byBzZWUgaG93IGpRdWVyeSBzaGltcyBkb2N1bWVudC5vbignZm9jdXNpbicpIHNvIHdlIGRvbid0IG5lZWQgdGhlXHJcbiAgICAvLyBzZXRUaW1lb3V0LCBmaXJlZm94IGRvZXNuJ3Qgc3VwcG9ydCBmb2N1c2luLCBpZiBpdCBkaWQsIHdlIGNvdWxkIGZvY3VzXHJcbiAgICAvLyB0aGUgZWxlbWVudCBvdXRzaWRlIG9mIGEgc2V0VGltZW91dC4gU2lkZS1lZmZlY3Qgb2YgdGhpcyBpbXBsZW1lbnRhdGlvblxyXG4gICAgLy8gaXMgdGhhdCB0aGUgZG9jdW1lbnQuYm9keSBnZXRzIGZvY3VzLCBhbmQgdGhlbiB3ZSBmb2N1cyBvdXIgZWxlbWVudCByaWdodFxyXG4gICAgLy8gYWZ0ZXIsIHNlZW1zIGZpbmUuXHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKG1vZGFsRWxlbWVudC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB2YXIgZWwgPSAoMCwgX3RhYmJhYmxlMi5kZWZhdWx0KShtb2RhbEVsZW1lbnQpWzBdIHx8IG1vZGFsRWxlbWVudDtcclxuICAgICAgZWwuZm9jdXMoKTtcclxuICAgIH0sIDApO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbWFya0ZvckZvY3VzTGF0ZXIoKSB7XHJcbiAgZm9jdXNMYXRlckVsZW1lbnRzLnB1c2goZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XHJcbn1cclxuXHJcbi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cclxuZnVuY3Rpb24gcmV0dXJuRm9jdXMoKSB7XHJcbiAgdmFyIHRvRm9jdXMgPSBudWxsO1xyXG4gIHRyeSB7XHJcbiAgICBpZiAoZm9jdXNMYXRlckVsZW1lbnRzLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICB0b0ZvY3VzID0gZm9jdXNMYXRlckVsZW1lbnRzLnBvcCgpO1xyXG4gICAgICB0b0ZvY3VzLmZvY3VzKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm47XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS53YXJuKFtcIllvdSB0cmllZCB0byByZXR1cm4gZm9jdXMgdG9cIiwgdG9Gb2N1cywgXCJidXQgaXQgaXMgbm90IGluIHRoZSBET00gYW55bW9yZVwiXS5qb2luKFwiIFwiKSk7XHJcbiAgfVxyXG59XHJcbi8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xyXG5cclxuZnVuY3Rpb24gcG9wV2l0aG91dEZvY3VzKCkge1xyXG4gIGZvY3VzTGF0ZXJFbGVtZW50cy5sZW5ndGggPiAwICYmIGZvY3VzTGF0ZXJFbGVtZW50cy5wb3AoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0dXBTY29wZWRGb2N1cyhlbGVtZW50KSB7XHJcbiAgbW9kYWxFbGVtZW50ID0gZWxlbWVudDtcclxuXHJcbiAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgaGFuZGxlQmx1ciwgZmFsc2UpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIGhhbmRsZUZvY3VzLCB0cnVlKTtcclxuICB9IGVsc2Uge1xyXG4gICAgd2luZG93LmF0dGFjaEV2ZW50KFwib25CbHVyXCIsIGhhbmRsZUJsdXIpO1xyXG4gICAgZG9jdW1lbnQuYXR0YWNoRXZlbnQoXCJvbkZvY3VzXCIsIGhhbmRsZUZvY3VzKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRlYXJkb3duU2NvcGVkRm9jdXMoKSB7XHJcbiAgbW9kYWxFbGVtZW50ID0gbnVsbDtcclxuXHJcbiAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgaGFuZGxlQmx1cik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgaGFuZGxlRm9jdXMpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB3aW5kb3cuZGV0YWNoRXZlbnQoXCJvbkJsdXJcIiwgaGFuZGxlQmx1cik7XHJcbiAgICBkb2N1bWVudC5kZXRhY2hFdmVudChcIm9uRm9jdXNcIiwgaGFuZGxlRm9jdXMpO1xyXG4gIH1cclxufSIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XHJcbiAgdmFsdWU6IHRydWVcclxufSk7XHJcbmV4cG9ydHMuY2FuVXNlRE9NID0gdW5kZWZpbmVkO1xyXG5cclxudmFyIF9leGVudiA9IHJlcXVpcmUoXCJleGVudlwiKTtcclxuXHJcbnZhciBfZXhlbnYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXhlbnYpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbnZhciBFRSA9IF9leGVudjIuZGVmYXVsdDtcclxuXHJcbnZhciBTYWZlSFRNTEVsZW1lbnQgPSBFRS5jYW5Vc2VET00gPyB3aW5kb3cuSFRNTEVsZW1lbnQgOiB7fTtcclxuXHJcbnZhciBjYW5Vc2VET00gPSBleHBvcnRzLmNhblVzZURPTSA9IEVFLmNhblVzZURPTTtcclxuXHJcbmV4cG9ydHMuZGVmYXVsdCA9IFNhZmVIVE1MRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xyXG4gIHZhbHVlOiB0cnVlXHJcbn0pO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBzY29wZVRhYjtcclxuXHJcbnZhciBfdGFiYmFibGUgPSByZXF1aXJlKFwiLi90YWJiYWJsZVwiKTtcclxuXHJcbnZhciBfdGFiYmFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGFiYmFibGUpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmZ1bmN0aW9uIHNjb3BlVGFiKG5vZGUsIGV2ZW50KSB7XHJcbiAgdmFyIHRhYmJhYmxlID0gKDAsIF90YWJiYWJsZTIuZGVmYXVsdCkobm9kZSk7XHJcblxyXG4gIGlmICghdGFiYmFibGUubGVuZ3RoKSB7XHJcbiAgICAvLyBEbyBub3RoaW5nLCBzaW5jZSB0aGVyZSBhcmUgbm8gZWxlbWVudHMgdGhhdCBjYW4gcmVjZWl2ZSBmb2N1cy5cclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICB2YXIgc2hpZnRLZXkgPSBldmVudC5zaGlmdEtleTtcclxuICB2YXIgaGVhZCA9IHRhYmJhYmxlWzBdO1xyXG4gIHZhciB0YWlsID0gdGFiYmFibGVbdGFiYmFibGUubGVuZ3RoIC0gMV07XHJcblxyXG4gIC8vIHByb2NlZWQgd2l0aCBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3Igb24gdGFiLlxyXG4gIC8vIEZvY3VzIG9uIGxhc3QgZWxlbWVudCBvbiBzaGlmdCArIHRhYi5cclxuICBpZiAobm9kZSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xyXG4gICAgaWYgKCFzaGlmdEtleSkgcmV0dXJuO1xyXG4gICAgdGFyZ2V0ID0gdGFpbDtcclxuICB9XHJcblxyXG4gIHZhciB0YXJnZXQ7XHJcbiAgaWYgKHRhaWwgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgIXNoaWZ0S2V5KSB7XHJcbiAgICB0YXJnZXQgPSBoZWFkO1xyXG4gIH1cclxuXHJcbiAgaWYgKGhlYWQgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgc2hpZnRLZXkpIHtcclxuICAgIHRhcmdldCA9IHRhaWw7XHJcbiAgfVxyXG5cclxuICBpZiAodGFyZ2V0KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGFyZ2V0LmZvY3VzKCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyBTYWZhcmkgcmFkaW8gaXNzdWUuXHJcbiAgLy9cclxuICAvLyBTYWZhcmkgZG9lcyBub3QgbW92ZSB0aGUgZm9jdXMgdG8gdGhlIHJhZGlvIGJ1dHRvbixcclxuICAvLyBzbyB3ZSBuZWVkIHRvIGZvcmNlIGl0IHRvIHJlYWxseSB3YWxrIHRocm91Z2ggYWxsIGVsZW1lbnRzLlxyXG4gIC8vXHJcbiAgLy8gVGhpcyBpcyB2ZXJ5IGVycm9yIHByb25lLCBzaW5jZSB3ZSBhcmUgdHJ5aW5nIHRvIGd1ZXNzXHJcbiAgLy8gaWYgaXQgaXMgYSBzYWZhcmkgYnJvd3NlciBmcm9tIHRoZSBmaXJzdCBvY2N1cmVuY2UgYmV0d2VlblxyXG4gIC8vIGNocm9tZSBvciBzYWZhcmkuXHJcbiAgLy9cclxuICAvLyBUaGUgY2hyb21lIHVzZXIgYWdlbnQgY29udGFpbnMgdGhlIGZpcnN0IG9jdXJyZW5jZVxyXG4gIC8vIGFzIHRoZSAnY2hyb21lL3ZlcnNpb24nIGFuZCBsYXRlciB0aGUgJ3NhZmFyaS92ZXJzaW9uJy5cclxuICB2YXIgY2hlY2tTYWZhcmkgPSAvKFxcYkNocm9tZVxcYnxcXGJTYWZhcmlcXGIpXFwvLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gIHZhciBpc1NhZmFyaURlc2t0b3AgPSBjaGVja1NhZmFyaSAhPSBudWxsICYmIGNoZWNrU2FmYXJpWzFdICE9IFwiQ2hyb21lXCIgJiYgL1xcYmlQb2RcXGJ8XFxiaVBhZFxcYi9nLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCkgPT0gbnVsbDtcclxuXHJcbiAgLy8gSWYgd2UgYXJlIG5vdCBpbiBzYWZhcmkgZGVza3RvcCwgbGV0IHRoZSBicm93c2VyIGNvbnRyb2xcclxuICAvLyB0aGUgZm9jdXNcclxuICBpZiAoIWlzU2FmYXJpRGVza3RvcCkgcmV0dXJuO1xyXG5cclxuICB2YXIgeCA9IHRhYmJhYmxlLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XHJcblxyXG4gIGlmICh4ID4gLTEpIHtcclxuICAgIHggKz0gc2hpZnRLZXkgPyAtMSA6IDE7XHJcbiAgfVxyXG5cclxuICAvLyBJZiB0aGUgdGFiYmFibGUgZWxlbWVudCBkb2VzIG5vdCBleGlzdCxcclxuICAvLyBmb2N1cyBoZWFkL3RhaWwgYmFzZWQgb24gc2hpZnRLZXlcclxuICBpZiAodHlwZW9mIHRhYmJhYmxlW3hdID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGFyZ2V0ID0gc2hpZnRLZXkgPyB0YWlsIDogaGVhZDtcclxuICAgIHRhcmdldC5mb2N1cygpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgdGFiYmFibGVbeF0uZm9jdXMoKTtcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XHJcbiAgdmFsdWU6IHRydWVcclxufSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGZpbmRUYWJiYWJsZURlc2NlbmRhbnRzO1xyXG4vKiFcclxuICogQWRhcHRlZCBmcm9tIGpRdWVyeSBVSSBjb3JlXHJcbiAqXHJcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cclxuICpcclxuICogQ29weXJpZ2h0IDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcclxuICpcclxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vY2F0ZWdvcnkvdWktY29yZS9cclxuICovXHJcblxyXG52YXIgdGFiYmFibGVOb2RlID0gL2lucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0LztcclxuXHJcbmZ1bmN0aW9uIGhpZGVzQ29udGVudHMoZWxlbWVudCkge1xyXG4gIHZhciB6ZXJvU2l6ZSA9IGVsZW1lbnQub2Zmc2V0V2lkdGggPD0gMCAmJiBlbGVtZW50Lm9mZnNldEhlaWdodCA8PSAwO1xyXG5cclxuICAvLyBJZiB0aGUgbm9kZSBpcyBlbXB0eSwgdGhpcyBpcyBnb29kIGVub3VnaFxyXG4gIGlmICh6ZXJvU2l6ZSAmJiAhZWxlbWVudC5pbm5lckhUTUwpIHJldHVybiB0cnVlO1xyXG5cclxuICAvLyBPdGhlcndpc2Ugd2UgbmVlZCB0byBjaGVjayBzb21lIHN0eWxlc1xyXG4gIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xyXG4gIHJldHVybiB6ZXJvU2l6ZSA/IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCJvdmVyZmxvd1wiKSAhPT0gXCJ2aXNpYmxlXCIgOiBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwiZGlzcGxheVwiKSA9PSBcIm5vbmVcIjtcclxufVxyXG5cclxuZnVuY3Rpb24gdmlzaWJsZShlbGVtZW50KSB7XHJcbiAgdmFyIHBhcmVudEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gIHdoaWxlIChwYXJlbnRFbGVtZW50KSB7XHJcbiAgICBpZiAocGFyZW50RWxlbWVudCA9PT0gZG9jdW1lbnQuYm9keSkgYnJlYWs7XHJcbiAgICBpZiAoaGlkZXNDb250ZW50cyhwYXJlbnRFbGVtZW50KSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgcGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQucGFyZW50Tm9kZTtcclxuICB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvY3VzYWJsZShlbGVtZW50LCBpc1RhYkluZGV4Tm90TmFOKSB7XHJcbiAgdmFyIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gIHZhciByZXMgPSB0YWJiYWJsZU5vZGUudGVzdChub2RlTmFtZSkgJiYgIWVsZW1lbnQuZGlzYWJsZWQgfHwgKG5vZGVOYW1lID09PSBcImFcIiA/IGVsZW1lbnQuaHJlZiB8fCBpc1RhYkluZGV4Tm90TmFOIDogaXNUYWJJbmRleE5vdE5hTik7XHJcbiAgcmV0dXJuIHJlcyAmJiB2aXNpYmxlKGVsZW1lbnQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0YWJiYWJsZShlbGVtZW50KSB7XHJcbiAgdmFyIHRhYkluZGV4ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKTtcclxuICBpZiAodGFiSW5kZXggPT09IG51bGwpIHRhYkluZGV4ID0gdW5kZWZpbmVkO1xyXG4gIHZhciBpc1RhYkluZGV4TmFOID0gaXNOYU4odGFiSW5kZXgpO1xyXG4gIHJldHVybiAoaXNUYWJJbmRleE5hTiB8fCB0YWJJbmRleCA+PSAwKSAmJiBmb2N1c2FibGUoZWxlbWVudCwgIWlzVGFiSW5kZXhOYU4pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaW5kVGFiYmFibGVEZXNjZW5kYW50cyhlbGVtZW50KSB7XHJcbiAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKSwgMCkuZmlsdGVyKHRhYmJhYmxlKTtcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XHJcbiAgdmFsdWU6IHRydWVcclxufSk7XHJcblxyXG52YXIgX01vZGFsID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9Nb2RhbFwiKTtcclxuXHJcbnZhciBfTW9kYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9kYWwpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmV4cG9ydHMuZGVmYXVsdCA9IF9Nb2RhbDIuZGVmYXVsdDtcclxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICB2YWx1ZTogdHJ1ZVxyXG59KTtcclxuXHJcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XHJcblxyXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XHJcblxyXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XHJcblxyXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuXHJcbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XHJcblxyXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xyXG5cclxudmFyIF9yZXNpemVPYnNlcnZlclBvbHlmaWxsID0gcmVxdWlyZSgncmVzaXplLW9ic2VydmVyLXBvbHlmaWxsJyk7XHJcblxyXG52YXIgX3Jlc2l6ZU9ic2VydmVyUG9seWZpbGwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzaXplT2JzZXJ2ZXJQb2x5ZmlsbCk7XHJcblxyXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XHJcblxyXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxyXG5cclxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XHJcblxyXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyogZXNsaW50IG5vLWRlYnVnZ2VyOiBcIndhcm5cIiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBQcmVkZWZpbmVkIGNvbnN0YW50c1xyXG4gKiBAdHlwZSB7T2JqZWN0fVxyXG4gKi9cclxudmFyIGNvbnN0YW50cyA9IHtcclxuICBvcmllbnRhdGlvbjoge1xyXG4gICAgaG9yaXpvbnRhbDoge1xyXG4gICAgICBkaW1lbnNpb246ICd3aWR0aCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2xlZnQnLFxyXG4gICAgICByZXZlcnNlRGlyZWN0aW9uOiAncmlnaHQnLFxyXG4gICAgICBjb29yZGluYXRlOiAneCdcclxuICAgIH0sXHJcbiAgICB2ZXJ0aWNhbDoge1xyXG4gICAgICBkaW1lbnNpb246ICdoZWlnaHQnLFxyXG4gICAgICBkaXJlY3Rpb246ICd0b3AnLFxyXG4gICAgICByZXZlcnNlRGlyZWN0aW9uOiAnYm90dG9tJyxcclxuICAgICAgY29vcmRpbmF0ZTogJ3knXHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxudmFyIFNsaWRlciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XHJcbiAgX2luaGVyaXRzKFNsaWRlciwgX0NvbXBvbmVudCk7XHJcblxyXG4gIGZ1bmN0aW9uIFNsaWRlcihwcm9wcywgY29udGV4dCkge1xyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNsaWRlcik7XHJcblxyXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFNsaWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNsaWRlcikpLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpKTtcclxuXHJcbiAgICBfdGhpcy5oYW5kbGVGb3JtYXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgdmFyIGZvcm1hdCA9IF90aGlzLnByb3BzLmZvcm1hdDtcclxuXHJcbiAgICAgIHJldHVybiBmb3JtYXQgPyBmb3JtYXQodmFsdWUpIDogdmFsdWU7XHJcbiAgICB9O1xyXG5cclxuICAgIF90aGlzLmhhbmRsZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKCFfdGhpcy5zbGlkZXIpIHtcclxuICAgICAgICAvLyBmb3Igc2hhbGxvdyByZW5kZXJpbmdcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdmFyIG9yaWVudGF0aW9uID0gX3RoaXMucHJvcHMub3JpZW50YXRpb247XHJcblxyXG4gICAgICB2YXIgZGltZW5zaW9uID0gKDAsIF91dGlscy5jYXBpdGFsaXplKShjb25zdGFudHMub3JpZW50YXRpb25bb3JpZW50YXRpb25dLmRpbWVuc2lvbik7XHJcbiAgICAgIHZhciBzbGlkZXJQb3MgPSBfdGhpcy5zbGlkZXJbJ29mZnNldCcgKyBkaW1lbnNpb25dO1xyXG4gICAgICB2YXIgaGFuZGxlUG9zID0gX3RoaXMuaGFuZGxlWydvZmZzZXQnICsgZGltZW5zaW9uXTtcclxuXHJcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBsaW1pdDogc2xpZGVyUG9zIC0gaGFuZGxlUG9zLFxyXG4gICAgICAgIGdyYWI6IGhhbmRsZVBvcyAvIDJcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIF90aGlzLmhhbmRsZVN0YXJ0ID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgdmFyIG9uQ2hhbmdlU3RhcnQgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZVN0YXJ0O1xyXG5cclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX3RoaXMuaGFuZGxlRHJhZyk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfdGhpcy5oYW5kbGVFbmQpO1xyXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgYWN0aXZlOiB0cnVlXHJcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBvbkNoYW5nZVN0YXJ0ICYmIG9uQ2hhbmdlU3RhcnQoZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5oYW5kbGVEcmFnID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XHJcbiAgICAgIHZhciBfZSR0YXJnZXQgPSBlLnRhcmdldCxcclxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9lJHRhcmdldC5jbGFzc05hbWUsXHJcbiAgICAgICAgICBjbGFzc0xpc3QgPSBfZSR0YXJnZXQuY2xhc3NMaXN0LFxyXG4gICAgICAgICAgZGF0YXNldCA9IF9lJHRhcmdldC5kYXRhc2V0O1xyXG5cclxuICAgICAgaWYgKCFvbkNoYW5nZSB8fCBjbGFzc05hbWUgPT09ICdyYW5nZXNsaWRlcl9fbGFiZWxzJykgcmV0dXJuO1xyXG5cclxuICAgICAgdmFyIHZhbHVlID0gX3RoaXMucG9zaXRpb24oZSk7XHJcblxyXG4gICAgICBpZiAoY2xhc3NMaXN0ICYmIGNsYXNzTGlzdC5jb250YWlucygncmFuZ2VzbGlkZXJfX2xhYmVsLWl0ZW0nKSAmJiBkYXRhc2V0LnZhbHVlKSB7XHJcbiAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KGRhdGFzZXQudmFsdWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBvbkNoYW5nZSAmJiBvbkNoYW5nZSh2YWx1ZSwgZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIF90aGlzLmhhbmRsZUVuZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIHZhciBvbkNoYW5nZUNvbXBsZXRlID0gX3RoaXMucHJvcHMub25DaGFuZ2VDb21wbGV0ZTtcclxuXHJcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBhY3RpdmU6IGZhbHNlXHJcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBvbkNoYW5nZUNvbXBsZXRlICYmIG9uQ2hhbmdlQ29tcGxldGUoZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy5oYW5kbGVEcmFnKTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLmhhbmRsZUVuZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlO1xyXG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcclxuICAgICAgICAgIHZhbHVlID0gX3RoaXMkcHJvcHMudmFsdWUsXHJcbiAgICAgICAgICBtaW4gPSBfdGhpcyRwcm9wcy5taW4sXHJcbiAgICAgICAgICBtYXggPSBfdGhpcyRwcm9wcy5tYXgsXHJcbiAgICAgICAgICBzdGVwID0gX3RoaXMkcHJvcHMuc3RlcCxcclxuICAgICAgICAgIG9uQ2hhbmdlID0gX3RoaXMkcHJvcHMub25DaGFuZ2U7XHJcblxyXG4gICAgICB2YXIgc2xpZGVyVmFsdWUgPSB2b2lkIDA7XHJcblxyXG4gICAgICBzd2l0Y2ggKGtleUNvZGUpIHtcclxuICAgICAgICBjYXNlIDM4OlxyXG4gICAgICAgIGNhc2UgMzk6XHJcbiAgICAgICAgICBzbGlkZXJWYWx1ZSA9IHZhbHVlICsgc3RlcCA+IG1heCA/IG1heCA6IHZhbHVlICsgc3RlcDtcclxuICAgICAgICAgIG9uQ2hhbmdlICYmIG9uQ2hhbmdlKHNsaWRlclZhbHVlLCBlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzc6XHJcbiAgICAgICAgY2FzZSA0MDpcclxuICAgICAgICAgIHNsaWRlclZhbHVlID0gdmFsdWUgLSBzdGVwIDwgbWluID8gbWluIDogdmFsdWUgLSBzdGVwO1xyXG4gICAgICAgICAgb25DaGFuZ2UgJiYgb25DaGFuZ2Uoc2xpZGVyVmFsdWUsIGUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX3RoaXMuZ2V0UG9zaXRpb25Gcm9tVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgdmFyIGxpbWl0ID0gX3RoaXMuc3RhdGUubGltaXQ7XHJcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcclxuICAgICAgICAgIG1pbiA9IF90aGlzJHByb3BzMi5taW4sXHJcbiAgICAgICAgICBtYXggPSBfdGhpcyRwcm9wczIubWF4O1xyXG5cclxuICAgICAgdmFyIGRpZmZNYXhNaW4gPSBtYXggLSBtaW47XHJcbiAgICAgIHZhciBkaWZmVmFsTWluID0gdmFsdWUgLSBtaW47XHJcbiAgICAgIHZhciBwZXJjZW50YWdlID0gZGlmZlZhbE1pbiAvIGRpZmZNYXhNaW47XHJcbiAgICAgIHZhciBwb3MgPSBNYXRoLnJvdW5kKHBlcmNlbnRhZ2UgKiBsaW1pdCk7XHJcblxyXG4gICAgICByZXR1cm4gcG9zO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5nZXRWYWx1ZUZyb21Qb3NpdGlvbiA9IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgdmFyIGxpbWl0ID0gX3RoaXMuc3RhdGUubGltaXQ7XHJcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSBfdGhpcy5wcm9wcyxcclxuICAgICAgICAgIG9yaWVudGF0aW9uID0gX3RoaXMkcHJvcHMzLm9yaWVudGF0aW9uLFxyXG4gICAgICAgICAgbWluID0gX3RoaXMkcHJvcHMzLm1pbixcclxuICAgICAgICAgIG1heCA9IF90aGlzJHByb3BzMy5tYXgsXHJcbiAgICAgICAgICBzdGVwID0gX3RoaXMkcHJvcHMzLnN0ZXA7XHJcblxyXG4gICAgICB2YXIgcGVyY2VudGFnZSA9ICgwLCBfdXRpbHMuY2xhbXApKHBvcywgMCwgbGltaXQpIC8gKGxpbWl0IHx8IDEpO1xyXG4gICAgICB2YXIgYmFzZVZhbCA9IHN0ZXAgKiBNYXRoLnJvdW5kKHBlcmNlbnRhZ2UgKiAobWF4IC0gbWluKSAvIHN0ZXApO1xyXG4gICAgICB2YXIgdmFsdWUgPSBvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID8gYmFzZVZhbCArIG1pbiA6IG1heCAtIGJhc2VWYWw7XHJcblxyXG4gICAgICByZXR1cm4gKDAsIF91dGlscy5jbGFtcCkodmFsdWUsIG1pbiwgbWF4KTtcclxuICAgIH07XHJcblxyXG4gICAgX3RoaXMucG9zaXRpb24gPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICB2YXIgZ3JhYiA9IF90aGlzLnN0YXRlLmdyYWI7XHJcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSBfdGhpcy5wcm9wcyxcclxuICAgICAgICAgIG9yaWVudGF0aW9uID0gX3RoaXMkcHJvcHM0Lm9yaWVudGF0aW9uLFxyXG4gICAgICAgICAgcmV2ZXJzZSA9IF90aGlzJHByb3BzNC5yZXZlcnNlO1xyXG5cclxuXHJcbiAgICAgIHZhciBub2RlID0gX3RoaXMuc2xpZGVyO1xyXG4gICAgICB2YXIgY29vcmRpbmF0ZVN0eWxlID0gY29uc3RhbnRzLm9yaWVudGF0aW9uW29yaWVudGF0aW9uXS5jb29yZGluYXRlO1xyXG4gICAgICB2YXIgZGlyZWN0aW9uU3R5bGUgPSByZXZlcnNlID8gY29uc3RhbnRzLm9yaWVudGF0aW9uW29yaWVudGF0aW9uXS5yZXZlcnNlRGlyZWN0aW9uIDogY29uc3RhbnRzLm9yaWVudGF0aW9uW29yaWVudGF0aW9uXS5kaXJlY3Rpb247XHJcbiAgICAgIHZhciBjbGllbnRDb29yZGluYXRlU3R5bGUgPSAnY2xpZW50JyArICgwLCBfdXRpbHMuY2FwaXRhbGl6ZSkoY29vcmRpbmF0ZVN0eWxlKTtcclxuICAgICAgdmFyIGNvb3JkaW5hdGUgPSAhZS50b3VjaGVzID8gZVtjbGllbnRDb29yZGluYXRlU3R5bGVdIDogZS50b3VjaGVzWzBdW2NsaWVudENvb3JkaW5hdGVTdHlsZV07XHJcbiAgICAgIHZhciBkaXJlY3Rpb24gPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2RpcmVjdGlvblN0eWxlXTtcclxuICAgICAgdmFyIHBvcyA9IHJldmVyc2UgPyBkaXJlY3Rpb24gLSBjb29yZGluYXRlIC0gZ3JhYiA6IGNvb3JkaW5hdGUgLSBkaXJlY3Rpb24gLSBncmFiO1xyXG4gICAgICB2YXIgdmFsdWUgPSBfdGhpcy5nZXRWYWx1ZUZyb21Qb3NpdGlvbihwb3MpO1xyXG5cclxuICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5jb29yZGluYXRlcyA9IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsXHJcbiAgICAgICAgICBsaW1pdCA9IF90aGlzJHN0YXRlLmxpbWl0LFxyXG4gICAgICAgICAgZ3JhYiA9IF90aGlzJHN0YXRlLmdyYWI7XHJcbiAgICAgIHZhciBvcmllbnRhdGlvbiA9IF90aGlzLnByb3BzLm9yaWVudGF0aW9uO1xyXG5cclxuICAgICAgdmFyIHZhbHVlID0gX3RoaXMuZ2V0VmFsdWVGcm9tUG9zaXRpb24ocG9zKTtcclxuICAgICAgdmFyIHBvc2l0aW9uID0gX3RoaXMuZ2V0UG9zaXRpb25Gcm9tVmFsdWUodmFsdWUpO1xyXG4gICAgICB2YXIgaGFuZGxlUG9zID0gb3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyA/IHBvc2l0aW9uICsgZ3JhYiA6IHBvc2l0aW9uO1xyXG4gICAgICB2YXIgZmlsbFBvcyA9IG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcgPyBoYW5kbGVQb3MgOiBsaW1pdCAtIGhhbmRsZVBvcztcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZmlsbDogZmlsbFBvcyxcclxuICAgICAgICBoYW5kbGU6IGhhbmRsZVBvcyxcclxuICAgICAgICBsYWJlbDogaGFuZGxlUG9zXHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIF90aGlzLnJlbmRlckxhYmVscyA9IGZ1bmN0aW9uIChsYWJlbHMpIHtcclxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxyXG4gICAgICAgICd1bCcsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoc2wpIHtcclxuICAgICAgICAgICAgX3RoaXMubGFiZWxzID0gc2w7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKCdyYW5nZXNsaWRlcl9fbGFiZWxzJylcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxhYmVsc1xyXG4gICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICBfdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYWN0aXZlOiBmYWxzZSxcclxuICAgICAgbGltaXQ6IDAsXHJcbiAgICAgIGdyYWI6IDBcclxuICAgIH07XHJcbiAgICByZXR1cm4gX3RoaXM7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlQ2xhc3MoU2xpZGVyLCBbe1xyXG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICB0aGlzLmhhbmRsZVVwZGF0ZSgpO1xyXG4gICAgICB2YXIgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgX3Jlc2l6ZU9ic2VydmVyUG9seWZpbGwyLmRlZmF1bHQodGhpcy5oYW5kbGVVcGRhdGUpO1xyXG4gICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMuc2xpZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZvcm1hdCBsYWJlbC90b29sdGlwIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IC0gdmFsdWVcclxuICAgICAqIEByZXR1cm4ge0Zvcm1hdHRlZCBOdW1iZXJ9XHJcbiAgICAgKi9cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgc2xpZGVyIHN0YXRlIG9uIGNoYW5nZVxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEF0dGFjaCBldmVudCBsaXN0ZW5lcnMgdG8gbW91c2Vtb3ZlL21vdXNldXAgZXZlbnRzXHJcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxyXG4gICAgICovXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIGRyYWcvbW91c2Vtb3ZlIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGUgLSBFdmVudCBvYmplY3RcclxuICAgICAqIEByZXR1cm4ge3ZvaWR9XHJcbiAgICAgKi9cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRhY2ggZXZlbnQgbGlzdGVuZXJzIHRvIG1vdXNlbW92ZS9tb3VzZXVwIGV2ZW50c1xyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN1cHBvcnQgZm9yIGtleSBldmVudHMgb24gdGhlIHNsaWRlciBoYW5kbGVcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gZSAtIEV2ZW50IG9iamVjdFxyXG4gICAgICogQHJldHVybiB7dm9pZH1cclxuICAgICAqL1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGN1bGF0ZSBwb3NpdGlvbiBvZiBzbGlkZXIgYmFzZWQgb24gaXRzIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHZhbHVlIC0gQ3VycmVudCB2YWx1ZSBvZiBzbGlkZXJcclxuICAgICAqIEByZXR1cm4ge3Bvc2l0aW9ufSBwb3MgLSBDYWxjdWxhdGVkIHBvc2l0aW9uIG9mIHNsaWRlciBiYXNlZCBvbiB2YWx1ZVxyXG4gICAgICovXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNsYXRlIHBvc2l0aW9uIG9mIHNsaWRlciB0byBzbGlkZXIgdmFsdWVcclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gcG9zIC0gQ3VycmVudCBwb3NpdGlvbi9jb29yZGluYXRlcyBvZiBzbGlkZXJcclxuICAgICAqIEByZXR1cm4ge251bWJlcn0gdmFsdWUgLSBTbGlkZXIgdmFsdWVcclxuICAgICAqL1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGN1bGF0ZSBwb3NpdGlvbiBvZiBzbGlkZXIgYmFzZWQgb24gdmFsdWVcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gZSAtIEV2ZW50IG9iamVjdFxyXG4gICAgICogQHJldHVybiB7bnVtYmVyfSB2YWx1ZSAtIFNsaWRlciB2YWx1ZVxyXG4gICAgICovXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR3JhYiBjb29yZGluYXRlcyBvZiBzbGlkZXJcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gcG9zIC0gUG9zaXRpb24gb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IC0gU2xpZGVyIGZpbGwvaGFuZGxlIGNvb3JkaW5hdGVzXHJcbiAgICAgKi9cclxuXHJcbiAgfSwge1xyXG4gICAga2V5OiAncmVuZGVyJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xyXG5cclxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXHJcbiAgICAgICAgICB2YWx1ZSA9IF9wcm9wcy52YWx1ZSxcclxuICAgICAgICAgIG9yaWVudGF0aW9uID0gX3Byb3BzLm9yaWVudGF0aW9uLFxyXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcclxuICAgICAgICAgIHRvb2x0aXAgPSBfcHJvcHMudG9vbHRpcCxcclxuICAgICAgICAgIHJldmVyc2UgPSBfcHJvcHMucmV2ZXJzZSxcclxuICAgICAgICAgIGxhYmVscyA9IF9wcm9wcy5sYWJlbHMsXHJcbiAgICAgICAgICBtaW4gPSBfcHJvcHMubWluLFxyXG4gICAgICAgICAgbWF4ID0gX3Byb3BzLm1heCxcclxuICAgICAgICAgIGhhbmRsZUxhYmVsID0gX3Byb3BzLmhhbmRsZUxhYmVsO1xyXG4gICAgICB2YXIgYWN0aXZlID0gdGhpcy5zdGF0ZS5hY3RpdmU7XHJcblxyXG4gICAgICB2YXIgZGltZW5zaW9uID0gY29uc3RhbnRzLm9yaWVudGF0aW9uW29yaWVudGF0aW9uXS5kaW1lbnNpb247XHJcbiAgICAgIHZhciBkaXJlY3Rpb24gPSByZXZlcnNlID8gY29uc3RhbnRzLm9yaWVudGF0aW9uW29yaWVudGF0aW9uXS5yZXZlcnNlRGlyZWN0aW9uIDogY29uc3RhbnRzLm9yaWVudGF0aW9uW29yaWVudGF0aW9uXS5kaXJlY3Rpb247XHJcbiAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuZ2V0UG9zaXRpb25Gcm9tVmFsdWUodmFsdWUpO1xyXG4gICAgICB2YXIgY29vcmRzID0gdGhpcy5jb29yZGluYXRlcyhwb3NpdGlvbik7XHJcbiAgICAgIHZhciBmaWxsU3R5bGUgPSBfZGVmaW5lUHJvcGVydHkoe30sIGRpbWVuc2lvbiwgY29vcmRzLmZpbGwgKyAncHgnKTtcclxuICAgICAgdmFyIGhhbmRsZVN0eWxlID0gX2RlZmluZVByb3BlcnR5KHt9LCBkaXJlY3Rpb24sIGNvb3Jkcy5oYW5kbGUgKyAncHgnKTtcclxuICAgICAgdmFyIHNob3dUb29sdGlwID0gdG9vbHRpcCAmJiBhY3RpdmU7XHJcblxyXG4gICAgICB2YXIgbGFiZWxJdGVtcyA9IFtdO1xyXG4gICAgICB2YXIgbGFiZWxLZXlzID0gT2JqZWN0LmtleXMobGFiZWxzKTtcclxuXHJcbiAgICAgIGlmIChsYWJlbEtleXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGxhYmVsS2V5cyA9IGxhYmVsS2V5cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmV2ZXJzZSA/IGEgLSBiIDogYiAtIGE7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcclxuICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcclxuICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBsYWJlbEtleXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBfc3RlcC52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBsYWJlbFBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbkZyb21WYWx1ZShrZXkpO1xyXG4gICAgICAgICAgICB2YXIgbGFiZWxDb29yZHMgPSB0aGlzLmNvb3JkaW5hdGVzKGxhYmVsUG9zaXRpb24pO1xyXG4gICAgICAgICAgICB2YXIgbGFiZWxTdHlsZSA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgZGlyZWN0aW9uLCBsYWJlbENvb3Jkcy5sYWJlbCArICdweCcpO1xyXG5cclxuICAgICAgICAgICAgbGFiZWxJdGVtcy5wdXNoKF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxyXG4gICAgICAgICAgICAgICdsaScsXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAga2V5OiBrZXksXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoJ3Jhbmdlc2xpZGVyX19sYWJlbC1pdGVtJyksXHJcbiAgICAgICAgICAgICAgICAnZGF0YS12YWx1ZSc6IGtleSxcclxuICAgICAgICAgICAgICAgIG9uTW91c2VEb3duOiB0aGlzLmhhbmRsZURyYWcsXHJcbiAgICAgICAgICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuaGFuZGxlU3RhcnQsXHJcbiAgICAgICAgICAgICAgICBvblRvdWNoRW5kOiB0aGlzLmhhbmRsZUVuZCxcclxuICAgICAgICAgICAgICAgIHN0eWxlOiBsYWJlbFN0eWxlXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB0aGlzLnByb3BzLmxhYmVsc1trZXldXHJcbiAgICAgICAgICAgICkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XHJcbiAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XHJcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcclxuICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxyXG4gICAgICAgICdkaXYnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKHMpIHtcclxuICAgICAgICAgICAgX3RoaXMyLnNsaWRlciA9IHM7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKCdyYW5nZXNsaWRlcicsICdyYW5nZXNsaWRlci0nICsgb3JpZW50YXRpb24sIHsgJ3Jhbmdlc2xpZGVyLXJldmVyc2UnOiByZXZlcnNlIH0sIGNsYXNzTmFtZSksXHJcbiAgICAgICAgICBvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVEcmFnLFxyXG4gICAgICAgICAgb25Nb3VzZVVwOiB0aGlzLmhhbmRsZUVuZCxcclxuICAgICAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5oYW5kbGVTdGFydCxcclxuICAgICAgICAgIG9uVG91Y2hFbmQ6IHRoaXMuaGFuZGxlRW5kLFxyXG4gICAgICAgICAgJ2FyaWEtdmFsdWVtaW4nOiBtaW4sXHJcbiAgICAgICAgICAnYXJpYS12YWx1ZW1heCc6IG1heCxcclxuICAgICAgICAgICdhcmlhLXZhbHVlbm93JzogdmFsdWUsXHJcbiAgICAgICAgICAnYXJpYS1vcmllbnRhdGlvbic6IG9yaWVudGF0aW9uXHJcbiAgICAgICAgfSxcclxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdyYW5nZXNsaWRlcl9fZmlsbCcsIHN0eWxlOiBmaWxsU3R5bGUgfSksXHJcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoc2gpIHtcclxuICAgICAgICAgICAgICBfdGhpczIuaGFuZGxlID0gc2g7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ3Jhbmdlc2xpZGVyX19oYW5kbGUnLFxyXG4gICAgICAgICAgICBvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVTdGFydCxcclxuICAgICAgICAgICAgb25Ub3VjaE1vdmU6IHRoaXMuaGFuZGxlRHJhZyxcclxuICAgICAgICAgICAgb25Ub3VjaEVuZDogdGhpcy5oYW5kbGVFbmQsXHJcbiAgICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLFxyXG4gICAgICAgICAgICBzdHlsZTogaGFuZGxlU3R5bGUsXHJcbiAgICAgICAgICAgIHRhYkluZGV4OiAwXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2hvd1Rvb2x0aXAgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihzdCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMyLnRvb2x0aXAgPSBzdDtcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3Jhbmdlc2xpZGVyX19oYW5kbGUtdG9vbHRpcCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICAgICAgJ3NwYW4nLFxyXG4gICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgdGhpcy5oYW5kbGVGb3JtYXQodmFsdWUpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICkgOiBudWxsLFxyXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3Jhbmdlc2xpZGVyX19oYW5kbGUtbGFiZWwnIH0sXHJcbiAgICAgICAgICAgIGhhbmRsZUxhYmVsXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKSxcclxuICAgICAgICBsYWJlbHMgPyB0aGlzLnJlbmRlckxhYmVscyhsYWJlbEl0ZW1zKSA6IG51bGxcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XSk7XHJcblxyXG4gIHJldHVybiBTbGlkZXI7XHJcbn0oX3JlYWN0LkNvbXBvbmVudCk7XHJcblxyXG5TbGlkZXIucHJvcFR5cGVzID0ge1xyXG4gIG1pbjogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXHJcbiAgbWF4OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcclxuICBzdGVwOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcclxuICB2YWx1ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXHJcbiAgb3JpZW50YXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxyXG4gIHRvb2x0aXA6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcclxuICByZXZlcnNlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcbiAgbGFiZWxzOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcclxuICBoYW5kbGVMYWJlbDogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgZm9ybWF0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25DaGFuZ2VTdGFydDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIG9uQ2hhbmdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgb25DaGFuZ2VDb21wbGV0ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jXHJcbn07XHJcblNsaWRlci5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgbWluOiAwLFxyXG4gIG1heDogMTAwLFxyXG4gIHN0ZXA6IDEsXHJcbiAgdmFsdWU6IDAsXHJcbiAgb3JpZW50YXRpb246ICdob3Jpem9udGFsJyxcclxuICB0b29sdGlwOiB0cnVlLFxyXG4gIHJldmVyc2U6IGZhbHNlLFxyXG4gIGxhYmVsczoge30sXHJcbiAgaGFuZGxlTGFiZWw6ICcnXHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFNsaWRlcjsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICB2YWx1ZTogdHJ1ZVxyXG59KTtcclxuXHJcbnZhciBfUmFuZ2VzbGlkZXIgPSByZXF1aXJlKCcuL1Jhbmdlc2xpZGVyJyk7XHJcblxyXG52YXIgX1Jhbmdlc2xpZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Jhbmdlc2xpZGVyKTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG5leHBvcnRzLmRlZmF1bHQgPSBfUmFuZ2VzbGlkZXIyLmRlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICB2YWx1ZTogdHJ1ZVxyXG59KTtcclxuZXhwb3J0cy5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcclxuZXhwb3J0cy5jbGFtcCA9IGNsYW1wO1xyXG4vKipcclxuICogQ2FwaXRhbGl6ZSBmaXJzdCBsZXR0ZXIgb2Ygc3RyaW5nXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSAge3N0cmluZ30gLSBTdHJpbmdcclxuICogQHJldHVybiB7c3RyaW5nfSAtIFN0cmluZyB3aXRoIGZpcnN0IGxldHRlciBjYXBpdGFsaXplZFxyXG4gKi9cclxuZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHIpIHtcclxuICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnN1YnN0cigxKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENsYW1wIHBvc2l0aW9uIGJldHdlZW4gYSByYW5nZVxyXG4gKiBAcGFyYW0gIHtudW1iZXJ9IC0gVmFsdWUgdG8gYmUgY2xhbXBlZFxyXG4gKiBAcGFyYW0gIHtudW1iZXJ9IC0gTWluaW11bSB2YWx1ZSBpbiByYW5nZVxyXG4gKiBAcGFyYW0gIHtudW1iZXJ9IC0gTWF4aW11bSB2YWx1ZSBpbiByYW5nZVxyXG4gKiBAcmV0dXJuIHtudW1iZXJ9IC0gQ2xhbXBlZCB2YWx1ZVxyXG4gKi9cclxuZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XHJcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW4pLCBtYXgpO1xyXG59IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xyXG5cclxudmFyIF93YXJuaW5nID0gcmVxdWlyZShcIndhcm5pbmdcIik7XHJcblxyXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XHJcblxyXG52YXIgX3JlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xyXG5cclxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XHJcblxyXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcclxuXHJcbnZhciBfaGlzdG9yeSA9IHJlcXVpcmUoXCJoaXN0b3J5XCIpO1xyXG5cclxudmFyIF9Sb3V0ZXIgPSByZXF1aXJlKFwiLi9Sb3V0ZXJcIik7XHJcblxyXG52YXIgX1JvdXRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3V0ZXIpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XHJcblxyXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cclxuXHJcbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxyXG5cclxuLyoqXHJcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciBhIDxSb3V0ZXI+IHRoYXQgdXNlcyBIVE1MNSBoaXN0b3J5LlxyXG4gKi9cclxudmFyIEJyb3dzZXJSb3V0ZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xyXG4gIF9pbmhlcml0cyhCcm93c2VyUm91dGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcclxuXHJcbiAgZnVuY3Rpb24gQnJvd3NlclJvdXRlcigpIHtcclxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XHJcblxyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJyb3dzZXJSb3V0ZXIpO1xyXG5cclxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XHJcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhpc3RvcnkgPSAoMCwgX2hpc3RvcnkuY3JlYXRlQnJvd3Nlckhpc3RvcnkpKF90aGlzLnByb3BzKSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XHJcbiAgfVxyXG5cclxuICBCcm93c2VyUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XHJcbiAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKCF0aGlzLnByb3BzLmhpc3RvcnksIFwiPEJyb3dzZXJSb3V0ZXI+IGlnbm9yZXMgdGhlIGhpc3RvcnkgcHJvcC4gVG8gdXNlIGEgY3VzdG9tIGhpc3RvcnksIFwiICsgXCJ1c2UgYGltcG9ydCB7IFJvdXRlciB9YCBpbnN0ZWFkIG9mIGBpbXBvcnQgeyBCcm93c2VyUm91dGVyIGFzIFJvdXRlciB9YC5cIik7XHJcbiAgfTtcclxuXHJcbiAgQnJvd3NlclJvdXRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Sb3V0ZXIyLmRlZmF1bHQsIHsgaGlzdG9yeTogdGhpcy5oaXN0b3J5LCBjaGlsZHJlbjogdGhpcy5wcm9wcy5jaGlsZHJlbiB9KTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gQnJvd3NlclJvdXRlcjtcclxufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcclxuXHJcbkJyb3dzZXJSb3V0ZXIucHJvcFR5cGVzID0ge1xyXG4gIGJhc2VuYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICBmb3JjZVJlZnJlc2g6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcclxuICBnZXRVc2VyQ29uZmlybWF0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAga2V5TGVuZ3RoOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcclxuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlXHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEJyb3dzZXJSb3V0ZXI7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xyXG5cclxudmFyIF93YXJuaW5nID0gcmVxdWlyZShcIndhcm5pbmdcIik7XHJcblxyXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XHJcblxyXG52YXIgX3JlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xyXG5cclxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XHJcblxyXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcclxuXHJcbnZhciBfaGlzdG9yeSA9IHJlcXVpcmUoXCJoaXN0b3J5XCIpO1xyXG5cclxudmFyIF9Sb3V0ZXIgPSByZXF1aXJlKFwiLi9Sb3V0ZXJcIik7XHJcblxyXG52YXIgX1JvdXRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3V0ZXIpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XHJcblxyXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cclxuXHJcbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxyXG5cclxuLyoqXHJcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciBhIDxSb3V0ZXI+IHRoYXQgdXNlcyB3aW5kb3cubG9jYXRpb24uaGFzaC5cclxuICovXHJcbnZhciBIYXNoUm91dGVyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcclxuICBfaW5oZXJpdHMoSGFzaFJvdXRlciwgX1JlYWN0JENvbXBvbmVudCk7XHJcblxyXG4gIGZ1bmN0aW9uIEhhc2hSb3V0ZXIoKSB7XHJcbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xyXG5cclxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIYXNoUm91dGVyKTtcclxuXHJcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xyXG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5oaXN0b3J5ID0gKDAsIF9oaXN0b3J5LmNyZWF0ZUhhc2hIaXN0b3J5KShfdGhpcy5wcm9wcyksIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xyXG4gIH1cclxuXHJcbiAgSGFzaFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xyXG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KSghdGhpcy5wcm9wcy5oaXN0b3J5LCBcIjxIYXNoUm91dGVyPiBpZ25vcmVzIHRoZSBoaXN0b3J5IHByb3AuIFRvIHVzZSBhIGN1c3RvbSBoaXN0b3J5LCBcIiArIFwidXNlIGBpbXBvcnQgeyBSb3V0ZXIgfWAgaW5zdGVhZCBvZiBgaW1wb3J0IHsgSGFzaFJvdXRlciBhcyBSb3V0ZXIgfWAuXCIpO1xyXG4gIH07XHJcblxyXG4gIEhhc2hSb3V0ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUm91dGVyMi5kZWZhdWx0LCB7IGhpc3Rvcnk6IHRoaXMuaGlzdG9yeSwgY2hpbGRyZW46IHRoaXMucHJvcHMuY2hpbGRyZW4gfSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIEhhc2hSb3V0ZXI7XHJcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XHJcblxyXG5IYXNoUm91dGVyLnByb3BUeXBlcyA9IHtcclxuICBiYXNlbmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgZ2V0VXNlckNvbmZpcm1hdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIGhhc2hUeXBlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mKFtcImhhc2hiYW5nXCIsIFwibm9zbGFzaFwiLCBcInNsYXNoXCJdKSxcclxuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5ub2RlXHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEhhc2hSb3V0ZXI7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xyXG5cclxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcclxuXHJcbnZhciBfcmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XHJcblxyXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcclxuXHJcbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZShcInByb3AtdHlwZXNcIik7XHJcblxyXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xyXG5cclxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKFwiaW52YXJpYW50XCIpO1xyXG5cclxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcclxuXHJcbnZhciBfaGlzdG9yeSA9IHJlcXVpcmUoXCJoaXN0b3J5XCIpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cclxuXHJcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XHJcblxyXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cclxuXHJcbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxyXG5cclxudmFyIGlzTW9kaWZpZWRFdmVudCA9IGZ1bmN0aW9uIGlzTW9kaWZpZWRFdmVudChldmVudCkge1xyXG4gIHJldHVybiAhIShldmVudC5tZXRhS2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50LnNoaWZ0S2V5KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUaGUgcHVibGljIEFQSSBmb3IgcmVuZGVyaW5nIGEgaGlzdG9yeS1hd2FyZSA8YT4uXHJcbiAqL1xyXG5cclxudmFyIExpbmsgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xyXG4gIF9pbmhlcml0cyhMaW5rLCBfUmVhY3QkQ29tcG9uZW50KTtcclxuXHJcbiAgZnVuY3Rpb24gTGluaygpIHtcclxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XHJcblxyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpbmspO1xyXG5cclxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XHJcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNsaWNrKSBfdGhpcy5wcm9wcy5vbkNsaWNrKGV2ZW50KTtcclxuXHJcbiAgICAgIGlmICghZXZlbnQuZGVmYXVsdFByZXZlbnRlZCAmJiAvLyBvbkNsaWNrIHByZXZlbnRlZCBkZWZhdWx0XHJcbiAgICAgIGV2ZW50LmJ1dHRvbiA9PT0gMCAmJiAvLyBpZ25vcmUgZXZlcnl0aGluZyBidXQgbGVmdCBjbGlja3NcclxuICAgICAgIV90aGlzLnByb3BzLnRhcmdldCAmJiAvLyBsZXQgYnJvd3NlciBoYW5kbGUgXCJ0YXJnZXQ9X2JsYW5rXCIgZXRjLlxyXG4gICAgICAhaXNNb2RpZmllZEV2ZW50KGV2ZW50KSAvLyBpZ25vcmUgY2xpY2tzIHdpdGggbW9kaWZpZXIga2V5c1xyXG4gICAgICApIHtcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgdmFyIGhpc3RvcnkgPSBfdGhpcy5jb250ZXh0LnJvdXRlci5oaXN0b3J5O1xyXG4gICAgICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXHJcbiAgICAgICAgICAgICAgcmVwbGFjZSA9IF90aGlzJHByb3BzLnJlcGxhY2UsXHJcbiAgICAgICAgICAgICAgdG8gPSBfdGhpcyRwcm9wcy50bztcclxuXHJcblxyXG4gICAgICAgICAgaWYgKHJlcGxhY2UpIHtcclxuICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlKHRvKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGhpc3RvcnkucHVzaCh0byk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XHJcbiAgfVxyXG5cclxuICBMaW5rLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcclxuICAgICAgICByZXBsYWNlID0gX3Byb3BzLnJlcGxhY2UsXHJcbiAgICAgICAgdG8gPSBfcHJvcHMudG8sXHJcbiAgICAgICAgaW5uZXJSZWYgPSBfcHJvcHMuaW5uZXJSZWYsXHJcbiAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzLCBbXCJyZXBsYWNlXCIsIFwidG9cIiwgXCJpbm5lclJlZlwiXSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuXHJcbiAgICAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkodGhpcy5jb250ZXh0LnJvdXRlciwgXCJZb3Ugc2hvdWxkIG5vdCB1c2UgPExpbms+IG91dHNpZGUgYSA8Um91dGVyPlwiKTtcclxuXHJcbiAgICAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkodG8gIT09IHVuZGVmaW5lZCwgJ1lvdSBtdXN0IHNwZWNpZnkgdGhlIFwidG9cIiBwcm9wZXJ0eScpO1xyXG5cclxuICAgIHZhciBoaXN0b3J5ID0gdGhpcy5jb250ZXh0LnJvdXRlci5oaXN0b3J5O1xyXG5cclxuICAgIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/ICgwLCBfaGlzdG9yeS5jcmVhdGVMb2NhdGlvbikodG8sIG51bGwsIG51bGwsIGhpc3RvcnkubG9jYXRpb24pIDogdG87XHJcblxyXG4gICAgdmFyIGhyZWYgPSBoaXN0b3J5LmNyZWF0ZUhyZWYobG9jYXRpb24pO1xyXG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiYVwiLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHsgb25DbGljazogdGhpcy5oYW5kbGVDbGljaywgaHJlZjogaHJlZiwgcmVmOiBpbm5lclJlZiB9KSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIExpbms7XHJcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XHJcblxyXG5MaW5rLnByb3BUeXBlcyA9IHtcclxuICBvbkNsaWNrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXHJcbiAgdGFyZ2V0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICByZXBsYWNlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcbiAgdG86IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3RdKS5pc1JlcXVpcmVkLFxyXG4gIGlubmVyUmVmOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsIF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY10pXHJcbn07XHJcbkxpbmsuZGVmYXVsdFByb3BzID0ge1xyXG4gIHJlcGxhY2U6IGZhbHNlXHJcbn07XHJcbkxpbmsuY29udGV4dFR5cGVzID0ge1xyXG4gIHJvdXRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XHJcbiAgICBoaXN0b3J5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LnNoYXBlKHtcclxuICAgICAgcHVzaDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXHJcbiAgICAgIHJlcGxhY2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxyXG4gICAgICBjcmVhdGVIcmVmOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZFxyXG4gICAgfSkuaXNSZXF1aXJlZFxyXG4gIH0pLmlzUmVxdWlyZWRcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gTGluazsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XHJcblxyXG52YXIgX01lbW9yeVJvdXRlciA9IHJlcXVpcmUoXCJyZWFjdC1yb3V0ZXIvTWVtb3J5Um91dGVyXCIpO1xyXG5cclxudmFyIF9NZW1vcnlSb3V0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVtb3J5Um91dGVyKTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG5leHBvcnRzLmRlZmF1bHQgPSBfTWVtb3J5Um91dGVyMi5kZWZhdWx0OyAvLyBXcml0dGVuIGluIHRoaXMgcm91bmQgYWJvdXQgd2F5IGZvciBiYWJlbC10cmFuc2Zvcm0taW1wb3J0cyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcclxuXHJcbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XHJcblxyXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XHJcblxyXG52YXIgX3JlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xyXG5cclxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XHJcblxyXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcclxuXHJcbnZhciBfUm91dGUgPSByZXF1aXJlKFwiLi9Sb3V0ZVwiKTtcclxuXHJcbnZhciBfUm91dGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91dGUpO1xyXG5cclxudmFyIF9MaW5rID0gcmVxdWlyZShcIi4vTGlua1wiKTtcclxuXHJcbnZhciBfTGluazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaW5rKTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XHJcblxyXG4vKipcclxuICogQSA8TGluaz4gd3JhcHBlciB0aGF0IGtub3dzIGlmIGl0J3MgXCJhY3RpdmVcIiBvciBub3QuXHJcbiAqL1xyXG52YXIgTmF2TGluayA9IGZ1bmN0aW9uIE5hdkxpbmsoX3JlZikge1xyXG4gIHZhciB0byA9IF9yZWYudG8sXHJcbiAgICAgIGV4YWN0ID0gX3JlZi5leGFjdCxcclxuICAgICAgc3RyaWN0ID0gX3JlZi5zdHJpY3QsXHJcbiAgICAgIGxvY2F0aW9uID0gX3JlZi5sb2NhdGlvbixcclxuICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3JlZi5hY3RpdmVDbGFzc05hbWUsXHJcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxyXG4gICAgICBhY3RpdmVTdHlsZSA9IF9yZWYuYWN0aXZlU3R5bGUsXHJcbiAgICAgIHN0eWxlID0gX3JlZi5zdHlsZSxcclxuICAgICAgZ2V0SXNBY3RpdmUgPSBfcmVmLmlzQWN0aXZlLFxyXG4gICAgICBhcmlhQ3VycmVudCA9IF9yZWZbXCJhcmlhLWN1cnJlbnRcIl0sXHJcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgW1widG9cIiwgXCJleGFjdFwiLCBcInN0cmljdFwiLCBcImxvY2F0aW9uXCIsIFwiYWN0aXZlQ2xhc3NOYW1lXCIsIFwiY2xhc3NOYW1lXCIsIFwiYWN0aXZlU3R5bGVcIiwgXCJzdHlsZVwiLCBcImlzQWN0aXZlXCIsIFwiYXJpYS1jdXJyZW50XCJdKTtcclxuXHJcbiAgdmFyIHBhdGggPSAodHlwZW9mIHRvID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YodG8pKSA9PT0gXCJvYmplY3RcIiA/IHRvLnBhdGhuYW1lIDogdG87XHJcblxyXG4gIC8vIFJlZ2V4IHRha2VuIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9waWxsYXJqcy9wYXRoLXRvLXJlZ2V4cC9ibG9iL21hc3Rlci9pbmRleC5qcyNMMjAyXHJcbiAgdmFyIGVzY2FwZWRQYXRoID0gcGF0aCAmJiBwYXRoLnJlcGxhY2UoLyhbLisqPz1eIToke30oKVtcXF18L1xcXFxdKS9nLCBcIlxcXFwkMVwiKTtcclxuXHJcbiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Sb3V0ZTIuZGVmYXVsdCwge1xyXG4gICAgcGF0aDogZXNjYXBlZFBhdGgsXHJcbiAgICBleGFjdDogZXhhY3QsXHJcbiAgICBzdHJpY3Q6IHN0cmljdCxcclxuICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcclxuICAgIGNoaWxkcmVuOiBmdW5jdGlvbiBjaGlsZHJlbihfcmVmMikge1xyXG4gICAgICB2YXIgbG9jYXRpb24gPSBfcmVmMi5sb2NhdGlvbixcclxuICAgICAgICAgIG1hdGNoID0gX3JlZjIubWF0Y2g7XHJcblxyXG4gICAgICB2YXIgaXNBY3RpdmUgPSAhIShnZXRJc0FjdGl2ZSA/IGdldElzQWN0aXZlKG1hdGNoLCBsb2NhdGlvbikgOiBtYXRjaCk7XHJcblxyXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0xpbmsyLmRlZmF1bHQsIF9leHRlbmRzKHtcclxuICAgICAgICB0bzogdG8sXHJcbiAgICAgICAgY2xhc3NOYW1lOiBpc0FjdGl2ZSA/IFtjbGFzc05hbWUsIGFjdGl2ZUNsYXNzTmFtZV0uZmlsdGVyKGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICB9KS5qb2luKFwiIFwiKSA6IGNsYXNzTmFtZSxcclxuICAgICAgICBzdHlsZTogaXNBY3RpdmUgPyBfZXh0ZW5kcyh7fSwgc3R5bGUsIGFjdGl2ZVN0eWxlKSA6IHN0eWxlLFxyXG4gICAgICAgIFwiYXJpYS1jdXJyZW50XCI6IGlzQWN0aXZlICYmIGFyaWFDdXJyZW50IHx8IG51bGxcclxuICAgICAgfSwgcmVzdCkpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuTmF2TGluay5wcm9wVHlwZXMgPSB7XHJcbiAgdG86IF9MaW5rMi5kZWZhdWx0LnByb3BUeXBlcy50byxcclxuICBleGFjdDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxyXG4gIHN0cmljdDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxyXG4gIGxvY2F0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcclxuICBhY3RpdmVDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxyXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgYWN0aXZlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxyXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcclxuICBpc0FjdGl2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIFwiYXJpYS1jdXJyZW50XCI6IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2YoW1wicGFnZVwiLCBcInN0ZXBcIiwgXCJsb2NhdGlvblwiLCBcImRhdGVcIiwgXCJ0aW1lXCIsIFwidHJ1ZVwiXSlcclxufTtcclxuXHJcbk5hdkxpbmsuZGVmYXVsdFByb3BzID0ge1xyXG4gIGFjdGl2ZUNsYXNzTmFtZTogXCJhY3RpdmVcIixcclxuICBcImFyaWEtY3VycmVudFwiOiBcInBhZ2VcIlxyXG59O1xyXG5cclxuZXhwb3J0cy5kZWZhdWx0ID0gTmF2TGluazsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XHJcblxyXG52YXIgX1Byb21wdCA9IHJlcXVpcmUoXCJyZWFjdC1yb3V0ZXIvUHJvbXB0XCIpO1xyXG5cclxudmFyIF9Qcm9tcHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJvbXB0KTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG5leHBvcnRzLmRlZmF1bHQgPSBfUHJvbXB0Mi5kZWZhdWx0OyAvLyBXcml0dGVuIGluIHRoaXMgcm91bmQgYWJvdXQgd2F5IGZvciBiYWJlbC10cmFuc2Zvcm0taW1wb3J0cyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcclxuXHJcbnZhciBfUmVkaXJlY3QgPSByZXF1aXJlKFwicmVhY3Qtcm91dGVyL1JlZGlyZWN0XCIpO1xyXG5cclxudmFyIF9SZWRpcmVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZWRpcmVjdCk7XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxyXG5cclxuZXhwb3J0cy5kZWZhdWx0ID0gX1JlZGlyZWN0Mi5kZWZhdWx0OyAvLyBXcml0dGVuIGluIHRoaXMgcm91bmQgYWJvdXQgd2F5IGZvciBiYWJlbC10cmFuc2Zvcm0taW1wb3J0cyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcclxuXHJcbnZhciBfUm91dGUgPSByZXF1aXJlKFwicmVhY3Qtcm91dGVyL1JvdXRlXCIpO1xyXG5cclxudmFyIF9Sb3V0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3V0ZSk7XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxyXG5cclxuZXhwb3J0cy5kZWZhdWx0ID0gX1JvdXRlMi5kZWZhdWx0OyAvLyBXcml0dGVuIGluIHRoaXMgcm91bmQgYWJvdXQgd2F5IGZvciBiYWJlbC10cmFuc2Zvcm0taW1wb3J0cyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcclxuXHJcbnZhciBfUm91dGVyID0gcmVxdWlyZShcInJlYWN0LXJvdXRlci9Sb3V0ZXJcIik7XHJcblxyXG52YXIgX1JvdXRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3V0ZXIpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmV4cG9ydHMuZGVmYXVsdCA9IF9Sb3V0ZXIyLmRlZmF1bHQ7IC8vIFdyaXR0ZW4gaW4gdGhpcyByb3VuZCBhYm91dCB3YXkgZm9yIGJhYmVsLXRyYW5zZm9ybS1pbXBvcnRzIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xyXG5cclxudmFyIF9TdGF0aWNSb3V0ZXIgPSByZXF1aXJlKFwicmVhY3Qtcm91dGVyL1N0YXRpY1JvdXRlclwiKTtcclxuXHJcbnZhciBfU3RhdGljUm91dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N0YXRpY1JvdXRlcik7XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxyXG5cclxuZXhwb3J0cy5kZWZhdWx0ID0gX1N0YXRpY1JvdXRlcjIuZGVmYXVsdDsgLy8gV3JpdHRlbiBpbiB0aGlzIHJvdW5kIGFib3V0IHdheSBmb3IgYmFiZWwtdHJhbnNmb3JtLWltcG9ydHMiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XHJcblxyXG52YXIgX1N3aXRjaCA9IHJlcXVpcmUoXCJyZWFjdC1yb3V0ZXIvU3dpdGNoXCIpO1xyXG5cclxudmFyIF9Td2l0Y2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3dpdGNoKTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG5leHBvcnRzLmRlZmF1bHQgPSBfU3dpdGNoMi5kZWZhdWx0OyAvLyBXcml0dGVuIGluIHRoaXMgcm91bmQgYWJvdXQgd2F5IGZvciBiYWJlbC10cmFuc2Zvcm0taW1wb3J0cyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcclxuXHJcbnZhciBfZ2VuZXJhdGVQYXRoID0gcmVxdWlyZShcInJlYWN0LXJvdXRlci9nZW5lcmF0ZVBhdGhcIik7XHJcblxyXG52YXIgX2dlbmVyYXRlUGF0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZW5lcmF0ZVBhdGgpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmV4cG9ydHMuZGVmYXVsdCA9IF9nZW5lcmF0ZVBhdGgyLmRlZmF1bHQ7IC8vIFdyaXR0ZW4gaW4gdGhpcyByb3VuZCBhYm91dCB3YXkgZm9yIGJhYmVsLXRyYW5zZm9ybS1pbXBvcnRzIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xyXG5leHBvcnRzLndpdGhSb3V0ZXIgPSBleHBvcnRzLm1hdGNoUGF0aCA9IGV4cG9ydHMuZ2VuZXJhdGVQYXRoID0gZXhwb3J0cy5Td2l0Y2ggPSBleHBvcnRzLlN0YXRpY1JvdXRlciA9IGV4cG9ydHMuUm91dGVyID0gZXhwb3J0cy5Sb3V0ZSA9IGV4cG9ydHMuUmVkaXJlY3QgPSBleHBvcnRzLlByb21wdCA9IGV4cG9ydHMuTmF2TGluayA9IGV4cG9ydHMuTWVtb3J5Um91dGVyID0gZXhwb3J0cy5MaW5rID0gZXhwb3J0cy5IYXNoUm91dGVyID0gZXhwb3J0cy5Ccm93c2VyUm91dGVyID0gdW5kZWZpbmVkO1xyXG5cclxudmFyIF9Ccm93c2VyUm91dGVyMiA9IHJlcXVpcmUoXCIuL0Jyb3dzZXJSb3V0ZXJcIik7XHJcblxyXG52YXIgX0Jyb3dzZXJSb3V0ZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQnJvd3NlclJvdXRlcjIpO1xyXG5cclxudmFyIF9IYXNoUm91dGVyMiA9IHJlcXVpcmUoXCIuL0hhc2hSb3V0ZXJcIik7XHJcblxyXG52YXIgX0hhc2hSb3V0ZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSGFzaFJvdXRlcjIpO1xyXG5cclxudmFyIF9MaW5rMiA9IHJlcXVpcmUoXCIuL0xpbmtcIik7XHJcblxyXG52YXIgX0xpbmszID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGluazIpO1xyXG5cclxudmFyIF9NZW1vcnlSb3V0ZXIyID0gcmVxdWlyZShcIi4vTWVtb3J5Um91dGVyXCIpO1xyXG5cclxudmFyIF9NZW1vcnlSb3V0ZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVtb3J5Um91dGVyMik7XHJcblxyXG52YXIgX05hdkxpbmsyID0gcmVxdWlyZShcIi4vTmF2TGlua1wiKTtcclxuXHJcbnZhciBfTmF2TGluazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9OYXZMaW5rMik7XHJcblxyXG52YXIgX1Byb21wdDIgPSByZXF1aXJlKFwiLi9Qcm9tcHRcIik7XHJcblxyXG52YXIgX1Byb21wdDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qcm9tcHQyKTtcclxuXHJcbnZhciBfUmVkaXJlY3QyID0gcmVxdWlyZShcIi4vUmVkaXJlY3RcIik7XHJcblxyXG52YXIgX1JlZGlyZWN0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlZGlyZWN0Mik7XHJcblxyXG52YXIgX1JvdXRlMiA9IHJlcXVpcmUoXCIuL1JvdXRlXCIpO1xyXG5cclxudmFyIF9Sb3V0ZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3V0ZTIpO1xyXG5cclxudmFyIF9Sb3V0ZXIyID0gcmVxdWlyZShcIi4vUm91dGVyXCIpO1xyXG5cclxudmFyIF9Sb3V0ZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91dGVyMik7XHJcblxyXG52YXIgX1N0YXRpY1JvdXRlcjIgPSByZXF1aXJlKFwiLi9TdGF0aWNSb3V0ZXJcIik7XHJcblxyXG52YXIgX1N0YXRpY1JvdXRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdGF0aWNSb3V0ZXIyKTtcclxuXHJcbnZhciBfU3dpdGNoMiA9IHJlcXVpcmUoXCIuL1N3aXRjaFwiKTtcclxuXHJcbnZhciBfU3dpdGNoMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N3aXRjaDIpO1xyXG5cclxudmFyIF9nZW5lcmF0ZVBhdGgyID0gcmVxdWlyZShcIi4vZ2VuZXJhdGVQYXRoXCIpO1xyXG5cclxudmFyIF9nZW5lcmF0ZVBhdGgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVQYXRoMik7XHJcblxyXG52YXIgX21hdGNoUGF0aDIgPSByZXF1aXJlKFwiLi9tYXRjaFBhdGhcIik7XHJcblxyXG52YXIgX21hdGNoUGF0aDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRjaFBhdGgyKTtcclxuXHJcbnZhciBfd2l0aFJvdXRlcjIgPSByZXF1aXJlKFwiLi93aXRoUm91dGVyXCIpO1xyXG5cclxudmFyIF93aXRoUm91dGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dpdGhSb3V0ZXIyKTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG5leHBvcnRzLkJyb3dzZXJSb3V0ZXIgPSBfQnJvd3NlclJvdXRlcjMuZGVmYXVsdDtcclxuZXhwb3J0cy5IYXNoUm91dGVyID0gX0hhc2hSb3V0ZXIzLmRlZmF1bHQ7XHJcbmV4cG9ydHMuTGluayA9IF9MaW5rMy5kZWZhdWx0O1xyXG5leHBvcnRzLk1lbW9yeVJvdXRlciA9IF9NZW1vcnlSb3V0ZXIzLmRlZmF1bHQ7XHJcbmV4cG9ydHMuTmF2TGluayA9IF9OYXZMaW5rMy5kZWZhdWx0O1xyXG5leHBvcnRzLlByb21wdCA9IF9Qcm9tcHQzLmRlZmF1bHQ7XHJcbmV4cG9ydHMuUmVkaXJlY3QgPSBfUmVkaXJlY3QzLmRlZmF1bHQ7XHJcbmV4cG9ydHMuUm91dGUgPSBfUm91dGUzLmRlZmF1bHQ7XHJcbmV4cG9ydHMuUm91dGVyID0gX1JvdXRlcjMuZGVmYXVsdDtcclxuZXhwb3J0cy5TdGF0aWNSb3V0ZXIgPSBfU3RhdGljUm91dGVyMy5kZWZhdWx0O1xyXG5leHBvcnRzLlN3aXRjaCA9IF9Td2l0Y2gzLmRlZmF1bHQ7XHJcbmV4cG9ydHMuZ2VuZXJhdGVQYXRoID0gX2dlbmVyYXRlUGF0aDMuZGVmYXVsdDtcclxuZXhwb3J0cy5tYXRjaFBhdGggPSBfbWF0Y2hQYXRoMy5kZWZhdWx0O1xyXG5leHBvcnRzLndpdGhSb3V0ZXIgPSBfd2l0aFJvdXRlcjMuZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XHJcblxyXG52YXIgX21hdGNoUGF0aCA9IHJlcXVpcmUoXCJyZWFjdC1yb3V0ZXIvbWF0Y2hQYXRoXCIpO1xyXG5cclxudmFyIF9tYXRjaFBhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF0Y2hQYXRoKTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG5leHBvcnRzLmRlZmF1bHQgPSBfbWF0Y2hQYXRoMi5kZWZhdWx0OyAvLyBXcml0dGVuIGluIHRoaXMgcm91bmQgYWJvdXQgd2F5IGZvciBiYWJlbC10cmFuc2Zvcm0taW1wb3J0cyIsIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cclxuICpcclxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXHJcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG4vKipcclxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxyXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXHJcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXHJcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxyXG4gKi9cclxuXHJcbnZhciBfX0RFVl9fID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJztcclxuXHJcbnZhciB3YXJuaW5nID0gZnVuY3Rpb24oKSB7fTtcclxuXHJcbmlmIChfX0RFVl9fKSB7XHJcbiAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIHByaW50V2FybmluZyhmb3JtYXQsIGFyZ3MpIHtcclxuICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAxID8gbGVuIC0gMSA6IDApO1xyXG4gICAgZm9yICh2YXIga2V5ID0gMTsga2V5IDwgbGVuOyBrZXkrKykge1xyXG4gICAgICBhcmdzW2tleSAtIDFdID0gYXJndW1lbnRzW2tleV07XHJcbiAgICB9XHJcbiAgICB2YXIgYXJnSW5kZXggPSAwO1xyXG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArXHJcbiAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcclxuICAgICAgfSk7XHJcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXHJcbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xyXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgfSBjYXRjaCAoeCkge31cclxuICB9XHJcblxyXG4gIHdhcm5pbmcgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYXJncykge1xyXG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XHJcbiAgICBmb3IgKHZhciBrZXkgPSAyOyBrZXkgPCBsZW47IGtleSsrKSB7XHJcbiAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcclxuICAgIH1cclxuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAnYHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArXHJcbiAgICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGlmICghY29uZGl0aW9uKSB7XHJcbiAgICAgIHByaW50V2FybmluZy5hcHBseShudWxsLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gd2FybmluZztcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xyXG5cclxudmFyIF93aXRoUm91dGVyID0gcmVxdWlyZShcInJlYWN0LXJvdXRlci93aXRoUm91dGVyXCIpO1xyXG5cclxudmFyIF93aXRoUm91dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dpdGhSb3V0ZXIpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmV4cG9ydHMuZGVmYXVsdCA9IF93aXRoUm91dGVyMi5kZWZhdWx0OyAvLyBXcml0dGVuIGluIHRoaXMgcm91bmQgYWJvdXQgd2F5IGZvciBiYWJlbC10cmFuc2Zvcm0taW1wb3J0cyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcclxuXHJcbnZhciBfd2FybmluZyA9IHJlcXVpcmUoXCJ3YXJuaW5nXCIpO1xyXG5cclxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xyXG5cclxudmFyIF9yZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcclxuXHJcbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKFwicHJvcC10eXBlc1wiKTtcclxuXHJcbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XHJcblxyXG52YXIgX2hpc3RvcnkgPSByZXF1aXJlKFwiaGlzdG9yeVwiKTtcclxuXHJcbnZhciBfUm91dGVyID0gcmVxdWlyZShcIi4vUm91dGVyXCIpO1xyXG5cclxudmFyIF9Sb3V0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91dGVyKTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxyXG5cclxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XHJcblxyXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cclxuXHJcbi8qKlxyXG4gKiBUaGUgcHVibGljIEFQSSBmb3IgYSA8Um91dGVyPiB0aGF0IHN0b3JlcyBsb2NhdGlvbiBpbiBtZW1vcnkuXHJcbiAqL1xyXG52YXIgTWVtb3J5Um91dGVyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcclxuICBfaW5oZXJpdHMoTWVtb3J5Um91dGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcclxuXHJcbiAgZnVuY3Rpb24gTWVtb3J5Um91dGVyKCkge1xyXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcclxuXHJcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVtb3J5Um91dGVyKTtcclxuXHJcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xyXG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5oaXN0b3J5ID0gKDAsIF9oaXN0b3J5LmNyZWF0ZU1lbW9yeUhpc3RvcnkpKF90aGlzLnByb3BzKSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XHJcbiAgfVxyXG5cclxuICBNZW1vcnlSb3V0ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoIXRoaXMucHJvcHMuaGlzdG9yeSwgXCI8TWVtb3J5Um91dGVyPiBpZ25vcmVzIHRoZSBoaXN0b3J5IHByb3AuIFRvIHVzZSBhIGN1c3RvbSBoaXN0b3J5LCBcIiArIFwidXNlIGBpbXBvcnQgeyBSb3V0ZXIgfWAgaW5zdGVhZCBvZiBgaW1wb3J0IHsgTWVtb3J5Um91dGVyIGFzIFJvdXRlciB9YC5cIik7XHJcbiAgfTtcclxuXHJcbiAgTWVtb3J5Um91dGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1JvdXRlcjIuZGVmYXVsdCwgeyBoaXN0b3J5OiB0aGlzLmhpc3RvcnksIGNoaWxkcmVuOiB0aGlzLnByb3BzLmNoaWxkcmVuIH0pO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBNZW1vcnlSb3V0ZXI7XHJcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XHJcblxyXG5NZW1vcnlSb3V0ZXIucHJvcFR5cGVzID0ge1xyXG4gIGluaXRpYWxFbnRyaWVzOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFycmF5LFxyXG4gIGluaXRpYWxJbmRleDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXHJcbiAgZ2V0VXNlckNvbmZpcm1hdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIGtleUxlbmd0aDogX3Byb3BUeXBlczIuZGVmYXVsdC5udW1iZXIsXHJcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZVxyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBNZW1vcnlSb3V0ZXI7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xyXG5cclxudmFyIF9yZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcclxuXHJcbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKFwicHJvcC10eXBlc1wiKTtcclxuXHJcbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XHJcblxyXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoXCJpbnZhcmlhbnRcIik7XHJcblxyXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XHJcblxyXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cclxuXHJcbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxyXG5cclxuLyoqXHJcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciBwcm9tcHRpbmcgdGhlIHVzZXIgYmVmb3JlIG5hdmlnYXRpbmcgYXdheVxyXG4gKiBmcm9tIGEgc2NyZWVuIHdpdGggYSBjb21wb25lbnQuXHJcbiAqL1xyXG52YXIgUHJvbXB0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcclxuICBfaW5oZXJpdHMoUHJvbXB0LCBfUmVhY3QkQ29tcG9uZW50KTtcclxuXHJcbiAgZnVuY3Rpb24gUHJvbXB0KCkge1xyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb21wdCk7XHJcblxyXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XHJcbiAgfVxyXG5cclxuICBQcm9tcHQucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uIGVuYWJsZShtZXNzYWdlKSB7XHJcbiAgICBpZiAodGhpcy51bmJsb2NrKSB0aGlzLnVuYmxvY2soKTtcclxuXHJcbiAgICB0aGlzLnVuYmxvY2sgPSB0aGlzLmNvbnRleHQucm91dGVyLmhpc3RvcnkuYmxvY2sobWVzc2FnZSk7XHJcbiAgfTtcclxuXHJcbiAgUHJvbXB0LnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gZGlzYWJsZSgpIHtcclxuICAgIGlmICh0aGlzLnVuYmxvY2spIHtcclxuICAgICAgdGhpcy51bmJsb2NrKCk7XHJcbiAgICAgIHRoaXMudW5ibG9jayA9IG51bGw7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgUHJvbXB0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XHJcbiAgICAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkodGhpcy5jb250ZXh0LnJvdXRlciwgXCJZb3Ugc2hvdWxkIG5vdCB1c2UgPFByb21wdD4gb3V0c2lkZSBhIDxSb3V0ZXI+XCIpO1xyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLndoZW4pIHRoaXMuZW5hYmxlKHRoaXMucHJvcHMubWVzc2FnZSk7XHJcbiAgfTtcclxuXHJcbiAgUHJvbXB0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcclxuICAgIGlmIChuZXh0UHJvcHMud2hlbikge1xyXG4gICAgICBpZiAoIXRoaXMucHJvcHMud2hlbiB8fCB0aGlzLnByb3BzLm1lc3NhZ2UgIT09IG5leHRQcm9wcy5tZXNzYWdlKSB0aGlzLmVuYWJsZShuZXh0UHJvcHMubWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmRpc2FibGUoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBQcm9tcHQucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICB0aGlzLmRpc2FibGUoKTtcclxuICB9O1xyXG5cclxuICBQcm9tcHQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBQcm9tcHQ7XHJcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XHJcblxyXG5Qcm9tcHQucHJvcFR5cGVzID0ge1xyXG4gIHdoZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcclxuICBtZXNzYWdlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLCBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZ10pLmlzUmVxdWlyZWRcclxufTtcclxuUHJvbXB0LmRlZmF1bHRQcm9wcyA9IHtcclxuICB3aGVuOiB0cnVlXHJcbn07XHJcblByb21wdC5jb250ZXh0VHlwZXMgPSB7XHJcbiAgcm91dGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnNoYXBlKHtcclxuICAgIGhpc3Rvcnk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xyXG4gICAgICBibG9jazogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWRcclxuICAgIH0pLmlzUmVxdWlyZWRcclxuICB9KS5pc1JlcXVpcmVkXHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFByb21wdDsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XHJcblxyXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xyXG5cclxudmFyIF9yZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcclxuXHJcbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKFwicHJvcC10eXBlc1wiKTtcclxuXHJcbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XHJcblxyXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKFwid2FybmluZ1wiKTtcclxuXHJcbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcclxuXHJcbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZShcImludmFyaWFudFwiKTtcclxuXHJcbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XHJcblxyXG52YXIgX2hpc3RvcnkgPSByZXF1aXJlKFwiaGlzdG9yeVwiKTtcclxuXHJcbnZhciBfZ2VuZXJhdGVQYXRoID0gcmVxdWlyZShcIi4vZ2VuZXJhdGVQYXRoXCIpO1xyXG5cclxudmFyIF9nZW5lcmF0ZVBhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVQYXRoKTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxyXG5cclxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XHJcblxyXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cclxuXHJcbi8qKlxyXG4gKiBUaGUgcHVibGljIEFQSSBmb3IgdXBkYXRpbmcgdGhlIGxvY2F0aW9uIHByb2dyYW1tYXRpY2FsbHlcclxuICogd2l0aCBhIGNvbXBvbmVudC5cclxuICovXHJcbnZhciBSZWRpcmVjdCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XHJcbiAgX2luaGVyaXRzKFJlZGlyZWN0LCBfUmVhY3QkQ29tcG9uZW50KTtcclxuXHJcbiAgZnVuY3Rpb24gUmVkaXJlY3QoKSB7XHJcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVkaXJlY3QpO1xyXG5cclxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xyXG4gIH1cclxuXHJcbiAgUmVkaXJlY3QucHJvdG90eXBlLmlzU3RhdGljID0gZnVuY3Rpb24gaXNTdGF0aWMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0LnJvdXRlciAmJiB0aGlzLmNvbnRleHQucm91dGVyLnN0YXRpY0NvbnRleHQ7XHJcbiAgfTtcclxuXHJcbiAgUmVkaXJlY3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KSh0aGlzLmNvbnRleHQucm91dGVyLCBcIllvdSBzaG91bGQgbm90IHVzZSA8UmVkaXJlY3Q+IG91dHNpZGUgYSA8Um91dGVyPlwiKTtcclxuXHJcbiAgICBpZiAodGhpcy5pc1N0YXRpYygpKSB0aGlzLnBlcmZvcm0oKTtcclxuICB9O1xyXG5cclxuICBSZWRpcmVjdC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIGlmICghdGhpcy5pc1N0YXRpYygpKSB0aGlzLnBlcmZvcm0oKTtcclxuICB9O1xyXG5cclxuICBSZWRpcmVjdC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xyXG4gICAgdmFyIHByZXZUbyA9ICgwLCBfaGlzdG9yeS5jcmVhdGVMb2NhdGlvbikocHJldlByb3BzLnRvKTtcclxuICAgIHZhciBuZXh0VG8gPSAoMCwgX2hpc3RvcnkuY3JlYXRlTG9jYXRpb24pKHRoaXMucHJvcHMudG8pO1xyXG5cclxuICAgIGlmICgoMCwgX2hpc3RvcnkubG9jYXRpb25zQXJlRXF1YWwpKHByZXZUbywgbmV4dFRvKSkge1xyXG4gICAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCBcIllvdSB0cmllZCB0byByZWRpcmVjdCB0byB0aGUgc2FtZSByb3V0ZSB5b3UncmUgY3VycmVudGx5IG9uOiBcIiArIChcIlxcXCJcIiArIG5leHRUby5wYXRobmFtZSArIG5leHRUby5zZWFyY2ggKyBcIlxcXCJcIikpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wZXJmb3JtKCk7XHJcbiAgfTtcclxuXHJcbiAgUmVkaXJlY3QucHJvdG90eXBlLmNvbXB1dGVUbyA9IGZ1bmN0aW9uIGNvbXB1dGVUbyhfcmVmKSB7XHJcbiAgICB2YXIgY29tcHV0ZWRNYXRjaCA9IF9yZWYuY29tcHV0ZWRNYXRjaCxcclxuICAgICAgICB0byA9IF9yZWYudG87XHJcblxyXG4gICAgaWYgKGNvbXB1dGVkTWF0Y2gpIHtcclxuICAgICAgaWYgKHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIHJldHVybiAoMCwgX2dlbmVyYXRlUGF0aDIuZGVmYXVsdCkodG8sIGNvbXB1dGVkTWF0Y2gucGFyYW1zKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHRvLCB7XHJcbiAgICAgICAgICBwYXRobmFtZTogKDAsIF9nZW5lcmF0ZVBhdGgyLmRlZmF1bHQpKHRvLnBhdGhuYW1lLCBjb21wdXRlZE1hdGNoLnBhcmFtcylcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0bztcclxuICB9O1xyXG5cclxuICBSZWRpcmVjdC5wcm90b3R5cGUucGVyZm9ybSA9IGZ1bmN0aW9uIHBlcmZvcm0oKSB7XHJcbiAgICB2YXIgaGlzdG9yeSA9IHRoaXMuY29udGV4dC5yb3V0ZXIuaGlzdG9yeTtcclxuICAgIHZhciBwdXNoID0gdGhpcy5wcm9wcy5wdXNoO1xyXG5cclxuICAgIHZhciB0byA9IHRoaXMuY29tcHV0ZVRvKHRoaXMucHJvcHMpO1xyXG5cclxuICAgIGlmIChwdXNoKSB7XHJcbiAgICAgIGhpc3RvcnkucHVzaCh0byk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBoaXN0b3J5LnJlcGxhY2UodG8pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIFJlZGlyZWN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9O1xyXG5cclxuICByZXR1cm4gUmVkaXJlY3Q7XHJcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XHJcblxyXG5SZWRpcmVjdC5wcm9wVHlwZXMgPSB7XHJcbiAgY29tcHV0ZWRNYXRjaDogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsIC8vIHByaXZhdGUsIGZyb20gPFN3aXRjaD5cclxuICBwdXNoOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXHJcbiAgZnJvbTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXHJcbiAgdG86IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3RdKS5pc1JlcXVpcmVkXHJcbn07XHJcblJlZGlyZWN0LmRlZmF1bHRQcm9wcyA9IHtcclxuICBwdXNoOiBmYWxzZVxyXG59O1xyXG5SZWRpcmVjdC5jb250ZXh0VHlwZXMgPSB7XHJcbiAgcm91dGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnNoYXBlKHtcclxuICAgIGhpc3Rvcnk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xyXG4gICAgICBwdXNoOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcclxuICAgICAgcmVwbGFjZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWRcclxuICAgIH0pLmlzUmVxdWlyZWQsXHJcbiAgICBzdGF0aWNDb250ZXh0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxyXG4gIH0pLmlzUmVxdWlyZWRcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gUmVkaXJlY3Q7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xyXG5cclxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcclxuXHJcbnZhciBfd2FybmluZyA9IHJlcXVpcmUoXCJ3YXJuaW5nXCIpO1xyXG5cclxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xyXG5cclxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKFwiaW52YXJpYW50XCIpO1xyXG5cclxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcclxuXHJcbnZhciBfcmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XHJcblxyXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcclxuXHJcbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZShcInByb3AtdHlwZXNcIik7XHJcblxyXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xyXG5cclxudmFyIF9tYXRjaFBhdGggPSByZXF1aXJlKFwiLi9tYXRjaFBhdGhcIik7XHJcblxyXG52YXIgX21hdGNoUGF0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRjaFBhdGgpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XHJcblxyXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cclxuXHJcbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxyXG5cclxudmFyIGlzRW1wdHlDaGlsZHJlbiA9IGZ1bmN0aW9uIGlzRW1wdHlDaGlsZHJlbihjaGlsZHJlbikge1xyXG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pID09PSAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRoZSBwdWJsaWMgQVBJIGZvciBtYXRjaGluZyBhIHNpbmdsZSBwYXRoIGFuZCByZW5kZXJpbmcuXHJcbiAqL1xyXG5cclxudmFyIFJvdXRlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcclxuICBfaW5oZXJpdHMoUm91dGUsIF9SZWFjdCRDb21wb25lbnQpO1xyXG5cclxuICBmdW5jdGlvbiBSb3V0ZSgpIHtcclxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XHJcblxyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvdXRlKTtcclxuXHJcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xyXG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgbWF0Y2g6IF90aGlzLmNvbXB1dGVNYXRjaChfdGhpcy5wcm9wcywgX3RoaXMuY29udGV4dC5yb3V0ZXIpXHJcbiAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcclxuICB9XHJcblxyXG4gIFJvdXRlLnByb3RvdHlwZS5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByb3V0ZXI6IF9leHRlbmRzKHt9LCB0aGlzLmNvbnRleHQucm91dGVyLCB7XHJcbiAgICAgICAgcm91dGU6IHtcclxuICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLnByb3BzLmxvY2F0aW9uIHx8IHRoaXMuY29udGV4dC5yb3V0ZXIucm91dGUubG9jYXRpb24sXHJcbiAgICAgICAgICBtYXRjaDogdGhpcy5zdGF0ZS5tYXRjaFxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgUm91dGUucHJvdG90eXBlLmNvbXB1dGVNYXRjaCA9IGZ1bmN0aW9uIGNvbXB1dGVNYXRjaChfcmVmLCByb3V0ZXIpIHtcclxuICAgIHZhciBjb21wdXRlZE1hdGNoID0gX3JlZi5jb21wdXRlZE1hdGNoLFxyXG4gICAgICAgIGxvY2F0aW9uID0gX3JlZi5sb2NhdGlvbixcclxuICAgICAgICBwYXRoID0gX3JlZi5wYXRoLFxyXG4gICAgICAgIHN0cmljdCA9IF9yZWYuc3RyaWN0LFxyXG4gICAgICAgIGV4YWN0ID0gX3JlZi5leGFjdCxcclxuICAgICAgICBzZW5zaXRpdmUgPSBfcmVmLnNlbnNpdGl2ZTtcclxuXHJcbiAgICBpZiAoY29tcHV0ZWRNYXRjaCkgcmV0dXJuIGNvbXB1dGVkTWF0Y2g7IC8vIDxTd2l0Y2g+IGFscmVhZHkgY29tcHV0ZWQgdGhlIG1hdGNoIGZvciB1c1xyXG5cclxuICAgICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShyb3V0ZXIsIFwiWW91IHNob3VsZCBub3QgdXNlIDxSb3V0ZT4gb3Igd2l0aFJvdXRlcigpIG91dHNpZGUgYSA8Um91dGVyPlwiKTtcclxuXHJcbiAgICB2YXIgcm91dGUgPSByb3V0ZXIucm91dGU7XHJcblxyXG4gICAgdmFyIHBhdGhuYW1lID0gKGxvY2F0aW9uIHx8IHJvdXRlLmxvY2F0aW9uKS5wYXRobmFtZTtcclxuXHJcbiAgICByZXR1cm4gKDAsIF9tYXRjaFBhdGgyLmRlZmF1bHQpKHBhdGhuYW1lLCB7IHBhdGg6IHBhdGgsIHN0cmljdDogc3RyaWN0LCBleGFjdDogZXhhY3QsIHNlbnNpdGl2ZTogc2Vuc2l0aXZlIH0sIHJvdXRlLm1hdGNoKTtcclxuICB9O1xyXG5cclxuICBSb3V0ZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xyXG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KSghKHRoaXMucHJvcHMuY29tcG9uZW50ICYmIHRoaXMucHJvcHMucmVuZGVyKSwgXCJZb3Ugc2hvdWxkIG5vdCB1c2UgPFJvdXRlIGNvbXBvbmVudD4gYW5kIDxSb3V0ZSByZW5kZXI+IGluIHRoZSBzYW1lIHJvdXRlOyA8Um91dGUgcmVuZGVyPiB3aWxsIGJlIGlnbm9yZWRcIik7XHJcblxyXG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KSghKHRoaXMucHJvcHMuY29tcG9uZW50ICYmIHRoaXMucHJvcHMuY2hpbGRyZW4gJiYgIWlzRW1wdHlDaGlsZHJlbih0aGlzLnByb3BzLmNoaWxkcmVuKSksIFwiWW91IHNob3VsZCBub3QgdXNlIDxSb3V0ZSBjb21wb25lbnQ+IGFuZCA8Um91dGUgY2hpbGRyZW4+IGluIHRoZSBzYW1lIHJvdXRlOyA8Um91dGUgY2hpbGRyZW4+IHdpbGwgYmUgaWdub3JlZFwiKTtcclxuXHJcbiAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKCEodGhpcy5wcm9wcy5yZW5kZXIgJiYgdGhpcy5wcm9wcy5jaGlsZHJlbiAmJiAhaXNFbXB0eUNoaWxkcmVuKHRoaXMucHJvcHMuY2hpbGRyZW4pKSwgXCJZb3Ugc2hvdWxkIG5vdCB1c2UgPFJvdXRlIHJlbmRlcj4gYW5kIDxSb3V0ZSBjaGlsZHJlbj4gaW4gdGhlIHNhbWUgcm91dGU7IDxSb3V0ZSBjaGlsZHJlbj4gd2lsbCBiZSBpZ25vcmVkXCIpO1xyXG4gIH07XHJcblxyXG4gIFJvdXRlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMsIG5leHRDb250ZXh0KSB7XHJcbiAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKCEobmV4dFByb3BzLmxvY2F0aW9uICYmICF0aGlzLnByb3BzLmxvY2F0aW9uKSwgJzxSb3V0ZT4gZWxlbWVudHMgc2hvdWxkIG5vdCBjaGFuZ2UgZnJvbSB1bmNvbnRyb2xsZWQgdG8gY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuIFlvdSBpbml0aWFsbHkgdXNlZCBubyBcImxvY2F0aW9uXCIgcHJvcCBhbmQgdGhlbiBwcm92aWRlZCBvbmUgb24gYSBzdWJzZXF1ZW50IHJlbmRlci4nKTtcclxuXHJcbiAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKCEoIW5leHRQcm9wcy5sb2NhdGlvbiAmJiB0aGlzLnByb3BzLmxvY2F0aW9uKSwgJzxSb3V0ZT4gZWxlbWVudHMgc2hvdWxkIG5vdCBjaGFuZ2UgZnJvbSBjb250cm9sbGVkIHRvIHVuY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuIFlvdSBwcm92aWRlZCBhIFwibG9jYXRpb25cIiBwcm9wIGluaXRpYWxseSBidXQgb21pdHRlZCBpdCBvbiBhIHN1YnNlcXVlbnQgcmVuZGVyLicpO1xyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBtYXRjaDogdGhpcy5jb21wdXRlTWF0Y2gobmV4dFByb3BzLCBuZXh0Q29udGV4dC5yb3V0ZXIpXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBSb3V0ZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgdmFyIG1hdGNoID0gdGhpcy5zdGF0ZS5tYXRjaDtcclxuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxyXG4gICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxyXG4gICAgICAgIGNvbXBvbmVudCA9IF9wcm9wcy5jb21wb25lbnQsXHJcbiAgICAgICAgcmVuZGVyID0gX3Byb3BzLnJlbmRlcjtcclxuICAgIHZhciBfY29udGV4dCRyb3V0ZXIgPSB0aGlzLmNvbnRleHQucm91dGVyLFxyXG4gICAgICAgIGhpc3RvcnkgPSBfY29udGV4dCRyb3V0ZXIuaGlzdG9yeSxcclxuICAgICAgICByb3V0ZSA9IF9jb250ZXh0JHJvdXRlci5yb3V0ZSxcclxuICAgICAgICBzdGF0aWNDb250ZXh0ID0gX2NvbnRleHQkcm91dGVyLnN0YXRpY0NvbnRleHQ7XHJcblxyXG4gICAgdmFyIGxvY2F0aW9uID0gdGhpcy5wcm9wcy5sb2NhdGlvbiB8fCByb3V0ZS5sb2NhdGlvbjtcclxuICAgIHZhciBwcm9wcyA9IHsgbWF0Y2g6IG1hdGNoLCBsb2NhdGlvbjogbG9jYXRpb24sIGhpc3Rvcnk6IGhpc3RvcnksIHN0YXRpY0NvbnRleHQ6IHN0YXRpY0NvbnRleHQgfTtcclxuXHJcbiAgICBpZiAoY29tcG9uZW50KSByZXR1cm4gbWF0Y2ggPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChjb21wb25lbnQsIHByb3BzKSA6IG51bGw7XHJcblxyXG4gICAgaWYgKHJlbmRlcikgcmV0dXJuIG1hdGNoID8gcmVuZGVyKHByb3BzKSA6IG51bGw7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gY2hpbGRyZW4ocHJvcHMpO1xyXG5cclxuICAgIGlmIChjaGlsZHJlbiAmJiAhaXNFbXB0eUNoaWxkcmVuKGNoaWxkcmVuKSkgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5vbmx5KGNoaWxkcmVuKTtcclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9O1xyXG5cclxuICByZXR1cm4gUm91dGU7XHJcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XHJcblxyXG5Sb3V0ZS5wcm9wVHlwZXMgPSB7XHJcbiAgY29tcHV0ZWRNYXRjaDogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsIC8vIHByaXZhdGUsIGZyb20gPFN3aXRjaD5cclxuICBwYXRoOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcclxuICBleGFjdDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxyXG4gIHN0cmljdDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxyXG4gIHNlbnNpdGl2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxyXG4gIGNvbXBvbmVudDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIHJlbmRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxyXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLCBfcHJvcFR5cGVzMi5kZWZhdWx0Lm5vZGVdKSxcclxuICBsb2NhdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3RcclxufTtcclxuUm91dGUuY29udGV4dFR5cGVzID0ge1xyXG4gIHJvdXRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XHJcbiAgICBoaXN0b3J5OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gICAgcm91dGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgICBzdGF0aWNDb250ZXh0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdFxyXG4gIH0pXHJcbn07XHJcblJvdXRlLmNoaWxkQ29udGV4dFR5cGVzID0ge1xyXG4gIHJvdXRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZTsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XHJcblxyXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xyXG5cclxudmFyIF93YXJuaW5nID0gcmVxdWlyZShcIndhcm5pbmdcIik7XHJcblxyXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XHJcblxyXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoXCJpbnZhcmlhbnRcIik7XHJcblxyXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xyXG5cclxudmFyIF9yZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcclxuXHJcbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKFwicHJvcC10eXBlc1wiKTtcclxuXHJcbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxyXG5cclxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cclxuXHJcbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxyXG5cclxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XHJcblxyXG4vKipcclxuICogVGhlIHB1YmxpYyBBUEkgZm9yIHB1dHRpbmcgaGlzdG9yeSBvbiBjb250ZXh0LlxyXG4gKi9cclxudmFyIFJvdXRlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XHJcbiAgX2luaGVyaXRzKFJvdXRlciwgX1JlYWN0JENvbXBvbmVudCk7XHJcblxyXG4gIGZ1bmN0aW9uIFJvdXRlcigpIHtcclxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XHJcblxyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvdXRlcik7XHJcblxyXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcclxuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XHJcbiAgICAgIG1hdGNoOiBfdGhpcy5jb21wdXRlTWF0Y2goX3RoaXMucHJvcHMuaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZSlcclxuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xyXG4gIH1cclxuXHJcbiAgUm91dGVyLnByb3RvdHlwZS5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByb3V0ZXI6IF9leHRlbmRzKHt9LCB0aGlzLmNvbnRleHQucm91dGVyLCB7XHJcbiAgICAgICAgaGlzdG9yeTogdGhpcy5wcm9wcy5oaXN0b3J5LFxyXG4gICAgICAgIHJvdXRlOiB7XHJcbiAgICAgICAgICBsb2NhdGlvbjogdGhpcy5wcm9wcy5oaXN0b3J5LmxvY2F0aW9uLFxyXG4gICAgICAgICAgbWF0Y2g6IHRoaXMuc3RhdGUubWF0Y2hcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIFJvdXRlci5wcm90b3R5cGUuY29tcHV0ZU1hdGNoID0gZnVuY3Rpb24gY29tcHV0ZU1hdGNoKHBhdGhuYW1lKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwYXRoOiBcIi9cIixcclxuICAgICAgdXJsOiBcIi9cIixcclxuICAgICAgcGFyYW1zOiB7fSxcclxuICAgICAgaXNFeGFjdDogcGF0aG5hbWUgPT09IFwiL1wiXHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xyXG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XHJcblxyXG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXHJcbiAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXHJcbiAgICAgICAgaGlzdG9yeSA9IF9wcm9wcy5oaXN0b3J5O1xyXG5cclxuXHJcbiAgICAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoY2hpbGRyZW4gPT0gbnVsbCB8fCBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pID09PSAxLCBcIkEgPFJvdXRlcj4gbWF5IGhhdmUgb25seSBvbmUgY2hpbGQgZWxlbWVudFwiKTtcclxuXHJcbiAgICAvLyBEbyB0aGlzIGhlcmUgc28gd2UgY2FuIHNldFN0YXRlIHdoZW4gYSA8UmVkaXJlY3Q+IGNoYW5nZXMgdGhlXHJcbiAgICAvLyBsb2NhdGlvbiBpbiBjb21wb25lbnRXaWxsTW91bnQuIFRoaXMgaGFwcGVucyBlLmcuIHdoZW4gZG9pbmdcclxuICAgIC8vIHNlcnZlciByZW5kZXJpbmcgdXNpbmcgYSA8U3RhdGljUm91dGVyPi5cclxuICAgIHRoaXMudW5saXN0ZW4gPSBoaXN0b3J5Lmxpc3RlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XHJcbiAgICAgICAgbWF0Y2g6IF90aGlzMi5jb21wdXRlTWF0Y2goaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZSlcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBSb3V0ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KSh0aGlzLnByb3BzLmhpc3RvcnkgPT09IG5leHRQcm9wcy5oaXN0b3J5LCBcIllvdSBjYW5ub3QgY2hhbmdlIDxSb3V0ZXIgaGlzdG9yeT5cIik7XHJcbiAgfTtcclxuXHJcbiAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgdGhpcy51bmxpc3RlbigpO1xyXG4gIH07XHJcblxyXG4gIFJvdXRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcclxuXHJcbiAgICByZXR1cm4gY2hpbGRyZW4gPyBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4ub25seShjaGlsZHJlbikgOiBudWxsO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBSb3V0ZXI7XHJcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XHJcblxyXG5Sb3V0ZXIucHJvcFR5cGVzID0ge1xyXG4gIGhpc3Rvcnk6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZVxyXG59O1xyXG5Sb3V0ZXIuY29udGV4dFR5cGVzID0ge1xyXG4gIHJvdXRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3RcclxufTtcclxuUm91dGVyLmNoaWxkQ29udGV4dFR5cGVzID0ge1xyXG4gIHJvdXRlcjogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZFxyXG59O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXI7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xyXG5cclxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcclxuXHJcbnZhciBfd2FybmluZyA9IHJlcXVpcmUoXCJ3YXJuaW5nXCIpO1xyXG5cclxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xyXG5cclxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKFwiaW52YXJpYW50XCIpO1xyXG5cclxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcclxuXHJcbnZhciBfcmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XHJcblxyXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcclxuXHJcbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZShcInByb3AtdHlwZXNcIik7XHJcblxyXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xyXG5cclxudmFyIF9oaXN0b3J5ID0gcmVxdWlyZShcImhpc3RvcnlcIik7XHJcblxyXG52YXIgX1JvdXRlciA9IHJlcXVpcmUoXCIuL1JvdXRlclwiKTtcclxuXHJcbnZhciBfUm91dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdXRlcik7XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxyXG5cclxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxyXG5cclxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cclxuXHJcbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxyXG5cclxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XHJcblxyXG52YXIgYWRkTGVhZGluZ1NsYXNoID0gZnVuY3Rpb24gYWRkTGVhZGluZ1NsYXNoKHBhdGgpIHtcclxuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09IFwiL1wiID8gcGF0aCA6IFwiL1wiICsgcGF0aDtcclxufTtcclxuXHJcbnZhciBhZGRCYXNlbmFtZSA9IGZ1bmN0aW9uIGFkZEJhc2VuYW1lKGJhc2VuYW1lLCBsb2NhdGlvbikge1xyXG4gIGlmICghYmFzZW5hbWUpIHJldHVybiBsb2NhdGlvbjtcclxuXHJcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBsb2NhdGlvbiwge1xyXG4gICAgcGF0aG5hbWU6IGFkZExlYWRpbmdTbGFzaChiYXNlbmFtZSkgKyBsb2NhdGlvbi5wYXRobmFtZVxyXG4gIH0pO1xyXG59O1xyXG5cclxudmFyIHN0cmlwQmFzZW5hbWUgPSBmdW5jdGlvbiBzdHJpcEJhc2VuYW1lKGJhc2VuYW1lLCBsb2NhdGlvbikge1xyXG4gIGlmICghYmFzZW5hbWUpIHJldHVybiBsb2NhdGlvbjtcclxuXHJcbiAgdmFyIGJhc2UgPSBhZGRMZWFkaW5nU2xhc2goYmFzZW5hbWUpO1xyXG5cclxuICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZihiYXNlKSAhPT0gMCkgcmV0dXJuIGxvY2F0aW9uO1xyXG5cclxuICByZXR1cm4gX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7XHJcbiAgICBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUuc3Vic3RyKGJhc2UubGVuZ3RoKVxyXG4gIH0pO1xyXG59O1xyXG5cclxudmFyIGNyZWF0ZVVSTCA9IGZ1bmN0aW9uIGNyZWF0ZVVSTChsb2NhdGlvbikge1xyXG4gIHJldHVybiB0eXBlb2YgbG9jYXRpb24gPT09IFwic3RyaW5nXCIgPyBsb2NhdGlvbiA6ICgwLCBfaGlzdG9yeS5jcmVhdGVQYXRoKShsb2NhdGlvbik7XHJcbn07XHJcblxyXG52YXIgc3RhdGljSGFuZGxlciA9IGZ1bmN0aW9uIHN0YXRpY0hhbmRsZXIobWV0aG9kTmFtZSkge1xyXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoZmFsc2UsIFwiWW91IGNhbm5vdCAlcyB3aXRoIDxTdGF0aWNSb3V0ZXI+XCIsIG1ldGhvZE5hbWUpO1xyXG4gIH07XHJcbn07XHJcblxyXG52YXIgbm9vcCA9IGZ1bmN0aW9uIG5vb3AoKSB7fTtcclxuXHJcbi8qKlxyXG4gKiBUaGUgcHVibGljIHRvcC1sZXZlbCBBUEkgZm9yIGEgXCJzdGF0aWNcIiA8Um91dGVyPiwgc28tY2FsbGVkIGJlY2F1c2UgaXRcclxuICogY2FuJ3QgYWN0dWFsbHkgY2hhbmdlIHRoZSBjdXJyZW50IGxvY2F0aW9uLiBJbnN0ZWFkLCBpdCBqdXN0IHJlY29yZHNcclxuICogbG9jYXRpb24gY2hhbmdlcyBpbiBhIGNvbnRleHQgb2JqZWN0LiBVc2VmdWwgbWFpbmx5IGluIHRlc3RpbmcgYW5kXHJcbiAqIHNlcnZlci1yZW5kZXJpbmcgc2NlbmFyaW9zLlxyXG4gKi9cclxuXHJcbnZhciBTdGF0aWNSb3V0ZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xyXG4gIF9pbmhlcml0cyhTdGF0aWNSb3V0ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xyXG5cclxuICBmdW5jdGlvbiBTdGF0aWNSb3V0ZXIoKSB7XHJcbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xyXG5cclxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGF0aWNSb3V0ZXIpO1xyXG5cclxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XHJcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmNyZWF0ZUhyZWYgPSBmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgICByZXR1cm4gYWRkTGVhZGluZ1NsYXNoKF90aGlzLnByb3BzLmJhc2VuYW1lICsgY3JlYXRlVVJMKHBhdGgpKTtcclxuICAgIH0sIF90aGlzLmhhbmRsZVB1c2ggPSBmdW5jdGlvbiAobG9jYXRpb24pIHtcclxuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXHJcbiAgICAgICAgICBiYXNlbmFtZSA9IF90aGlzJHByb3BzLmJhc2VuYW1lLFxyXG4gICAgICAgICAgY29udGV4dCA9IF90aGlzJHByb3BzLmNvbnRleHQ7XHJcblxyXG4gICAgICBjb250ZXh0LmFjdGlvbiA9IFwiUFVTSFwiO1xyXG4gICAgICBjb250ZXh0LmxvY2F0aW9uID0gYWRkQmFzZW5hbWUoYmFzZW5hbWUsICgwLCBfaGlzdG9yeS5jcmVhdGVMb2NhdGlvbikobG9jYXRpb24pKTtcclxuICAgICAgY29udGV4dC51cmwgPSBjcmVhdGVVUkwoY29udGV4dC5sb2NhdGlvbik7XHJcbiAgICB9LCBfdGhpcy5oYW5kbGVSZXBsYWNlID0gZnVuY3Rpb24gKGxvY2F0aW9uKSB7XHJcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcclxuICAgICAgICAgIGJhc2VuYW1lID0gX3RoaXMkcHJvcHMyLmJhc2VuYW1lLFxyXG4gICAgICAgICAgY29udGV4dCA9IF90aGlzJHByb3BzMi5jb250ZXh0O1xyXG5cclxuICAgICAgY29udGV4dC5hY3Rpb24gPSBcIlJFUExBQ0VcIjtcclxuICAgICAgY29udGV4dC5sb2NhdGlvbiA9IGFkZEJhc2VuYW1lKGJhc2VuYW1lLCAoMCwgX2hpc3RvcnkuY3JlYXRlTG9jYXRpb24pKGxvY2F0aW9uKSk7XHJcbiAgICAgIGNvbnRleHQudXJsID0gY3JlYXRlVVJMKGNvbnRleHQubG9jYXRpb24pO1xyXG4gICAgfSwgX3RoaXMuaGFuZGxlTGlzdGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gbm9vcDtcclxuICAgIH0sIF90aGlzLmhhbmRsZUJsb2NrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gbm9vcDtcclxuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xyXG4gIH1cclxuXHJcbiAgU3RhdGljUm91dGVyLnByb3RvdHlwZS5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiBnZXRDaGlsZENvbnRleHQoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByb3V0ZXI6IHtcclxuICAgICAgICBzdGF0aWNDb250ZXh0OiB0aGlzLnByb3BzLmNvbnRleHRcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICBTdGF0aWNSb3V0ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoIXRoaXMucHJvcHMuaGlzdG9yeSwgXCI8U3RhdGljUm91dGVyPiBpZ25vcmVzIHRoZSBoaXN0b3J5IHByb3AuIFRvIHVzZSBhIGN1c3RvbSBoaXN0b3J5LCBcIiArIFwidXNlIGBpbXBvcnQgeyBSb3V0ZXIgfWAgaW5zdGVhZCBvZiBgaW1wb3J0IHsgU3RhdGljUm91dGVyIGFzIFJvdXRlciB9YC5cIik7XHJcbiAgfTtcclxuXHJcbiAgU3RhdGljUm91dGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcclxuICAgICAgICBiYXNlbmFtZSA9IF9wcm9wcy5iYXNlbmFtZSxcclxuICAgICAgICBjb250ZXh0ID0gX3Byb3BzLmNvbnRleHQsXHJcbiAgICAgICAgbG9jYXRpb24gPSBfcHJvcHMubG9jYXRpb24sXHJcbiAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzLCBbXCJiYXNlbmFtZVwiLCBcImNvbnRleHRcIiwgXCJsb2NhdGlvblwiXSk7XHJcblxyXG4gICAgdmFyIGhpc3RvcnkgPSB7XHJcbiAgICAgIGNyZWF0ZUhyZWY6IHRoaXMuY3JlYXRlSHJlZixcclxuICAgICAgYWN0aW9uOiBcIlBPUFwiLFxyXG4gICAgICBsb2NhdGlvbjogc3RyaXBCYXNlbmFtZShiYXNlbmFtZSwgKDAsIF9oaXN0b3J5LmNyZWF0ZUxvY2F0aW9uKShsb2NhdGlvbikpLFxyXG4gICAgICBwdXNoOiB0aGlzLmhhbmRsZVB1c2gsXHJcbiAgICAgIHJlcGxhY2U6IHRoaXMuaGFuZGxlUmVwbGFjZSxcclxuICAgICAgZ286IHN0YXRpY0hhbmRsZXIoXCJnb1wiKSxcclxuICAgICAgZ29CYWNrOiBzdGF0aWNIYW5kbGVyKFwiZ29CYWNrXCIpLFxyXG4gICAgICBnb0ZvcndhcmQ6IHN0YXRpY0hhbmRsZXIoXCJnb0ZvcndhcmRcIiksXHJcbiAgICAgIGxpc3RlbjogdGhpcy5oYW5kbGVMaXN0ZW4sXHJcbiAgICAgIGJsb2NrOiB0aGlzLmhhbmRsZUJsb2NrXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUm91dGVyMi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHsgaGlzdG9yeTogaGlzdG9yeSB9KSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIFN0YXRpY1JvdXRlcjtcclxufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcclxuXHJcblN0YXRpY1JvdXRlci5wcm9wVHlwZXMgPSB7XHJcbiAgYmFzZW5hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxyXG4gIGNvbnRleHQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgbG9jYXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3RdKVxyXG59O1xyXG5TdGF0aWNSb3V0ZXIuZGVmYXVsdFByb3BzID0ge1xyXG4gIGJhc2VuYW1lOiBcIlwiLFxyXG4gIGxvY2F0aW9uOiBcIi9cIlxyXG59O1xyXG5TdGF0aWNSb3V0ZXIuY2hpbGRDb250ZXh0VHlwZXMgPSB7XHJcbiAgcm91dGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkXHJcbn07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFN0YXRpY1JvdXRlcjsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XHJcblxyXG52YXIgX3JlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xyXG5cclxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XHJcblxyXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcclxuXHJcbnZhciBfd2FybmluZyA9IHJlcXVpcmUoXCJ3YXJuaW5nXCIpO1xyXG5cclxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xyXG5cclxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKFwiaW52YXJpYW50XCIpO1xyXG5cclxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcclxuXHJcbnZhciBfbWF0Y2hQYXRoID0gcmVxdWlyZShcIi4vbWF0Y2hQYXRoXCIpO1xyXG5cclxudmFyIF9tYXRjaFBhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF0Y2hQYXRoKTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxyXG5cclxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XHJcblxyXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cclxuXHJcbi8qKlxyXG4gKiBUaGUgcHVibGljIEFQSSBmb3IgcmVuZGVyaW5nIHRoZSBmaXJzdCA8Um91dGU+IHRoYXQgbWF0Y2hlcy5cclxuICovXHJcbnZhciBTd2l0Y2ggPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xyXG4gIF9pbmhlcml0cyhTd2l0Y2gsIF9SZWFjdCRDb21wb25lbnQpO1xyXG5cclxuICBmdW5jdGlvbiBTd2l0Y2goKSB7XHJcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3dpdGNoKTtcclxuXHJcbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcclxuICB9XHJcblxyXG4gIFN3aXRjaC5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xyXG4gICAgKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKHRoaXMuY29udGV4dC5yb3V0ZXIsIFwiWW91IHNob3VsZCBub3QgdXNlIDxTd2l0Y2g+IG91dHNpZGUgYSA8Um91dGVyPlwiKTtcclxuICB9O1xyXG5cclxuICBTd2l0Y2gucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xyXG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KSghKG5leHRQcm9wcy5sb2NhdGlvbiAmJiAhdGhpcy5wcm9wcy5sb2NhdGlvbiksICc8U3dpdGNoPiBlbGVtZW50cyBzaG91bGQgbm90IGNoYW5nZSBmcm9tIHVuY29udHJvbGxlZCB0byBjb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gWW91IGluaXRpYWxseSB1c2VkIG5vIFwibG9jYXRpb25cIiBwcm9wIGFuZCB0aGVuIHByb3ZpZGVkIG9uZSBvbiBhIHN1YnNlcXVlbnQgcmVuZGVyLicpO1xyXG5cclxuICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoISghbmV4dFByb3BzLmxvY2F0aW9uICYmIHRoaXMucHJvcHMubG9jYXRpb24pLCAnPFN3aXRjaD4gZWxlbWVudHMgc2hvdWxkIG5vdCBjaGFuZ2UgZnJvbSBjb250cm9sbGVkIHRvIHVuY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuIFlvdSBwcm92aWRlZCBhIFwibG9jYXRpb25cIiBwcm9wIGluaXRpYWxseSBidXQgb21pdHRlZCBpdCBvbiBhIHN1YnNlcXVlbnQgcmVuZGVyLicpO1xyXG4gIH07XHJcblxyXG4gIFN3aXRjaC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gICAgdmFyIHJvdXRlID0gdGhpcy5jb250ZXh0LnJvdXRlci5yb3V0ZTtcclxuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XHJcblxyXG4gICAgdmFyIGxvY2F0aW9uID0gdGhpcy5wcm9wcy5sb2NhdGlvbiB8fCByb3V0ZS5sb2NhdGlvbjtcclxuXHJcbiAgICB2YXIgbWF0Y2ggPSB2b2lkIDAsXHJcbiAgICAgICAgY2hpbGQgPSB2b2lkIDA7XHJcbiAgICBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgaWYgKG1hdGNoID09IG51bGwgJiYgX3JlYWN0Mi5kZWZhdWx0LmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgdmFyIF9lbGVtZW50JHByb3BzID0gZWxlbWVudC5wcm9wcyxcclxuICAgICAgICAgICAgcGF0aFByb3AgPSBfZWxlbWVudCRwcm9wcy5wYXRoLFxyXG4gICAgICAgICAgICBleGFjdCA9IF9lbGVtZW50JHByb3BzLmV4YWN0LFxyXG4gICAgICAgICAgICBzdHJpY3QgPSBfZWxlbWVudCRwcm9wcy5zdHJpY3QsXHJcbiAgICAgICAgICAgIHNlbnNpdGl2ZSA9IF9lbGVtZW50JHByb3BzLnNlbnNpdGl2ZSxcclxuICAgICAgICAgICAgZnJvbSA9IF9lbGVtZW50JHByb3BzLmZyb207XHJcblxyXG4gICAgICAgIHZhciBwYXRoID0gcGF0aFByb3AgfHwgZnJvbTtcclxuXHJcbiAgICAgICAgY2hpbGQgPSBlbGVtZW50O1xyXG4gICAgICAgIG1hdGNoID0gKDAsIF9tYXRjaFBhdGgyLmRlZmF1bHQpKGxvY2F0aW9uLnBhdGhuYW1lLCB7IHBhdGg6IHBhdGgsIGV4YWN0OiBleGFjdCwgc3RyaWN0OiBzdHJpY3QsIHNlbnNpdGl2ZTogc2Vuc2l0aXZlIH0sIHJvdXRlLm1hdGNoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG1hdGNoID8gX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudChjaGlsZCwgeyBsb2NhdGlvbjogbG9jYXRpb24sIGNvbXB1dGVkTWF0Y2g6IG1hdGNoIH0pIDogbnVsbDtcclxuICB9O1xyXG5cclxuICByZXR1cm4gU3dpdGNoO1xyXG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xyXG5cclxuU3dpdGNoLmNvbnRleHRUeXBlcyA9IHtcclxuICByb3V0ZXI6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xyXG4gICAgcm91dGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWRcclxuICB9KS5pc1JlcXVpcmVkXHJcbn07XHJcblN3aXRjaC5wcm9wVHlwZXMgPSB7XHJcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZSxcclxuICBsb2NhdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3RcclxufTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gU3dpdGNoOyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcclxuXHJcbnZhciBfcGF0aFRvUmVnZXhwID0gcmVxdWlyZShcInBhdGgtdG8tcmVnZXhwXCIpO1xyXG5cclxudmFyIF9wYXRoVG9SZWdleHAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGF0aFRvUmVnZXhwKTtcclxuXHJcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XHJcblxyXG52YXIgcGF0dGVybkNhY2hlID0ge307XHJcbnZhciBjYWNoZUxpbWl0ID0gMTAwMDA7XHJcbnZhciBjYWNoZUNvdW50ID0gMDtcclxuXHJcbnZhciBjb21waWxlR2VuZXJhdG9yID0gZnVuY3Rpb24gY29tcGlsZUdlbmVyYXRvcihwYXR0ZXJuKSB7XHJcbiAgdmFyIGNhY2hlS2V5ID0gcGF0dGVybjtcclxuICB2YXIgY2FjaGUgPSBwYXR0ZXJuQ2FjaGVbY2FjaGVLZXldIHx8IChwYXR0ZXJuQ2FjaGVbY2FjaGVLZXldID0ge30pO1xyXG5cclxuICBpZiAoY2FjaGVbcGF0dGVybl0pIHJldHVybiBjYWNoZVtwYXR0ZXJuXTtcclxuXHJcbiAgdmFyIGNvbXBpbGVkR2VuZXJhdG9yID0gX3BhdGhUb1JlZ2V4cDIuZGVmYXVsdC5jb21waWxlKHBhdHRlcm4pO1xyXG5cclxuICBpZiAoY2FjaGVDb3VudCA8IGNhY2hlTGltaXQpIHtcclxuICAgIGNhY2hlW3BhdHRlcm5dID0gY29tcGlsZWRHZW5lcmF0b3I7XHJcbiAgICBjYWNoZUNvdW50Kys7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY29tcGlsZWRHZW5lcmF0b3I7XHJcbn07XHJcblxyXG4vKipcclxuICogUHVibGljIEFQSSBmb3IgZ2VuZXJhdGluZyBhIFVSTCBwYXRobmFtZSBmcm9tIGEgcGF0dGVybiBhbmQgcGFyYW1ldGVycy5cclxuICovXHJcbnZhciBnZW5lcmF0ZVBhdGggPSBmdW5jdGlvbiBnZW5lcmF0ZVBhdGgoKSB7XHJcbiAgdmFyIHBhdHRlcm4gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFwiL1wiO1xyXG4gIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xyXG5cclxuICBpZiAocGF0dGVybiA9PT0gXCIvXCIpIHtcclxuICAgIHJldHVybiBwYXR0ZXJuO1xyXG4gIH1cclxuICB2YXIgZ2VuZXJhdG9yID0gY29tcGlsZUdlbmVyYXRvcihwYXR0ZXJuKTtcclxuICByZXR1cm4gZ2VuZXJhdG9yKHBhcmFtcywgeyBwcmV0dHk6IHRydWUgfSk7XHJcbn07XHJcblxyXG5leHBvcnRzLmRlZmF1bHQgPSBnZW5lcmF0ZVBhdGg7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xyXG5cclxudmFyIF9wYXRoVG9SZWdleHAgPSByZXF1aXJlKFwicGF0aC10by1yZWdleHBcIik7XHJcblxyXG52YXIgX3BhdGhUb1JlZ2V4cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYXRoVG9SZWdleHApO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbnZhciBwYXR0ZXJuQ2FjaGUgPSB7fTtcclxudmFyIGNhY2hlTGltaXQgPSAxMDAwMDtcclxudmFyIGNhY2hlQ291bnQgPSAwO1xyXG5cclxudmFyIGNvbXBpbGVQYXRoID0gZnVuY3Rpb24gY29tcGlsZVBhdGgocGF0dGVybiwgb3B0aW9ucykge1xyXG4gIHZhciBjYWNoZUtleSA9IFwiXCIgKyBvcHRpb25zLmVuZCArIG9wdGlvbnMuc3RyaWN0ICsgb3B0aW9ucy5zZW5zaXRpdmU7XHJcbiAgdmFyIGNhY2hlID0gcGF0dGVybkNhY2hlW2NhY2hlS2V5XSB8fCAocGF0dGVybkNhY2hlW2NhY2hlS2V5XSA9IHt9KTtcclxuXHJcbiAgaWYgKGNhY2hlW3BhdHRlcm5dKSByZXR1cm4gY2FjaGVbcGF0dGVybl07XHJcblxyXG4gIHZhciBrZXlzID0gW107XHJcbiAgdmFyIHJlID0gKDAsIF9wYXRoVG9SZWdleHAyLmRlZmF1bHQpKHBhdHRlcm4sIGtleXMsIG9wdGlvbnMpO1xyXG4gIHZhciBjb21waWxlZFBhdHRlcm4gPSB7IHJlOiByZSwga2V5czoga2V5cyB9O1xyXG5cclxuICBpZiAoY2FjaGVDb3VudCA8IGNhY2hlTGltaXQpIHtcclxuICAgIGNhY2hlW3BhdHRlcm5dID0gY29tcGlsZWRQYXR0ZXJuO1xyXG4gICAgY2FjaGVDb3VudCsrO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNvbXBpbGVkUGF0dGVybjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBQdWJsaWMgQVBJIGZvciBtYXRjaGluZyBhIFVSTCBwYXRobmFtZSB0byBhIHBhdGggcGF0dGVybi5cclxuICovXHJcbnZhciBtYXRjaFBhdGggPSBmdW5jdGlvbiBtYXRjaFBhdGgocGF0aG5hbWUpIHtcclxuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XHJcbiAgdmFyIHBhcmVudCA9IGFyZ3VtZW50c1syXTtcclxuXHJcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSBvcHRpb25zID0geyBwYXRoOiBvcHRpb25zIH07XHJcblxyXG4gIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMsXHJcbiAgICAgIHBhdGggPSBfb3B0aW9ucy5wYXRoLFxyXG4gICAgICBfb3B0aW9ucyRleGFjdCA9IF9vcHRpb25zLmV4YWN0LFxyXG4gICAgICBleGFjdCA9IF9vcHRpb25zJGV4YWN0ID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9vcHRpb25zJGV4YWN0LFxyXG4gICAgICBfb3B0aW9ucyRzdHJpY3QgPSBfb3B0aW9ucy5zdHJpY3QsXHJcbiAgICAgIHN0cmljdCA9IF9vcHRpb25zJHN0cmljdCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfb3B0aW9ucyRzdHJpY3QsXHJcbiAgICAgIF9vcHRpb25zJHNlbnNpdGl2ZSA9IF9vcHRpb25zLnNlbnNpdGl2ZSxcclxuICAgICAgc2Vuc2l0aXZlID0gX29wdGlvbnMkc2Vuc2l0aXZlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9vcHRpb25zJHNlbnNpdGl2ZTtcclxuXHJcblxyXG4gIGlmIChwYXRoID09IG51bGwpIHJldHVybiBwYXJlbnQ7XHJcblxyXG4gIHZhciBfY29tcGlsZVBhdGggPSBjb21waWxlUGF0aChwYXRoLCB7IGVuZDogZXhhY3QsIHN0cmljdDogc3RyaWN0LCBzZW5zaXRpdmU6IHNlbnNpdGl2ZSB9KSxcclxuICAgICAgcmUgPSBfY29tcGlsZVBhdGgucmUsXHJcbiAgICAgIGtleXMgPSBfY29tcGlsZVBhdGgua2V5cztcclxuXHJcbiAgdmFyIG1hdGNoID0gcmUuZXhlYyhwYXRobmFtZSk7XHJcblxyXG4gIGlmICghbWF0Y2gpIHJldHVybiBudWxsO1xyXG5cclxuICB2YXIgdXJsID0gbWF0Y2hbMF0sXHJcbiAgICAgIHZhbHVlcyA9IG1hdGNoLnNsaWNlKDEpO1xyXG5cclxuICB2YXIgaXNFeGFjdCA9IHBhdGhuYW1lID09PSB1cmw7XHJcblxyXG4gIGlmIChleGFjdCAmJiAhaXNFeGFjdCkgcmV0dXJuIG51bGw7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBwYXRoOiBwYXRoLCAvLyB0aGUgcGF0aCBwYXR0ZXJuIHVzZWQgdG8gbWF0Y2hcclxuICAgIHVybDogcGF0aCA9PT0gXCIvXCIgJiYgdXJsID09PSBcIlwiID8gXCIvXCIgOiB1cmwsIC8vIHRoZSBtYXRjaGVkIHBvcnRpb24gb2YgdGhlIFVSTFxyXG4gICAgaXNFeGFjdDogaXNFeGFjdCwgLy8gd2hldGhlciBvciBub3Qgd2UgbWF0Y2hlZCBleGFjdGx5XHJcbiAgICBwYXJhbXM6IGtleXMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBrZXksIGluZGV4KSB7XHJcbiAgICAgIG1lbW9ba2V5Lm5hbWVdID0gdmFsdWVzW2luZGV4XTtcclxuICAgICAgcmV0dXJuIG1lbW87XHJcbiAgICB9LCB7fSlcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0cy5kZWZhdWx0ID0gbWF0Y2hQYXRoOyIsIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cclxuICpcclxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXHJcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cclxuICovXHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG4vKipcclxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxyXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXHJcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXHJcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxyXG4gKi9cclxuXHJcbnZhciBfX0RFVl9fID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJztcclxuXHJcbnZhciB3YXJuaW5nID0gZnVuY3Rpb24oKSB7fTtcclxuXHJcbmlmIChfX0RFVl9fKSB7XHJcbiAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIHByaW50V2FybmluZyhmb3JtYXQsIGFyZ3MpIHtcclxuICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAxID8gbGVuIC0gMSA6IDApO1xyXG4gICAgZm9yICh2YXIga2V5ID0gMTsga2V5IDwgbGVuOyBrZXkrKykge1xyXG4gICAgICBhcmdzW2tleSAtIDFdID0gYXJndW1lbnRzW2tleV07XHJcbiAgICB9XHJcbiAgICB2YXIgYXJnSW5kZXggPSAwO1xyXG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArXHJcbiAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcclxuICAgICAgfSk7XHJcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXHJcbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xyXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgfSBjYXRjaCAoeCkge31cclxuICB9XHJcblxyXG4gIHdhcm5pbmcgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYXJncykge1xyXG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XHJcbiAgICBmb3IgKHZhciBrZXkgPSAyOyBrZXkgPCBsZW47IGtleSsrKSB7XHJcbiAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcclxuICAgIH1cclxuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAnYHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArXHJcbiAgICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGlmICghY29uZGl0aW9uKSB7XHJcbiAgICAgIHByaW50V2FybmluZy5hcHBseShudWxsLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gd2FybmluZztcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xyXG5cclxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcclxuXHJcbnZhciBfcmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XHJcblxyXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcclxuXHJcbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZShcInByb3AtdHlwZXNcIik7XHJcblxyXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xyXG5cclxudmFyIF9ob2lzdE5vblJlYWN0U3RhdGljcyA9IHJlcXVpcmUoXCJob2lzdC1ub24tcmVhY3Qtc3RhdGljc1wiKTtcclxuXHJcbnZhciBfaG9pc3ROb25SZWFjdFN0YXRpY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9pc3ROb25SZWFjdFN0YXRpY3MpO1xyXG5cclxudmFyIF9Sb3V0ZSA9IHJlcXVpcmUoXCIuL1JvdXRlXCIpO1xyXG5cclxudmFyIF9Sb3V0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Sb3V0ZSk7XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxyXG5cclxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxyXG5cclxuLyoqXHJcbiAqIEEgcHVibGljIGhpZ2hlci1vcmRlciBjb21wb25lbnQgdG8gYWNjZXNzIHRoZSBpbXBlcmF0aXZlIEFQSVxyXG4gKi9cclxudmFyIHdpdGhSb3V0ZXIgPSBmdW5jdGlvbiB3aXRoUm91dGVyKENvbXBvbmVudCkge1xyXG4gIHZhciBDID0gZnVuY3Rpb24gQyhwcm9wcykge1xyXG4gICAgdmFyIHdyYXBwZWRDb21wb25lbnRSZWYgPSBwcm9wcy53cmFwcGVkQ29tcG9uZW50UmVmLFxyXG4gICAgICAgIHJlbWFpbmluZ1Byb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJ3cmFwcGVkQ29tcG9uZW50UmVmXCJdKTtcclxuXHJcbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1JvdXRlMi5kZWZhdWx0LCB7XHJcbiAgICAgIGNoaWxkcmVuOiBmdW5jdGlvbiBjaGlsZHJlbihyb3V0ZUNvbXBvbmVudFByb3BzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgX2V4dGVuZHMoe30sIHJlbWFpbmluZ1Byb3BzLCByb3V0ZUNvbXBvbmVudFByb3BzLCB7XHJcbiAgICAgICAgICByZWY6IHdyYXBwZWRDb21wb25lbnRSZWZcclxuICAgICAgICB9KSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIEMuZGlzcGxheU5hbWUgPSBcIndpdGhSb3V0ZXIoXCIgKyAoQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lKSArIFwiKVwiO1xyXG4gIEMuV3JhcHBlZENvbXBvbmVudCA9IENvbXBvbmVudDtcclxuICBDLnByb3BUeXBlcyA9IHtcclxuICAgIHdyYXBwZWRDb21wb25lbnRSZWY6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoMCwgX2hvaXN0Tm9uUmVhY3RTdGF0aWNzMi5kZWZhdWx0KShDLCBDb21wb25lbnQpO1xyXG59O1xyXG5cclxuZXhwb3J0cy5kZWZhdWx0ID0gd2l0aFJvdXRlcjsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICB2YWx1ZTogdHJ1ZVxyXG59KTtcclxuXHJcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XHJcblxyXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcclxuXHJcbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xyXG5cclxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxyXG5cclxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cclxuXHJcbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxyXG5cclxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XHJcblxyXG52YXIgU3RlcCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XHJcbiAgX2luaGVyaXRzKFN0ZXAsIF9Db21wb25lbnQpO1xyXG5cclxuICBmdW5jdGlvbiBTdGVwKCkge1xyXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0ZXApO1xyXG5cclxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTdGVwLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU3RlcCkpLmNhbGwodGhpcykpO1xyXG5cclxuICAgIF90aGlzLmdldFN0eWxlcyA9IF90aGlzLmdldFN0eWxlcy5iaW5kKF90aGlzKTtcclxuICAgIHJldHVybiBfdGhpcztcclxuICB9XHJcblxyXG4gIF9jcmVhdGVDbGFzcyhTdGVwLCBbe1xyXG4gICAga2V5OiAnZ2V0U3R5bGVzJyxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTdHlsZXMoKSB7XHJcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxyXG4gICAgICAgICAgYWN0aXZlQ29sb3IgPSBfcHJvcHMuYWN0aXZlQ29sb3IsXHJcbiAgICAgICAgICBjb21wbGV0ZUNvbG9yID0gX3Byb3BzLmNvbXBsZXRlQ29sb3IsXHJcbiAgICAgICAgICBkZWZhdWx0Q29sb3IgPSBfcHJvcHMuZGVmYXVsdENvbG9yLFxyXG4gICAgICAgICAgY2lyY2xlRm9udENvbG9yID0gX3Byb3BzLmNpcmNsZUZvbnRDb2xvcixcclxuICAgICAgICAgIGFjdGl2ZVRpdGxlQ29sb3IgPSBfcHJvcHMuYWN0aXZlVGl0bGVDb2xvcixcclxuICAgICAgICAgIGNvbXBsZXRlVGl0bGVDb2xvciA9IF9wcm9wcy5jb21wbGV0ZVRpdGxlQ29sb3IsXHJcbiAgICAgICAgICBkZWZhdWx0VGl0bGVDb2xvciA9IF9wcm9wcy5kZWZhdWx0VGl0bGVDb2xvcixcclxuICAgICAgICAgIHNpemUgPSBfcHJvcHMuc2l6ZSxcclxuICAgICAgICAgIGNpcmNsZUZvbnRTaXplID0gX3Byb3BzLmNpcmNsZUZvbnRTaXplLFxyXG4gICAgICAgICAgdGl0bGVGb250U2l6ZSA9IF9wcm9wcy50aXRsZUZvbnRTaXplLFxyXG4gICAgICAgICAgY2lyY2xlVG9wID0gX3Byb3BzLmNpcmNsZVRvcCxcclxuICAgICAgICAgIHRpdGxlVG9wID0gX3Byb3BzLnRpdGxlVG9wLFxyXG4gICAgICAgICAgd2lkdGggPSBfcHJvcHMud2lkdGgsXHJcbiAgICAgICAgICBjb21wbGV0ZU9wYWNpdHkgPSBfcHJvcHMuY29tcGxldGVPcGFjaXR5LFxyXG4gICAgICAgICAgYWN0aXZlT3BhY2l0eSA9IF9wcm9wcy5hY3RpdmVPcGFjaXR5LFxyXG4gICAgICAgICAgZGVmYXVsdE9wYWNpdHkgPSBfcHJvcHMuZGVmYXVsdE9wYWNpdHksXHJcbiAgICAgICAgICBjb21wbGV0ZVRpdGxlT3BhY2l0eSA9IF9wcm9wcy5jb21wbGV0ZVRpdGxlT3BhY2l0eSxcclxuICAgICAgICAgIGFjdGl2ZVRpdGxlT3BhY2l0eSA9IF9wcm9wcy5hY3RpdmVUaXRsZU9wYWNpdHksXHJcbiAgICAgICAgICBkZWZhdWx0VGl0bGVPcGFjaXR5ID0gX3Byb3BzLmRlZmF1bHRUaXRsZU9wYWNpdHksXHJcbiAgICAgICAgICBiYXJTdHlsZSA9IF9wcm9wcy5iYXJTdHlsZSxcclxuICAgICAgICAgIGRlZmF1bHRCYXJDb2xvciA9IF9wcm9wcy5kZWZhdWx0QmFyQ29sb3IsXHJcbiAgICAgICAgICBjb21wbGV0ZUJhckNvbG9yID0gX3Byb3BzLmNvbXBsZXRlQmFyQ29sb3IsXHJcbiAgICAgICAgICBkZWZhdWx0Qm9yZGVyQ29sb3IgPSBfcHJvcHMuZGVmYXVsdEJvcmRlckNvbG9yLFxyXG4gICAgICAgICAgY29tcGxldGVCb3JkZXJDb2xvciA9IF9wcm9wcy5jb21wbGV0ZUJvcmRlckNvbG9yLFxyXG4gICAgICAgICAgYWN0aXZlQm9yZGVyQ29sb3IgPSBfcHJvcHMuYWN0aXZlQm9yZGVyQ29sb3IsXHJcbiAgICAgICAgICBkZWZhdWx0Qm9yZGVyU3R5bGUgPSBfcHJvcHMuZGVmYXVsdEJvcmRlclN0eWxlLFxyXG4gICAgICAgICAgY29tcGxldGVCb3JkZXJTdHlsZSA9IF9wcm9wcy5jb21wbGV0ZUJvcmRlclN0eWxlLFxyXG4gICAgICAgICAgYWN0aXZlQm9yZGVyU3R5bGUgPSBfcHJvcHMuYWN0aXZlQm9yZGVyU3R5bGUsXHJcbiAgICAgICAgICBsaW5lTWFyZ2luT2Zmc2V0ID0gX3Byb3BzLmxpbmVNYXJnaW5PZmZzZXQsXHJcbiAgICAgICAgICBkZWZhdWx0Qm9yZGVyV2lkdGggPSBfcHJvcHMuZGVmYXVsdEJvcmRlcldpZHRoO1xyXG5cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3RlcDoge1xyXG4gICAgICAgICAgd2lkdGg6IHdpZHRoICsgJyUnLFxyXG4gICAgICAgICAgZGlzcGxheTogJ3RhYmxlLWNlbGwnLFxyXG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXHJcbiAgICAgICAgICBwYWRkaW5nVG9wOiBjaXJjbGVUb3BcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNpcmNsZToge1xyXG4gICAgICAgICAgd2lkdGg6IHNpemUsXHJcbiAgICAgICAgICBoZWlnaHQ6IHNpemUsXHJcbiAgICAgICAgICBtYXJnaW46ICcwIGF1dG8nLFxyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBkZWZhdWx0Q29sb3IsXHJcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxyXG4gICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgIHBhZGRpbmc6IDEsXHJcbiAgICAgICAgICBmb250U2l6ZTogY2lyY2xlRm9udFNpemUsXHJcbiAgICAgICAgICBjb2xvcjogY2lyY2xlRm9udENvbG9yLFxyXG4gICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcclxuICAgICAgICAgIG9wYWNpdHk6IGRlZmF1bHRPcGFjaXR5LFxyXG4gICAgICAgICAgYm9yZGVyV2lkdGg6IGRlZmF1bHRCb3JkZXJDb2xvciA/IGRlZmF1bHRCb3JkZXJXaWR0aCA6IDAsXHJcbiAgICAgICAgICBib3JkZXJDb2xvcjogZGVmYXVsdEJvcmRlckNvbG9yLFxyXG4gICAgICAgICAgYm9yZGVyU3R5bGU6IGRlZmF1bHRCb3JkZXJTdHlsZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWN0aXZlQ2lyY2xlOiB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGFjdGl2ZUNvbG9yLFxyXG4gICAgICAgICAgb3BhY2l0eTogYWN0aXZlT3BhY2l0eSxcclxuICAgICAgICAgIGJvcmRlcldpZHRoOiBhY3RpdmVCb3JkZXJDb2xvciA/IGRlZmF1bHRCb3JkZXJXaWR0aCA6IDAsXHJcbiAgICAgICAgICBib3JkZXJDb2xvcjogYWN0aXZlQm9yZGVyQ29sb3IsXHJcbiAgICAgICAgICBib3JkZXJTdHlsZTogYWN0aXZlQm9yZGVyU3R5bGVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXBsZXRlZENpcmNsZToge1xyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb21wbGV0ZUNvbG9yLFxyXG4gICAgICAgICAgb3BhY2l0eTogY29tcGxldGVPcGFjaXR5LFxyXG4gICAgICAgICAgYm9yZGVyV2lkdGg6IGNvbXBsZXRlQm9yZGVyQ29sb3IgPyBkZWZhdWx0Qm9yZGVyV2lkdGggOiAwLFxyXG4gICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbXBsZXRlQm9yZGVyQ29sb3IsXHJcbiAgICAgICAgICBib3JkZXJTdHlsZTogY29tcGxldGVCb3JkZXJTdHlsZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5kZXg6IHtcclxuICAgICAgICAgIGxpbmVIZWlnaHQ6IHNpemUgKyBjaXJjbGVGb250U2l6ZSAvIDQgKyAncHgnLFxyXG4gICAgICAgICAgY29sb3I6IGNpcmNsZUZvbnRDb2xvclxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgIG1hcmdpblRvcDogdGl0bGVUb3AsXHJcbiAgICAgICAgICBmb250U2l6ZTogdGl0bGVGb250U2l6ZSxcclxuICAgICAgICAgIGZvbnRXZWlnaHQ6ICczMDAnLFxyXG4gICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXHJcbiAgICAgICAgICBjb2xvcjogZGVmYXVsdFRpdGxlQ29sb3IsXHJcbiAgICAgICAgICBvcGFjaXR5OiBkZWZhdWx0VGl0bGVPcGFjaXR5XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhY3RpdmVUaXRsZToge1xyXG4gICAgICAgICAgY29sb3I6IGFjdGl2ZVRpdGxlQ29sb3IsXHJcbiAgICAgICAgICBvcGFjaXR5OiBhY3RpdmVUaXRsZU9wYWNpdHlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXBsZXRlZFRpdGxlOiB7XHJcbiAgICAgICAgICBjb2xvcjogY29tcGxldGVUaXRsZUNvbG9yLFxyXG4gICAgICAgICAgb3BhY2l0eTogY29tcGxldGVUaXRsZU9wYWNpdHlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlZnRCYXI6IHtcclxuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgICAgdG9wOiBjaXJjbGVUb3AgKyBzaXplIC8gMixcclxuICAgICAgICAgIGhlaWdodDogMSxcclxuICAgICAgICAgIGJvcmRlclRvcFN0eWxlOiBiYXJTdHlsZSxcclxuICAgICAgICAgIGJvcmRlclRvcFdpZHRoOiAxLFxyXG4gICAgICAgICAgYm9yZGVyVG9wQ29sb3I6IGRlZmF1bHRCYXJDb2xvcixcclxuICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICByaWdodDogJzUwJScsXHJcbiAgICAgICAgICBtYXJnaW5SaWdodDogc2l6ZSAvIDIgKyBsaW5lTWFyZ2luT2Zmc2V0LFxyXG4gICAgICAgICAgb3BhY2l0eTogZGVmYXVsdE9wYWNpdHlcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJpZ2h0QmFyOiB7XHJcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICAgIHRvcDogY2lyY2xlVG9wICsgc2l6ZSAvIDIsXHJcbiAgICAgICAgICBoZWlnaHQ6IDEsXHJcbiAgICAgICAgICBib3JkZXJUb3BTdHlsZTogYmFyU3R5bGUsXHJcbiAgICAgICAgICBib3JkZXJUb3BXaWR0aDogMSxcclxuICAgICAgICAgIGJvcmRlclRvcENvbG9yOiBkZWZhdWx0QmFyQ29sb3IsXHJcbiAgICAgICAgICByaWdodDogMCxcclxuICAgICAgICAgIGxlZnQ6ICc1MCUnLFxyXG4gICAgICAgICAgbWFyZ2luTGVmdDogc2l6ZSAvIDIgKyBsaW5lTWFyZ2luT2Zmc2V0LFxyXG4gICAgICAgICAgb3BhY2l0eTogZGVmYXVsdE9wYWNpdHlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXBsZXRlZEJhcjoge1xyXG4gICAgICAgICAgYm9yZGVyVG9wU3R5bGU6IGJhclN0eWxlLFxyXG4gICAgICAgICAgYm9yZGVyVG9wV2lkdGg6IDEsXHJcbiAgICAgICAgICBib3JkZXJUb3BDb2xvcjogY29tcGxldGVCYXJDb2xvcixcclxuICAgICAgICAgIG9wYWNpdHk6IGNvbXBsZXRlT3BhY2l0eVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICBrZXk6ICdyZW5kZXInLFxyXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxyXG4gICAgICAgICAgdGl0bGUgPSBfcHJvcHMyLnRpdGxlLFxyXG4gICAgICAgICAgaWNvbiA9IF9wcm9wczIuaWNvbixcclxuICAgICAgICAgIGluZGV4ID0gX3Byb3BzMi5pbmRleCxcclxuICAgICAgICAgIGFjdGl2ZSA9IF9wcm9wczIuYWN0aXZlLFxyXG4gICAgICAgICAgY29tcGxldGVkID0gX3Byb3BzMi5jb21wbGV0ZWQsXHJcbiAgICAgICAgICBmaXJzdCA9IF9wcm9wczIuZmlyc3QsXHJcbiAgICAgICAgICBpc0xhc3QgPSBfcHJvcHMyLmlzTGFzdCxcclxuICAgICAgICAgIGhyZWYgPSBfcHJvcHMyLmhyZWYsXHJcbiAgICAgICAgICBvbkNsaWNrID0gX3Byb3BzMi5vbkNsaWNrO1xyXG5cclxuXHJcbiAgICAgIHZhciBzdHlsZXMgPSB0aGlzLmdldFN0eWxlcygpO1xyXG4gICAgICB2YXIgY2lyY2xlU3R5bGUgPSBPYmplY3QuYXNzaWduKHN0eWxlcy5jaXJjbGUsIGNvbXBsZXRlZCA/IHN0eWxlcy5jb21wbGV0ZWRDaXJjbGUgOiB7fSwgYWN0aXZlID8gc3R5bGVzLmFjdGl2ZUNpcmNsZSA6IHt9KTtcclxuICAgICAgdmFyIHRpdGxlU3R5bGUgPSBPYmplY3QuYXNzaWduKHN0eWxlcy50aXRsZSwgY29tcGxldGVkID8gc3R5bGVzLmNvbXBsZXRlZFRpdGxlIDoge30sIGFjdGl2ZSA/IHN0eWxlcy5hY3RpdmVUaXRsZSA6IHt9KTtcclxuICAgICAgdmFyIGxlZnRTdHlsZSA9IE9iamVjdC5hc3NpZ24oc3R5bGVzLmxlZnRCYXIsIGFjdGl2ZSB8fCBjb21wbGV0ZWQgPyBzdHlsZXMuY29tcGxldGVkQmFyIDoge30pO1xyXG4gICAgICB2YXIgcmlnaHRTdHlsZSA9IE9iamVjdC5hc3NpZ24oc3R5bGVzLnJpZ2h0QmFyLCBjb21wbGV0ZWQgPyBzdHlsZXMuY29tcGxldGVkQmFyIDoge30pO1xyXG5cclxuICAgICAgdmFyIHN0ZXBDb250ZW50ID0gaWNvbiA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IHNyYzogaWNvbiwgYWx0OiBpbmRleCArIDEgfSkgOiBpbmRleCArIDE7XHJcblxyXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgeyBzdHlsZTogc3R5bGVzLnN0ZXAgfSxcclxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgeyBzdHlsZTogY2lyY2xlU3R5bGUgfSxcclxuICAgICAgICAgIGFjdGl2ZSB8fCBjb21wbGV0ZWQgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICAgJ2EnLFxyXG4gICAgICAgICAgICB7IGhyZWY6IGhyZWYsIG9uQ2xpY2s6IG9uQ2xpY2ssIHN0eWxlOiBzdHlsZXMuaW5kZXggfSxcclxuICAgICAgICAgICAgc3RlcENvbnRlbnRcclxuICAgICAgICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICAgJ3NwYW4nLFxyXG4gICAgICAgICAgICB7IHN0eWxlOiBzdHlsZXMuaW5kZXggfSxcclxuICAgICAgICAgICAgc3RlcENvbnRlbnRcclxuICAgICAgICAgIClcclxuICAgICAgICApLFxyXG4gICAgICAgIGFjdGl2ZSB8fCBjb21wbGV0ZWQgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICdhJyxcclxuICAgICAgICAgIHsgaHJlZjogaHJlZiwgb25DbGljazogb25DbGljaywgc3R5bGU6IHRpdGxlU3R5bGUgfSxcclxuICAgICAgICAgIHRpdGxlXHJcbiAgICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxyXG4gICAgICAgICAgJ2RpdicsXHJcbiAgICAgICAgICB7IHN0eWxlOiB0aXRsZVN0eWxlIH0sXHJcbiAgICAgICAgICB0aXRsZVxyXG4gICAgICAgICksXHJcbiAgICAgICAgIWZpcnN0ICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7IHN0eWxlOiBsZWZ0U3R5bGUgfSksXHJcbiAgICAgICAgIWlzTGFzdCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBzdHlsZTogcmlnaHRTdHlsZSB9KVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1dKTtcclxuXHJcbiAgcmV0dXJuIFN0ZXA7XHJcbn0oX3JlYWN0LkNvbXBvbmVudCk7XHJcblxyXG5leHBvcnRzLmRlZmF1bHQgPSBTdGVwO1xyXG5cclxuXHJcblN0ZXAuZGVmYXVsdFByb3BzID0ge1xyXG4gIGFjdGl2ZUNvbG9yOiAnIzUwOTZGRicsXHJcbiAgY29tcGxldGVDb2xvcjogJyM1MDk2RkYnLFxyXG4gIGRlZmF1bHRDb2xvcjogJyNFMEUwRTAnLFxyXG4gIGFjdGl2ZVRpdGxlQ29sb3I6ICcjMDAwJyxcclxuICBjb21wbGV0ZVRpdGxlQ29sb3I6ICcjMDAwJyxcclxuICBkZWZhdWx0VGl0bGVDb2xvcjogJyM3NTc1NzUnLFxyXG4gIGNpcmNsZUZvbnRDb2xvcjogJyNGRkYnLFxyXG4gIHNpemU6IDMyLFxyXG4gIGNpcmNsZUZvbnRTaXplOiAxNixcclxuICB0aXRsZUZvbnRTaXplOiAxNixcclxuICBjaXJjbGVUb3A6IDI0LFxyXG4gIHRpdGxlVG9wOiA4LFxyXG4gIGRlZmF1bHRCYXJDb2xvcjogJyNFMEUwRTAnLFxyXG4gIGJhclN0eWxlOiAnc29saWQnLFxyXG4gIGJvcmRlclN0eWxlOiAnc29saWQnLFxyXG4gIGxpbmVNYXJnaW5PZmZzZXQ6IDQsXHJcbiAgZGVmYXVsdEJvcmRlcldpZHRoOiAzXHJcbn07XHJcblxyXG5TdGVwLnByb3BUeXBlcyA9IHtcclxuICB3aWR0aDogX3Byb3BUeXBlcy5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXHJcbiAgYWN0aXZlQ29sb3I6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLnN0cmluZyxcclxuICBjb21wbGV0ZUNvbG9yOiBfcHJvcFR5cGVzLlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgZGVmYXVsdENvbG9yOiBfcHJvcFR5cGVzLlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgYWN0aXZlVGl0bGVDb2xvcjogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGNvbXBsZXRlVGl0bGVDb2xvcjogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGRlZmF1bHRUaXRsZUNvbG9yOiBfcHJvcFR5cGVzLlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgY2lyY2xlRm9udENvbG9yOiBfcHJvcFR5cGVzLlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgc2l6ZTogX3Byb3BUeXBlcy5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gIGNpcmNsZUZvbnRTaXplOiBfcHJvcFR5cGVzLlByb3BUeXBlcy5udW1iZXIsXHJcbiAgdGl0bGVGb250U2l6ZTogX3Byb3BUeXBlcy5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gIGNpcmNsZVRvcDogX3Byb3BUeXBlcy5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gIHRpdGxlVG9wOiBfcHJvcFR5cGVzLlByb3BUeXBlcy5udW1iZXIsXHJcbiAgdGl0bGU6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLnN0cmluZyxcclxuICBpbmRleDogX3Byb3BUeXBlcy5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gIGFjdGl2ZTogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuYm9vbCxcclxuICBjb21wbGV0ZWQ6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLmJvb2wsXHJcbiAgZmlyc3Q6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLmJvb2wsXHJcbiAgaXNMYXN0OiBfcHJvcFR5cGVzLlByb3BUeXBlcy5ib29sLFxyXG4gIGNvbXBsZXRlT3BhY2l0eTogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGFjdGl2ZU9wYWNpdHk6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLnN0cmluZyxcclxuICBkZWZhdWx0T3BhY2l0eTogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGNvbXBsZXRlVGl0bGVPcGFjaXR5OiBfcHJvcFR5cGVzLlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgYWN0aXZlVGl0bGVPcGFjaXR5OiBfcHJvcFR5cGVzLlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgZGVmYXVsdFRpdGxlT3BhY2l0eTogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGJhclN0eWxlOiBfcHJvcFR5cGVzLlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgZGVmYXVsdEJhckNvbG9yOiBfcHJvcFR5cGVzLlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgY29tcGxldGVCYXJDb2xvcjogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGRlZmF1bHRCb3JkZXJDb2xvcjogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGNvbXBsZXRlQm9yZGVyQ29sb3I6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLnN0cmluZyxcclxuICBhY3RpdmVCb3JkZXJDb2xvcjogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGRlZmF1bHRCb3JkZXJTdHlsZTogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGNvbXBsZXRlQm9yZGVyU3R5bGU6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLnN0cmluZyxcclxuICBhY3RpdmVCb3JkZXJTdHlsZTogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGxpbmVNYXJnaW5PZmZzZXQ6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLm51bWJlcixcclxuICBkZWZhdWx0Qm9yZGVyV2lkdGg6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLm51bWJlclxyXG59OyIsIid1c2Ugc3RyaWN0JztcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xyXG4gIHZhbHVlOiB0cnVlXHJcbn0pO1xyXG5cclxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcblxyXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcclxuXHJcbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xyXG5cclxudmFyIF9TdGVwID0gcmVxdWlyZSgnLi9TdGVwJyk7XHJcblxyXG52YXIgX1N0ZXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3RlcCk7XHJcblxyXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxyXG5cclxudmFyIHN0eWxlcyA9IHtcclxuICByb290OiB7XHJcbiAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgbWluSGVpZ2h0OiAwLFxyXG4gICAgcGFkZGluZzogMFxyXG4gIH0sXHJcbiAgc3RlcHBlcjoge1xyXG4gICAgZGlzcGxheTogJ3RhYmxlJyxcclxuICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICBtYXJnaW46ICcwIGF1dG8nXHJcbiAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gU3RlcHBlcihfcmVmKSB7XHJcbiAgdmFyIGFjdGl2ZVN0ZXAgPSBfcmVmLmFjdGl2ZVN0ZXAsXHJcbiAgICAgIHN0ZXBzID0gX3JlZi5zdGVwcyxcclxuICAgICAgZGlzYWJsZWRTdGVwcyA9IF9yZWYuZGlzYWJsZWRTdGVwcyxcclxuICAgICAgYWN0aXZlQ29sb3IgPSBfcmVmLmFjdGl2ZUNvbG9yLFxyXG4gICAgICBjb21wbGV0ZUNvbG9yID0gX3JlZi5jb21wbGV0ZUNvbG9yLFxyXG4gICAgICBkZWZhdWx0Q29sb3IgPSBfcmVmLmRlZmF1bHRDb2xvcixcclxuICAgICAgY2lyY2xlRm9udENvbG9yID0gX3JlZi5jaXJjbGVGb250Q29sb3IsXHJcbiAgICAgIGFjdGl2ZVRpdGxlQ29sb3IgPSBfcmVmLmFjdGl2ZVRpdGxlQ29sb3IsXHJcbiAgICAgIGNvbXBsZXRlVGl0bGVDb2xvciA9IF9yZWYuY29tcGxldGVUaXRsZUNvbG9yLFxyXG4gICAgICBkZWZhdWx0VGl0bGVDb2xvciA9IF9yZWYuZGVmYXVsdFRpdGxlQ29sb3IsXHJcbiAgICAgIHNpemUgPSBfcmVmLnNpemUsXHJcbiAgICAgIGNpcmNsZUZvbnRTaXplID0gX3JlZi5jaXJjbGVGb250U2l6ZSxcclxuICAgICAgdGl0bGVGb250U2l6ZSA9IF9yZWYudGl0bGVGb250U2l6ZSxcclxuICAgICAgY2lyY2xlVG9wID0gX3JlZi5jaXJjbGVUb3AsXHJcbiAgICAgIHRpdGxlVG9wID0gX3JlZi50aXRsZVRvcCxcclxuICAgICAgY29tcGxldGVPcGFjaXR5ID0gX3JlZi5jb21wbGV0ZU9wYWNpdHksXHJcbiAgICAgIGFjdGl2ZU9wYWNpdHkgPSBfcmVmLmFjdGl2ZU9wYWNpdHksXHJcbiAgICAgIGRlZmF1bHRPcGFjaXR5ID0gX3JlZi5kZWZhdWx0T3BhY2l0eSxcclxuICAgICAgY29tcGxldGVUaXRsZU9wYWNpdHkgPSBfcmVmLmNvbXBsZXRlVGl0bGVPcGFjaXR5LFxyXG4gICAgICBhY3RpdmVUaXRsZU9wYWNpdHkgPSBfcmVmLmFjdGl2ZVRpdGxlT3BhY2l0eSxcclxuICAgICAgZGVmYXVsdFRpdGxlT3BhY2l0eSA9IF9yZWYuZGVmYXVsdFRpdGxlT3BhY2l0eSxcclxuICAgICAgYmFyU3R5bGUgPSBfcmVmLmJhclN0eWxlLFxyXG4gICAgICBkZWZhdWx0Qm9yZGVyQ29sb3IgPSBfcmVmLmRlZmF1bHRCb3JkZXJDb2xvcixcclxuICAgICAgY29tcGxldGVCb3JkZXJDb2xvciA9IF9yZWYuY29tcGxldGVCb3JkZXJDb2xvcixcclxuICAgICAgYWN0aXZlQm9yZGVyQ29sb3IgPSBfcmVmLmFjdGl2ZUJvcmRlckNvbG9yLFxyXG4gICAgICBkZWZhdWx0Qm9yZGVyU3R5bGUgPSBfcmVmLmRlZmF1bHRCb3JkZXJTdHlsZSxcclxuICAgICAgY29tcGxldGVCb3JkZXJTdHlsZSA9IF9yZWYuY29tcGxldGVCb3JkZXJTdHlsZSxcclxuICAgICAgYWN0aXZlQm9yZGVyU3R5bGUgPSBfcmVmLmFjdGl2ZUJvcmRlclN0eWxlLFxyXG4gICAgICBkZWZhdWx0QmFyQ29sb3IgPSBfcmVmLmRlZmF1bHRCYXJDb2xvcixcclxuICAgICAgY29tcGxldGVCYXJDb2xvciA9IF9yZWYuY29tcGxldGVCYXJDb2xvcixcclxuICAgICAgbGluZU1hcmdpbk9mZnNldCA9IF9yZWYubGluZU1hcmdpbk9mZnNldCxcclxuICAgICAgZGVmYXVsdEJvcmRlcldpZHRoID0gX3JlZi5kZWZhdWx0Qm9yZGVyV2lkdGg7XHJcblxyXG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICdkaXYnLFxyXG4gICAgeyBzdHlsZTogc3R5bGVzLnJvb3QgfSxcclxuICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxyXG4gICAgICAnZGl2JyxcclxuICAgICAgeyBzdHlsZTogc3R5bGVzLnN0ZXBwZXIgfSxcclxuICAgICAgc3RlcHMubWFwKGZ1bmN0aW9uIChzdGVwLCBpbmRleCkge1xyXG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU3RlcDIuZGVmYXVsdCwge1xyXG4gICAgICAgICAga2V5OiBpbmRleCxcclxuICAgICAgICAgIHdpZHRoOiAxMDAgLyBzdGVwcy5sZW5ndGgsXHJcbiAgICAgICAgICB0aXRsZTogc3RlcC50aXRsZSxcclxuICAgICAgICAgIGljb246IHN0ZXAuaWNvbixcclxuICAgICAgICAgIGhyZWY6IHN0ZXAuaHJlZixcclxuICAgICAgICAgIG9uQ2xpY2s6IHN0ZXAub25DbGljayxcclxuICAgICAgICAgIGFjdGl2ZTogIShkaXNhYmxlZFN0ZXBzIHx8IFtdKS5pbmNsdWRlcyhpbmRleCkgJiYgaW5kZXggPT09IGFjdGl2ZVN0ZXAsXHJcbiAgICAgICAgICBjb21wbGV0ZWQ6ICEoZGlzYWJsZWRTdGVwcyB8fCBbXSkuaW5jbHVkZXMoaW5kZXgpICYmIGluZGV4IDwgYWN0aXZlU3RlcCxcclxuICAgICAgICAgIGZpcnN0OiBpbmRleCA9PT0gMCxcclxuICAgICAgICAgIGlzTGFzdDogaW5kZXggPT09IHN0ZXBzLmxlbmd0aCAtIDEsXHJcbiAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICBhY3RpdmVDb2xvcjogYWN0aXZlQ29sb3IsXHJcbiAgICAgICAgICBjb21wbGV0ZUNvbG9yOiBjb21wbGV0ZUNvbG9yLFxyXG4gICAgICAgICAgZGVmYXVsdENvbG9yOiBkZWZhdWx0Q29sb3IsXHJcbiAgICAgICAgICBjaXJjbGVGb250Q29sb3I6IGNpcmNsZUZvbnRDb2xvcixcclxuICAgICAgICAgIGFjdGl2ZVRpdGxlQ29sb3I6IGFjdGl2ZVRpdGxlQ29sb3IsXHJcbiAgICAgICAgICBjb21wbGV0ZVRpdGxlQ29sb3I6IGNvbXBsZXRlVGl0bGVDb2xvcixcclxuICAgICAgICAgIGRlZmF1bHRUaXRsZUNvbG9yOiBkZWZhdWx0VGl0bGVDb2xvcixcclxuICAgICAgICAgIHNpemU6IHNpemUsXHJcbiAgICAgICAgICBjaXJjbGVGb250U2l6ZTogY2lyY2xlRm9udFNpemUsXHJcbiAgICAgICAgICB0aXRsZUZvbnRTaXplOiB0aXRsZUZvbnRTaXplLFxyXG4gICAgICAgICAgY2lyY2xlVG9wOiBjaXJjbGVUb3AsXHJcbiAgICAgICAgICB0aXRsZVRvcDogdGl0bGVUb3AsXHJcbiAgICAgICAgICBkZWZhdWx0T3BhY2l0eTogZGVmYXVsdE9wYWNpdHksXHJcbiAgICAgICAgICBjb21wbGV0ZU9wYWNpdHk6IGNvbXBsZXRlT3BhY2l0eSxcclxuICAgICAgICAgIGFjdGl2ZU9wYWNpdHk6IGFjdGl2ZU9wYWNpdHksXHJcbiAgICAgICAgICBkZWZhdWx0VGl0bGVPcGFjaXR5OiBkZWZhdWx0VGl0bGVPcGFjaXR5LFxyXG4gICAgICAgICAgY29tcGxldGVUaXRsZU9wYWNpdHk6IGNvbXBsZXRlVGl0bGVPcGFjaXR5LFxyXG4gICAgICAgICAgYWN0aXZlVGl0bGVPcGFjaXR5OiBhY3RpdmVUaXRsZU9wYWNpdHksXHJcbiAgICAgICAgICBiYXJTdHlsZTogYmFyU3R5bGUsXHJcbiAgICAgICAgICBkZWZhdWx0Qm9yZGVyQ29sb3I6IGRlZmF1bHRCb3JkZXJDb2xvcixcclxuICAgICAgICAgIGNvbXBsZXRlQm9yZGVyQ29sb3I6IGNvbXBsZXRlQm9yZGVyQ29sb3IsXHJcbiAgICAgICAgICBhY3RpdmVCb3JkZXJDb2xvcjogYWN0aXZlQm9yZGVyQ29sb3IsXHJcbiAgICAgICAgICBkZWZhdWx0Qm9yZGVyU3R5bGU6IGRlZmF1bHRCb3JkZXJTdHlsZSxcclxuICAgICAgICAgIGRlZmF1bHRCb3JkZXJXaWR0aDogZGVmYXVsdEJvcmRlcldpZHRoLFxyXG4gICAgICAgICAgY29tcGxldGVCb3JkZXJTdHlsZTogY29tcGxldGVCb3JkZXJTdHlsZSxcclxuICAgICAgICAgIGFjdGl2ZUJvcmRlclN0eWxlOiBhY3RpdmVCb3JkZXJTdHlsZSxcclxuICAgICAgICAgIGRlZmF1bHRCYXJDb2xvcjogZGVmYXVsdEJhckNvbG9yLFxyXG4gICAgICAgICAgY29tcGxldGVCYXJDb2xvcjogY29tcGxldGVCYXJDb2xvcixcclxuICAgICAgICAgIGxpbmVNYXJnaW5PZmZzZXQ6IGxpbmVNYXJnaW5PZmZzZXRcclxuICAgICAgICB9KTtcclxuICAgICAgfSlcclxuICAgIClcclxuICApO1xyXG59XHJcblxyXG5TdGVwcGVyLmRlZmF1bHRQcm9wcyA9IHtcclxuICBhY3RpdmVTdGVwOiAwXHJcbn07XHJcblxyXG5TdGVwcGVyLnByb3BUeXBlcyA9IHtcclxuICBhY3RpdmVTdGVwOiBfcHJvcFR5cGVzLlByb3BUeXBlcy5udW1iZXIsXHJcbiAgc3RlcHM6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLmFycmF5LFxyXG4gIGFjdGl2ZUNvbG9yOiBfcHJvcFR5cGVzLlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgY29tcGxldGVDb2xvcjogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGRlZmF1bHRDb2xvcjogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGFjdGl2ZVRpdGxlQ29sb3I6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLnN0cmluZyxcclxuICBjb21wbGV0ZVRpdGxlQ29sb3I6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLnN0cmluZyxcclxuICBkZWZhdWx0VGl0bGVDb2xvcjogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGNpcmNsZUZvbnRDb2xvcjogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIHNpemU6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLm51bWJlcixcclxuICBjaXJjbGVGb250U2l6ZTogX3Byb3BUeXBlcy5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gIHRpdGxlRm9udFNpemU6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLm51bWJlcixcclxuICBjaXJjbGVUb3A6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLm51bWJlcixcclxuICB0aXRsZVRvcDogX3Byb3BUeXBlcy5Qcm9wVHlwZXMubnVtYmVyLFxyXG4gIGRlZmF1bHRPcGFjaXR5OiBfcHJvcFR5cGVzLlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgY29tcGxldGVPcGFjaXR5OiBfcHJvcFR5cGVzLlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgYWN0aXZlT3BhY2l0eTogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGRlZmF1bHRUaXRsZU9wYWNpdHk6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLnN0cmluZyxcclxuICBjb21wbGV0ZVRpdGxlT3BhY2l0eTogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGFjdGl2ZVRpdGxlT3BhY2l0eTogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGJhclN0eWxlOiBfcHJvcFR5cGVzLlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgZGVmYXVsdEJhckNvbG9yOiBfcHJvcFR5cGVzLlByb3BUeXBlcy5zdHJpbmcsXHJcbiAgY29tcGxldGVCYXJDb2xvcjogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGRlZmF1bHRCb3JkZXJDb2xvcjogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGNvbXBsZXRlQm9yZGVyQ29sb3I6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLnN0cmluZyxcclxuICBhY3RpdmVCb3JkZXJDb2xvcjogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGRlZmF1bHRCb3JkZXJTdHlsZTogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGNvbXBsZXRlQm9yZGVyU3R5bGU6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLnN0cmluZyxcclxuICBhY3RpdmVCb3JkZXJTdHlsZTogX3Byb3BUeXBlcy5Qcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGxpbmVNYXJnaW5PZmZzZXQ6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLm51bWJlcixcclxuICBkZWZhdWx0Qm9yZGVyV2lkdGg6IF9wcm9wVHlwZXMuUHJvcFR5cGVzLm51bWJlclxyXG59O1xyXG5cclxuZXhwb3J0cy5kZWZhdWx0ID0gU3RlcHBlcjsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcclxuICB2YWx1ZTogdHJ1ZVxyXG59KTtcclxuXHJcbnZhciBfU3RlcHBlciA9IHJlcXVpcmUoJy4vU3RlcHBlcicpO1xyXG5cclxudmFyIF9TdGVwcGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N0ZXBwZXIpO1xyXG5cclxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cclxuXHJcbmV4cG9ydHMuZGVmYXVsdCA9IF9TdGVwcGVyMi5kZWZhdWx0OyIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XHJcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XHJcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxyXG4gICAgKGdsb2JhbC5SZXNpemVPYnNlcnZlciA9IGZhY3RvcnkoKSk7XHJcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBjb2xsZWN0aW9uIG9mIHNoaW1zIHRoYXQgcHJvdmlkZSBtaW5pbWFsIGZ1bmN0aW9uYWxpdHkgb2YgdGhlIEVTNiBjb2xsZWN0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBUaGVzZSBpbXBsZW1lbnRhdGlvbnMgYXJlIG5vdCBtZWFudCB0byBiZSB1c2VkIG91dHNpZGUgb2YgdGhlIFJlc2l6ZU9ic2VydmVyXHJcbiAgICAgKiBtb2R1bGVzIGFzIHRoZXkgY292ZXIgb25seSBhIGxpbWl0ZWQgcmFuZ2Ugb2YgdXNlIGNhc2VzLlxyXG4gICAgICovXHJcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSByZXF1aXJlLWpzZG9jLCB2YWxpZC1qc2RvYyAqL1xyXG4gICAgdmFyIE1hcFNoaW0gPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgTWFwICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICByZXR1cm4gTWFwO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXR1cm5zIGluZGV4IGluIHByb3ZpZGVkIGFycmF5IHRoYXQgbWF0Y2hlcyB0aGUgc3BlY2lmaWVkIGtleS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXk8QXJyYXk+fSBhcnJcclxuICAgICAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0SW5kZXgoYXJyLCBrZXkpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IC0xO1xyXG4gICAgICAgICAgICBhcnIuc29tZShmdW5jdGlvbiAoZW50cnksIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW50cnlbMF0gPT09IGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gY2xhc3NfMSgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX19lbnRyaWVzX18gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2xhc3NfMS5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fX2VudHJpZXNfXy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7Kn0ga2V5XHJcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHsqfVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXgodGhpcy5fX2VudHJpZXNfXywga2V5KTtcclxuICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMuX19lbnRyaWVzX19baW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5WzFdO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQHBhcmFtIHsqfSBrZXlcclxuICAgICAgICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZVxyXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNsYXNzXzEucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBnZXRJbmRleCh0aGlzLl9fZW50cmllc19fLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKH5pbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX19lbnRyaWVzX19baW5kZXhdWzFdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fZW50cmllc19fLnB1c2goW2tleSwgdmFsdWVdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7Kn0ga2V5XHJcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLl9fZW50cmllc19fO1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXgoZW50cmllcywga2V5KTtcclxuICAgICAgICAgICAgICAgIGlmICh+aW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbnRyaWVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIX5nZXRJbmRleCh0aGlzLl9fZW50cmllc19fLCBrZXkpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX19lbnRyaWVzX18uc3BsaWNlKDApO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgICAgICAgICAgICogQHBhcmFtIHsqfSBbY3R4PW51bGxdXHJcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgY3R4KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3R4ID09PSB2b2lkIDApIHsgY3R4ID0gbnVsbDsgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuX19lbnRyaWVzX187IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY3R4LCBlbnRyeVsxXSwgZW50cnlbMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gY2xhc3NfMTtcclxuICAgICAgICB9KCkpO1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERldGVjdHMgd2hldGhlciB3aW5kb3cgYW5kIGRvY3VtZW50IG9iamVjdHMgYXJlIGF2YWlsYWJsZSBpbiBjdXJyZW50IGVudmlyb25tZW50LlxyXG4gICAgICovXHJcbiAgICB2YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgPT09IGRvY3VtZW50O1xyXG5cclxuICAgIC8vIFJldHVybnMgZ2xvYmFsIG9iamVjdCBvZiBhIGN1cnJlbnQgZW52aXJvbm1lbnQuXHJcbiAgICB2YXIgZ2xvYmFsJDEgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWwuTWF0aCA9PT0gTWF0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PT0gTWF0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09PSBNYXRoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3c7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xyXG4gICAgICAgIHJldHVybiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgc2hpbSBmb3IgdGhlIHJlcXVlc3RBbmltYXRpb25GcmFtZSB3aGljaCBmYWxscyBiYWNrIHRvIHRoZSBzZXRUaW1lb3V0IGlmXHJcbiAgICAgKiBmaXJzdCBvbmUgaXMgbm90IHN1cHBvcnRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXF1ZXN0cycgaWRlbnRpZmllci5cclxuICAgICAqL1xyXG4gICAgdmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSQxID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAvLyBJdCdzIHJlcXVpcmVkIHRvIHVzZSBhIGJvdW5kZWQgZnVuY3Rpb24gYmVjYXVzZSBJRSBzb21ldGltZXMgdGhyb3dzXHJcbiAgICAgICAgICAgIC8vIGFuIFwiSW52YWxpZCBjYWxsaW5nIG9iamVjdFwiIGVycm9yIGlmIHJBRiBpcyBpbnZva2VkIHdpdGhvdXQgdGhlIGdsb2JhbFxyXG4gICAgICAgICAgICAvLyBvYmplY3Qgb24gdGhlIGxlZnQgaGFuZCBzaWRlLlxyXG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQoZ2xvYmFsJDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7IHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxiYWNrKERhdGUubm93KCkpOyB9LCAxMDAwIC8gNjApOyB9O1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICAvLyBEZWZpbmVzIG1pbmltdW0gdGltZW91dCBiZWZvcmUgYWRkaW5nIGEgdHJhaWxpbmcgY2FsbC5cclxuICAgIHZhciB0cmFpbGluZ1RpbWVvdXQgPSAyO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgd3JhcHBlciBmdW5jdGlvbiB3aGljaCBlbnN1cmVzIHRoYXQgcHJvdmlkZWQgY2FsbGJhY2sgd2lsbCBiZVxyXG4gICAgICogaW52b2tlZCBvbmx5IG9uY2UgZHVyaW5nIHRoZSBzcGVjaWZpZWQgZGVsYXkgcGVyaW9kLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gYmUgaW52b2tlZCBhZnRlciB0aGUgZGVsYXkgcGVyaW9kLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5IC0gRGVsYXkgYWZ0ZXIgd2hpY2ggdG8gaW52b2tlIGNhbGxiYWNrLlxyXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB0aHJvdHRsZSAoY2FsbGJhY2ssIGRlbGF5KSB7XHJcbiAgICAgICAgdmFyIGxlYWRpbmdDYWxsID0gZmFsc2UsIHRyYWlsaW5nQ2FsbCA9IGZhbHNlLCBsYXN0Q2FsbFRpbWUgPSAwO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEludm9rZXMgdGhlIG9yaWdpbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIGFuZCBzY2hlZHVsZXMgbmV3IGludm9jYXRpb24gaWZcclxuICAgICAgICAgKiB0aGUgXCJwcm94eVwiIHdhcyBjYWxsZWQgZHVyaW5nIGN1cnJlbnQgcmVxdWVzdC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVQZW5kaW5nKCkge1xyXG4gICAgICAgICAgICBpZiAobGVhZGluZ0NhbGwpIHtcclxuICAgICAgICAgICAgICAgIGxlYWRpbmdDYWxsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0cmFpbGluZ0NhbGwpIHtcclxuICAgICAgICAgICAgICAgIHByb3h5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FsbGJhY2sgaW52b2tlZCBhZnRlciB0aGUgc3BlY2lmaWVkIGRlbGF5LiBJdCB3aWxsIGZ1cnRoZXIgcG9zdHBvbmVcclxuICAgICAgICAgKiBpbnZvY2F0aW9uIG9mIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiBkZWxlZ2F0aW5nIGl0IHRvIHRoZVxyXG4gICAgICAgICAqIHJlcXVlc3RBbmltYXRpb25GcmFtZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHRpbWVvdXRDYWxsYmFjaygpIHtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lJDEocmVzb2x2ZVBlbmRpbmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTY2hlZHVsZXMgaW52b2NhdGlvbiBvZiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBwcm94eSgpIHtcclxuICAgICAgICAgICAgdmFyIHRpbWVTdGFtcCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGlmIChsZWFkaW5nQ2FsbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVqZWN0IGltbWVkaWF0ZWx5IGZvbGxvd2luZyBjYWxscy5cclxuICAgICAgICAgICAgICAgIGlmICh0aW1lU3RhbXAgLSBsYXN0Q2FsbFRpbWUgPCB0cmFpbGluZ1RpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBTY2hlZHVsZSBuZXcgY2FsbCB0byBiZSBpbiBpbnZva2VkIHdoZW4gdGhlIHBlbmRpbmcgb25lIGlzIHJlc29sdmVkLlxyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBpbXBvcnRhbnQgZm9yIFwidHJhbnNpdGlvbnNcIiB3aGljaCBuZXZlciBhY3R1YWxseSBzdGFydFxyXG4gICAgICAgICAgICAgICAgLy8gaW1tZWRpYXRlbHkgc28gdGhlcmUgaXMgYSBjaGFuY2UgdGhhdCB3ZSBtaWdodCBtaXNzIG9uZSBpZiBjaGFuZ2VcclxuICAgICAgICAgICAgICAgIC8vIGhhcHBlbnMgYW1pZHMgdGhlIHBlbmRpbmcgaW52b2NhdGlvbi5cclxuICAgICAgICAgICAgICAgIHRyYWlsaW5nQ2FsbCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZWFkaW5nQ2FsbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0cmFpbGluZ0NhbGwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGltZW91dENhbGxiYWNrLCBkZWxheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFzdENhbGxUaW1lID0gdGltZVN0YW1wO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJveHk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWluaW11bSBkZWxheSBiZWZvcmUgaW52b2tpbmcgdGhlIHVwZGF0ZSBvZiBvYnNlcnZlcnMuXHJcbiAgICB2YXIgUkVGUkVTSF9ERUxBWSA9IDIwO1xyXG4gICAgLy8gQSBsaXN0IG9mIHN1YnN0cmluZ3Mgb2YgQ1NTIHByb3BlcnRpZXMgdXNlZCB0byBmaW5kIHRyYW5zaXRpb24gZXZlbnRzIHRoYXRcclxuICAgIC8vIG1pZ2h0IGFmZmVjdCBkaW1lbnNpb25zIG9mIG9ic2VydmVkIGVsZW1lbnRzLlxyXG4gICAgdmFyIHRyYW5zaXRpb25LZXlzID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnLCAnd2lkdGgnLCAnaGVpZ2h0JywgJ3NpemUnLCAnd2VpZ2h0J107XHJcbiAgICAvLyBDaGVjayBpZiBNdXRhdGlvbk9ic2VydmVyIGlzIGF2YWlsYWJsZS5cclxuICAgIHZhciBtdXRhdGlvbk9ic2VydmVyU3VwcG9ydGVkID0gdHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTaW5nbGV0b24gY29udHJvbGxlciBjbGFzcyB3aGljaCBoYW5kbGVzIHVwZGF0ZXMgb2YgUmVzaXplT2JzZXJ2ZXIgaW5zdGFuY2VzLlxyXG4gICAgICovXHJcbiAgICB2YXIgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIoKSB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBET00gbGlzdGVuZXJzIGhhdmUgYmVlbiBhZGRlZC5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHByaXZhdGUge2Jvb2xlYW59XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZF8gPSBmYWxzZTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFRlbGxzIHRoYXQgY29udHJvbGxlciBoYXMgc3Vic2NyaWJlZCBmb3IgTXV0YXRpb24gRXZlbnRzLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcHJpdmF0ZSB7Ym9vbGVhbn1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25FdmVudHNBZGRlZF8gPSBmYWxzZTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEtlZXBzIHJlZmVyZW5jZSB0byB0aGUgaW5zdGFuY2Ugb2YgTXV0YXRpb25PYnNlcnZlci5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHByaXZhdGUge011dGF0aW9uT2JzZXJ2ZXJ9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uc09ic2VydmVyXyA9IG51bGw7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBBIGxpc3Qgb2YgY29ubmVjdGVkIG9ic2VydmVycy5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHByaXZhdGUge0FycmF5PFJlc2l6ZU9ic2VydmVyU1BJPn1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzXyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLm9uVHJhbnNpdGlvbkVuZF8gPSB0aGlzLm9uVHJhbnNpdGlvbkVuZF8uYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoID0gdGhyb3R0bGUodGhpcy5yZWZyZXNoLmJpbmQodGhpcyksIFJFRlJFU0hfREVMQVkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBZGRzIG9ic2VydmVyIHRvIG9ic2VydmVycyBsaXN0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtSZXNpemVPYnNlcnZlclNQSX0gb2JzZXJ2ZXIgLSBPYnNlcnZlciB0byBiZSBhZGRlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLmFkZE9ic2VydmVyID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIGlmICghfnRoaXMub2JzZXJ2ZXJzXy5pbmRleE9mKG9ic2VydmVyKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnNfLnB1c2gob2JzZXJ2ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEFkZCBsaXN0ZW5lcnMgaWYgdGhleSBoYXZlbid0IGJlZW4gYWRkZWQgeWV0LlxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkXykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0XygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZW1vdmVzIG9ic2VydmVyIGZyb20gb2JzZXJ2ZXJzIGxpc3QuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge1Jlc2l6ZU9ic2VydmVyU1BJfSBvYnNlcnZlciAtIE9ic2VydmVyIHRvIGJlIHJlbW92ZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVPYnNlcnZlciA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xyXG4gICAgICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnNfO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBvYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlcik7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBvYnNlcnZlciBpZiBpdCdzIHByZXNlbnQgaW4gcmVnaXN0cnkuXHJcbiAgICAgICAgICAgIGlmICh+aW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIG9ic2VydmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBsaXN0ZW5lcnMgaWYgY29udHJvbGxlciBoYXMgbm8gY29ubmVjdGVkIG9ic2VydmVycy5cclxuICAgICAgICAgICAgaWYgKCFvYnNlcnZlcnMubGVuZ3RoICYmIHRoaXMuY29ubmVjdGVkXykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0XygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbnZva2VzIHRoZSB1cGRhdGUgb2Ygb2JzZXJ2ZXJzLiBJdCB3aWxsIGNvbnRpbnVlIHJ1bm5pbmcgdXBkYXRlcyBpbnNvZmFyXHJcbiAgICAgICAgICogaXQgZGV0ZWN0cyBjaGFuZ2VzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY2hhbmdlc0RldGVjdGVkID0gdGhpcy51cGRhdGVPYnNlcnZlcnNfKCk7XHJcbiAgICAgICAgICAgIC8vIENvbnRpbnVlIHJ1bm5pbmcgdXBkYXRlcyBpZiBjaGFuZ2VzIGhhdmUgYmVlbiBkZXRlY3RlZCBhcyB0aGVyZSBtaWdodFxyXG4gICAgICAgICAgICAvLyBiZSBmdXR1cmUgb25lcyBjYXVzZWQgYnkgQ1NTIHRyYW5zaXRpb25zLlxyXG4gICAgICAgICAgICBpZiAoY2hhbmdlc0RldGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVXBkYXRlcyBldmVyeSBvYnNlcnZlciBmcm9tIG9ic2VydmVycyBsaXN0IGFuZCBub3RpZmllcyB0aGVtIG9mIHF1ZXVlZFxyXG4gICAgICAgICAqIGVudHJpZXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIFwidHJ1ZVwiIGlmIGFueSBvYnNlcnZlciBoYXMgZGV0ZWN0ZWQgY2hhbmdlcyBpblxyXG4gICAgICAgICAqICAgICAgZGltZW5zaW9ucyBvZiBpdCdzIGVsZW1lbnRzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUudXBkYXRlT2JzZXJ2ZXJzXyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gQ29sbGVjdCBvYnNlcnZlcnMgdGhhdCBoYXZlIGFjdGl2ZSBvYnNlcnZhdGlvbnMuXHJcbiAgICAgICAgICAgIHZhciBhY3RpdmVPYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVyc18uZmlsdGVyKGZ1bmN0aW9uIChvYnNlcnZlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLmdhdGhlckFjdGl2ZSgpLCBvYnNlcnZlci5oYXNBY3RpdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIERlbGl2ZXIgbm90aWZpY2F0aW9ucyBpbiBhIHNlcGFyYXRlIGN5Y2xlIGluIG9yZGVyIHRvIGF2b2lkIGFueVxyXG4gICAgICAgICAgICAvLyBjb2xsaXNpb25zIGJldHdlZW4gb2JzZXJ2ZXJzLCBlLmcuIHdoZW4gbXVsdGlwbGUgaW5zdGFuY2VzIG9mXHJcbiAgICAgICAgICAgIC8vIFJlc2l6ZU9ic2VydmVyIGFyZSB0cmFja2luZyB0aGUgc2FtZSBlbGVtZW50IGFuZCB0aGUgY2FsbGJhY2sgb2Ygb25lXHJcbiAgICAgICAgICAgIC8vIG9mIHRoZW0gY2hhbmdlcyBjb250ZW50IGRpbWVuc2lvbnMgb2YgdGhlIG9ic2VydmVkIHRhcmdldC4gU29tZXRpbWVzXHJcbiAgICAgICAgICAgIC8vIHRoaXMgbWF5IHJlc3VsdCBpbiBub3RpZmljYXRpb25zIGJlaW5nIGJsb2NrZWQgZm9yIHRoZSByZXN0IG9mIG9ic2VydmVycy5cclxuICAgICAgICAgICAgYWN0aXZlT2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKG9ic2VydmVyKSB7IHJldHVybiBvYnNlcnZlci5icm9hZGNhc3RBY3RpdmUoKTsgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVPYnNlcnZlcnMubGVuZ3RoID4gMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEluaXRpYWxpemVzIERPTSBsaXN0ZW5lcnMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUuY29ubmVjdF8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgcnVubmluZyBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50IG9yIGlmIGxpc3RlbmVyc1xyXG4gICAgICAgICAgICAvLyBoYXZlIGJlZW4gYWxyZWFkeSBhZGRlZC5cclxuICAgICAgICAgICAgaWYgKCFpc0Jyb3dzZXIgfHwgdGhpcy5jb25uZWN0ZWRfKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU3Vic2NyaXB0aW9uIHRvIHRoZSBcIlRyYW5zaXRpb25lbmRcIiBldmVudCBpcyB1c2VkIGFzIGEgd29ya2Fyb3VuZCBmb3JcclxuICAgICAgICAgICAgLy8gZGVsYXllZCB0cmFuc2l0aW9ucy4gVGhpcyB3YXkgaXQncyBwb3NzaWJsZSB0byBjYXB0dXJlIGF0IGxlYXN0IHRoZVxyXG4gICAgICAgICAgICAvLyBmaW5hbCBzdGF0ZSBvZiBhbiBlbGVtZW50LlxyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5vblRyYW5zaXRpb25FbmRfKTtcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVmcmVzaCk7XHJcbiAgICAgICAgICAgIGlmIChtdXRhdGlvbk9ic2VydmVyU3VwcG9ydGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11dGF0aW9uc09ic2VydmVyXyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMucmVmcmVzaCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11dGF0aW9uc09ic2VydmVyXy5vYnNlcnZlKGRvY3VtZW50LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0cmVlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTVN1YnRyZWVNb2RpZmllZCcsIHRoaXMucmVmcmVzaCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11dGF0aW9uRXZlbnRzQWRkZWRfID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZF8gPSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVtb3ZlcyBET00gbGlzdGVuZXJzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLmRpc2Nvbm5lY3RfID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHJ1bm5pbmcgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudCBvciBpZiBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgLy8gaGF2ZSBiZWVuIGFscmVhZHkgcmVtb3ZlZC5cclxuICAgICAgICAgICAgaWYgKCFpc0Jyb3dzZXIgfHwgIXRoaXMuY29ubmVjdGVkXykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm9uVHJhbnNpdGlvbkVuZF8pO1xyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZWZyZXNoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMubXV0YXRpb25zT2JzZXJ2ZXJfKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11dGF0aW9uc09ic2VydmVyXy5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMubXV0YXRpb25FdmVudHNBZGRlZF8pIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTVN1YnRyZWVNb2RpZmllZCcsIHRoaXMucmVmcmVzaCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8gPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uRXZlbnRzQWRkZWRfID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkXyA9IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXCJUcmFuc2l0aW9uZW5kXCIgZXZlbnQgaGFuZGxlci5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHBhcmFtIHtUcmFuc2l0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5vblRyYW5zaXRpb25FbmRfID0gZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHZhciBfYiA9IF9hLnByb3BlcnR5TmFtZSwgcHJvcGVydHlOYW1lID0gX2IgPT09IHZvaWQgMCA/ICcnIDogX2I7XHJcbiAgICAgICAgICAgIC8vIERldGVjdCB3aGV0aGVyIHRyYW5zaXRpb24gbWF5IGFmZmVjdCBkaW1lbnNpb25zIG9mIGFuIGVsZW1lbnQuXHJcbiAgICAgICAgICAgIHZhciBpc1JlZmxvd1Byb3BlcnR5ID0gdHJhbnNpdGlvbktleXMuc29tZShmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISF+cHJvcGVydHlOYW1lLmluZGV4T2Yoa2V5KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChpc1JlZmxvd1Byb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmV0dXJucyBpbnN0YW5jZSBvZiB0aGUgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybnMge1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pbnN0YW5jZV8pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VfID0gbmV3IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlXztcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhvbGRzIHJlZmVyZW5jZSB0byB0aGUgY29udHJvbGxlcidzIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGUge1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuaW5zdGFuY2VfID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyO1xyXG4gICAgfSgpKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmluZXMgbm9uLXdyaXRhYmxlL2VudW1lcmFibGUgcHJvcGVydGllcyBvZiB0aGUgcHJvdmlkZWQgdGFyZ2V0IG9iamVjdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IC0gT2JqZWN0IGZvciB3aGljaCB0byBkZWZpbmUgcHJvcGVydGllcy5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIFByb3BlcnRpZXMgdG8gYmUgZGVmaW5lZC5cclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRhcmdldCBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIHZhciBkZWZpbmVDb25maWd1cmFibGUgPSAoZnVuY3Rpb24gKHRhcmdldCwgcHJvcHMpIHtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMocHJvcHMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIga2V5ID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBwcm9wc1trZXldLFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGdsb2JhbCBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHByb3ZpZGVkIGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxyXG4gICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGdldFdpbmRvd09mID0gKGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgICAgICAvLyBBc3N1bWUgdGhhdCB0aGUgZWxlbWVudCBpcyBhbiBpbnN0YW5jZSBvZiBOb2RlLCB3aGljaCBtZWFucyB0aGF0IGl0XHJcbiAgICAgICAgLy8gaGFzIHRoZSBcIm93bmVyRG9jdW1lbnRcIiBwcm9wZXJ0eSBmcm9tIHdoaWNoIHdlIGNhbiByZXRyaWV2ZSBhXHJcbiAgICAgICAgLy8gY29ycmVzcG9uZGluZyBnbG9iYWwgb2JqZWN0LlxyXG4gICAgICAgIHZhciBvd25lckdsb2JhbCA9IHRhcmdldCAmJiB0YXJnZXQub3duZXJEb2N1bWVudCAmJiB0YXJnZXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcclxuICAgICAgICAvLyBSZXR1cm4gdGhlIGxvY2FsIGdsb2JhbCBvYmplY3QgaWYgaXQncyBub3QgcG9zc2libGUgZXh0cmFjdCBvbmUgZnJvbVxyXG4gICAgICAgIC8vIHByb3ZpZGVkIGVsZW1lbnQuXHJcbiAgICAgICAgcmV0dXJuIG93bmVyR2xvYmFsIHx8IGdsb2JhbCQxO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUGxhY2Vob2xkZXIgb2YgYW4gZW1wdHkgY29udGVudCByZWN0YW5nbGUuXHJcbiAgICB2YXIgZW1wdHlSZWN0ID0gY3JlYXRlUmVjdEluaXQoMCwgMCwgMCwgMCk7XHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIHByb3ZpZGVkIHN0cmluZyB0byBhIG51bWJlci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHZhbHVlXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB0b0Zsb2F0KHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpIHx8IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEV4dHJhY3RzIGJvcmRlcnMgc2l6ZSBmcm9tIHByb3ZpZGVkIHN0eWxlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0NTU1N0eWxlRGVjbGFyYXRpb259IHN0eWxlc1xyXG4gICAgICogQHBhcmFtIHsuLi5zdHJpbmd9IHBvc2l0aW9ucyAtIEJvcmRlcnMgcG9zaXRpb25zICh0b3AsIHJpZ2h0LCAuLi4pXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRCb3JkZXJzU2l6ZShzdHlsZXMpIHtcclxuICAgICAgICB2YXIgcG9zaXRpb25zID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgcG9zaXRpb25zW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcG9zaXRpb25zLnJlZHVjZShmdW5jdGlvbiAoc2l6ZSwgcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gc3R5bGVzWydib3JkZXItJyArIHBvc2l0aW9uICsgJy13aWR0aCddO1xyXG4gICAgICAgICAgICByZXR1cm4gc2l6ZSArIHRvRmxvYXQodmFsdWUpO1xyXG4gICAgICAgIH0sIDApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHRyYWN0cyBwYWRkaW5ncyBzaXplcyBmcm9tIHByb3ZpZGVkIHN0eWxlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0NTU1N0eWxlRGVjbGFyYXRpb259IHN0eWxlc1xyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUGFkZGluZ3MgYm94LlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRQYWRkaW5ncyhzdHlsZXMpIHtcclxuICAgICAgICB2YXIgcG9zaXRpb25zID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXTtcclxuICAgICAgICB2YXIgcGFkZGluZ3MgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHBvc2l0aW9uc18xID0gcG9zaXRpb25zOyBfaSA8IHBvc2l0aW9uc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBwb3NpdGlvbnNfMVtfaV07XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlc1sncGFkZGluZy0nICsgcG9zaXRpb25dO1xyXG4gICAgICAgICAgICBwYWRkaW5nc1twb3NpdGlvbl0gPSB0b0Zsb2F0KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhZGRpbmdzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxjdWxhdGVzIGNvbnRlbnQgcmVjdGFuZ2xlIG9mIHByb3ZpZGVkIFNWRyBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7U1ZHR3JhcGhpY3NFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IGNvbnRlbnQgcmVjdGFuZ2xlIG9mIHdoaWNoIG5lZWRzXHJcbiAgICAgKiAgICAgIHRvIGJlIGNhbGN1bGF0ZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFNWR0NvbnRlbnRSZWN0KHRhcmdldCkge1xyXG4gICAgICAgIHZhciBiYm94ID0gdGFyZ2V0LmdldEJCb3goKTtcclxuICAgICAgICByZXR1cm4gY3JlYXRlUmVjdEluaXQoMCwgMCwgYmJveC53aWR0aCwgYmJveC5oZWlnaHQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxjdWxhdGVzIGNvbnRlbnQgcmVjdGFuZ2xlIG9mIHByb3ZpZGVkIEhUTUxFbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgZm9yIHdoaWNoIHRvIGNhbGN1bGF0ZSB0aGUgY29udGVudCByZWN0YW5nbGUuXHJcbiAgICAgKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldEhUTUxFbGVtZW50Q29udGVudFJlY3QodGFyZ2V0KSB7XHJcbiAgICAgICAgLy8gQ2xpZW50IHdpZHRoICYgaGVpZ2h0IHByb3BlcnRpZXMgY2FuJ3QgYmVcclxuICAgICAgICAvLyB1c2VkIGV4Y2x1c2l2ZWx5IGFzIHRoZXkgcHJvdmlkZSByb3VuZGVkIHZhbHVlcy5cclxuICAgICAgICB2YXIgY2xpZW50V2lkdGggPSB0YXJnZXQuY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCA9IHRhcmdldC5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgLy8gQnkgdGhpcyBjb25kaXRpb24gd2UgY2FuIGNhdGNoIGFsbCBub24tcmVwbGFjZWQgaW5saW5lLCBoaWRkZW4gYW5kXHJcbiAgICAgICAgLy8gZGV0YWNoZWQgZWxlbWVudHMuIFRob3VnaCBlbGVtZW50cyB3aXRoIHdpZHRoICYgaGVpZ2h0IHByb3BlcnRpZXMgbGVzc1xyXG4gICAgICAgIC8vIHRoYW4gMC41IHdpbGwgYmUgZGlzY2FyZGVkIGFzIHdlbGwuXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBXaXRob3V0IGl0IHdlIHdvdWxkIG5lZWQgdG8gaW1wbGVtZW50IHNlcGFyYXRlIG1ldGhvZHMgZm9yIGVhY2ggb2ZcclxuICAgICAgICAvLyB0aG9zZSBjYXNlcyBhbmQgaXQncyBub3QgcG9zc2libGUgdG8gcGVyZm9ybSBhIHByZWNpc2UgYW5kIHBlcmZvcm1hbmNlXHJcbiAgICAgICAgLy8gZWZmZWN0aXZlIHRlc3QgZm9yIGhpZGRlbiBlbGVtZW50cy4gRS5nLiBldmVuIGpRdWVyeSdzICc6dmlzaWJsZScgZmlsdGVyXHJcbiAgICAgICAgLy8gZ2l2ZXMgd3JvbmcgcmVzdWx0cyBmb3IgZWxlbWVudHMgd2l0aCB3aWR0aCAmIGhlaWdodCBsZXNzIHRoYW4gMC41LlxyXG4gICAgICAgIGlmICghY2xpZW50V2lkdGggJiYgIWNsaWVudEhlaWdodCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZW1wdHlSZWN0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc3R5bGVzID0gZ2V0V2luZG93T2YodGFyZ2V0KS5nZXRDb21wdXRlZFN0eWxlKHRhcmdldCk7XHJcbiAgICAgICAgdmFyIHBhZGRpbmdzID0gZ2V0UGFkZGluZ3Moc3R5bGVzKTtcclxuICAgICAgICB2YXIgaG9yaXpQYWQgPSBwYWRkaW5ncy5sZWZ0ICsgcGFkZGluZ3MucmlnaHQ7XHJcbiAgICAgICAgdmFyIHZlcnRQYWQgPSBwYWRkaW5ncy50b3AgKyBwYWRkaW5ncy5ib3R0b207XHJcbiAgICAgICAgLy8gQ29tcHV0ZWQgc3R5bGVzIG9mIHdpZHRoICYgaGVpZ2h0IGFyZSBiZWluZyB1c2VkIGJlY2F1c2UgdGhleSBhcmUgdGhlXHJcbiAgICAgICAgLy8gb25seSBkaW1lbnNpb25zIGF2YWlsYWJsZSB0byBKUyB0aGF0IGNvbnRhaW4gbm9uLXJvdW5kZWQgdmFsdWVzLiBJdCBjb3VsZFxyXG4gICAgICAgIC8vIGJlIHBvc3NpYmxlIHRvIHV0aWxpemUgdGhlIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpZiBvbmx5IGl0J3MgZGF0YSB3YXNuJ3RcclxuICAgICAgICAvLyBhZmZlY3RlZCBieSBDU1MgdHJhbnNmb3JtYXRpb25zIGxldCBhbG9uZSBwYWRkaW5ncywgYm9yZGVycyBhbmQgc2Nyb2xsIGJhcnMuXHJcbiAgICAgICAgdmFyIHdpZHRoID0gdG9GbG9hdChzdHlsZXMud2lkdGgpLCBoZWlnaHQgPSB0b0Zsb2F0KHN0eWxlcy5oZWlnaHQpO1xyXG4gICAgICAgIC8vIFdpZHRoICYgaGVpZ2h0IGluY2x1ZGUgcGFkZGluZ3MgYW5kIGJvcmRlcnMgd2hlbiB0aGUgJ2JvcmRlci1ib3gnIGJveFxyXG4gICAgICAgIC8vIG1vZGVsIGlzIGFwcGxpZWQgKGV4Y2VwdCBmb3IgSUUpLlxyXG4gICAgICAgIGlmIChzdHlsZXMuYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCcpIHtcclxuICAgICAgICAgICAgLy8gRm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIHJlcXVpcmVkIHRvIGhhbmRsZSBJbnRlcm5ldCBFeHBsb3JlciB3aGljaFxyXG4gICAgICAgICAgICAvLyBkb2Vzbid0IGluY2x1ZGUgcGFkZGluZ3MgYW5kIGJvcmRlcnMgdG8gY29tcHV0ZWQgQ1NTIGRpbWVuc2lvbnMuXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFdlIGNhbiBzYXkgdGhhdCBpZiBDU1MgZGltZW5zaW9ucyArIHBhZGRpbmdzIGFyZSBlcXVhbCB0byB0aGUgXCJjbGllbnRcIlxyXG4gICAgICAgICAgICAvLyBwcm9wZXJ0aWVzIHRoZW4gaXQncyBlaXRoZXIgSUUsIGFuZCB0aHVzIHdlIGRvbid0IG5lZWQgdG8gc3VidHJhY3RcclxuICAgICAgICAgICAgLy8gYW55dGhpbmcsIG9yIGFuIGVsZW1lbnQgbWVyZWx5IGRvZXNuJ3QgaGF2ZSBwYWRkaW5ncy9ib3JkZXJzIHN0eWxlcy5cclxuICAgICAgICAgICAgaWYgKE1hdGgucm91bmQod2lkdGggKyBob3JpelBhZCkgIT09IGNsaWVudFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCAtPSBnZXRCb3JkZXJzU2l6ZShzdHlsZXMsICdsZWZ0JywgJ3JpZ2h0JykgKyBob3JpelBhZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoTWF0aC5yb3VuZChoZWlnaHQgKyB2ZXJ0UGFkKSAhPT0gY2xpZW50SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgLT0gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCAndG9wJywgJ2JvdHRvbScpICsgdmVydFBhZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBGb2xsb3dpbmcgc3RlcHMgY2FuJ3QgYmUgYXBwbGllZCB0byB0aGUgZG9jdW1lbnQncyByb290IGVsZW1lbnQgYXMgaXRzXHJcbiAgICAgICAgLy8gY2xpZW50W1dpZHRoL0hlaWdodF0gcHJvcGVydGllcyByZXByZXNlbnQgdmlld3BvcnQgYXJlYSBvZiB0aGUgd2luZG93LlxyXG4gICAgICAgIC8vIEJlc2lkZXMsIGl0J3MgYXMgd2VsbCBub3QgbmVjZXNzYXJ5IGFzIHRoZSA8aHRtbD4gaXRzZWxmIG5laXRoZXIgaGFzXHJcbiAgICAgICAgLy8gcmVuZGVyZWQgc2Nyb2xsIGJhcnMgbm9yIGl0IGNhbiBiZSBjbGlwcGVkLlxyXG4gICAgICAgIGlmICghaXNEb2N1bWVudEVsZW1lbnQodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAvLyBJbiBzb21lIGJyb3dzZXJzIChvbmx5IGluIEZpcmVmb3gsIGFjdHVhbGx5KSBDU1Mgd2lkdGggJiBoZWlnaHRcclxuICAgICAgICAgICAgLy8gaW5jbHVkZSBzY3JvbGwgYmFycyBzaXplIHdoaWNoIGNhbiBiZSByZW1vdmVkIGF0IHRoaXMgc3RlcCBhcyBzY3JvbGxcclxuICAgICAgICAgICAgLy8gYmFycyBhcmUgdGhlIG9ubHkgZGlmZmVyZW5jZSBiZXR3ZWVuIHJvdW5kZWQgZGltZW5zaW9ucyArIHBhZGRpbmdzXHJcbiAgICAgICAgICAgIC8vIGFuZCBcImNsaWVudFwiIHByb3BlcnRpZXMsIHRob3VnaCB0aGF0IGlzIG5vdCBhbHdheXMgdHJ1ZSBpbiBDaHJvbWUuXHJcbiAgICAgICAgICAgIHZhciB2ZXJ0U2Nyb2xsYmFyID0gTWF0aC5yb3VuZCh3aWR0aCArIGhvcml6UGFkKSAtIGNsaWVudFdpZHRoO1xyXG4gICAgICAgICAgICB2YXIgaG9yaXpTY3JvbGxiYXIgPSBNYXRoLnJvdW5kKGhlaWdodCArIHZlcnRQYWQpIC0gY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgICAgICAvLyBDaHJvbWUgaGFzIGEgcmF0aGVyIHdlaXJkIHJvdW5kaW5nIG9mIFwiY2xpZW50XCIgcHJvcGVydGllcy5cclxuICAgICAgICAgICAgLy8gRS5nLiBmb3IgYW4gZWxlbWVudCB3aXRoIGNvbnRlbnQgd2lkdGggb2YgMzE0LjJweCBpdCBzb21ldGltZXMgZ2l2ZXNcclxuICAgICAgICAgICAgLy8gdGhlIGNsaWVudCB3aWR0aCBvZiAzMTVweCBhbmQgZm9yIHRoZSB3aWR0aCBvZiAzMTQuN3B4IGl0IG1heSBnaXZlXHJcbiAgICAgICAgICAgIC8vIDMxNHB4LiBBbmQgaXQgZG9lc24ndCBoYXBwZW4gYWxsIHRoZSB0aW1lLiBTbyBqdXN0IGlnbm9yZSB0aGlzIGRlbHRhXHJcbiAgICAgICAgICAgIC8vIGFzIGEgbm9uLXJlbGV2YW50LlxyXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnModmVydFNjcm9sbGJhcikgIT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoIC09IHZlcnRTY3JvbGxiYXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGhvcml6U2Nyb2xsYmFyKSAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0IC09IGhvcml6U2Nyb2xsYmFyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjcmVhdGVSZWN0SW5pdChwYWRkaW5ncy5sZWZ0LCBwYWRkaW5ncy50b3AsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2hldGhlciBwcm92aWRlZCBlbGVtZW50IGlzIGFuIGluc3RhbmNlIG9mIHRoZSBTVkdHcmFwaGljc0VsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IHRvIGJlIGNoZWNrZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgdmFyIGlzU1ZHR3JhcGhpY3NFbGVtZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBTb21lIGJyb3dzZXJzLCBuYW1lbHkgSUUgYW5kIEVkZ2UsIGRvbid0IGhhdmUgdGhlIFNWR0dyYXBoaWNzRWxlbWVudFxyXG4gICAgICAgIC8vIGludGVyZmFjZS5cclxuICAgICAgICBpZiAodHlwZW9mIFNWR0dyYXBoaWNzRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHsgcmV0dXJuIHRhcmdldCBpbnN0YW5jZW9mIGdldFdpbmRvd09mKHRhcmdldCkuU1ZHR3JhcGhpY3NFbGVtZW50OyB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiBpdCdzIHNvLCB0aGVuIGNoZWNrIHRoYXQgZWxlbWVudCBpcyBhdCBsZWFzdCBhbiBpbnN0YW5jZSBvZiB0aGVcclxuICAgICAgICAvLyBTVkdFbGVtZW50IGFuZCB0aGF0IGl0IGhhcyB0aGUgXCJnZXRCQm94XCIgbWV0aG9kLlxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRyYS1wYXJlbnNcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkgeyByZXR1cm4gKHRhcmdldCBpbnN0YW5jZW9mIGdldFdpbmRvd09mKHRhcmdldCkuU1ZHRWxlbWVudCAmJlxyXG4gICAgICAgICAgICB0eXBlb2YgdGFyZ2V0LmdldEJCb3ggPT09ICdmdW5jdGlvbicpOyB9O1xyXG4gICAgfSkoKTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgcHJvdmlkZWQgZWxlbWVudCBpcyBhIGRvY3VtZW50IGVsZW1lbnQgKDxodG1sPikuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IHRvIGJlIGNoZWNrZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gaXNEb2N1bWVudEVsZW1lbnQodGFyZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldCA9PT0gZ2V0V2luZG93T2YodGFyZ2V0KS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGN1bGF0ZXMgYW4gYXBwcm9wcmlhdGUgY29udGVudCByZWN0YW5nbGUgZm9yIHByb3ZpZGVkIGh0bWwgb3Igc3ZnIGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IGNvbnRlbnQgcmVjdGFuZ2xlIG9mIHdoaWNoIG5lZWRzIHRvIGJlIGNhbGN1bGF0ZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldENvbnRlbnRSZWN0KHRhcmdldCkge1xyXG4gICAgICAgIGlmICghaXNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbXB0eVJlY3Q7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1NWR0dyYXBoaWNzRWxlbWVudCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXRTVkdDb250ZW50UmVjdCh0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZ2V0SFRNTEVsZW1lbnRDb250ZW50UmVjdCh0YXJnZXQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHJlY3RhbmdsZSB3aXRoIGFuIGludGVyZmFjZSBvZiB0aGUgRE9NUmVjdFJlYWRPbmx5LlxyXG4gICAgICogU3BlYzogaHR0cHM6Ly9kcmFmdHMuZnh0Zi5vcmcvZ2VvbWV0cnkvI2RvbXJlY3RyZWFkb25seVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RE9NUmVjdEluaXR9IHJlY3RJbml0IC0gT2JqZWN0IHdpdGggcmVjdGFuZ2xlJ3MgeC95IGNvb3JkaW5hdGVzIGFuZCBkaW1lbnNpb25zLlxyXG4gICAgICogQHJldHVybnMge0RPTVJlY3RSZWFkT25seX1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVhZE9ubHlSZWN0KF9hKSB7XHJcbiAgICAgICAgdmFyIHggPSBfYS54LCB5ID0gX2EueSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xyXG4gICAgICAgIC8vIElmIERPTVJlY3RSZWFkT25seSBpcyBhdmFpbGFibGUgdXNlIGl0IGFzIGEgcHJvdG90eXBlIGZvciB0aGUgcmVjdGFuZ2xlLlxyXG4gICAgICAgIHZhciBDb25zdHIgPSB0eXBlb2YgRE9NUmVjdFJlYWRPbmx5ICE9PSAndW5kZWZpbmVkJyA/IERPTVJlY3RSZWFkT25seSA6IE9iamVjdDtcclxuICAgICAgICB2YXIgcmVjdCA9IE9iamVjdC5jcmVhdGUoQ29uc3RyLnByb3RvdHlwZSk7XHJcbiAgICAgICAgLy8gUmVjdGFuZ2xlJ3MgcHJvcGVydGllcyBhcmUgbm90IHdyaXRhYmxlIGFuZCBub24tZW51bWVyYWJsZS5cclxuICAgICAgICBkZWZpbmVDb25maWd1cmFibGUocmVjdCwge1xyXG4gICAgICAgICAgICB4OiB4LCB5OiB5LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LFxyXG4gICAgICAgICAgICB0b3A6IHksXHJcbiAgICAgICAgICAgIHJpZ2h0OiB4ICsgd2lkdGgsXHJcbiAgICAgICAgICAgIGJvdHRvbTogaGVpZ2h0ICsgeSxcclxuICAgICAgICAgICAgbGVmdDogeFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZWN0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIERPTVJlY3RJbml0IG9iamVjdCBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgZGltZW5zaW9ucyBhbmQgdGhlIHgveSBjb29yZGluYXRlcy5cclxuICAgICAqIFNwZWM6IGh0dHBzOi8vZHJhZnRzLmZ4dGYub3JnL2dlb21ldHJ5LyNkaWN0ZGVmLWRvbXJlY3Rpbml0XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBYIGNvb3JkaW5hdGUuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFkgY29vcmRpbmF0ZS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFJlY3RhbmdsZSdzIHdpZHRoLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFJlY3RhbmdsZSdzIGhlaWdodC5cclxuICAgICAqIEByZXR1cm5zIHtET01SZWN0SW5pdH1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVjdEluaXQoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHJldHVybiB7IHg6IHgsIHk6IHksIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENsYXNzIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIGNvbXB1dGF0aW9ucyBvZiB0aGUgY29udGVudCByZWN0YW5nbGUgb2ZcclxuICAgICAqIHByb3ZpZGVkIERPTSBlbGVtZW50IGFuZCBmb3Iga2VlcGluZyB0cmFjayBvZiBpdCdzIGNoYW5nZXMuXHJcbiAgICAgKi9cclxuICAgIHZhciBSZXNpemVPYnNlcnZhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIFJlc2l6ZU9ic2VydmF0aW9uLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IHRvIGJlIG9ic2VydmVkLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmF0aW9uKHRhcmdldCkge1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQnJvYWRjYXN0ZWQgd2lkdGggb2YgY29udGVudCByZWN0YW5nbGUuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB0aGlzLmJyb2FkY2FzdFdpZHRoID0gMDtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEJyb2FkY2FzdGVkIGhlaWdodCBvZiBjb250ZW50IHJlY3RhbmdsZS5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHRoaXMuYnJvYWRjYXN0SGVpZ2h0ID0gMDtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgbGFzdCBvYnNlcnZlZCBjb250ZW50IHJlY3RhbmdsZS5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHByaXZhdGUge0RPTVJlY3RJbml0fVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdGhpcy5jb250ZW50UmVjdF8gPSBjcmVhdGVSZWN0SW5pdCgwLCAwLCAwLCAwKTtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZXMgY29udGVudCByZWN0YW5nbGUgYW5kIHRlbGxzIHdoZXRoZXIgaXQncyB3aWR0aCBvciBoZWlnaHQgcHJvcGVydGllc1xyXG4gICAgICAgICAqIGhhdmUgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdCBicm9hZGNhc3QuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBSZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZWN0ID0gZ2V0Q29udGVudFJlY3QodGhpcy50YXJnZXQpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRSZWN0XyA9IHJlY3Q7XHJcbiAgICAgICAgICAgIHJldHVybiAocmVjdC53aWR0aCAhPT0gdGhpcy5icm9hZGNhc3RXaWR0aCB8fFxyXG4gICAgICAgICAgICAgICAgcmVjdC5oZWlnaHQgIT09IHRoaXMuYnJvYWRjYXN0SGVpZ2h0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZXMgJ2Jyb2FkY2FzdFdpZHRoJyBhbmQgJ2Jyb2FkY2FzdEhlaWdodCcgcHJvcGVydGllcyB3aXRoIGEgZGF0YVxyXG4gICAgICAgICAqIGZyb20gdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydGllcyBvZiB0aGUgbGFzdCBvYnNlcnZlZCBjb250ZW50IHJlY3RhbmdsZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtET01SZWN0SW5pdH0gTGFzdCBvYnNlcnZlZCBjb250ZW50IHJlY3RhbmdsZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBSZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuYnJvYWRjYXN0UmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlY3QgPSB0aGlzLmNvbnRlbnRSZWN0XztcclxuICAgICAgICAgICAgdGhpcy5icm9hZGNhc3RXaWR0aCA9IHJlY3Qud2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuYnJvYWRjYXN0SGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHJldHVybiByZWN0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFJlc2l6ZU9ic2VydmF0aW9uO1xyXG4gICAgfSgpKTtcclxuXHJcbiAgICB2YXIgUmVzaXplT2JzZXJ2ZXJFbnRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIFJlc2l6ZU9ic2VydmVyRW50cnkuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgdGhhdCBpcyBiZWluZyBvYnNlcnZlZC5cclxuICAgICAgICAgKiBAcGFyYW0ge0RPTVJlY3RJbml0fSByZWN0SW5pdCAtIERhdGEgb2YgdGhlIGVsZW1lbnQncyBjb250ZW50IHJlY3RhbmdsZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckVudHJ5KHRhcmdldCwgcmVjdEluaXQpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRlbnRSZWN0ID0gY3JlYXRlUmVhZE9ubHlSZWN0KHJlY3RJbml0KTtcclxuICAgICAgICAgICAgLy8gQWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpY2F0aW9uIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGFyZSBub3Qgd3JpdGFibGVcclxuICAgICAgICAgICAgLy8gYW5kIGFyZSBhbHNvIG5vdCBlbnVtZXJhYmxlIGluIHRoZSBuYXRpdmUgaW1wbGVtZW50YXRpb24uXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFByb3BlcnR5IGFjY2Vzc29ycyBhcmUgbm90IGJlaW5nIHVzZWQgYXMgdGhleSdkIHJlcXVpcmUgdG8gZGVmaW5lIGFcclxuICAgICAgICAgICAgLy8gcHJpdmF0ZSBXZWFrTWFwIHN0b3JhZ2Ugd2hpY2ggbWF5IGNhdXNlIG1lbW9yeSBsZWFrcyBpbiBicm93c2VycyB0aGF0XHJcbiAgICAgICAgICAgIC8vIGRvbid0IHN1cHBvcnQgdGhpcyB0eXBlIG9mIGNvbGxlY3Rpb25zLlxyXG4gICAgICAgICAgICBkZWZpbmVDb25maWd1cmFibGUodGhpcywgeyB0YXJnZXQ6IHRhcmdldCwgY29udGVudFJlY3Q6IGNvbnRlbnRSZWN0IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJFbnRyeTtcclxuICAgIH0oKSk7XHJcblxyXG4gICAgdmFyIFJlc2l6ZU9ic2VydmVyU1BJID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgUmVzaXplT2JzZXJ2ZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge1Jlc2l6ZU9ic2VydmVyQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBpbnZva2VkXHJcbiAgICAgICAgICogICAgICB3aGVuIG9uZSBvZiB0aGUgb2JzZXJ2ZWQgZWxlbWVudHMgY2hhbmdlcyBpdCdzIGNvbnRlbnQgZGltZW5zaW9ucy5cclxuICAgICAgICAgKiBAcGFyYW0ge1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlcn0gY29udHJvbGxlciAtIENvbnRyb2xsZXIgaW5zdGFuY2Ugd2hpY2hcclxuICAgICAgICAgKiAgICAgIGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgdXBkYXRlcyBvZiBvYnNlcnZlci5cclxuICAgICAgICAgKiBAcGFyYW0ge1Jlc2l6ZU9ic2VydmVyfSBjYWxsYmFja0N0eCAtIFJlZmVyZW5jZSB0byB0aGUgcHVibGljXHJcbiAgICAgICAgICogICAgICBSZXNpemVPYnNlcnZlciBpbnN0YW5jZSB3aGljaCB3aWxsIGJlIHBhc3NlZCB0byBjYWxsYmFjayBmdW5jdGlvbi5cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlclNQSShjYWxsYmFjaywgY29udHJvbGxlciwgY2FsbGJhY2tDdHgpIHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENvbGxlY3Rpb24gb2YgcmVzaXplIG9ic2VydmF0aW9ucyB0aGF0IGhhdmUgZGV0ZWN0ZWQgY2hhbmdlcyBpbiBkaW1lbnNpb25zXHJcbiAgICAgICAgICAgICAqIG9mIGVsZW1lbnRzLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcHJpdmF0ZSB7QXJyYXk8UmVzaXplT2JzZXJ2YXRpb24+fVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVPYnNlcnZhdGlvbnNfID0gW107XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBSZWdpc3RyeSBvZiB0aGUgUmVzaXplT2JzZXJ2YXRpb24gaW5zdGFuY2VzLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcHJpdmF0ZSB7TWFwPEVsZW1lbnQsIFJlc2l6ZU9ic2VydmF0aW9uPn1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2YXRpb25zXyA9IG5ldyBNYXBTaGltKCk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjYWxsYmFjayBwcm92aWRlZCBhcyBwYXJhbWV0ZXIgMSBpcyBub3QgYSBmdW5jdGlvbi4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrXyA9IGNhbGxiYWNrO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJfID0gY29udHJvbGxlcjtcclxuICAgICAgICAgICAgdGhpcy5jYWxsYmFja0N0eF8gPSBjYWxsYmFja0N0eDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU3RhcnRzIG9ic2VydmluZyBwcm92aWRlZCBlbGVtZW50LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IHRvIGJlIG9ic2VydmVkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJzEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIGN1cnJlbnQgZW52aXJvbm1lbnQgZG9lc24ndCBoYXZlIHRoZSBFbGVtZW50IGludGVyZmFjZS5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBFbGVtZW50ID09PSAndW5kZWZpbmVkJyB8fCAhKEVsZW1lbnQgaW5zdGFuY2VvZiBPYmplY3QpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgZ2V0V2luZG93T2YodGFyZ2V0KS5FbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgXCJFbGVtZW50XCIuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG9ic2VydmF0aW9ucyA9IHRoaXMub2JzZXJ2YXRpb25zXztcclxuICAgICAgICAgICAgLy8gRG8gbm90aGluZyBpZiBlbGVtZW50IGlzIGFscmVhZHkgYmVpbmcgb2JzZXJ2ZWQuXHJcbiAgICAgICAgICAgIGlmIChvYnNlcnZhdGlvbnMuaGFzKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvYnNlcnZhdGlvbnMuc2V0KHRhcmdldCwgbmV3IFJlc2l6ZU9ic2VydmF0aW9uKHRhcmdldCkpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJfLmFkZE9ic2VydmVyKHRoaXMpO1xyXG4gICAgICAgICAgICAvLyBGb3JjZSB0aGUgdXBkYXRlIG9mIG9ic2VydmF0aW9ucy5cclxuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyXy5yZWZyZXNoKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTdG9wcyBvYnNlcnZpbmcgcHJvdmlkZWQgZWxlbWVudC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCB0byBzdG9wIG9ic2VydmluZy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBSZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUudW5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJzEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIGN1cnJlbnQgZW52aXJvbm1lbnQgZG9lc24ndCBoYXZlIHRoZSBFbGVtZW50IGludGVyZmFjZS5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBFbGVtZW50ID09PSAndW5kZWZpbmVkJyB8fCAhKEVsZW1lbnQgaW5zdGFuY2VvZiBPYmplY3QpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgZ2V0V2luZG93T2YodGFyZ2V0KS5FbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgXCJFbGVtZW50XCIuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG9ic2VydmF0aW9ucyA9IHRoaXMub2JzZXJ2YXRpb25zXztcclxuICAgICAgICAgICAgLy8gRG8gbm90aGluZyBpZiBlbGVtZW50IGlzIG5vdCBiZWluZyBvYnNlcnZlZC5cclxuICAgICAgICAgICAgaWYgKCFvYnNlcnZhdGlvbnMuaGFzKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvYnNlcnZhdGlvbnMuZGVsZXRlKHRhcmdldCk7XHJcbiAgICAgICAgICAgIGlmICghb2JzZXJ2YXRpb25zLnNpemUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlcl8ucmVtb3ZlT2JzZXJ2ZXIodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFN0b3BzIG9ic2VydmluZyBhbGwgZWxlbWVudHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBSZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckFjdGl2ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLm9ic2VydmF0aW9uc18uY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyXy5yZW1vdmVPYnNlcnZlcih0aGlzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbGxlY3RzIG9ic2VydmF0aW9uIGluc3RhbmNlcyB0aGUgYXNzb2NpYXRlZCBlbGVtZW50IG9mIHdoaWNoIGhhcyBjaGFuZ2VkXHJcbiAgICAgICAgICogaXQncyBjb250ZW50IHJlY3RhbmdsZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5nYXRoZXJBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJBY3RpdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5vYnNlcnZhdGlvbnNfLmZvckVhY2goZnVuY3Rpb24gKG9ic2VydmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JzZXJ2YXRpb24uaXNBY3RpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZU9ic2VydmF0aW9uc18ucHVzaChvYnNlcnZhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW52b2tlcyBpbml0aWFsIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGggYSBsaXN0IG9mIFJlc2l6ZU9ic2VydmVyRW50cnlcclxuICAgICAgICAgKiBpbnN0YW5jZXMgY29sbGVjdGVkIGZyb20gYWN0aXZlIHJlc2l6ZSBvYnNlcnZhdGlvbnMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBSZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuYnJvYWRjYXN0QWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIG9ic2VydmVyIGRvZXNuJ3QgaGF2ZSBhY3RpdmUgb2JzZXJ2YXRpb25zLlxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzQWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5jYWxsYmFja0N0eF87XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBSZXNpemVPYnNlcnZlckVudHJ5IGluc3RhbmNlIGZvciBldmVyeSBhY3RpdmUgb2JzZXJ2YXRpb24uXHJcbiAgICAgICAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5hY3RpdmVPYnNlcnZhdGlvbnNfLm1hcChmdW5jdGlvbiAob2JzZXJ2YXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVzaXplT2JzZXJ2ZXJFbnRyeShvYnNlcnZhdGlvbi50YXJnZXQsIG9ic2VydmF0aW9uLmJyb2FkY2FzdFJlY3QoKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrXy5jYWxsKGN0eCwgZW50cmllcywgY3R4KTtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckFjdGl2ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2xlYXJzIHRoZSBjb2xsZWN0aW9uIG9mIGFjdGl2ZSBvYnNlcnZhdGlvbnMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBSZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuY2xlYXJBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlT2JzZXJ2YXRpb25zXy5zcGxpY2UoMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUZWxscyB3aGV0aGVyIG9ic2VydmVyIGhhcyBhY3RpdmUgb2JzZXJ2YXRpb25zLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLmhhc0FjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlT2JzZXJ2YXRpb25zXy5sZW5ndGggPiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyU1BJO1xyXG4gICAgfSgpKTtcclxuXHJcbiAgICAvLyBSZWdpc3RyeSBvZiBpbnRlcm5hbCBvYnNlcnZlcnMuIElmIFdlYWtNYXAgaXMgbm90IGF2YWlsYWJsZSB1c2UgY3VycmVudCBzaGltXHJcbiAgICAvLyBmb3IgdGhlIE1hcCBjb2xsZWN0aW9uIGFzIGl0IGhhcyBhbGwgcmVxdWlyZWQgbWV0aG9kcyBhbmQgYmVjYXVzZSBXZWFrTWFwXHJcbiAgICAvLyBjYW4ndCBiZSBmdWxseSBwb2x5ZmlsbGVkIGFueXdheS5cclxuICAgIHZhciBvYnNlcnZlcnMgPSB0eXBlb2YgV2Vha01hcCAhPT0gJ3VuZGVmaW5lZCcgPyBuZXcgV2Vha01hcCgpIDogbmV3IE1hcFNoaW0oKTtcclxuICAgIC8qKlxyXG4gICAgICogUmVzaXplT2JzZXJ2ZXIgQVBJLiBFbmNhcHN1bGF0ZXMgdGhlIFJlc2l6ZU9ic2VydmVyIFNQSSBpbXBsZW1lbnRhdGlvblxyXG4gICAgICogZXhwb3Npbmcgb25seSB0aG9zZSBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIHRoYXQgYXJlIGRlZmluZWQgaW4gdGhlIHNwZWMuXHJcbiAgICAgKi9cclxuICAgIHZhciBSZXNpemVPYnNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFJlc2l6ZU9ic2VydmVyLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtSZXNpemVPYnNlcnZlckNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgaW52b2tlZCB3aGVuXHJcbiAgICAgICAgICogICAgICBkaW1lbnNpb25zIG9mIHRoZSBvYnNlcnZlZCBlbGVtZW50cyBjaGFuZ2UuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlc2l6ZU9ic2VydmVyKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjb250cm9sbGVyID0gUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlclNQSShjYWxsYmFjaywgY29udHJvbGxlciwgdGhpcyk7XHJcbiAgICAgICAgICAgIG9ic2VydmVycy5zZXQodGhpcywgb2JzZXJ2ZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXI7XHJcbiAgICB9KCkpO1xyXG4gICAgLy8gRXhwb3NlIHB1YmxpYyBtZXRob2RzIG9mIFJlc2l6ZU9ic2VydmVyLlxyXG4gICAgW1xyXG4gICAgICAgICdvYnNlcnZlJyxcclxuICAgICAgICAndW5vYnNlcnZlJyxcclxuICAgICAgICAnZGlzY29ubmVjdCdcclxuICAgIF0uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XHJcbiAgICAgICAgUmVzaXplT2JzZXJ2ZXIucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgcmV0dXJuIChfYSA9IG9ic2VydmVycy5nZXQodGhpcykpW21ldGhvZF0uYXBwbHkoX2EsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBpbmRleCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gRXhwb3J0IGV4aXN0aW5nIGltcGxlbWVudGF0aW9uIGlmIGF2YWlsYWJsZS5cclxuICAgICAgICBpZiAodHlwZW9mIGdsb2JhbCQxLlJlc2l6ZU9ic2VydmVyICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsJDEuUmVzaXplT2JzZXJ2ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBSZXNpemVPYnNlcnZlcjtcclxuICAgIH0pKCk7XHJcblxyXG4gICAgcmV0dXJuIGluZGV4O1xyXG5cclxufSkpKTtcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcclxuZnVuY3Rpb24gaXNBYnNvbHV0ZShwYXRobmFtZSkge1xyXG4gIHJldHVybiBwYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJztcclxufVxyXG5cclxuLy8gQWJvdXQgMS41eCBmYXN0ZXIgdGhhbiB0aGUgdHdvLWFyZyB2ZXJzaW9uIG9mIEFycmF5I3NwbGljZSgpXHJcbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xyXG4gIGZvciAodmFyIGkgPSBpbmRleCwgayA9IGkgKyAxLCBuID0gbGlzdC5sZW5ndGg7IGsgPCBuOyBpICs9IDEsIGsgKz0gMSkge1xyXG4gICAgbGlzdFtpXSA9IGxpc3Rba107XHJcbiAgfVxyXG5cclxuICBsaXN0LnBvcCgpO1xyXG59XHJcblxyXG4vLyBUaGlzIGltcGxlbWVudGF0aW9uIGlzIGJhc2VkIGhlYXZpbHkgb24gbm9kZSdzIHVybC5wYXJzZVxyXG5mdW5jdGlvbiByZXNvbHZlUGF0aG5hbWUodG8pIHtcclxuICB2YXIgZnJvbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XHJcblxyXG4gIHZhciB0b1BhcnRzID0gdG8gJiYgdG8uc3BsaXQoJy8nKSB8fCBbXTtcclxuICB2YXIgZnJvbVBhcnRzID0gZnJvbSAmJiBmcm9tLnNwbGl0KCcvJykgfHwgW107XHJcblxyXG4gIHZhciBpc1RvQWJzID0gdG8gJiYgaXNBYnNvbHV0ZSh0byk7XHJcbiAgdmFyIGlzRnJvbUFicyA9IGZyb20gJiYgaXNBYnNvbHV0ZShmcm9tKTtcclxuICB2YXIgbXVzdEVuZEFicyA9IGlzVG9BYnMgfHwgaXNGcm9tQWJzO1xyXG5cclxuICBpZiAodG8gJiYgaXNBYnNvbHV0ZSh0bykpIHtcclxuICAgIC8vIHRvIGlzIGFic29sdXRlXHJcbiAgICBmcm9tUGFydHMgPSB0b1BhcnRzO1xyXG4gIH0gZWxzZSBpZiAodG9QYXJ0cy5sZW5ndGgpIHtcclxuICAgIC8vIHRvIGlzIHJlbGF0aXZlLCBkcm9wIHRoZSBmaWxlbmFtZVxyXG4gICAgZnJvbVBhcnRzLnBvcCgpO1xyXG4gICAgZnJvbVBhcnRzID0gZnJvbVBhcnRzLmNvbmNhdCh0b1BhcnRzKTtcclxuICB9XHJcblxyXG4gIGlmICghZnJvbVBhcnRzLmxlbmd0aCkgcmV0dXJuICcvJztcclxuXHJcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSB2b2lkIDA7XHJcbiAgaWYgKGZyb21QYXJ0cy5sZW5ndGgpIHtcclxuICAgIHZhciBsYXN0ID0gZnJvbVBhcnRzW2Zyb21QYXJ0cy5sZW5ndGggLSAxXTtcclxuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJyB8fCBsYXN0ID09PSAnJztcclxuICB9IGVsc2Uge1xyXG4gICAgaGFzVHJhaWxpbmdTbGFzaCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgdmFyIHVwID0gMDtcclxuICBmb3IgKHZhciBpID0gZnJvbVBhcnRzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcclxuICAgIHZhciBwYXJ0ID0gZnJvbVBhcnRzW2ldO1xyXG5cclxuICAgIGlmIChwYXJ0ID09PSAnLicpIHtcclxuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XHJcbiAgICB9IGVsc2UgaWYgKHBhcnQgPT09ICcuLicpIHtcclxuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XHJcbiAgICAgIHVwKys7XHJcbiAgICB9IGVsc2UgaWYgKHVwKSB7XHJcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xyXG4gICAgICB1cC0tO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKCFtdXN0RW5kQWJzKSBmb3IgKDsgdXAtLTsgdXApIHtcclxuICAgIGZyb21QYXJ0cy51bnNoaWZ0KCcuLicpO1xyXG4gIH1pZiAobXVzdEVuZEFicyAmJiBmcm9tUGFydHNbMF0gIT09ICcnICYmICghZnJvbVBhcnRzWzBdIHx8ICFpc0Fic29sdXRlKGZyb21QYXJ0c1swXSkpKSBmcm9tUGFydHMudW5zaGlmdCgnJyk7XHJcblxyXG4gIHZhciByZXN1bHQgPSBmcm9tUGFydHMuam9pbignLycpO1xyXG5cclxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiByZXN1bHQuc3Vic3RyKC0xKSAhPT0gJy8nKSByZXN1bHQgKz0gJy8nO1xyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnRzLmRlZmF1bHQgPSByZXNvbHZlUGF0aG5hbWU7XHJcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBpc1Byb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nO1xyXG52YXIgcHJlZml4ID0gJ0ludmFyaWFudCBmYWlsZWQnO1xyXG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XHJcbiAgaWYgKGNvbmRpdGlvbikge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzUHJvZHVjdGlvbikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKHByZWZpeCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihwcmVmaXggKyBcIjogXCIgKyAobWVzc2FnZSB8fCAnJykpO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBpc1Byb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nO1xyXG5mdW5jdGlvbiB3YXJuaW5nKGNvbmRpdGlvbiwgbWVzc2FnZSkge1xyXG4gIGlmICghaXNQcm9kdWN0aW9uKSB7XHJcbiAgICBpZiAoY29uZGl0aW9uKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgdGV4dCA9IFwiV2FybmluZzogXCIgKyBtZXNzYWdlO1xyXG5cclxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgY29uc29sZS53YXJuKHRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIHRocm93IEVycm9yKHRleHQpO1xyXG4gICAgfSBjYXRjaCAoeCkge31cclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gd2FybmluZztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcclxuXHJcbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcclxuXHJcbmZ1bmN0aW9uIHZhbHVlRXF1YWwoYSwgYikge1xyXG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcclxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGIpICYmIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgICByZXR1cm4gdmFsdWVFcXVhbChpdGVtLCBiW2luZGV4XSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHZhciBhVHlwZSA9IHR5cGVvZiBhID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhKTtcclxuICB2YXIgYlR5cGUgPSB0eXBlb2YgYiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYik7XHJcblxyXG4gIGlmIChhVHlwZSAhPT0gYlR5cGUpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgaWYgKGFUeXBlID09PSAnb2JqZWN0Jykge1xyXG4gICAgdmFyIGFWYWx1ZSA9IGEudmFsdWVPZigpO1xyXG4gICAgdmFyIGJWYWx1ZSA9IGIudmFsdWVPZigpO1xyXG5cclxuICAgIGlmIChhVmFsdWUgIT09IGEgfHwgYlZhbHVlICE9PSBiKSByZXR1cm4gdmFsdWVFcXVhbChhVmFsdWUsIGJWYWx1ZSk7XHJcblxyXG4gICAgdmFyIGFLZXlzID0gT2JqZWN0LmtleXMoYSk7XHJcbiAgICB2YXIgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcclxuXHJcbiAgICBpZiAoYUtleXMubGVuZ3RoICE9PSBiS2V5cy5sZW5ndGgpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICByZXR1cm4gYUtleXMuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICByZXR1cm4gdmFsdWVFcXVhbChhW2tleV0sIGJba2V5XSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZXhwb3J0cy5kZWZhdWx0ID0gdmFsdWVFcXVhbDtcclxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiLyoqXHJcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxyXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcclxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXHJcbiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuLyoqXHJcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cclxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxyXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxyXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cclxuICovXHJcblxyXG52YXIgd2FybmluZyA9IGZ1bmN0aW9uKCkge307XHJcblxyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gIHdhcm5pbmcgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYXJncykge1xyXG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XHJcbiAgICBmb3IgKHZhciBrZXkgPSAyOyBrZXkgPCBsZW47IGtleSsrKSB7XHJcbiAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcclxuICAgIH1cclxuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xyXG4gICAgICAgICdtZXNzYWdlIGFyZ3VtZW50J1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChmb3JtYXQubGVuZ3RoIDwgMTAgfHwgKC9eW3NcXFddKiQvKS50ZXN0KGZvcm1hdCkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICdUaGUgd2FybmluZyBmb3JtYXQgc2hvdWxkIGJlIGFibGUgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyAnICtcclxuICAgICAgICAnd2FybmluZy4gUGxlYXNlLCB1c2UgYSBtb3JlIGRlc2NyaXB0aXZlIGZvcm1hdCB0aGFuOiAnICsgZm9ybWF0XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFjb25kaXRpb24pIHtcclxuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcclxuICAgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArXHJcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xyXG4gICAgICB9XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXHJcbiAgICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgICB9IGNhdGNoKHgpIHt9XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xyXG4iXX0=
